(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jf={exports:{}},mo={},wf={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Es=Symbol.for("react.element"),gx=Symbol.for("react.portal"),xx=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),vx=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),jx=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),Nx=Symbol.for("react.suspense"),_x=Symbol.for("react.memo"),kx=Symbol.for("react.lazy"),fd=Symbol.iterator;function Sx(e){return e===null||typeof e!="object"?null:(e=fd&&e[fd]||e["@@iterator"],typeof e=="function"?e:null)}var Nf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_f=Object.assign,kf={};function fa(e,t,n){this.props=e,this.context=t,this.refs=kf,this.updater=n||Nf}fa.prototype.isReactComponent={};fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sf(){}Sf.prototype=fa.prototype;function Wc(e,t,n){this.props=e,this.context=t,this.refs=kf,this.updater=n||Nf}var Xc=Wc.prototype=new Sf;Xc.constructor=Wc;_f(Xc,fa.prototype);Xc.isPureReactComponent=!0;var pd=Array.isArray,Tf=Object.prototype.hasOwnProperty,Qc={current:null},Cf={key:!0,ref:!0,__self:!0,__source:!0};function Ef(e,t,n){var a,s={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Tf.call(t,a)&&!Cf.hasOwnProperty(a)&&(s[a]=t[a]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)s[a]===void 0&&(s[a]=c[a]);return{$$typeof:Es,type:e,key:i,ref:o,props:s,_owner:Qc.current}}function Tx(e,t){return{$$typeof:Es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Es}function Cx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var md=/\/+/g;function Zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cx(""+e.key):t.toString(36)}function gi(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Es:case gx:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+Zo(o,0):a,pd(s)?(n="",e!=null&&(n=e.replace(md,"$&/")+"/"),gi(s,t,n,"",function(u){return u})):s!=null&&(Yc(s)&&(s=Tx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(md,"$&/")+"/")+e)),t.push(s)),1;if(o=0,a=a===""?".":a+":",pd(e))for(var c=0;c<e.length;c++){i=e[c];var l=a+Zo(i,c);o+=gi(i,t,n,l,s)}else if(l=Sx(e),typeof l=="function")for(e=l.call(e),c=0;!(i=e.next()).done;)i=i.value,l=a+Zo(i,c++),o+=gi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vs(e,t,n){if(e==null)return e;var a=[],s=0;return gi(e,a,"","",function(i){return t.call(n,i,s++)}),a}function Ex(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},xi={transition:null},Px={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Qc};function Pf(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Vs,forEach:function(e,t,n){Vs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vs(e,function(){t++}),t},toArray:function(e){return Vs(e,function(t){return t})||[]},only:function(e){if(!Yc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=fa;be.Fragment=xx;be.Profiler=vx;be.PureComponent=Wc;be.StrictMode=yx;be.Suspense=Nx;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;be.act=Pf;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=_f({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Qc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)Tf.call(t,l)&&!Cf.hasOwnProperty(l)&&(a[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}return{$$typeof:Es,type:e.type,key:s,ref:i,props:a,_owner:o}};be.createContext=function(e){return e={$$typeof:jx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bx,_context:e},e.Consumer=e};be.createElement=Ef;be.createFactory=function(e){var t=Ef.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:wx,render:e}};be.isValidElement=Yc;be.lazy=function(e){return{$$typeof:kx,_payload:{_status:-1,_result:e},_init:Ex}};be.memo=function(e,t){return{$$typeof:_x,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};be.unstable_act=Pf;be.useCallback=function(e,t){return dt.current.useCallback(e,t)};be.useContext=function(e){return dt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};be.useEffect=function(e,t){return dt.current.useEffect(e,t)};be.useId=function(){return dt.current.useId()};be.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return dt.current.useMemo(e,t)};be.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};be.useRef=function(e){return dt.current.useRef(e)};be.useState=function(e){return dt.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return dt.current.useTransition()};be.version="18.3.1";wf.exports=be;var N=wf.exports;const Ie=bf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=N,Ax=Symbol.for("react.element"),Lx=Symbol.for("react.fragment"),Ix=Object.prototype.hasOwnProperty,Mx=Ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rx={key:!0,ref:!0,__self:!0,__source:!0};function Of(e,t,n){var a,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)Ix.call(t,a)&&!Rx.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:Ax,type:e,key:i,ref:o,props:s,_owner:Mx.current}}mo.Fragment=Lx;mo.jsx=Of;mo.jsxs=Of;jf.exports=mo;var r=jf.exports,Af={exports:{}},At={},Lf={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,z){var R=V.length;V.push(z);e:for(;0<R;){var E=R-1>>>1,$=V[E];if(0<s($,z))V[E]=z,V[R]=$,R=E;else break e}}function n(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var z=V[0],R=V.pop();if(R!==z){V[0]=R;e:for(var E=0,$=V.length,A=$>>>1;E<A;){var U=2*(E+1)-1,H=V[U],F=U+1,q=V[F];if(0>s(H,R))F<$&&0>s(q,H)?(V[E]=q,V[F]=R,E=F):(V[E]=H,V[U]=R,E=U);else if(F<$&&0>s(q,R))V[E]=q,V[F]=R,E=F;else break e}}return z}function s(V,z){var R=V.sortIndex-z.sortIndex;return R!==0?R:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],u=[],p=1,h=null,d=3,f=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(V){for(var z=n(u);z!==null;){if(z.callback===null)a(u);else if(z.startTime<=V)a(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function v(V){if(x=!1,j(V),!y)if(n(l)!==null)y=!0,I(w);else{var z=n(u);z!==null&&D(v,z.startTime-V)}}function w(V,z){y=!1,x&&(x=!1,g(C),C=-1),f=!0;var R=d;try{for(j(z),h=n(l);h!==null&&(!(h.expirationTime>z)||V&&!T());){var E=h.callback;if(typeof E=="function"){h.callback=null,d=h.priorityLevel;var $=E(h.expirationTime<=z);z=e.unstable_now(),typeof $=="function"?h.callback=$:h===n(l)&&a(l),j(z)}else a(l);h=n(l)}if(h!==null)var A=!0;else{var U=n(u);U!==null&&D(v,U.startTime-z),A=!1}return A}finally{h=null,d=R,f=!1}}var _=!1,k=null,C=-1,O=5,S=-1;function T(){return!(e.unstable_now()-S<O)}function P(){if(k!==null){var V=e.unstable_now();S=V;var z=!0;try{z=k(!0,V)}finally{z?L():(_=!1,k=null)}}else _=!1}var L;if(typeof m=="function")L=function(){m(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,M=B.port2;B.port1.onmessage=P,L=function(){M.postMessage(null)}}else L=function(){b(P,0)};function I(V){k=V,_||(_=!0,L())}function D(V,z){C=b(function(){V(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,I(w))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var R=d;d=z;try{return V()}finally{d=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var R=d;d=V;try{return z()}finally{d=R}},e.unstable_scheduleCallback=function(V,z,R){var E=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?E+R:E):R=E,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=R+$,V={id:p++,callback:z,priorityLevel:V,startTime:R,expirationTime:$,sortIndex:-1},R>E?(V.sortIndex=R,t(u,V),n(l)===null&&V===n(u)&&(x?(g(C),C=-1):x=!0,D(v,R-E))):(V.sortIndex=$,t(l,V),y||f||(y=!0,I(w))),V},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(V){var z=d;return function(){var R=d;d=z;try{return V.apply(this,arguments)}finally{d=R}}}})(If);Lf.exports=If;var Dx=Lf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=N,Pt=Dx;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mf=new Set,ls={};function Tn(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(ls[e]=t,e=0;e<t.length;e++)Mf.add(t[e])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=Object.prototype.hasOwnProperty,zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gd={},xd={};function Bx(e){return Vl.call(xd,e)?!0:Vl.call(gd,e)?!1:zx.test(e)?xd[e]=!0:(gd[e]=!0,!1)}function Fx(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vx(e,t,n,a){if(t===null||typeof t>"u"||Fx(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,a,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jc=/[\-:]([a-z])/g;function Zc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jc,Zc);at[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jc,Zc);at[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jc,Zc);at[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,n,a){var s=at.hasOwnProperty(t)?at[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vx(t,n,s,a)&&(n=null),a||s===null?Bx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Rr=$x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),Rf=Symbol.for("react.provider"),Df=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),Ul=Symbol.for("react.suspense"),ql=Symbol.for("react.suspense_list"),nu=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),$f=Symbol.for("react.offscreen"),yd=Symbol.iterator;function Ea(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,el;function Ka(e){if(el===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);el=t&&t[1]||""}return`
`+el+e}var tl=!1;function rl(e,t){if(!e||tl)return"";tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ka(e):""}function Hx(e){switch(e.tag){case 5:return Ka(e.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return e=rl(e.type,!1),e;case 11:return e=rl(e.type.render,!1),e;case 1:return e=rl(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bn:return"Fragment";case zn:return"Portal";case Hl:return"Profiler";case tu:return"StrictMode";case Ul:return"Suspense";case ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Df:return(e.displayName||"Context")+".Consumer";case Rf:return(e._context.displayName||"Context")+".Provider";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nu:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function Ux(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qx(e){var t=zf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Us(e){e._valueTracker||(e._valueTracker=qx(e))}function Bf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=zf(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kl(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vd(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ff(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function Wl(e,t){Ff(e,t);var n=rn(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xl(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xl(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wa=Array.isArray;function Yn(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+rn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(Wa(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rn(n)}}function Vf(e,t){var n=rn(t.value),a=rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function wd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,Uf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gx=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(e){Gx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ja[t]=Ja[e]})});function qf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ja.hasOwnProperty(e)&&Ja[e]?(""+t).trim():t+"px"}function Gf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=qf(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var Kx=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jl(e,t){if(t){if(Kx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function Zl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tc=null,Jn=null,Zn=null;function Nd(e){if(e=As(e)){if(typeof tc!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=bo(t),tc(e.stateNode,e.type,t))}}function Kf(e){Jn?Zn?Zn.push(e):Zn=[e]:Jn=e}function Wf(){if(Jn){var e=Jn,t=Zn;if(Zn=Jn=null,Nd(e),t)for(e=0;e<t.length;e++)Nd(t[e])}}function Xf(e,t){return e(t)}function Qf(){}var nl=!1;function Yf(e,t,n){if(nl)return e(t,n);nl=!0;try{return Xf(e,t,n)}finally{nl=!1,(Jn!==null||Zn!==null)&&(Qf(),Wf())}}function us(e,t){var n=e.stateNode;if(n===null)return null;var a=bo(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var rc=!1;if(Or)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){rc=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{rc=!1}function Wx(e,t,n,a,s,i,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var Za=!1,Li=null,Ii=!1,nc=null,Xx={onError:function(e){Za=!0,Li=e}};function Qx(e,t,n,a,s,i,o,c,l){Za=!1,Li=null,Wx.apply(Xx,arguments)}function Yx(e,t,n,a,s,i,o,c,l){if(Qx.apply(this,arguments),Za){if(Za){var u=Li;Za=!1,Li=null}else throw Error(ie(198));Ii||(Ii=!0,nc=u)}}function Cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _d(e){if(Cn(e)!==e)throw Error(ie(188))}function Jx(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _d(s),e;if(i===a)return _d(s),t;i=i.sibling}throw Error(ie(188))}if(n.return!==a.return)n=s,a=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,a=i;break}if(c===a){o=!0,a=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,a=s;break}if(c===a){o=!0,a=i,n=s;break}c=c.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==a)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function Zf(e){return e=Jx(e),e!==null?ep(e):null}function ep(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ep(e);if(t!==null)return t;e=e.sibling}return null}var tp=Pt.unstable_scheduleCallback,kd=Pt.unstable_cancelCallback,Zx=Pt.unstable_shouldYield,ey=Pt.unstable_requestPaint,qe=Pt.unstable_now,ty=Pt.unstable_getCurrentPriorityLevel,su=Pt.unstable_ImmediatePriority,rp=Pt.unstable_UserBlockingPriority,Mi=Pt.unstable_NormalPriority,ry=Pt.unstable_LowPriority,np=Pt.unstable_IdlePriority,go=null,pr=null;function ny(e){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(go,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:iy,ay=Math.log,sy=Math.LN2;function iy(e){return e>>>=0,e===0?32:31-(ay(e)/sy|0)|0}var Gs=64,Ks=4194304;function Xa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?a=Xa(c):(i&=o,i!==0&&(a=Xa(i)))}else o=n&~s,o!==0?a=Xa(o):i!==0&&(a=Xa(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-tr(t),s=1<<n,a|=e[n],t&=~s;return a}function oy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ly(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-tr(i),c=1<<o,l=s[o];l===-1?(!(c&n)||c&a)&&(s[o]=oy(c,t)):l<=t&&(e.expiredLanes|=c),i&=~c}}function ac(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ap(){var e=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),e}function al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ps(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=n}function cy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,n&=~i}}function iu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-tr(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}var Te=0;function sp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ip,ou,op,lp,cp,sc=!1,Ws=[],Wr=null,Xr=null,Qr=null,ds=new Map,hs=new Map,Hr=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sd(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(t.pointerId)}}function Oa(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=As(t),t!==null&&ou(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dy(e,t,n,a,s){switch(t){case"focusin":return Wr=Oa(Wr,e,t,n,a,s),!0;case"dragenter":return Xr=Oa(Xr,e,t,n,a,s),!0;case"mouseover":return Qr=Oa(Qr,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return ds.set(i,Oa(ds.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,hs.set(i,Oa(hs.get(i)||null,e,t,n,a,s)),!0}return!1}function up(e){var t=mn(e.target);if(t!==null){var n=Cn(t);if(n!==null){if(t=n.tag,t===13){if(t=Jf(n),t!==null){e.blockedOn=t,cp(e.priority,function(){op(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ic(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ec=a,n.target.dispatchEvent(a),ec=null}else return t=As(n),t!==null&&ou(t),e.blockedOn=n,!1;t.shift()}return!0}function Td(e,t,n){yi(e)&&n.delete(t)}function hy(){sc=!1,Wr!==null&&yi(Wr)&&(Wr=null),Xr!==null&&yi(Xr)&&(Xr=null),Qr!==null&&yi(Qr)&&(Qr=null),ds.forEach(Td),hs.forEach(Td)}function Aa(e,t){e.blockedOn===t&&(e.blockedOn=null,sc||(sc=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,hy)))}function fs(e){function t(s){return Aa(s,e)}if(0<Ws.length){Aa(Ws[0],e);for(var n=1;n<Ws.length;n++){var a=Ws[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Wr!==null&&Aa(Wr,e),Xr!==null&&Aa(Xr,e),Qr!==null&&Aa(Qr,e),ds.forEach(t),hs.forEach(t),n=0;n<Hr.length;n++)a=Hr[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)up(n),n.blockedOn===null&&Hr.shift()}var ea=Rr.ReactCurrentBatchConfig,Di=!0;function fy(e,t,n,a){var s=Te,i=ea.transition;ea.transition=null;try{Te=1,lu(e,t,n,a)}finally{Te=s,ea.transition=i}}function py(e,t,n,a){var s=Te,i=ea.transition;ea.transition=null;try{Te=4,lu(e,t,n,a)}finally{Te=s,ea.transition=i}}function lu(e,t,n,a){if(Di){var s=ic(e,t,n,a);if(s===null)pl(e,t,a,$i,n),Sd(e,a);else if(dy(s,e,t,n,a))a.stopPropagation();else if(Sd(e,a),t&4&&-1<uy.indexOf(e)){for(;s!==null;){var i=As(s);if(i!==null&&ip(i),i=ic(e,t,n,a),i===null&&pl(e,t,a,$i,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else pl(e,t,a,null,n)}}var $i=null;function ic(e,t,n,a){if($i=null,e=au(a),e=mn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $i=e,null}function dp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ty()){case su:return 1;case rp:return 4;case Mi:case ry:return 16;case np:return 536870912;default:return 16}default:return 16}}var qr=null,cu=null,vi=null;function hp(){if(vi)return vi;var e,t=cu,n=t.length,a,s="value"in qr?qr.value:qr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(a=1;a<=o&&t[n-a]===s[i-a];a++);return vi=s.slice(e,1<a?1-a:void 0)}function bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function Cd(){return!1}function Lt(e){function t(n,a,s,i,o){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xs:Cd,this.isPropagationStopped=Cd,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=Lt(pa),Os=He({},pa,{view:0,detail:0}),my=Lt(Os),sl,il,La,xo=He({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==La&&(La&&e.type==="mousemove"?(sl=e.screenX-La.screenX,il=e.screenY-La.screenY):il=sl=0,La=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:il}}),Ed=Lt(xo),gy=He({},xo,{dataTransfer:0}),xy=Lt(gy),yy=He({},Os,{relatedTarget:0}),ol=Lt(yy),vy=He({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),by=Lt(vy),jy=He({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wy=Lt(jy),Ny=He({},pa,{data:0}),Pd=Lt(Ny),_y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sy[e])?!!t[e]:!1}function du(){return Ty}var Cy=He({},Os,{key:function(e){if(e.key){var t=_y[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ey=Lt(Cy),Py=He({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Lt(Py),Oy=He({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Ay=Lt(Oy),Ly=He({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iy=Lt(Ly),My=He({},xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=Lt(My),Dy=[9,13,27,32],hu=Or&&"CompositionEvent"in window,es=null;Or&&"documentMode"in document&&(es=document.documentMode);var $y=Or&&"TextEvent"in window&&!es,fp=Or&&(!hu||es&&8<es&&11>=es),Ad=" ",Ld=!1;function pp(e,t){switch(e){case"keyup":return Dy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function zy(e,t){switch(e){case"compositionend":return mp(t);case"keypress":return t.which!==32?null:(Ld=!0,Ad);case"textInput":return e=t.data,e===Ad&&Ld?null:e;default:return null}}function By(e,t){if(Fn)return e==="compositionend"||!hu&&pp(e,t)?(e=hp(),vi=cu=qr=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fp&&t.locale!=="ko"?null:t.data;default:return null}}var Fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fy[e.type]:t==="textarea"}function gp(e,t,n,a){Kf(a),t=zi(t,"onChange"),0<t.length&&(n=new uu("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var ts=null,ps=null;function Vy(e){Tp(e,0)}function yo(e){var t=Un(e);if(Bf(t))return e}function Hy(e,t){if(e==="change")return t}var xp=!1;if(Or){var ll;if(Or){var cl="oninput"in document;if(!cl){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),cl=typeof Md.oninput=="function"}ll=cl}else ll=!1;xp=ll&&(!document.documentMode||9<document.documentMode)}function Rd(){ts&&(ts.detachEvent("onpropertychange",yp),ps=ts=null)}function yp(e){if(e.propertyName==="value"&&yo(ps)){var t=[];gp(t,ps,e,au(e)),Yf(Vy,t)}}function Uy(e,t,n){e==="focusin"?(Rd(),ts=t,ps=n,ts.attachEvent("onpropertychange",yp)):e==="focusout"&&Rd()}function qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(ps)}function Gy(e,t){if(e==="click")return yo(t)}function Ky(e,t){if(e==="input"||e==="change")return yo(t)}function Wy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nr=typeof Object.is=="function"?Object.is:Wy;function ms(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!Vl.call(t,s)||!nr(e[s],t[s]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var n=Dd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dd(n)}}function vp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bp(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xy(e){var t=bp(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vp(n.ownerDocument.documentElement,n)){if(a!==null&&fu(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=$d(n,i);var o=$d(n,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qy=Or&&"documentMode"in document&&11>=document.documentMode,Vn=null,oc=null,rs=null,lc=!1;function zd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lc||Vn==null||Vn!==Ai(a)||(a=Vn,"selectionStart"in a&&fu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),rs&&ms(rs,a)||(rs=a,a=zi(oc,"onSelect"),0<a.length&&(t=new uu("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Vn)))}function Qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},ul={},jp={};Or&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function vo(e){if(ul[e])return ul[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jp)return ul[e]=t[n];return e}var wp=vo("animationend"),Np=vo("animationiteration"),_p=vo("animationstart"),kp=vo("transitionend"),Sp=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Sp.set(e,t),Tn(t,[e])}for(var dl=0;dl<Bd.length;dl++){var hl=Bd[dl],Yy=hl.toLowerCase(),Jy=hl[0].toUpperCase()+hl.slice(1);an(Yy,"on"+Jy)}an(wp,"onAnimationEnd");an(Np,"onAnimationIteration");an(_p,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(kp,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function Fd(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Yx(a,t,void 0,e),e.currentTarget=null}function Tp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var c=a[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==i&&s.isPropagationStopped())break e;Fd(s,c,u),i=l}else for(o=0;o<a.length;o++){if(c=a[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==i&&s.isPropagationStopped())break e;Fd(s,c,u),i=l}}}if(Ii)throw e=nc,Ii=!1,nc=null,e}function Ae(e,t){var n=t[fc];n===void 0&&(n=t[fc]=new Set);var a=e+"__bubble";n.has(a)||(Cp(t,e,2,!1),n.add(a))}function fl(e,t,n){var a=0;t&&(a|=4),Cp(n,e,a,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function gs(e){if(!e[Ys]){e[Ys]=!0,Mf.forEach(function(n){n!=="selectionchange"&&(Zy.has(n)||fl(n,!1,e),fl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ys]||(t[Ys]=!0,fl("selectionchange",!1,t))}}function Cp(e,t,n,a){switch(dp(t)){case 1:var s=fy;break;case 4:s=py;break;default:s=lu}n=s.bind(null,t,n,e),s=void 0,!rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function pl(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var c=a.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;c!==null;){if(o=mn(c),o===null)return;if(l=o.tag,l===5||l===6){a=i=o;continue e}c=c.parentNode}}a=a.return}Yf(function(){var u=i,p=au(n),h=[];e:{var d=Sp.get(e);if(d!==void 0){var f=uu,y=e;switch(e){case"keypress":if(bi(n)===0)break e;case"keydown":case"keyup":f=Ey;break;case"focusin":y="focus",f=ol;break;case"focusout":y="blur",f=ol;break;case"beforeblur":case"afterblur":f=ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ay;break;case wp:case Np:case _p:f=by;break;case kp:f=Iy;break;case"scroll":f=my;break;case"wheel":f=Ry;break;case"copy":case"cut":case"paste":f=wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Od}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?d!==null?d+"Capture":null:d;x=[];for(var m=u,j;m!==null;){j=m;var v=j.stateNode;if(j.tag===5&&v!==null&&(j=v,g!==null&&(v=us(m,g),v!=null&&x.push(xs(m,v,j)))),b)break;m=m.return}0<x.length&&(d=new f(d,y,null,n,p),h.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==ec&&(y=n.relatedTarget||n.fromElement)&&(mn(y)||y[Ar]))break e;if((f||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?mn(y):null,y!==null&&(b=Cn(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(x=Ed,v="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Od,v="onPointerLeave",g="onPointerEnter",m="pointer"),b=f==null?d:Un(f),j=y==null?d:Un(y),d=new x(v,m+"leave",f,n,p),d.target=b,d.relatedTarget=j,v=null,mn(p)===u&&(x=new x(g,m+"enter",y,n,p),x.target=j,x.relatedTarget=b,v=x),b=v,f&&y)t:{for(x=f,g=y,m=0,j=x;j;j=On(j))m++;for(j=0,v=g;v;v=On(v))j++;for(;0<m-j;)x=On(x),m--;for(;0<j-m;)g=On(g),j--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=On(x),g=On(g)}x=null}else x=null;f!==null&&Vd(h,d,f,x,!1),y!==null&&b!==null&&Vd(h,b,y,x,!0)}}e:{if(d=u?Un(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=Hy;else if(Id(d))if(xp)w=Ky;else{w=qy;var _=Uy}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=Gy);if(w&&(w=w(e,u))){gp(h,w,n,p);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Xl(d,"number",d.value)}switch(_=u?Un(u):window,e){case"focusin":(Id(_)||_.contentEditable==="true")&&(Vn=_,oc=u,rs=null);break;case"focusout":rs=oc=Vn=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,zd(h,n,p);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":zd(h,n,p)}var k;if(hu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fn?pp(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(fp&&n.locale!=="ko"&&(Fn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fn&&(k=hp()):(qr=p,cu="value"in qr?qr.value:qr.textContent,Fn=!0)),_=zi(u,C),0<_.length&&(C=new Pd(C,e,null,n,p),h.push({event:C,listeners:_}),k?C.data=k:(k=mp(n),k!==null&&(C.data=k)))),(k=$y?zy(e,n):By(e,n))&&(u=zi(u,"onBeforeInput"),0<u.length&&(p=new Pd("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:u}),p.data=k))}Tp(h,t)})}function xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zi(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=us(e,n),i!=null&&a.unshift(xs(e,i,s)),i=us(e,t),i!=null&&a.push(xs(e,i,s))),e=e.return}return a}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vd(e,t,n,a,s){for(var i=t._reactName,o=[];n!==null&&n!==a;){var c=n,l=c.alternate,u=c.stateNode;if(l!==null&&l===a)break;c.tag===5&&u!==null&&(c=u,s?(l=us(n,i),l!=null&&o.unshift(xs(n,l,c))):s||(l=us(n,i),l!=null&&o.push(xs(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function Hd(e){return(typeof e=="string"?e:""+e).replace(e0,`
`).replace(t0,"")}function Js(e,t,n){if(t=Hd(t),Hd(e)!==t&&n)throw Error(ie(425))}function Bi(){}var cc=null,uc=null;function dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,r0=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(e){return Ud.resolve(null).then(e).catch(a0)}:hc;function a0(e){setTimeout(function(){throw e})}function ml(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),fs(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);fs(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),ur="__reactFiber$"+ma,ys="__reactProps$"+ma,Ar="__reactContainer$"+ma,fc="__reactEvents$"+ma,s0="__reactListeners$"+ma,i0="__reactHandles$"+ma;function mn(e){var t=e[ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ar]||n[ur]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qd(e);e!==null;){if(n=e[ur])return n;e=qd(e)}return t}e=n,n=e.parentNode}return null}function As(e){return e=e[ur]||e[Ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function bo(e){return e[ys]||null}var pc=[],qn=-1;function sn(e){return{current:e}}function Me(e){0>qn||(e.current=pc[qn],pc[qn]=null,qn--)}function Oe(e,t){qn++,pc[qn]=e.current,e.current=t}var nn={},lt=sn(nn),xt=sn(!1),jn=nn;function oa(e,t){var n=e.type.contextTypes;if(!n)return nn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yt(e){return e=e.childContextTypes,e!=null}function Fi(){Me(xt),Me(lt)}function Gd(e,t,n){if(lt.current!==nn)throw Error(ie(168));Oe(lt,t),Oe(xt,n)}function Ep(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(ie(108,Ux(e)||"Unknown",s));return He({},n,a)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,jn=lt.current,Oe(lt,e),Oe(xt,xt.current),!0}function Kd(e,t,n){var a=e.stateNode;if(!a)throw Error(ie(169));n?(e=Ep(e,t,jn),a.__reactInternalMemoizedMergedChildContext=e,Me(xt),Me(lt),Oe(lt,e)):Me(xt),Oe(xt,n)}var Nr=null,jo=!1,gl=!1;function Pp(e){Nr===null?Nr=[e]:Nr.push(e)}function o0(e){jo=!0,Pp(e)}function on(){if(!gl&&Nr!==null){gl=!0;var e=0,t=Te;try{var n=Nr;for(Te=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Nr=null,jo=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(e+1)),tp(su,on),s}finally{Te=t,gl=!1}}return null}var Gn=[],Kn=0,Hi=null,Ui=0,Dt=[],$t=0,wn=null,_r=1,kr="";function hn(e,t){Gn[Kn++]=Ui,Gn[Kn++]=Hi,Hi=e,Ui=t}function Op(e,t,n){Dt[$t++]=_r,Dt[$t++]=kr,Dt[$t++]=wn,wn=e;var a=_r;e=kr;var s=32-tr(a)-1;a&=~(1<<s),n+=1;var i=32-tr(t)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,_r=1<<32-tr(t)+s|n<<s|a,kr=i+e}else _r=1<<i|n<<s|a,kr=e}function pu(e){e.return!==null&&(hn(e,1),Op(e,1,0))}function mu(e){for(;e===Hi;)Hi=Gn[--Kn],Gn[Kn]=null,Ui=Gn[--Kn],Gn[Kn]=null;for(;e===wn;)wn=Dt[--$t],Dt[$t]=null,kr=Dt[--$t],Dt[$t]=null,_r=Dt[--$t],Dt[$t]=null}var Et=null,Ct=null,ze=!1,Zt=null;function Ap(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Ct=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:_r,overflow:kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,Ct=null,!0):!1;default:return!1}}function mc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gc(e){if(ze){var t=Ct;if(t){var n=t;if(!Wd(e,t)){if(mc(e))throw Error(ie(418));t=Yr(n.nextSibling);var a=Et;t&&Wd(e,t)?Ap(a,n):(e.flags=e.flags&-4097|2,ze=!1,Et=e)}}else{if(mc(e))throw Error(ie(418));e.flags=e.flags&-4097|2,ze=!1,Et=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Zs(e){if(e!==Et)return!1;if(!ze)return Xd(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dc(e.type,e.memoizedProps)),t&&(t=Ct)){if(mc(e))throw Lp(),Error(ie(418));for(;t;)Ap(e,t),t=Yr(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=Yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Et?Yr(e.stateNode.nextSibling):null;return!0}function Lp(){for(var e=Ct;e;)e=Yr(e.nextSibling)}function la(){Ct=Et=null,ze=!1}function gu(e){Zt===null?Zt=[e]:Zt.push(e)}var l0=Rr.ReactCurrentBatchConfig;function Ia(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var a=n.stateNode}if(!a)throw Error(ie(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function ei(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qd(e){var t=e._init;return t(e._payload)}function Ip(e){function t(g,m){if(e){var j=g.deletions;j===null?(g.deletions=[m],g.flags|=16):j.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function a(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=tn(g,m),g.index=0,g.sibling=null,g}function i(g,m,j){return g.index=j,e?(j=g.alternate,j!==null?(j=j.index,j<m?(g.flags|=2,m):j):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function c(g,m,j,v){return m===null||m.tag!==6?(m=Nl(j,g.mode,v),m.return=g,m):(m=s(m,j),m.return=g,m)}function l(g,m,j,v){var w=j.type;return w===Bn?p(g,m,j.props.children,v,j.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Fr&&Qd(w)===m.type)?(v=s(m,j.props),v.ref=Ia(g,m,j),v.return=g,v):(v=Ti(j.type,j.key,j.props,null,g.mode,v),v.ref=Ia(g,m,j),v.return=g,v)}function u(g,m,j,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==j.containerInfo||m.stateNode.implementation!==j.implementation?(m=_l(j,g.mode,v),m.return=g,m):(m=s(m,j.children||[]),m.return=g,m)}function p(g,m,j,v,w){return m===null||m.tag!==7?(m=vn(j,g.mode,v,w),m.return=g,m):(m=s(m,j),m.return=g,m)}function h(g,m,j){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Nl(""+m,g.mode,j),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hs:return j=Ti(m.type,m.key,m.props,null,g.mode,j),j.ref=Ia(g,null,m),j.return=g,j;case zn:return m=_l(m,g.mode,j),m.return=g,m;case Fr:var v=m._init;return h(g,v(m._payload),j)}if(Wa(m)||Ea(m))return m=vn(m,g.mode,j,null),m.return=g,m;ei(g,m)}return null}function d(g,m,j,v){var w=m!==null?m.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:c(g,m,""+j,v);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Hs:return j.key===w?l(g,m,j,v):null;case zn:return j.key===w?u(g,m,j,v):null;case Fr:return w=j._init,d(g,m,w(j._payload),v)}if(Wa(j)||Ea(j))return w!==null?null:p(g,m,j,v,null);ei(g,j)}return null}function f(g,m,j,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(j)||null,c(m,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hs:return g=g.get(v.key===null?j:v.key)||null,l(m,g,v,w);case zn:return g=g.get(v.key===null?j:v.key)||null,u(m,g,v,w);case Fr:var _=v._init;return f(g,m,j,_(v._payload),w)}if(Wa(v)||Ea(v))return g=g.get(j)||null,p(m,g,v,w,null);ei(m,v)}return null}function y(g,m,j,v){for(var w=null,_=null,k=m,C=m=0,O=null;k!==null&&C<j.length;C++){k.index>C?(O=k,k=null):O=k.sibling;var S=d(g,k,j[C],v);if(S===null){k===null&&(k=O);break}e&&k&&S.alternate===null&&t(g,k),m=i(S,m,C),_===null?w=S:_.sibling=S,_=S,k=O}if(C===j.length)return n(g,k),ze&&hn(g,C),w;if(k===null){for(;C<j.length;C++)k=h(g,j[C],v),k!==null&&(m=i(k,m,C),_===null?w=k:_.sibling=k,_=k);return ze&&hn(g,C),w}for(k=a(g,k);C<j.length;C++)O=f(k,g,C,j[C],v),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),m=i(O,m,C),_===null?w=O:_.sibling=O,_=O);return e&&k.forEach(function(T){return t(g,T)}),ze&&hn(g,C),w}function x(g,m,j,v){var w=Ea(j);if(typeof w!="function")throw Error(ie(150));if(j=w.call(j),j==null)throw Error(ie(151));for(var _=w=null,k=m,C=m=0,O=null,S=j.next();k!==null&&!S.done;C++,S=j.next()){k.index>C?(O=k,k=null):O=k.sibling;var T=d(g,k,S.value,v);if(T===null){k===null&&(k=O);break}e&&k&&T.alternate===null&&t(g,k),m=i(T,m,C),_===null?w=T:_.sibling=T,_=T,k=O}if(S.done)return n(g,k),ze&&hn(g,C),w;if(k===null){for(;!S.done;C++,S=j.next())S=h(g,S.value,v),S!==null&&(m=i(S,m,C),_===null?w=S:_.sibling=S,_=S);return ze&&hn(g,C),w}for(k=a(g,k);!S.done;C++,S=j.next())S=f(k,g,C,S.value,v),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?C:S.key),m=i(S,m,C),_===null?w=S:_.sibling=S,_=S);return e&&k.forEach(function(P){return t(g,P)}),ze&&hn(g,C),w}function b(g,m,j,v){if(typeof j=="object"&&j!==null&&j.type===Bn&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Hs:e:{for(var w=j.key,_=m;_!==null;){if(_.key===w){if(w=j.type,w===Bn){if(_.tag===7){n(g,_.sibling),m=s(_,j.props.children),m.return=g,g=m;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Fr&&Qd(w)===_.type){n(g,_.sibling),m=s(_,j.props),m.ref=Ia(g,_,j),m.return=g,g=m;break e}n(g,_);break}else t(g,_);_=_.sibling}j.type===Bn?(m=vn(j.props.children,g.mode,v,j.key),m.return=g,g=m):(v=Ti(j.type,j.key,j.props,null,g.mode,v),v.ref=Ia(g,m,j),v.return=g,g=v)}return o(g);case zn:e:{for(_=j.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===j.containerInfo&&m.stateNode.implementation===j.implementation){n(g,m.sibling),m=s(m,j.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=_l(j,g.mode,v),m.return=g,g=m}return o(g);case Fr:return _=j._init,b(g,m,_(j._payload),v)}if(Wa(j))return y(g,m,j,v);if(Ea(j))return x(g,m,j,v);ei(g,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,j),m.return=g,g=m):(n(g,m),m=Nl(j,g.mode,v),m.return=g,g=m),o(g)):n(g,m)}return b}var ca=Ip(!0),Mp=Ip(!1),qi=sn(null),Gi=null,Wn=null,xu=null;function yu(){xu=Wn=Gi=null}function vu(e){var t=qi.current;Me(qi),e._currentValue=t}function xc(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ta(e,t){Gi=e,xu=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(xu!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(Gi===null)throw Error(ie(308));Wn=e,Gi.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var gn=null;function bu(e){gn===null?gn=[e]:gn.push(e)}function Rp(e,t,n,a){var s=t.interleaved;return s===null?(n.next=n,bu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Lr(e,a)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vr=!1;function ju(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,_e&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Lr(e,n)}return s=a.interleaved,s===null?(t.next=t,bu(a)):(t.next=s.next,s.next=t),a.interleaved=t,Lr(e,n)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,iu(e,n)}}function Yd(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,a){var s=e.updateQueue;Vr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,p=u=l=null,c=i;do{var d=c.lane,f=c.eventTime;if((a&d)===d){p!==null&&(p=p.next={eventTime:f,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,x=c;switch(d=t,f=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(f,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(f,h,d):y,d==null)break e;h=He({},h,d);break e;case 2:Vr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[c]:d.push(c))}else f={eventTime:f,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=f,l=h):p=p.next=f,o|=d;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;d=c,c=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(p===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);_n|=o,e.lanes=o,e.memoizedState=h}}function Jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(ie(191,s));s.call(a)}}}var Ls={},mr=sn(Ls),vs=sn(Ls),bs=sn(Ls);function xn(e){if(e===Ls)throw Error(ie(174));return e}function wu(e,t){switch(Oe(bs,t),Oe(vs,e),Oe(mr,Ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yl(t,e)}Me(mr),Oe(mr,t)}function ua(){Me(mr),Me(vs),Me(bs)}function $p(e){xn(bs.current);var t=xn(mr.current),n=Yl(t,e.type);t!==n&&(Oe(vs,e),Oe(mr,n))}function Nu(e){vs.current===e&&(Me(mr),Me(vs))}var Fe=sn(0);function Wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function _u(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var wi=Rr.ReactCurrentDispatcher,yl=Rr.ReactCurrentBatchConfig,Nn=0,Ve=null,Ke=null,Qe=null,Xi=!1,ns=!1,js=0,c0=0;function st(){throw Error(ie(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function Su(e,t,n,a,s,i){if(Nn=i,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wi.current=e===null||e.memoizedState===null?f0:p0,e=n(a,s),ns){i=0;do{if(ns=!1,js=0,25<=i)throw Error(ie(301));i+=1,Qe=Ke=null,t.updateQueue=null,wi.current=m0,e=n(a,s)}while(ns)}if(wi.current=Qi,t=Ke!==null&&Ke.next!==null,Nn=0,Qe=Ke=Ve=null,Xi=!1,t)throw Error(ie(300));return e}function Tu(){var e=js!==0;return js=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ve.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ut(){if(Ke===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Qe===null?Ve.memoizedState:Qe.next;if(t!==null)Qe=t,Ke=e;else{if(e===null)throw Error(ie(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Qe===null?Ve.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ws(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=Ut(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var a=Ke,s=a.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,a=a.baseState;var c=o=null,l=null,u=i;do{var p=u.lane;if((Nn&p)===p)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var h={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=h,o=a):l=l.next=h,Ve.lanes|=p,_n|=p}u=u.next}while(u!==null&&u!==i);l===null?o=a:l.next=c,nr(a,t.memoizedState)||(gt=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=l,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ve.lanes|=i,_n|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bl(e){var t=Ut(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);nr(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function zp(){}function Bp(e,t){var n=Ve,a=Ut(),s=t(),i=!nr(a.memoizedState,s);if(i&&(a.memoizedState=s,gt=!0),a=a.queue,Cu(Hp.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Ns(9,Vp.bind(null,n,a,s,t),void 0,null),Ye===null)throw Error(ie(349));Nn&30||Fp(n,t,s)}return s}function Fp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vp(e,t,n,a){t.value=n,t.getSnapshot=a,Up(t)&&qp(e)}function Hp(e,t,n){return n(function(){Up(t)&&qp(e)})}function Up(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nr(e,n)}catch{return!0}}function qp(e){var t=Lr(e,1);t!==null&&rr(t,e,1,-1)}function Zd(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=h0.bind(null,Ve,e),[t.memoizedState,e]}function Ns(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Gp(){return Ut().memoizedState}function Ni(e,t,n,a){var s=cr();Ve.flags|=e,s.memoizedState=Ns(1|t,n,void 0,a===void 0?null:a)}function wo(e,t,n,a){var s=Ut();a=a===void 0?null:a;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,a!==null&&ku(a,o.deps)){s.memoizedState=Ns(t,n,i,a);return}}Ve.flags|=e,s.memoizedState=Ns(1|t,n,i,a)}function eh(e,t){return Ni(8390656,8,e,t)}function Cu(e,t){return wo(2048,8,e,t)}function Kp(e,t){return wo(4,2,e,t)}function Wp(e,t){return wo(4,4,e,t)}function Xp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qp(e,t,n){return n=n!=null?n.concat([e]):null,wo(4,4,Xp.bind(null,t,e),n)}function Eu(){}function Yp(e,t){var n=Ut();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ku(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Jp(e,t){var n=Ut();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ku(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Zp(e,t,n){return Nn&21?(nr(n,t)||(n=ap(),Ve.lanes|=n,_n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function u0(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var a=yl.transition;yl.transition={};try{e(!1),t()}finally{Te=n,yl.transition=a}}function em(){return Ut().memoizedState}function d0(e,t,n){var a=en(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},tm(e))rm(t,n);else if(n=Rp(e,t,n,a),n!==null){var s=ut();rr(n,e,a,s),nm(n,t,a)}}function h0(e,t,n){var a=en(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(tm(e))rm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,nr(c,o)){var l=t.interleaved;l===null?(s.next=s,bu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Rp(e,t,s,a),n!==null&&(s=ut(),rr(n,e,a,s),nm(n,t,a))}}function tm(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function rm(e,t){ns=Xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nm(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,iu(e,n)}}var Qi={readContext:Ht,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},f0={readContext:Ht,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:eh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4194308,4,Xp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var n=cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=cr();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=d0.bind(null,Ve,e),[a.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:Zd,useDebugValue:Eu,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=Zd(!1),t=e[0];return e=u0.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Ve,s=cr();if(ze){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),Ye===null)throw Error(ie(349));Nn&30||Fp(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,eh(Hp.bind(null,a,i,e),[e]),a.flags|=2048,Ns(9,Vp.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=cr(),t=Ye.identifierPrefix;if(ze){var n=kr,a=_r;n=(a&~(1<<32-tr(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=js++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p0={readContext:Ht,useCallback:Yp,useContext:Ht,useEffect:Cu,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Wp,useMemo:Jp,useReducer:vl,useRef:Gp,useState:function(){return vl(ws)},useDebugValue:Eu,useDeferredValue:function(e){var t=Ut();return Zp(t,Ke.memoizedState,e)},useTransition:function(){var e=vl(ws)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:zp,useSyncExternalStore:Bp,useId:em,unstable_isNewReconciler:!1},m0={readContext:Ht,useCallback:Yp,useContext:Ht,useEffect:Cu,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Wp,useMemo:Jp,useReducer:bl,useRef:Gp,useState:function(){return bl(ws)},useDebugValue:Eu,useDeferredValue:function(e){var t=Ut();return Ke===null?t.memoizedState=e:Zp(t,Ke.memoizedState,e)},useTransition:function(){var e=bl(ws)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:zp,useSyncExternalStore:Bp,useId:em,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var No={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ut(),s=en(e),i=Sr(a,s);i.payload=t,n!=null&&(i.callback=n),t=Jr(e,i,s),t!==null&&(rr(t,e,s,a),ji(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ut(),s=en(e),i=Sr(a,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Jr(e,i,s),t!==null&&(rr(t,e,s,a),ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),a=en(e),s=Sr(n,a);s.tag=2,t!=null&&(s.callback=t),t=Jr(e,s,a),t!==null&&(rr(t,e,a,n),ji(t,e,a))}};function th(e,t,n,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!ms(n,a)||!ms(s,i):!0}function am(e,t,n){var a=!1,s=nn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ht(i):(s=yt(t)?jn:lt.current,a=t.contextTypes,i=(a=a!=null)?oa(e,s):nn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=No,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function rh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function vc(e,t,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ju(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ht(i):(i=yt(t)?jn:lt.current,s.context=oa(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&No.enqueueReplaceState(s,s.state,null),Ki(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function da(e,t){try{var n="",a=t;do n+=Hx(a),a=a.return;while(a);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g0=typeof WeakMap=="function"?WeakMap:Map;function sm(e,t,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ji||(Ji=!0,Pc=a),bc(e,t)},n}function im(e,t,n){n=Sr(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;n.payload=function(){return a(s)},n.callback=function(){bc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bc(e,t),typeof a!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function nh(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new g0;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(s.add(n),e=P0.bind(null,e,t,n),t.then(e,e))}function ah(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sh(e,t,n,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Sr(-1,1),t.tag=2,Jr(n,t,1))),n.lanes|=1),e)}var x0=Rr.ReactCurrentOwner,gt=!1;function ct(e,t,n,a){t.child=e===null?Mp(t,null,n,a):ca(t,e.child,n,a)}function ih(e,t,n,a,s){n=n.render;var i=t.ref;return ta(t,s),a=Su(e,t,n,a,i,s),n=Tu(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(ze&&n&&pu(t),t.flags|=1,ct(e,t,a,s),t.child)}function oh(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Du(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,om(e,t,i,a,s)):(e=Ti(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ms,n(o,a)&&e.ref===t.ref)return Ir(e,t,s)}return t.flags|=1,e=tn(i,a),e.ref=t.ref,e.return=t,t.child=e}function om(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(ms(i,a)&&e.ref===t.ref)if(gt=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,Ir(e,t,s)}return jc(e,t,n,a,s)}function lm(e,t,n){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Qn,kt),kt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Qn,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,Oe(Qn,kt),kt|=a}else i!==null?(a=i.baseLanes|n,t.memoizedState=null):a=n,Oe(Qn,kt),kt|=a;return ct(e,t,s,n),t.child}function cm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jc(e,t,n,a,s){var i=yt(n)?jn:lt.current;return i=oa(t,i),ta(t,s),n=Su(e,t,n,a,i,s),a=Tu(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(ze&&a&&pu(t),t.flags|=1,ct(e,t,n,s),t.child)}function lh(e,t,n,a,s){if(yt(n)){var i=!0;Vi(t)}else i=!1;if(ta(t,s),t.stateNode===null)_i(e,t),am(t,n,a),vc(t,n,a,s),a=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ht(u):(u=yt(n)?jn:lt.current,u=oa(t,u));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==a||l!==u)&&rh(t,o,a,u),Vr=!1;var d=t.memoizedState;o.state=d,Ki(t,a,o,s),l=t.memoizedState,c!==a||d!==l||xt.current||Vr?(typeof p=="function"&&(yc(t,n,p,a),l=t.memoizedState),(c=Vr||th(t,n,c,a,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),o.props=a,o.state=l,o.context=u,a=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Dp(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Yt(t.type,c),o.props=u,h=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ht(l):(l=yt(n)?jn:lt.current,l=oa(t,l));var f=n.getDerivedStateFromProps;(p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||d!==l)&&rh(t,o,a,l),Vr=!1,d=t.memoizedState,o.state=d,Ki(t,a,o,s);var y=t.memoizedState;c!==h||d!==y||xt.current||Vr?(typeof f=="function"&&(yc(t,n,f,a),y=t.memoizedState),(u=Vr||th(t,n,u,a,d,y,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=y),o.props=a,o.state=y,o.context=l,a=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),a=!1)}return wc(e,t,n,a,i,s)}function wc(e,t,n,a,s,i){cm(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return s&&Kd(t,n,!1),Ir(e,t,i);a=t.stateNode,x0.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=ca(t,e.child,null,i),t.child=ca(t,null,c,i)):ct(e,t,c,i),t.memoizedState=a.state,s&&Kd(t,n,!0),t.child}function um(e){var t=e.stateNode;t.pendingContext?Gd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gd(e,t.context,!1),wu(e,t.containerInfo)}function ch(e,t,n,a,s){return la(),gu(s),t.flags|=256,ct(e,t,n,a),t.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function _c(e){return{baseLanes:e,cachePool:null,transitions:null}}function dm(e,t,n){var a=t.pendingProps,s=Fe.current,i=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe(Fe,s&1),e===null)return gc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=So(o,a,0,null),e=vn(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_c(n),t.memoizedState=Nc,e):Pu(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return y0(e,t,o,a,c,s,n);if(i){i=a.fallback,o=t.mode,s=e.child,c=s.sibling;var l={mode:"hidden",children:a.children};return!(o&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=l,t.deletions=null):(a=tn(s,l),a.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=tn(c,i):(i=vn(i,o,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?_c(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Nc,a}return i=e.child,e=i.sibling,a=tn(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Pu(e,t){return t=So({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ti(e,t,n,a){return a!==null&&gu(a),ca(t,e.child,null,n),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y0(e,t,n,a,s,i,o){if(n)return t.flags&256?(t.flags&=-257,a=jl(Error(ie(422))),ti(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=So({mode:"visible",children:a.children},s,0,null),i=vn(i,s,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&ca(t,e.child,null,o),t.child.memoizedState=_c(o),t.memoizedState=Nc,i);if(!(t.mode&1))return ti(e,t,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;return a=c,i=Error(ie(419)),a=jl(i,a,void 0),ti(e,t,o,a)}if(c=(o&e.childLanes)!==0,gt||c){if(a=Ye,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(e,s),rr(a,e,s,-1))}return Ru(),a=jl(Error(ie(421))),ti(e,t,o,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=O0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ct=Yr(s.nextSibling),Et=t,ze=!0,Zt=null,e!==null&&(Dt[$t++]=_r,Dt[$t++]=kr,Dt[$t++]=wn,_r=e.id,kr=e.overflow,wn=t),t=Pu(t,a.children),t.flags|=4096,t)}function uh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),xc(e.return,t,n)}function wl(e,t,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function hm(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(ct(e,t,a.children,n),a=Fe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uh(e,n,t);else if(e.tag===19)uh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Oe(Fe,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Wi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Wi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wl(t,!0,n,null,i);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _i(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function v0(e,t,n){switch(t.tag){case 3:um(t),la();break;case 5:$p(t);break;case 1:yt(t.type)&&Vi(t);break;case 4:wu(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Oe(qi,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Oe(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?dm(e,t,n):(Oe(Fe,Fe.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return hm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(Fe,Fe.current),a)break;return null;case 22:case 23:return t.lanes=0,lm(e,t,n)}return Ir(e,t,n)}var fm,kc,pm,mm;fm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kc=function(){};pm=function(e,t,n,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,xn(mr.current);var i=null;switch(n){case"input":s=Kl(e,s),a=Kl(e,a),i=[];break;case"select":s=He({},s,{value:void 0}),a=He({},a,{value:void 0}),i=[];break;case"textarea":s=Ql(e,s),a=Ql(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bi)}Jl(n,a);var o;n=null;for(u in s)if(!a.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ls.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var l=a[u];if(c=s!=null?s[u]:void 0,a.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ls.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ae("scroll",e),i||c===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};mm=function(e,t,n,a){n!==a&&(t.flags|=4)};function Ma(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function b0(e,t,n){var a=t.pendingProps;switch(mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return yt(t.type)&&Fi(),it(t),null;case 3:return a=t.stateNode,ua(),Me(xt),Me(lt),_u(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(Lc(Zt),Zt=null))),kc(e,t),it(t),null;case 5:Nu(t);var s=xn(bs.current);if(n=t.type,e!==null&&t.stateNode!=null)pm(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(ie(166));return it(t),null}if(e=xn(mr.current),Zs(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[ur]=t,a[ys]=i,e=(t.mode&1)!==0,n){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(s=0;s<Qa.length;s++)Ae(Qa[s],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":vd(a,i),Ae("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",a);break;case"textarea":jd(a,i),Ae("invalid",a)}Jl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?a.textContent!==c&&(i.suppressHydrationWarning!==!0&&Js(a.textContent,c,e),s=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Js(a.textContent,c,e),s=["children",""+c]):ls.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Ae("scroll",a)}switch(n){case"input":Us(a),bd(a,i,!0);break;case"textarea":Us(a),wd(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Bi)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[ur]=t,e[ys]=a,fm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zl(n,a),n){case"dialog":Ae("cancel",e),Ae("close",e),s=a;break;case"iframe":case"object":case"embed":Ae("load",e),s=a;break;case"video":case"audio":for(s=0;s<Qa.length;s++)Ae(Qa[s],e);s=a;break;case"source":Ae("error",e),s=a;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),s=a;break;case"details":Ae("toggle",e),s=a;break;case"input":vd(e,a),s=Kl(e,a),Ae("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=He({},a,{value:void 0}),Ae("invalid",e);break;case"textarea":jd(e,a),s=Ql(e,a),Ae("invalid",e);break;default:s=a}Jl(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?Gf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cs(e,l):typeof l=="number"&&cs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ls.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ae("scroll",e):l!=null&&eu(e,i,l,o))}switch(n){case"input":Us(e),bd(e,a,!1);break;case"textarea":Us(e),wd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+rn(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Yn(e,!!a.multiple,i,!1):a.defaultValue!=null&&Yn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Bi)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(ie(166));if(n=xn(bs.current),xn(mr.current),Zs(t)){if(a=t.stateNode,n=t.memoizedProps,a[ur]=t,(i=a.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:Js(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Js(a.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[ur]=t,t.stateNode=a}return it(t),null;case 13:if(Me(Fe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Ct!==null&&t.mode&1&&!(t.flags&128))Lp(),la(),t.flags|=98560,i=!1;else if(i=Zs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[ur]=t}else la(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else Zt!==null&&(Lc(Zt),Zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?We===0&&(We=3):Ru())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return ua(),kc(e,t),e===null&&gs(t.stateNode.containerInfo),it(t),null;case 10:return vu(t.type._context),it(t),null;case 17:return yt(t.type)&&Fi(),it(t),null;case 19:if(Me(Fe),i=t.memoizedState,i===null)return it(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Ma(i,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wi(e),o!==null){for(t.flags|=128,Ma(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)i=n,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&qe()>ha&&(t.flags|=128,a=!0,Ma(i,!1),t.lanes=4194304)}else{if(!a)if(e=Wi(o),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ma(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return it(t),null}else 2*qe()-i.renderingStartTime>ha&&n!==1073741824&&(t.flags|=128,a=!0,Ma(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,n=Fe.current,Oe(Fe,a?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Mu(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?kt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function j0(e,t){switch(mu(t),t.tag){case 1:return yt(t.type)&&Fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(),Me(xt),Me(lt),_u(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nu(t),null;case 13:if(Me(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return ua(),null;case 10:return vu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var ri=!1,ot=!1,w0=typeof WeakSet=="function"?WeakSet:Set,he=null;function Xn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Ue(e,t,a)}else n.current=null}function Sc(e,t,n){try{n()}catch(a){Ue(e,t,a)}}var dh=!1;function N0(e,t){if(cc=Di,e=bp(),fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,l=-1,u=0,p=0,h=e,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(c=o+s),h!==i||a!==0&&h.nodeType!==3||(l=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===s&&(c=o),d===i&&++p===a&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uc={focusedElem:e,selectionRange:n},Di=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Yt(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(v){Ue(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return y=dh,dh=!1,y}function as(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sc(t,n,i)}s=s.next}while(s!==a)}}function _o(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Tc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gm(e){var t=e.alternate;t!==null&&(e.alternate=null,gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ur],delete t[ys],delete t[fc],delete t[s0],delete t[i0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xm(e){return e.tag===5||e.tag===3||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bi));else if(a!==4&&(e=e.child,e!==null))for(Cc(e,t,n),e=e.sibling;e!==null;)Cc(e,t,n),e=e.sibling}function Ec(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ec(e,t,n),e=e.sibling;e!==null;)Ec(e,t,n),e=e.sibling}var et=null,Jt=!1;function $r(e,t,n){for(n=n.child;n!==null;)ym(e,t,n),n=n.sibling}function ym(e,t,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(go,n)}catch{}switch(n.tag){case 5:ot||Xn(n,t);case 6:var a=et,s=Jt;et=null,$r(e,t,n),et=a,Jt=s,et!==null&&(Jt?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(Jt?(e=et,n=n.stateNode,e.nodeType===8?ml(e.parentNode,n):e.nodeType===1&&ml(e,n),fs(e)):ml(et,n.stateNode));break;case 4:a=et,s=Jt,et=n.stateNode.containerInfo,Jt=!0,$r(e,t,n),et=a,Jt=s;break;case 0:case 11:case 14:case 15:if(!ot&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sc(n,t,o),s=s.next}while(s!==a)}$r(e,t,n);break;case 1:if(!ot&&(Xn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(c){Ue(n,t,c)}$r(e,t,n);break;case 21:$r(e,t,n);break;case 22:n.mode&1?(ot=(a=ot)||n.memoizedState!==null,$r(e,t,n),ot=a):$r(e,t,n);break;default:$r(e,t,n)}}function fh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w0),t.forEach(function(a){var s=A0.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:et=c.stateNode,Jt=!1;break e;case 3:et=c.stateNode.containerInfo,Jt=!0;break e;case 4:et=c.stateNode.containerInfo,Jt=!0;break e}c=c.return}if(et===null)throw Error(ie(160));ym(i,o,s),et=null,Jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vm(t,e),t=t.sibling}function vm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),or(e),a&4){try{as(3,e,e.return),_o(3,e)}catch(x){Ue(e,e.return,x)}try{as(5,e,e.return)}catch(x){Ue(e,e.return,x)}}break;case 1:Qt(t,e),or(e),a&512&&n!==null&&Xn(n,n.return);break;case 5:if(Qt(t,e),or(e),a&512&&n!==null&&Xn(n,n.return),e.flags&32){var s=e.stateNode;try{cs(s,"")}catch(x){Ue(e,e.return,x)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Ff(s,i),Zl(c,o);var u=Zl(c,i);for(o=0;o<l.length;o+=2){var p=l[o],h=l[o+1];p==="style"?Gf(s,h):p==="dangerouslySetInnerHTML"?Uf(s,h):p==="children"?cs(s,h):eu(s,p,h,u)}switch(c){case"input":Wl(s,i);break;case"textarea":Vf(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Yn(s,!!i.multiple,f,!1):d!==!!i.multiple&&(i.defaultValue!=null?Yn(s,!!i.multiple,i.defaultValue,!0):Yn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ys]=i}catch(x){Ue(e,e.return,x)}}break;case 6:if(Qt(t,e),or(e),a&4){if(e.stateNode===null)throw Error(ie(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ue(e,e.return,x)}}break;case 3:if(Qt(t,e),or(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(x){Ue(e,e.return,x)}break;case 4:Qt(t,e),or(e);break;case 13:Qt(t,e),or(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lu=qe())),a&4&&fh(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(u=ot)||p,Qt(t,e),ot=u):Qt(t,e),or(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(he=e,p=e.child;p!==null;){for(h=he=p;he!==null;){switch(d=he,f=d.child,d.tag){case 0:case 11:case 14:case 15:as(4,d,d.return);break;case 1:Xn(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){a=d,n=d.return;try{t=a,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Ue(a,n,x)}}break;case 5:Xn(d,d.return);break;case 22:if(d.memoizedState!==null){mh(h);continue}}f!==null?(f.return=d,he=f):mh(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=qf("display",o))}catch(x){Ue(e,e.return,x)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ue(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qt(t,e),or(e),a&4&&fh(e);break;case 21:break;default:Qt(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xm(n)){var a=n;break e}n=n.return}throw Error(ie(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(cs(s,""),a.flags&=-33);var i=hh(e);Ec(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,c=hh(e);Cc(e,c,o);break;default:throw Error(ie(161))}}catch(l){Ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _0(e,t,n){he=e,bm(e)}function bm(e,t,n){for(var a=(e.mode&1)!==0;he!==null;){var s=he,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||ri;if(!o){var c=s.alternate,l=c!==null&&c.memoizedState!==null||ot;c=ri;var u=ot;if(ri=o,(ot=l)&&!u)for(he=s;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?gh(s):l!==null?(l.return=o,he=l):gh(s);for(;i!==null;)he=i,bm(i),i=i.sibling;he=s,ri=c,ot=u}ph(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,he=i):ph(e)}}function ph(e){for(;he!==null;){var t=he;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||_o(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ot)if(n===null)a.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jd(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jd(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&fs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}ot||t.flags&512&&Tc(t)}catch(d){Ue(t,t.return,d)}}if(t===e){he=null;break}if(n=t.sibling,n!==null){n.return=t.return,he=n;break}he=t.return}}function mh(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var n=t.sibling;if(n!==null){n.return=t.return,he=n;break}he=t.return}}function gh(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_o(4,t)}catch(l){Ue(t,n,l)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(l){Ue(t,s,l)}}var i=t.return;try{Tc(t)}catch(l){Ue(t,i,l)}break;case 5:var o=t.return;try{Tc(t)}catch(l){Ue(t,o,l)}}}catch(l){Ue(t,t.return,l)}if(t===e){he=null;break}var c=t.sibling;if(c!==null){c.return=t.return,he=c;break}he=t.return}}var k0=Math.ceil,Yi=Rr.ReactCurrentDispatcher,Ou=Rr.ReactCurrentOwner,Ft=Rr.ReactCurrentBatchConfig,_e=0,Ye=null,Ge=null,nt=0,kt=0,Qn=sn(0),We=0,_s=null,_n=0,ko=0,Au=0,ss=null,mt=null,Lu=0,ha=1/0,wr=null,Ji=!1,Pc=null,Zr=null,ni=!1,Gr=null,Zi=0,is=0,Oc=null,ki=-1,Si=0;function ut(){return _e&6?qe():ki!==-1?ki:ki=qe()}function en(e){return e.mode&1?_e&2&&nt!==0?nt&-nt:l0.transition!==null?(Si===0&&(Si=ap()),Si):(e=Te,e!==0||(e=window.event,e=e===void 0?16:dp(e.type)),e):1}function rr(e,t,n,a){if(50<is)throw is=0,Oc=null,Error(ie(185));Ps(e,n,a),(!(_e&2)||e!==Ye)&&(e===Ye&&(!(_e&2)&&(ko|=n),We===4&&Ur(e,nt)),vt(e,a),n===1&&_e===0&&!(t.mode&1)&&(ha=qe()+500,jo&&on()))}function vt(e,t){var n=e.callbackNode;ly(e,t);var a=Ri(e,e===Ye?nt:0);if(a===0)n!==null&&kd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&kd(n),t===1)e.tag===0?o0(xh.bind(null,e)):Pp(xh.bind(null,e)),n0(function(){!(_e&6)&&on()}),n=null;else{switch(sp(a)){case 1:n=su;break;case 4:n=rp;break;case 16:n=Mi;break;case 536870912:n=np;break;default:n=Mi}n=Cm(n,jm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jm(e,t){if(ki=-1,Si=0,_e&6)throw Error(ie(327));var n=e.callbackNode;if(ra()&&e.callbackNode!==n)return null;var a=Ri(e,e===Ye?nt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=eo(e,a);else{t=a;var s=_e;_e|=2;var i=Nm();(Ye!==e||nt!==t)&&(wr=null,ha=qe()+500,yn(e,t));do try{C0();break}catch(c){wm(e,c)}while(!0);yu(),Yi.current=i,_e=s,Ge!==null?t=0:(Ye=null,nt=0,t=We)}if(t!==0){if(t===2&&(s=ac(e),s!==0&&(a=s,t=Ac(e,s))),t===1)throw n=_s,yn(e,0),Ur(e,a),vt(e,qe()),n;if(t===6)Ur(e,a);else{if(s=e.current.alternate,!(a&30)&&!S0(s)&&(t=eo(e,a),t===2&&(i=ac(e),i!==0&&(a=i,t=Ac(e,i))),t===1))throw n=_s,yn(e,0),Ur(e,a),vt(e,qe()),n;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(ie(345));case 2:fn(e,mt,wr);break;case 3:if(Ur(e,a),(a&130023424)===a&&(t=Lu+500-qe(),10<t)){if(Ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hc(fn.bind(null,e,mt,wr),t);break}fn(e,mt,wr);break;case 4:if(Ur(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var o=31-tr(a);i=1<<o,o=t[o],o>s&&(s=o),a&=~i}if(a=s,a=qe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*k0(a/1960))-a,10<a){e.timeoutHandle=hc(fn.bind(null,e,mt,wr),a);break}fn(e,mt,wr);break;case 5:fn(e,mt,wr);break;default:throw Error(ie(329))}}}return vt(e,qe()),e.callbackNode===n?jm.bind(null,e):null}function Ac(e,t){var n=ss;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=eo(e,t),e!==2&&(t=mt,mt=n,t!==null&&Lc(t)),e}function Lc(e){mt===null?mt=e:mt.push.apply(mt,e)}function S0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!nr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~Au,t&=~ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),a=1<<n;e[n]=-1,t&=~a}}function xh(e){if(_e&6)throw Error(ie(327));ra();var t=Ri(e,0);if(!(t&1))return vt(e,qe()),null;var n=eo(e,t);if(e.tag!==0&&n===2){var a=ac(e);a!==0&&(t=a,n=Ac(e,a))}if(n===1)throw n=_s,yn(e,0),Ur(e,t),vt(e,qe()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fn(e,mt,wr),vt(e,qe()),null}function Iu(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(ha=qe()+500,jo&&on())}}function kn(e){Gr!==null&&Gr.tag===0&&!(_e&6)&&ra();var t=_e;_e|=1;var n=Ft.transition,a=Te;try{if(Ft.transition=null,Te=1,e)return e()}finally{Te=a,Ft.transition=n,_e=t,!(_e&6)&&on()}}function Mu(){kt=Qn.current,Me(Qn)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r0(n)),Ge!==null)for(n=Ge.return;n!==null;){var a=n;switch(mu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Fi();break;case 3:ua(),Me(xt),Me(lt),_u();break;case 5:Nu(a);break;case 4:ua();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:vu(a.type._context);break;case 22:case 23:Mu()}n=n.return}if(Ye=e,Ge=e=tn(e.current,null),nt=kt=t,We=0,_s=null,Au=ko=_n=0,mt=ss=null,gn!==null){for(t=0;t<gn.length;t++)if(n=gn[t],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}n.pending=a}gn=null}return e}function wm(e,t){do{var n=Ge;try{if(yu(),wi.current=Qi,Xi){for(var a=Ve.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Xi=!1}if(Nn=0,Qe=Ke=Ve=null,ns=!1,js=0,Ou.current=null,n===null||n.return===null){We=1,_s=t,Ge=null;break}e:{var i=e,o=n.return,c=n,l=t;if(t=nt,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,p=c,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=ah(o);if(f!==null){f.flags&=-257,sh(f,o,c,i,t),f.mode&1&&nh(i,u,t),t=f,l=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){nh(i,u,t),Ru();break e}l=Error(ie(426))}}else if(ze&&c.mode&1){var b=ah(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),sh(b,o,c,i,t),gu(da(l,c));break e}}i=l=da(l,c),We!==4&&(We=2),ss===null?ss=[i]:ss.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=sm(i,l,t);Yd(i,g);break e;case 1:c=l;var m=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Zr===null||!Zr.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=im(i,c,t);Yd(i,v);break e}}i=i.return}while(i!==null)}km(n)}catch(w){t=w,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Nm(){var e=Yi.current;return Yi.current=Qi,e===null?Qi:e}function Ru(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(_n&268435455)&&!(ko&268435455)||Ur(Ye,nt)}function eo(e,t){var n=_e;_e|=2;var a=Nm();(Ye!==e||nt!==t)&&(wr=null,yn(e,t));do try{T0();break}catch(s){wm(e,s)}while(!0);if(yu(),_e=n,Yi.current=a,Ge!==null)throw Error(ie(261));return Ye=null,nt=0,We}function T0(){for(;Ge!==null;)_m(Ge)}function C0(){for(;Ge!==null&&!Zx();)_m(Ge)}function _m(e){var t=Tm(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?km(e):Ge=t,Ou.current=null}function km(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=j0(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Ge=null;return}}else if(n=b0(n,t,kt),n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);We===0&&(We=5)}function fn(e,t,n){var a=Te,s=Ft.transition;try{Ft.transition=null,Te=1,E0(e,t,n,a)}finally{Ft.transition=s,Te=a}return null}function E0(e,t,n,a){do ra();while(Gr!==null);if(_e&6)throw Error(ie(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cy(e,i),e===Ye&&(Ge=Ye=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ni||(ni=!0,Cm(Mi,function(){return ra(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ft.transition,Ft.transition=null;var o=Te;Te=1;var c=_e;_e|=4,Ou.current=null,N0(e,n),vm(n,e),Xy(uc),Di=!!cc,uc=cc=null,e.current=n,_0(n),ey(),_e=c,Te=o,Ft.transition=i}else e.current=n;if(ni&&(ni=!1,Gr=e,Zi=s),i=e.pendingLanes,i===0&&(Zr=null),ny(n.stateNode),vt(e,qe()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Ji)throw Ji=!1,e=Pc,Pc=null,e;return Zi&1&&e.tag!==0&&ra(),i=e.pendingLanes,i&1?e===Oc?is++:(is=0,Oc=e):is=0,on(),null}function ra(){if(Gr!==null){var e=sp(Zi),t=Ft.transition,n=Te;try{if(Ft.transition=null,Te=16>e?16:e,Gr===null)var a=!1;else{if(e=Gr,Gr=null,Zi=0,_e&6)throw Error(ie(331));var s=_e;for(_e|=4,he=e.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(he=u;he!==null;){var p=he;switch(p.tag){case 0:case 11:case 15:as(8,p,i)}var h=p.child;if(h!==null)h.return=p,he=h;else for(;he!==null;){p=he;var d=p.sibling,f=p.return;if(gm(p),p===u){he=null;break}if(d!==null){d.return=f,he=d;break}he=f}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,he=g;break e}he=i.return}}var m=e.current;for(he=m;he!==null;){o=he;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,he=j;else e:for(o=m;he!==null;){if(c=he,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:_o(9,c)}}catch(w){Ue(c,c.return,w)}if(c===o){he=null;break e}var v=c.sibling;if(v!==null){v.return=c.return,he=v;break e}he=c.return}}if(_e=s,on(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(go,e)}catch{}a=!0}return a}finally{Te=n,Ft.transition=t}}return!1}function yh(e,t,n){t=da(n,t),t=sm(e,t,1),e=Jr(e,t,1),t=ut(),e!==null&&(Ps(e,1,t),vt(e,t))}function Ue(e,t,n){if(e.tag===3)yh(e,e,n);else for(;t!==null;){if(t.tag===3){yh(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Zr===null||!Zr.has(a))){e=da(n,e),e=im(t,e,1),t=Jr(t,e,1),e=ut(),t!==null&&(Ps(t,1,e),vt(t,e));break}}t=t.return}}function P0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(nt&n)===n&&(We===4||We===3&&(nt&130023424)===nt&&500>qe()-Lu?yn(e,0):Au|=n),vt(e,t)}function Sm(e,t){t===0&&(e.mode&1?(t=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):t=1);var n=ut();e=Lr(e,t),e!==null&&(Ps(e,t,n),vt(e,n))}function O0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sm(e,n)}function A0(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ie(314))}a!==null&&a.delete(t),Sm(e,n)}var Tm;Tm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,v0(e,t,n);gt=!!(e.flags&131072)}else gt=!1,ze&&t.flags&1048576&&Op(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;_i(e,t),e=t.pendingProps;var s=oa(t,lt.current);ta(t,n),s=Su(null,t,a,e,s,n);var i=Tu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(a)?(i=!0,Vi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ju(t),s.updater=No,t.stateNode=s,s._reactInternals=t,vc(t,a,e,n),t=wc(null,t,a,!0,i,n)):(t.tag=0,ze&&i&&pu(t),ct(null,t,s,n),t=t.child),t;case 16:a=t.elementType;e:{switch(_i(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=I0(a),e=Yt(a,e),s){case 0:t=jc(null,t,a,e,n);break e;case 1:t=lh(null,t,a,e,n);break e;case 11:t=ih(null,t,a,e,n);break e;case 14:t=oh(null,t,a,Yt(a.type,e),n);break e}throw Error(ie(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Yt(a,s),jc(e,t,a,s,n);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Yt(a,s),lh(e,t,a,s,n);case 3:e:{if(um(t),e===null)throw Error(ie(387));a=t.pendingProps,i=t.memoizedState,s=i.element,Dp(e,t),Ki(t,a,null,n);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=da(Error(ie(423)),t),t=ch(e,t,a,n,s);break e}else if(a!==s){s=da(Error(ie(424)),t),t=ch(e,t,a,n,s);break e}else for(Ct=Yr(t.stateNode.containerInfo.firstChild),Et=t,ze=!0,Zt=null,n=Mp(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),a===s){t=Ir(e,t,n);break e}ct(e,t,a,n)}t=t.child}return t;case 5:return $p(t),e===null&&gc(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,dc(a,s)?o=null:i!==null&&dc(a,i)&&(t.flags|=32),cm(e,t),ct(e,t,o,n),t.child;case 6:return e===null&&gc(t),null;case 13:return dm(e,t,n);case 4:return wu(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ca(t,null,a,n):ct(e,t,a,n),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Yt(a,s),ih(e,t,a,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Oe(qi,a._currentValue),a._currentValue=o,i!==null)if(nr(i.value,o)){if(i.children===s.children&&!xt.current){t=Ir(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var l=c.firstContext;l!==null;){if(l.context===a){if(i.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?l.next=l:(l.next=p.next,p.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xc(i.return,n,t),c.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ie(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),xc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,ta(t,n),s=Ht(s),a=a(s),t.flags|=1,ct(e,t,a,n),t.child;case 14:return a=t.type,s=Yt(a,t.pendingProps),s=Yt(a.type,s),oh(e,t,a,s,n);case 15:return om(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Yt(a,s),_i(e,t),t.tag=1,yt(a)?(e=!0,Vi(t)):e=!1,ta(t,n),am(t,a,s),vc(t,a,s,n),wc(null,t,a,!0,e,n);case 19:return hm(e,t,n);case 22:return lm(e,t,n)}throw Error(ie(156,t.tag))};function Cm(e,t){return tp(e,t)}function L0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,a){return new L0(e,t,n,a)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I0(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ru)return 11;if(e===nu)return 14}return 2}function tn(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ti(e,t,n,a,s,i){var o=2;if(a=e,typeof e=="function")Du(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bn:return vn(n.children,s,i,t);case tu:o=8,s|=8;break;case Hl:return e=Bt(12,n,t,s|2),e.elementType=Hl,e.lanes=i,e;case Ul:return e=Bt(13,n,t,s),e.elementType=Ul,e.lanes=i,e;case ql:return e=Bt(19,n,t,s),e.elementType=ql,e.lanes=i,e;case $f:return So(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rf:o=10;break e;case Df:o=9;break e;case ru:o=11;break e;case nu:o=14;break e;case Fr:o=16,a=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Bt(o,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function vn(e,t,n,a){return e=Bt(7,e,a,t),e.lanes=n,e}function So(e,t,n,a){return e=Bt(22,e,a,t),e.elementType=$f,e.lanes=n,e.stateNode={isHidden:!1},e}function Nl(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function _l(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M0(e,t,n,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,a,s,i,o,c,l){return e=new M0(e,t,n,c,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ju(i),e}function R0(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function Em(e){if(!e)return nn;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(yt(n))return Ep(e,n,t)}return t}function Pm(e,t,n,a,s,i,o,c,l){return e=$u(n,a,!0,e,s,i,o,c,l),e.context=Em(null),n=e.current,a=ut(),s=en(n),i=Sr(a,s),i.callback=t??null,Jr(n,i,s),e.current.lanes=s,Ps(e,s,a),vt(e,a),e}function To(e,t,n,a){var s=t.current,i=ut(),o=en(s);return n=Em(n),t.context===null?t.context=n:t.pendingContext=n,t=Sr(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Jr(s,t,o),e!==null&&(rr(e,s,o,i),ji(e,s,o)),o}function to(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zu(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function D0(){return null}var Om=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bu(e){this._internalRoot=e}Co.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));To(e,t,null,null)};Co.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){To(null,e,null,null)}),t[Ar]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var t=lp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hr.length&&t!==0&&t<Hr[n].priority;n++);Hr.splice(n,0,e),n===0&&up(e)}};function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bh(){}function $0(e,t,n,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var u=to(o);i.call(u)}}var o=Pm(t,a,e,0,null,!1,!1,"",bh);return e._reactRootContainer=o,e[Ar]=o.current,gs(e.nodeType===8?e.parentNode:e),kn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var c=a;a=function(){var u=to(l);c.call(u)}}var l=$u(e,0,!1,null,null,!1,!1,"",bh);return e._reactRootContainer=l,e[Ar]=l.current,gs(e.nodeType===8?e.parentNode:e),kn(function(){To(t,l,n,a)}),l}function Po(e,t,n,a,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var l=to(o);c.call(l)}}To(t,o,e,s)}else o=$0(n,t,e,s,a);return to(o)}ip=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xa(t.pendingLanes);n!==0&&(iu(t,n|1),vt(t,qe()),!(_e&6)&&(ha=qe()+500,on()))}break;case 13:kn(function(){var a=Lr(e,1);if(a!==null){var s=ut();rr(a,e,1,s)}}),zu(e,1)}};ou=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var n=ut();rr(t,e,134217728,n)}zu(e,134217728)}};op=function(e){if(e.tag===13){var t=en(e),n=Lr(e,t);if(n!==null){var a=ut();rr(n,e,t,a)}zu(e,t)}};lp=function(){return Te};cp=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};tc=function(e,t,n){switch(t){case"input":if(Wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=bo(a);if(!s)throw Error(ie(90));Bf(a),Wl(a,s)}}}break;case"textarea":Vf(e,n);break;case"select":t=n.value,t!=null&&Yn(e,!!n.multiple,t,!1)}};Xf=Iu;Qf=kn;var z0={usingClientEntryPoint:!1,Events:[As,Un,bo,Kf,Wf,Iu]},Ra={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||D0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ai.isDisabled&&ai.supportsFiber)try{go=ai.inject(B0),pr=ai}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;At.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(t))throw Error(ie(200));return R0(e,t,null,n)};At.createRoot=function(e,t){if(!Fu(e))throw Error(ie(299));var n=!1,a="",s=Om;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$u(e,1,!1,null,null,n,!1,a,s),e[Ar]=t.current,gs(e.nodeType===8?e.parentNode:e),new Bu(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=Zf(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return kn(e)};At.hydrate=function(e,t,n){if(!Eo(t))throw Error(ie(200));return Po(null,e,t,!0,n)};At.hydrateRoot=function(e,t,n){if(!Fu(e))throw Error(ie(405));var a=n!=null&&n.hydratedSources||null,s=!1,i="",o=Om;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Pm(t,null,e,1,n??null,s,!1,i,o),e[Ar]=t.current,gs(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Co(t)};At.render=function(e,t,n){if(!Eo(t))throw Error(ie(200));return Po(null,e,t,!1,n)};At.unmountComponentAtNode=function(e){if(!Eo(e))throw Error(ie(40));return e._reactRootContainer?(kn(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[Ar]=null})}),!0):!1};At.unstable_batchedUpdates=Iu;At.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Eo(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Po(e,t,n,!1,a)};At.version="18.3.1-next-f1338f8080-20240426";function Am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Am)}catch(e){console.error(e)}}Am(),Af.exports=At;var Lm=Af.exports,Im,jh=Lm;Im=jh.createRoot,jh.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wh="popstate";function F0(e={}){function t(a,s){let{pathname:i,search:o,hash:c}=a.location;return Ic("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:ks(s)}return H0(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V0(){return Math.random().toString(36).substring(2,10)}function Nh(e,t){return{usr:e.state,key:e.key,idx:t}}function Ic(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ga(t):t,state:n,key:t&&t.key||a||V0()}}function ks({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ga(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function H0(e,t,n,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,c="POP",l=null,u=p();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function p(){return(o.state||{idx:null}).idx}function h(){c="POP";let b=p(),g=b==null?null:b-u;u=b,l&&l({action:c,location:x.location,delta:g})}function d(b,g){c="PUSH";let m=Ic(x.location,b,g);u=p()+1;let j=Nh(m,u),v=x.createHref(m);try{o.pushState(j,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(v)}i&&l&&l({action:c,location:x.location,delta:1})}function f(b,g){c="REPLACE";let m=Ic(x.location,b,g);u=p();let j=Nh(m,u),v=x.createHref(m);o.replaceState(j,"",v),i&&l&&l({action:c,location:x.location,delta:0})}function y(b){return U0(b)}let x={get action(){return c},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(wh,h),l=b,()=>{s.removeEventListener(wh,h),l=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(b){return o.go(b)}};return x}function U0(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Be(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:ks(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Mm(e,t,n="/"){return q0(e,t,n,!1)}function q0(e,t,n,a){let s=typeof t=="string"?ga(t):t,i=Mr(s.pathname||"/",n);if(i==null)return null;let o=Rm(e);G0(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=nv(i);c=tv(o[l],u,a)}return c}function Rm(e,t=[],n=[],a="",s=!1){let i=(o,c,l=s,u)=>{let p={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(a)&&l)return;Be(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length)}let h=Tr([a,p.relativePath]),d=n.concat(p);o.children&&o.children.length>0&&(Be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Rm(o.children,t,d,h,l)),!(o.path==null&&!o.index)&&t.push({path:h,score:Z0(h,o.index),routesMeta:d})};return e.forEach((o,c)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,c);else for(let u of Dm(o.path))i(o,c,!0,u)}),t}function Dm(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=Dm(a.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function G0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ev(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var K0=/^:[\w-]+$/,W0=3,X0=2,Q0=1,Y0=10,J0=-2,_h=e=>e==="*";function Z0(e,t){let n=e.split("/"),a=n.length;return n.some(_h)&&(a+=J0),t&&(a+=X0),n.filter(s=>!_h(s)).reduce((s,i)=>s+(K0.test(i)?W0:i===""?Q0:Y0),a)}function ev(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function tv(e,t,n=!1){let{routesMeta:a}=e,s={},i="/",o=[];for(let c=0;c<a.length;++c){let l=a[c],u=c===a.length-1,p=i==="/"?t:t.slice(i.length)||"/",h=ro({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},p),d=l.route;if(!h&&u&&n&&!a[a.length-1].route.index&&(h=ro({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},p)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Tr([i,h.pathname]),pathnameBase:ov(Tr([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=Tr([i,h.pathnameBase]))}return o}function ro(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=rv(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((u,{paramName:p,isOptional:h},d)=>{if(p==="*"){let y=c[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const f=c[d];return h&&!f?u[p]=void 0:u[p]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function rv(e,t=!1,n=!0){qt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(a.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function nv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Mr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function av(e,t="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?ga(e):e;return{pathname:n?n.startsWith("/")?n:sv(n,t):t,search:lv(a),hash:cv(s)}}function sv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kl(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vu(e){let t=iv(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Hu(e,t,n,a=!1){let s;typeof e=="string"?s=ga(e):(s={...e},Be(!s.pathname||!s.pathname.includes("?"),kl("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),kl("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),kl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let h=t.length-1;if(!a&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}c=h>=0?t[h]:"/"}let l=av(s,c),u=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||p)&&(l.pathname+="/"),l}var Tr=e=>e.join("/").replace(/\/\/+/g,"/"),ov=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $m=["POST","PUT","PATCH","DELETE"];new Set($m);var dv=["GET",...$m];new Set(dv);var xa=N.createContext(null);xa.displayName="DataRouter";var Oo=N.createContext(null);Oo.displayName="DataRouterState";N.createContext(!1);var zm=N.createContext({isTransitioning:!1});zm.displayName="ViewTransition";var hv=N.createContext(new Map);hv.displayName="Fetchers";var fv=N.createContext(null);fv.displayName="Await";var ar=N.createContext(null);ar.displayName="Navigation";var Is=N.createContext(null);Is.displayName="Location";var sr=N.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Uu=N.createContext(null);Uu.displayName="RouteError";function pv(e,{relative:t}={}){Be(ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(ar),{hash:s,pathname:i,search:o}=Ms(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:Tr([n,i])),a.createHref({pathname:c,search:o,hash:s})}function ya(){return N.useContext(Is)!=null}function bt(){return Be(ya(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Is).location}var Bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fm(e){N.useContext(ar).static||N.useLayoutEffect(e)}function Ce(){let{isDataRoute:e}=N.useContext(sr);return e?Tv():mv()}function mv(){Be(ya(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(xa),{basename:t,navigator:n}=N.useContext(ar),{matches:a}=N.useContext(sr),{pathname:s}=bt(),i=JSON.stringify(Vu(a)),o=N.useRef(!1);return Fm(()=>{o.current=!0}),N.useCallback((l,u={})=>{if(qt(o.current,Bm),!o.current)return;if(typeof l=="number"){n.go(l);return}let p=Hu(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Tr([t,p.pathname])),(u.replace?n.replace:n.push)(p,u.state,u)},[t,n,i,s,e])}N.createContext(null);function qu(){let{matches:e}=N.useContext(sr),t=e[e.length-1];return t?t.params:{}}function Ms(e,{relative:t}={}){let{matches:n}=N.useContext(sr),{pathname:a}=bt(),s=JSON.stringify(Vu(n));return N.useMemo(()=>Hu(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function gv(e,t){return Vm(e,t)}function Vm(e,t,n,a,s){var m;Be(ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(ar),{matches:o}=N.useContext(sr),c=o[o.length-1],l=c?c.params:{},u=c?c.pathname:"/",p=c?c.pathnameBase:"/",h=c&&c.route;{let j=h&&h.path||"";Hm(u,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let d=bt(),f;if(t){let j=typeof t=="string"?ga(t):t;Be(p==="/"||((m=j.pathname)==null?void 0:m.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),f=j}else f=d;let y=f.pathname||"/",x=y;if(p!=="/"){let j=p.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=Mm(e,{pathname:x});qt(h||b!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),qt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=jv(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Tr([p,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Tr([p,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n,a,s);return t&&g?N.createElement(Is.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function xv(){let e=Sv(),t=uv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:i},"ErrorBoundary")," or"," ",N.createElement("code",{style:i},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:s},n):null,o)}var yv=N.createElement(xv,null),vv=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?N.createElement(sr.Provider,{value:this.props.routeContext},N.createElement(Uu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bv({routeContext:e,match:t,children:n}){let a=N.useContext(xa);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(sr.Provider,{value:e},n)}function jv(e,t=[],n=null,a=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Be(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let p=i[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=u),p.route.id){let{loaderData:h,errors:d}=n,f=p.route.loader&&!h.hasOwnProperty(p.route.id)&&(!d||d[p.route.id]===void 0);if(p.route.lazy||f){c=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,p,h)=>{let d,f=!1,y=null,x=null;n&&(d=o&&p.route.id?o[p.route.id]:void 0,y=p.route.errorElement||yv,c&&(l<0&&h===0?(Hm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,x=null):l===h&&(f=!0,x=p.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),g=()=>{let m;return d?m=y:f?m=x:p.route.Component?m=N.createElement(p.route.Component,null):p.route.element?m=p.route.element:m=u,N.createElement(bv,{match:p,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:m})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?N.createElement(vv,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:a}):g()},null)}function Gu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(e){let t=N.useContext(xa);return Be(t,Gu(e)),t}function Nv(e){let t=N.useContext(Oo);return Be(t,Gu(e)),t}function _v(e){let t=N.useContext(sr);return Be(t,Gu(e)),t}function Ku(e){let t=_v(e),n=t.matches[t.matches.length-1];return Be(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function kv(){return Ku("useRouteId")}function Sv(){var a;let e=N.useContext(Uu),t=Nv("useRouteError"),n=Ku("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function Tv(){let{router:e}=wv("useNavigate"),t=Ku("useNavigate"),n=N.useRef(!1);return Fm(()=>{n.current=!0}),N.useCallback(async(s,i={})=>{qt(n.current,Bm),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var kh={};function Hm(e,t,n){!t&&!kh[e]&&(kh[e]=!0,qt(!1,n))}N.memo(Cv);function Cv({routes:e,future:t,state:n,unstable_onError:a}){return Vm(e,void 0,n,a,t)}function Ss({to:e,replace:t,state:n,relative:a}){Be(ya(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(ar);qt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=N.useContext(sr),{pathname:o}=bt(),c=Ce(),l=Hu(e,Vu(i),o,a==="path"),u=JSON.stringify(l);return N.useEffect(()=>{c(JSON.parse(u),{replace:t,state:n,relative:a})},[c,u,a,t,n]),null}function Se(e){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ev({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:s,static:i=!1}){Be(!ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=ga(n));let{pathname:l="/",search:u="",hash:p="",state:h=null,key:d="default"}=n,f=N.useMemo(()=>{let y=Mr(l,o);return y==null?null:{location:{pathname:y,search:u,hash:p,state:h,key:d},navigationType:a}},[o,l,u,p,h,d,a]);return qt(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${p}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:N.createElement(ar.Provider,{value:c},N.createElement(Is.Provider,{children:t,value:f}))}function Wu({children:e,location:t}){return gv(Mc(e),t)}function Mc(e,t=[]){let n=[];return N.Children.forEach(e,(a,s)=>{if(!N.isValidElement(a))return;let i=[...t,s];if(a.type===N.Fragment){n.push.apply(n,Mc(a.props.children,i));return}Be(a.type===Se,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Mc(a.props.children,i)),n.push(o)}),n}var Ci="get",Ei="application/x-www-form-urlencoded";function Ao(e){return e!=null&&typeof e.tagName=="string"}function Pv(e){return Ao(e)&&e.tagName.toLowerCase()==="button"}function Ov(e){return Ao(e)&&e.tagName.toLowerCase()==="form"}function Av(e){return Ao(e)&&e.tagName.toLowerCase()==="input"}function Lv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Iv(e,t){return e.button===0&&(!t||t==="_self")&&!Lv(e)}function Rc(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function Mv(e,t){let n=Rc(e);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var si=null;function Rv(){if(si===null)try{new FormData(document.createElement("form"),0),si=!1}catch{si=!0}return si}var Dv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sl(e){return e!=null&&!Dv.has(e)?(qt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ei}"`),null):e}function $v(e,t){let n,a,s,i,o;if(Ov(e)){let c=e.getAttribute("action");a=c?Mr(c,t):null,n=e.getAttribute("method")||Ci,s=Sl(e.getAttribute("enctype"))||Ei,i=new FormData(e)}else if(Pv(e)||Av(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||c.getAttribute("action");if(a=l?Mr(l,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Ci,s=Sl(e.getAttribute("formenctype"))||Sl(c.getAttribute("enctype"))||Ei,i=new FormData(c,e),!Rv()){let{name:u,type:p,value:h}=e;if(p==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,h)}}else{if(Ao(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ci,a=null,s=Ei,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zv(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&Mr(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Bv(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vv(e,t,n){let a=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Bv(i,n);return o.links?o.links():[]}return[]}));return Gv(a.flat(1).filter(Fv).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Sh(e,t,n,a,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,c=(l,u)=>{var p;return n[u].pathname!==l.pathname||((p=n[u].route.path)==null?void 0:p.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||c(l,u)):i==="data"?t.filter((l,u)=>{var h;let p=a.routes[l.route.id];if(!p||!p.hasLoader)return!1;if(o(l,u)||c(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Hv(e,t,{includeHydrateFallback:n}={}){return Uv(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Uv(e){return[...new Set(e)]}function qv(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function Gv(e,t){let n=new Set;return new Set(t),e.reduce((a,s)=>{let i=JSON.stringify(qv(s));return n.has(i)||(n.add(i),a.push({key:i,link:s})),a},[])}function Um(){let e=N.useContext(xa);return Xu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Kv(){let e=N.useContext(Oo);return Xu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qu=N.createContext(void 0);Qu.displayName="FrameworkContext";function qm(){let e=N.useContext(Qu);return Xu(e,"You must render this element inside a <HydratedRouter> element"),e}function Wv(e,t){let n=N.useContext(Qu),[a,s]=N.useState(!1),[i,o]=N.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:p,onTouchStart:h}=t,d=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=g=>{g.forEach(m=>{o(m.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return d.current&&b.observe(d.current),()=>{b.disconnect()}}},[e]),N.useEffect(()=>{if(a){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[a]);let f=()=>{s(!0)},y=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,d,{}]:[i,d,{onFocus:Da(c,f),onBlur:Da(l,y),onMouseEnter:Da(u,f),onMouseLeave:Da(p,y),onTouchStart:Da(h,f)}]:[!1,d,{}]}function Da(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Xv({page:e,...t}){let{router:n}=Um(),a=N.useMemo(()=>Mm(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?N.createElement(Yv,{page:e,matches:a,...t}):null}function Qv(e){let{manifest:t,routeModules:n}=qm(),[a,s]=N.useState([]);return N.useEffect(()=>{let i=!1;return Vv(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),a}function Yv({page:e,matches:t,...n}){let a=bt(),{manifest:s,routeModules:i}=qm(),{basename:o}=Um(),{loaderData:c,matches:l}=Kv(),u=N.useMemo(()=>Sh(e,t,l,s,a,"data"),[e,t,l,s,a]),p=N.useMemo(()=>Sh(e,t,l,s,a,"assets"),[e,t,l,s,a]),h=N.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,x=!1;if(t.forEach(g=>{var j;let m=s.routes[g.route.id];!m||!m.hasLoader||(!u.some(v=>v.route.id===g.route.id)&&g.route.id in c&&((j=i[g.route.id])!=null&&j.shouldRevalidate)||m.hasClientLoader?x=!0:y.add(g.route.id))}),y.size===0)return[];let b=zv(e,o,"data");return x&&y.size>0&&b.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[o,c,a,s,u,t,e,i]),d=N.useMemo(()=>Hv(p,s),[p,s]),f=Qv(p);return N.createElement(N.Fragment,null,h.map(y=>N.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),d.map(y=>N.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),f.map(({key:y,link:x})=>N.createElement("link",{key:y,nonce:n.nonce,...x})))}function Jv(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Gm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gm&&(window.__reactRouterVersion="7.9.4")}catch{}function Zv({basename:e,children:t,window:n}){let a=N.useRef();a.current==null&&(a.current=F0({window:n,v5Compat:!0}));let s=a.current,[i,o]=N.useState({action:s.action,location:s.location}),c=N.useCallback(l=>{N.startTransition(()=>o(l))},[o]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.createElement(Ev,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ts=N.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:c,target:l,to:u,preventScrollReset:p,viewTransition:h,...d},f){let{basename:y}=N.useContext(ar),x=typeof u=="string"&&Km.test(u),b,g=!1;if(typeof u=="string"&&x&&(b=u,Gm))try{let O=new URL(window.location.href),S=u.startsWith("//")?new URL(O.protocol+u):new URL(u),T=Mr(S.pathname,y);S.origin===O.origin&&T!=null?u=T+S.search+S.hash:g=!0}catch{qt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=pv(u,{relative:s}),[j,v,w]=Wv(a,d),_=nb(u,{replace:o,state:c,target:l,preventScrollReset:p,relative:s,viewTransition:h});function k(O){t&&t(O),O.defaultPrevented||_(O)}let C=N.createElement("a",{...d,...w,href:b||m,onClick:g||i?t:k,ref:Jv(f,v),target:l,"data-discover":!x&&n==="render"?"true":void 0});return j&&!x?N.createElement(N.Fragment,null,C,N.createElement(Xv,{page:m})):C});Ts.displayName="Link";var eb=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:c,children:l,...u},p){let h=Ms(o,{relative:u.relative}),d=bt(),f=N.useContext(Oo),{navigator:y,basename:x}=N.useContext(ar),b=f!=null&&cb(h)&&c===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,m=d.pathname,j=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(m=m.toLowerCase(),j=j?j.toLowerCase():null,g=g.toLowerCase()),j&&x&&(j=Mr(j,x)||j);const v=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=m===g||!s&&m.startsWith(g)&&m.charAt(v)==="/",_=j!=null&&(j===g||!s&&j.startsWith(g)&&j.charAt(g.length)==="/"),k={isActive:w,isPending:_,isTransitioning:b},C=w?t:void 0,O;typeof a=="function"?O=a(k):O=[a,w?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let S=typeof i=="function"?i(k):i;return N.createElement(Ts,{...u,"aria-current":C,className:O,ref:p,style:S,to:o,viewTransition:c},typeof l=="function"?l(k):l)});eb.displayName="NavLink";var tb=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:s,state:i,method:o=Ci,action:c,onSubmit:l,relative:u,preventScrollReset:p,viewTransition:h,...d},f)=>{let y=ob(),x=lb(c,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",g=typeof c=="string"&&Km.test(c),m=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let v=j.nativeEvent.submitter,w=(v==null?void 0:v.getAttribute("formmethod"))||o;y(v||j.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:s,state:i,relative:u,preventScrollReset:p,viewTransition:h})};return N.createElement("form",{ref:f,method:b,action:x,onSubmit:a?l:m,...d,"data-discover":!g&&e==="render"?"true":void 0})});tb.displayName="Form";function rb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wm(e){let t=N.useContext(xa);return Be(t,rb(e)),t}function nb(e,{target:t,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}={}){let c=Ce(),l=bt(),u=Ms(e,{relative:i});return N.useCallback(p=>{if(Iv(p,t)){p.preventDefault();let h=n!==void 0?n:ks(l)===ks(u);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[l,c,u,n,a,t,e,s,i,o])}function ab(e){qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(Rc(e)),n=N.useRef(!1),a=bt(),s=N.useMemo(()=>Mv(a.search,n.current?null:t.current),[a.search]),i=Ce(),o=N.useCallback((c,l)=>{const u=Rc(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var sb=0,ib=()=>`__${String(++sb)}__`;function ob(){let{router:e}=Wm("useSubmit"),{basename:t}=N.useContext(ar),n=kv();return N.useCallback(async(a,s={})=>{let{action:i,method:o,encType:c,formData:l,body:u}=$v(a,t);if(s.navigate===!1){let p=s.fetcherKey||ib();await e.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function lb(e,{relative:t}={}){let{basename:n}=N.useContext(ar),a=N.useContext(sr);Be(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...Ms(e||".",{relative:t})},o=bt();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),l=c.getAll("index");if(l.some(p=>p==="")){c.delete("index"),l.filter(h=>h).forEach(h=>c.append("index",h));let p=c.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Tr([n,i.pathname])),ks(i)}function cb(e,{relative:t}={}){let n=N.useContext(zm);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Wm("useViewTransitionState"),s=Ms(e,{relative:t});if(!n.isTransitioning)return!1;let i=Mr(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=Mr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ro(s.pathname,o)!=null||ro(s.pathname,i)!=null}const An="/api",Xm=N.createContext(void 0),ub=({children:e})=>{const[t,n]=N.useState(null),[a,s]=N.useState(null),[i,o]=N.useState(!0),c=!!a,l=Ie.useRef(null),u=()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},p=j=>{if(u(),!!j)try{const w=JSON.parse(atob(j.split(".")[1])).exp;if(!w)return;const k=w*1e3-Date.now();if(k<=0){h();return}l.current=window.setTimeout(()=>{h()},k+500)}catch{h()}};N.useEffect(()=>{const j=localStorage.getItem("token"),v=localStorage.getItem("user");return j&&v&&(s(j),n(JSON.parse(v)),p(j)),o(!1),()=>u()},[]),N.useEffect(()=>(p(a),()=>u()),[a]);const h=()=>{s(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),u()},d=async j=>{if(j.status===401)throw h(),new Error("Unauthorized");return j},f=async(j,v)=>{const w=await fetch(`${An}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:j,user_password:v})}),_=await w.json();if(!w.ok||_.mess)throw new Error(_.mess||_.message||"Login failed");s(_.token),n(_.user),localStorage.setItem("token",_.token),localStorage.setItem("user",JSON.stringify(_.user)),p(_.token)},y=async(j,v,w)=>{const _=await fetch(`${An}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:j,user_email:v,user_password:w})}),k=await _.json();if(!_.ok||!k.success)throw new Error(k.message||"Register failed");s(k.token),n(k.user),localStorage.setItem("token",k.token),localStorage.setItem("user",JSON.stringify(k.user))},x=async()=>{if(!a)return null;const j=await fetch(`${An}/user/profile`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});if(await d(j),!j.ok)throw new Error("Failed to fetch profile");const v=await j.json();return n(v),localStorage.setItem("user",JSON.stringify(v)),v},b=async j=>{if(!a)return;const v=await fetch(`${An}/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(j)});if(await d(v),!v.ok)throw new Error("Update failed");const w=await v.json();n(w.user),localStorage.setItem("user",JSON.stringify(w.user))},g=async(j,v)=>{if(!a)return;const w=await fetch(`${An}/user/password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({current_password:j,new_password:v})});if(await d(w),!w.ok)throw new Error("Update failed");return await w.json()},m=async j=>{if(!a)throw new Error("No token");const v=new FormData;v.append("avatar",j);const w=await fetch(`${An}/user/avatar`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:v});if(await d(w),!w.ok)throw new Error("Upload failed");const _=await w.json();return n(_.user.user),localStorage.setItem("user",JSON.stringify(_.user.user)),_.user.user.avatar};return r.jsx(Xm.Provider,{value:{user:t,token:a,login:f,register:y,logout:h,fetchProfile:x,updateProfile:b,updatePassword:g,updateAvatar:m,isAuthenticated:c,loading:i},children:e})},jt=()=>{const e=N.useContext(Xm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Ln="/api",Qm=N.createContext(void 0),db=({children:e})=>{const[t,n]=N.useState([]),[a,s]=N.useState([]),[i,o]=N.useState([]),c=y=>y.map(x=>({...x,product_price:Number(x.product_price)})),l=async()=>{try{const x=await(await fetch(`${Ln}/products`)).json();n(Array.isArray(x)?c(x):[])}catch{n([])}},u=async()=>{try{const x=await(await fetch(`${Ln}/products/top-rated`)).json();s(Array.isArray(x)?c(x):[])}catch{s([])}},p=async()=>{try{const x=await(await fetch(`${Ln}/sports`)).json();o(Array.isArray(x)?x:[])}catch{o([])}},h=async y=>{try{const b=await(await fetch(`${Ln}/products/filter`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).json();n(Array.isArray(b)?c(b):[])}catch{n([])}},d=async y=>{if(!y)return[];try{const b=await(await fetch(`${Ln}/products/search?query=${encodeURIComponent(y)}`)).json();return console.log("Kt qu search:",b),Array.isArray(b)?c(b):[]}catch{return[]}},f=async({search:y="",page:x=1,limit:b=15,category:g,sport:m,tournament:j,team:v,minPrice:w,maxPrice:_})=>{try{const k=new URLSearchParams({search:y||"",page:String(x),limit:String(b),...g?{category:g}:{},...m?{sport:m}:{},...j?{tournament:j}:{},...v?{team:v}:{},...w!==void 0?{minPrice:String(w)}:{},..._!==void 0?{maxPrice:String(_)}:{}}),O=await(await fetch(`${Ln}/products/paginated?${k.toString()}`)).json();return{products:Array.isArray(O.products)?c(O.products):[],total:O.total||0}}catch{return{products:[],total:0}}};return N.useEffect(()=>{l(),u(),p()},[]),r.jsx(Qm.Provider,{value:{products:t,topProducts:a,sports:i,fetchProducts:l,fetchTopProducts:u,fetchSports:p,fetchFilteredProducts:h,searchProducts:d,fetchProductsPaginated:f},children:e})},Rs=()=>{const e=N.useContext(Qm);if(!e)throw new Error("useProduct must be used within ProductProvider");return e},Ym=N.createContext(null),Yu=()=>N.useContext(Ym);function hb({children:e}){const[t,n]=N.useState([]),[a,s]=N.useState("cart");return r.jsx(Ym.Provider,{value:{orderItems:t,setOrderItems:n,orderSource:a,setOrderSource:s},children:e})}const Th="/api",Jm=N.createContext({blogs:[],loading:!1,error:null,refetch:()=>{},getBlogsPaginated:async()=>({blogs:[],pagination:{total:0,page:1,limit:10,totalPages:1}})}),Ju=()=>N.useContext(Jm);function fb({children:e}){const[t,n]=N.useState([]),[a,s]=N.useState(!1),[i,o]=N.useState(null),c=async()=>{s(!0),o(null);try{const p=await(await fetch(`${Th}/blogs`)).json();p.success&&p.data&&Array.isArray(p.data.blogs)?n(p.data.blogs):o("Khng ly c danh sch blog")}catch{o("Li kt ni server")}s(!1)},l=async(u,p,h,d,f,y,x)=>{const b=new URLSearchParams;u&&b.append("search",u),p&&b.append("sport_id",p),h&&b.append("category_id",h),d&&b.append("team_id",d),f&&b.append("tournament_id",f),b.append("limit",y.toString()),b.append("page",x.toString());const g=await fetch(`${Th}/blogs/paginated?${b}`);if(!g.ok)throw new Error("Failed to fetch paginated blogs");const m=await g.json();return{blogs:m.blogs||[],pagination:m.pagination||{total:0,page:1,limit:10,totalPages:1}}};return N.useEffect(()=>{c()},[]),r.jsx(Jm.Provider,{value:{blogs:t,loading:a,error:i,refetch:c,getBlogsPaginated:l},children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const n=N.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:l,...u},p)=>N.createElement("svg",{ref:p,...pb,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${mb(e)}`,c].join(" "),...u},[...t.map(([h,d])=>N.createElement(h,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ue("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ue("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ue("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ue("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=ue("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ue("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ue("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ue("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ue("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ue("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=ue("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ue("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ue("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ue("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ue("Wallet2",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ue("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ue("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function Xb({message:e,type:t,onClose:n,duration:a=3e3}){const[s,i]=N.useState(!0);N.useEffect(()=>{const u=setTimeout(()=>{i(!1),setTimeout(n,300)},a);return()=>clearTimeout(u)},[a,n]);const o={success:r.jsx(Io,{className:"w-5 h-5 text-green-600"}),error:r.jsx(Do,{className:"w-5 h-5 text-red-600"}),info:r.jsx(gb,{className:"w-5 h-5 text-blue-600"})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200"},l={success:"text-green-800",error:"text-red-800",info:"text-blue-800"};return r.jsx("div",{className:`fixed top-24 right-6 z-50 transition-all duration-500
      ${s?"opacity-100 translate-x-0 scale-100":"opacity-0 translate-x-4 scale-95"}`,style:{transitionProperty:"opacity, transform"},children:r.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 border ${c[t]} shadow-2xl min-w-80`,children:[o[t],r.jsx("p",{className:`flex-1 font-medium ${l[t]}`,children:e}),r.jsx("button",{onClick:()=>{i(!1),setTimeout(n,300)},className:"hover:bg-black hover:bg-opacity-5 p-1 rounded transition-colors",children:r.jsx(Re,{className:"w-4 h-4"})})]})})}function Qb(){const[e,t]=N.useState([]);N.useEffect(()=>{const a=s=>{const i={id:Date.now(),message:s.detail.message,type:s.detail.type};t(o=>[...o,i])};return window.addEventListener("showToast",a),()=>window.removeEventListener("showToast",a)},[]);const n=a=>{t(s=>s.filter(i=>i.id!==a))};return r.jsx(r.Fragment,{children:e.map((a,s)=>r.jsx("div",{style:{top:`${6+s*5}rem`},className:"fixed right-6 z-50",children:r.jsx(Xb,{message:a.message,type:a.type,onClose:()=>n(a.id)})},a.id))})}function ee(e,t="info"){const n=new CustomEvent("showToast",{detail:{message:e,type:t}});window.dispatchEvent(n)}const $a="/api",sg=N.createContext(void 0);function Yb({children:e}){const[t,n]=N.useState([]),[a,s]=N.useState(null),[i,o]=N.useState(!0),[c,l]=N.useState(0),{token:u,isAuthenticated:p}=jt(),h=()=>{if(!u)return;let x="";try{x=JSON.parse(atob(u.split(".")[1])).user_id}catch{}x&&fetch(`${$a}/wishlist/${x}`,{headers:{Authorization:`Bearer ${u}`}}).then(b=>b.json()).then(b=>{const g=b==null?void 0:b.wishlist_id;if(!g){o(!1),n([]),s(null),l(0);return}s(g),fetch(`${$a}/wishlist/wishlist-items/${g}`,{headers:{Authorization:`Bearer ${u}`}}).then(m=>m.json()).then(m=>{const v=(Array.isArray(m.items)?m.items:[]).map(w=>{var _,k,C,O,S,T,P,L,B,M,I,D,V,z,R,E;return{wishlist_variant_id:w.wishlist_variant_id,variant_id:w.variant_id,product_id:(k=(_=w.Variant)==null?void 0:_.Product)==null?void 0:k.product_id,product_name:((O=(C=w.Variant)==null?void 0:C.Product)==null?void 0:O.product_name)||"",product_image:((T=(S=w.Variant)==null?void 0:S.Product)==null?void 0:T.product_image)||"",product_price:((L=(P=w.Variant)==null?void 0:P.Product)==null?void 0:L.product_price)||0,product_rating:((M=(B=w.Variant)==null?void 0:B.Product)==null?void 0:M.product_rating)||0,product_description:((D=(I=w.Variant)==null?void 0:I.Product)==null?void 0:D.product_description)||"",sport:((z=(V=w.Variant)==null?void 0:V.Product)==null?void 0:z.sport_name)||"",variant_size:((R=w.Variant)==null?void 0:R.variant_size)||"",variant_color:((E=w.Variant)==null?void 0:E.variant_color)||"",added_at:w.added_at}});n(v),l(v.length),o(!1)})})};N.useEffect(()=>{p&&u?h():(n([]),s(null),l(0),o(!1))},[p,u]);async function d(x,b){if(!a){ee("Khng tm thy wishlist!","error");return}try{(await(await fetch(`${$a}/wishlist/remove/${a}/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${u}`}})).json()).success?(ee(" xa khi danh sch yu thch!","success"),n(j=>j.filter(v=>v.wishlist_variant_id!==x)),l(j=>j-1)):ee("Xa tht bi!","error")}catch{ee("Xa tht bi!","error")}}async function f(x,b,g){if(a)try{const j=await(await fetch(`${$a}/wishlist/change-variant/${a}/${b}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({new_variant_id:g.variant_id})})).json();j.success?(ee(" i phn loi thnh cng!","success"),n(v=>v.map(w=>w.wishlist_variant_id===x?{...w,variant_id:g.variant_id,variant_size:g.variant_size??w.variant_size,variant_color:g.variant_color??w.variant_color}:w))):ee(j.message||"i phn loi tht bi!","error")}catch{ee("i phn loi tht bi!","error")}}const y=async({search:x="",page:b=1,limit:g=15,size:m,color:j,sortOrder:v})=>{if(!a)return{items:[],total:0};try{const w=new URLSearchParams({search:x||"",page:String(b),limit:String(g),...m?{size:m}:{},...j?{color:j}:{},...v?{sortOrder:v}:{}}),k=await(await fetch(`${$a}/wishlist/paginated/${a}?${w.toString()}`,{headers:{Authorization:`Bearer ${u}`}})).json();return{items:(Array.isArray(k.items)?k.items:[]).map(S=>{var T,P,L,B,M,I,D,V,z,R,E,$,A,U,H,F;return{wishlist_variant_id:S.wishlist_variant_id,variant_id:S.variant_id,product_id:(P=(T=S.Variant)==null?void 0:T.Product)==null?void 0:P.product_id,product_name:((B=(L=S.Variant)==null?void 0:L.Product)==null?void 0:B.product_name)||"",product_image:((I=(M=S.Variant)==null?void 0:M.Product)==null?void 0:I.product_image)||"",product_price:((V=(D=S.Variant)==null?void 0:D.Product)==null?void 0:V.product_price)||0,product_rating:((R=(z=S.Variant)==null?void 0:z.Product)==null?void 0:R.product_rating)||0,product_description:(($=(E=S.Variant)==null?void 0:E.Product)==null?void 0:$.product_description)||"",sport:((U=(A=S.Variant)==null?void 0:A.Product)==null?void 0:U.sport_name)||"",variant_size:((H=S.Variant)==null?void 0:H.variant_size)||"",variant_color:((F=S.Variant)==null?void 0:F.variant_color)||"",added_at:S.added_at}}),total:k.total||0}}catch{return{items:[],total:0}}};return r.jsx(sg.Provider,{value:{variants:t,wishlistId:a,loading:i,count:c,refresh:h,remove:d,changeVariant:f,fetchWishlistItemsPaginated:y},children:e})}function Zu(){const e=N.useContext(sg);if(!e)throw new Error("useWishlist must be used within WishlistProvider");return e}const Tl="/api",ig=N.createContext(void 0);function Jb({children:e}){const{token:t,isAuthenticated:n}=jt(),[a,s]=N.useState(0),[i,o]=N.useState([]),c=()=>{if(n&&t){let d="";try{d=JSON.parse(atob(t.split(".")[1])).user_id}catch{}if(!d)return;fetch(`${Tl}/cart/${d}`,{headers:{Authorization:`Bearer ${t}`}}).then(f=>f.json()).then(f=>{if(!f.cart_id){s(0),o([]);return}fetch(`${Tl}/cart/count/${f.cart_id}`,{headers:{Authorization:`Bearer ${t}`}}).then(y=>y.json()).then(y=>{s(y.count||0)}),fetch(`${Tl}/cart/items/${f.cart_id}`,{headers:{Authorization:`Bearer ${t}`}}).then(y=>y.json()).then(y=>{o(Array.isArray(y)?y:[])})})}else{const d=JSON.parse(localStorage.getItem("cart")||"[]");s(Array.isArray(d)?d.length:0),o(Array.isArray(d)?d:[])}};N.useEffect(()=>{c()},[n,t]);const l=d=>{if(n&&t)c();else{const f=JSON.parse(localStorage.getItem("cart")||"[]");f.push(d),localStorage.setItem("cart",JSON.stringify(f)),c()}},u=d=>{if(n&&t)c();else{const y=JSON.parse(localStorage.getItem("cart")||"[]").filter(x=>String(x.id)!==String(d));localStorage.setItem("cart",JSON.stringify(y)),c()}},p=(d,f)=>{if(n&&t)c();else{const x=JSON.parse(localStorage.getItem("cart")||"[]").map(b=>b.id===d?{...b,quantity:b.quantity+f}:b);localStorage.setItem("cart",JSON.stringify(x)),c()}},h=(d,f)=>{if(n&&t)c();else{const x=JSON.parse(localStorage.getItem("cart")||"[]").map(b=>b.id===d?{...b,...f}:b);localStorage.setItem("cart",JSON.stringify(x)),c()}};return r.jsx(ig.Provider,{value:{cartItemCount:a,refresh:c,cartItems:i,addItem:l,removeItem:u,updateQuantity:p,updateCartVariant:h},children:e})}function ed(){return N.useContext(ig)}const Zb=["Manchester City","Giy","o u","Chelsea","Nike","Adidas","Bng r","Bng chuyn"];function e1({open:e,value:t,onChange:n,onClose:a}){const s=N.useRef(null),[i,o]=N.useState([]),[c,l]=N.useState(!1),u=Ce(),{products:p}=Rs();N.useEffect(()=>{e&&setTimeout(()=>{var d;(d=s.current)==null||d.focus()},250)},[e]),N.useEffect(()=>{if(!t){o([]);return}l(!0);const d=p.filter(f=>f.product_name.toLowerCase().includes(t.toLowerCase()));o(d),l(!1)},[t,p]);const h=d=>{a(),u(`/product/${d}`)};return r.jsxs("div",{className:`fixed inset-0 z-[60] transition-all duration-300 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,style:{top:0,left:0,right:0,bottom:0},children:[r.jsx("div",{className:"absolute inset-0 bg-transparent",onClick:a,style:{zIndex:1}}),r.jsxs("div",{className:`absolute left-0 right-0 top-0 w-full h-[160px] bg-white shadow-lg border-b border-gray-200
          transition-transform duration-300 ease-in-out
          ${e?"translate-y-0":"-translate-y-8"}
        `,onClick:d=>d.stopPropagation(),style:{zIndex:2},children:[r.jsxs("div",{className:"flex items-center px-8 pt-4 pb-2",children:[r.jsx("img",{src:"/assets/img/logo/logo_PantheraShop.png",alt:"Logo",className:"w-10 h-10 mr-6"}),r.jsx("div",{className:"flex items-center flex-1 justify-center",children:r.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full px-4 py-2 w-[340px] max-w-full shadow-sm",children:[r.jsx(Ot,{className:"w-5 h-5 text-gray-500 mr-2"}),r.jsx("input",{ref:s,id:"search-popup-input",type:"text",placeholder:"Tm kim sn phm...",value:t,onChange:d=>n(d.target.value),className:"flex-1 bg-transparent outline-none text-base placeholder-gray-500",autoFocus:e})]})}),r.jsx("button",{className:"ml-6 text-base font-semibold text-black hover:text-gray-600 transition-colors",onClick:a,children:"X"})]}),r.jsxs("div",{className:"px-8 pt-2",children:[r.jsx("div",{className:"text-gray-700 font-medium mb-2 text-sm",children:"T kha ph bin"}),r.jsx("div",{className:"flex flex-wrap gap-3 mb-2",children:Zb.map(d=>r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 rounded-full px-4 py-1.5 text-sm font-semibold text-gray-900 transition-colors",onClick:()=>n(d),children:d},d))}),t&&r.jsxs("div",{className:"bg-white rounded shadow mt-2 max-h-56 overflow-y-auto",children:[c&&r.jsx("div",{className:"p-4 text-gray-500 text-sm",children:"ang tm kim..."}),!c&&i.length===0&&r.jsx("div",{className:"p-4 text-gray-500 text-sm ",children:"Khng tm thy sn phm ph hp."}),!c&&i.map(d=>r.jsxs("button",{className:"flex items-center w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors",onClick:()=>h(d.product_id),children:[r.jsx("img",{src:d.product_image,alt:d.product_name,className:"w-10 h-10 object-cover rounded mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:d.product_name}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Number(d.product_price).toLocaleString(),""]})]})]},d.product_id))]})]})]})]})}function t1({user:e,onLogout:t,cartItemCount:n=0}){const[a,s]=N.useState(!1),[i,o]=N.useState(""),[c,l]=N.useState(null),[u,p]=N.useState(!1),{logout:h,isAuthenticated:d}=jt(),{count:f}=Zu(),{cartItemCount:y}=ed(),x=Ce(),b=bt(),g=[{name:"Trang ch",path:"/",key:"home"},{name:"Sn phm",path:"/products",key:"products"},{name:"Tin tc",path:"/blog",key:"blog"}],m=_=>_==="/"?"home":_.startsWith("/products")?"products":_.startsWith("/blog")?"blog":_.startsWith("/wishlist")?"wish":_.startsWith("/cart")?"cart":_.startsWith("/profile")||_.startsWith("/login")?"user":null;N.useEffect(()=>{l(m(b.pathname))},[b.pathname]);const j=(_,k)=>{l(_),s(!1),x(k)},v=(_,k)=>{l(_),x(k)},w=()=>{d?v("user","/profile"):v("user","/login")};return N.useEffect(()=>{u&&setTimeout(()=>{const _=document.getElementById("search-popup-input");_==null||_.focus()},250)},[u]),r.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-white z-50 border-b border-gray-200",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("button",{className:"lg:hidden p-2",onClick:()=>s(!a),children:a?r.jsx(Re,{className:"w-6 h-6"}):r.jsx(Ib,{className:"w-6 h-6"})}),r.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>j("home","/"),children:r.jsx("img",{src:"/assets/img/logo/logo_PantheraShop.png",alt:"Logo",className:"w-20 h-20"})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-8 flex-1 justify-center",children:g.map(_=>{const k=c===_.key;return r.jsxs("button",{onClick:()=>j(_.key,_.path),className:`relative text-sm font-medium hover:text-black pb-2 transition-colors ${k?"text-black":"text-gray-600"}`,"aria-current":k?"page":void 0,children:[_.name,r.jsx("span",{className:`absolute left-0 right-0 bottom-0 h-[2px] bg-black transform transition-transform duration-300 ease-out origin-left ${k?"scale-x-100":"scale-x-0"}`})]},_.key)})}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 rounded-full px-4 py-2 cursor-pointer transition-all duration-300",onClick:()=>p(!0),style:{boxShadow:u?"0 2px 8px rgba(0,0,0,0.08)":void 0},children:[r.jsx(Ot,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("input",{type:"text",placeholder:"Tm kim",value:i,readOnly:!0,className:"bg-transparent outline-none text-sm w-32 placeholder-gray-500 cursor-pointer"})]}),r.jsx("button",{className:"hidden md:inline-flex p-2 rounded-full",onClick:()=>v("wish","/wishlist"),"aria-pressed":c==="wish",children:r.jsxs("span",{className:`flex items-center justify-center w-9 h-9 rounded-full
      transition-all transition-transform transition-colors duration-300 ease-in-out
      ${c==="wish"?"bg-black scale-110":"bg-transparent scale-100"}
    `,children:[r.jsx(ao,{className:`w-5 h-5 transition-colors duration-300 ease-in-out
        ${c==="wish"?"text-white":"text-gray-600"}
      `}),f>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:f})]})}),r.jsx("button",{className:"relative p-2 rounded-full",onClick:()=>v("cart","/cart"),"aria-pressed":c==="cart",children:r.jsxs("span",{className:`flex items-center justify-center w-9 h-9 rounded-full
      transition-all transition-transform transition-colors duration-300 ease-in-out
      ${c==="cart"?"bg-black scale-110":"bg-transparent scale-100"}
    `,children:[r.jsx($c,{className:`w-5 h-5 transition-colors duration-300 ease-in-out
        ${c==="cart"?"text-white":"text-gray-600"}
      `}),y>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:y})]})}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-2 rounded-full",onClick:w,"aria-pressed":c==="user",children:r.jsx("span",{className:`flex items-center justify-center w-9 h-9 rounded-full
        transition-all transition-transform transition-colors duration-300 ease-in-out
        ${c==="user"?"bg-black scale-110":"bg-transparent scale-100"}
      `,children:r.jsx(Wt,{className:`w-5 h-5 transition-colors duration-300 ease-in-out
          ${c==="user"?"text-white":"text-gray-600"}
        `})})}),d&&r.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-md py-2 hidden group-hover:block",children:[r.jsx("p",{className:"px-4 py-2 text-sm text-gray-700",children:e==null?void 0:e.name}),r.jsx("button",{onClick:h,className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-gray-100",children:"ng xut"})]})]})]})]}),r.jsx("div",{className:`lg:hidden overflow-hidden transition-all duration-300 ease-in-out bg-white ${a?"max-h-96 opacity-100 pb-4":"max-h-0 opacity-0"}`,children:r.jsxs("nav",{className:"py-4 space-y-2 border-t border-gray-200",children:[g.map(_=>{const k=c===_.key;return r.jsx("button",{onClick:()=>j(_.key,_.path),className:`block w-full text-left px-4 py-3 text-sm font-medium transition-colors ${k?"bg-black text-white":"text-gray-600 hover:bg-gray-100"}`,children:_.name},_.key)}),r.jsxs("div",{className:"mx-4 mt-4 flex items-center bg-gray-100 rounded-full px-4 py-2 cursor-pointer md:hidden",onClick:()=>{p(!0),s(!1)},children:[r.jsx(Ot,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("input",{type:"text",placeholder:"Tm kim",readOnly:!0,className:"bg-transparent outline-none text-sm w-full placeholder-gray-500 cursor-pointer"})]}),r.jsxs("button",{className:"md:hidden flex items-center justify-between w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100",onClick:()=>v("wish","/wishlist"),children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(ao,{className:"w-5 h-5 mr-3"}),"Yu thch"]}),f>0&&r.jsx("span",{className:"bg-black text-white text-xs px-2 py-1 rounded-full",children:f})]})]})})]}),r.jsx(e1,{open:u,value:i,onChange:o,onClose:()=>p(!1)})]})}function r1(){const e={"H tr":["Tra cu n hng","Giao hng","i tr","Phng thc thanh ton","Lin h"],"V chng ti":["Tin tc","Tuyn dng","Nh u t","Pht trin bn vng"],"Mua sm":["Th qu tng","Khuyn mi","Tm ca hng","ng k thnh vin"]};return r.jsx("footer",{className:"bg-black text-white mt-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[Object.entries(e).map(([t,n])=>r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm mb-4 uppercase tracking-wider",children:t}),r.jsx("ul",{className:"space-y-2",children:n.map(a=>r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 text-sm hover:text-white transition-colors",children:a})},a))})]},t)),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm mb-4 uppercase tracking-wider",children:"Kt ni vi chng ti"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"https://www.facebook.com/aohuutri.965156",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(Sb,{className:"w-5 h-5"})}),r.jsx("a",{href:"https://www.instagram.com/d.tris_58/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(Pb,{className:"w-5 h-5"})}),r.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(Ub,{className:"w-5 h-5"})}),r.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(Wb,{className:"w-5 h-5"})})]})]})]}),r.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[r.jsx("p",{children:" 2025 Panthera Shop.  ng k bn quyn."}),r.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Chnh sch bo mt"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"iu khon s dng"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Chnh sch Cookie"})]})]})]})})}const n1="/api";function a1(){const[e,t]=N.useState([]),[n,a]=N.useState(0),[s,i]=N.useState(!1),o=Ce(),c=N.useRef(null);if(N.useEffect(()=>{fetch(`${n1}/banners`).then(d=>d.json()).then(d=>t(d))},[]),N.useEffect(()=>{if(!(e.length<2))return c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{p()},1e4),()=>{c.current&&clearTimeout(c.current)}},[e,n]),!e.length)return null;const l=e[n],u=()=>{s||(i(!0),setTimeout(()=>{a(d=>(d-1+e.length)%e.length),i(!1)},500))},p=()=>{s||(i(!0),setTimeout(()=>{a(d=>(d+1)%e.length),i(!1)},500))},h=d=>{d===n||s||(i(!0),setTimeout(()=>{a(d),i(!1)},500))};return r.jsxs("section",{className:"relative min-h-[calc(100vh-0px)] w-full bg-gray-100 overflow-hidden select-none",children:[r.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.map((d,f)=>r.jsx("img",{src:d.image_url,alt:d.title,className:`w-full h-full object-cover absolute inset-0 transition-opacity duration-700 ease-in-out
              ${f===n?"opacity-100 z-10":"opacity-0 z-0"}
            `,draggable:!1,style:{transitionProperty:"opacity"}},d.banner_id)),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/30 to-transparent"})]}),r.jsx("div",{className:"relative z-20 flex flex-col justify-end h-full min-h-[500px] pb-10 md:pb-0",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 w-full",children:r.jsxs("div",{className:"max-w-2xl animate-fade-in-up pointer-events-none select-none",children:[r.jsx("h1",{className:"text-2xl md:text-5xl font-bold text-white mb-4 leading-tight drop-shadow-lg transition-all duration-700",children:l.title}),r.jsx("p",{className:"text-base md:text-xl text-white mb-6 leading-relaxed drop-shadow transition-all duration-700",children:l.description}),r.jsxs("button",{onClick:()=>o("/products"),className:"bg-white/90 text-black px-6 py-3 font-semibold hover:bg-gray-200 transition-all duration-300 inline-flex items-center space-x-2 group shadow-lg rounded-xl pointer-events-auto text-base md:text-lg",children:[r.jsx("span",{children:"Mua ngay"}),r.jsx(zt,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})}),r.jsx("button",{className:"absolute left-8 top-1/2 -translate-y-1/2 bg-black/30 text-white rounded-full p-2 hover:bg-black/50 transition-all z-30",onClick:u,"aria-label":"Previous banner",disabled:s,style:{pointerEvents:s?"none":"auto"},children:r.jsx(wb,{className:"w-7 h-7"})}),r.jsx("button",{className:"absolute right-8 top-1/2 -translate-y-1/2 bg-black/30 text-white rounded-full p-2 hover:bg-black/50 transition-all z-30",onClick:p,"aria-label":"Next banner",disabled:s,style:{pointerEvents:s?"none":"auto"},children:r.jsx(En,{className:"w-7 h-7"})}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-8 flex space-x-2 z-30",children:e.map((d,f)=>r.jsx("button",{onClick:()=>h(f),className:`w-8 h-2 rounded-full transition-all duration-300 ${f===n?"bg-white/80 shadow scale-110":"bg-white/40"}`,"aria-label":`Chn banner ${f+1}`,disabled:s,style:{pointerEvents:s?"none":"auto"}},d.banner_id))}),r.jsx("style",{children:`
          .animate-fade-in-up {
            animation: fadeInUp 0.7s cubic-bezier(.4,0,.2,1);
          }
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(40px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})}const Cl=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function td({product:e,onViewDetails:t}){const n=e.discountPrice&&e.discountPrice<e.price,a=n?Math.round((e.price-e.discountPrice)/e.price*100):0,s=e.is_active===!1||e.is_active===0;return r.jsxs("div",{className:`group cursor-pointer relative ${s?"opacity-40 pointer-events-none":""}`,onClick:()=>{s||t(e.id)},children:[r.jsxs("div",{className:"relative bg-gray-100 mb-3 overflow-hidden",children:[r.jsx("img",{src:e.image,alt:e.name,className:"w-full aspect-square object-cover group-hover:scale-105 transition-transform duration-500"}),n&&r.jsxs("span",{className:"absolute top-3 right-3 bg-black text-white text-xs font-semibold px-3 py-1",children:["-",a,"%"]}),s&&r.jsx("span",{className:`absolute top-1/2 left-0 w-full h-12 flex items-center justify-center
            bg-black text-white font-extrabold text-xl shadow-lg opacity-90`,style:{transform:"translateY(-50%) rotate(-15deg)",zIndex:10,pointerEvents:"none",borderRadius:0,letterSpacing:2},children:"NGNG BN"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-xs text-gray-500",children:e.sport}),r.jsx("div",{className:"font-medium text-base truncate",children:e.name}),e.average_rating!==void 0&&r.jsxs("div",{className:"text-yellow-500 text-xs",children:[" ",Number(e.average_rating).toFixed(1)]}),r.jsx("div",{className:"flex items-center space-x-2 pt-1",children:n?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-semibold",children:e.discountPrice!==void 0?Cl(e.discountPrice):""}),r.jsx("span",{className:"text-gray-500 line-through text-sm",children:Cl(e.price)})]}):r.jsx("span",{className:"font-semibold",children:Cl(e.price)})})]})]})}function Eh(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function rd(e={},t={}){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:Eh(t[a])&&Eh(e[a])&&Object.keys(t[a]).length>0&&rd(e[a],t[a])})}const og={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Pn(){const e=typeof document<"u"?document:{};return rd(e,og),e}const s1={document:og,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function ft(){const e=typeof window<"u"?window:{};return rd(e,s1),e}function i1(e=""){return e.trim().split(" ").filter(t=>!!t.trim())}function o1(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function lg(e,t=0){return setTimeout(e,t)}function io(){return Date.now()}function l1(e){const t=ft();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function c1(e,t="x"){const n=ft();let a,s,i;const o=l1(e);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=i.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?s=i.m41:a.length===16?s=parseFloat(a[12]):s=parseFloat(a[4])),t==="y"&&(n.WebKitCSSMatrix?s=i.m42:a.length===16?s=parseFloat(a[13]):s=parseFloat(a[5])),s||0}function ii(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function u1(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function St(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let a=1;a<e.length;a+=1){const s=e[a];if(s!=null&&!u1(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,c=i.length;o<c;o+=1){const l=i[o],u=Object.getOwnPropertyDescriptor(s,l);u!==void 0&&u.enumerable&&(ii(t[l])&&ii(s[l])?s[l].__swiper__?t[l]=s[l]:St(t[l],s[l]):!ii(t[l])&&ii(s[l])?(t[l]={},s[l].__swiper__?t[l]=s[l]:St(t[l],s[l])):t[l]=s[l])}}}return t}function oi(e,t,n){e.style.setProperty(t,n)}function cg({swiper:e,targetPosition:t,side:n}){const a=ft(),s=-e.translate;let i=null,o;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const l=t>s?"next":"prev",u=(h,d)=>l==="next"&&h>=d||l==="prev"&&h<=d,p=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/c,1),0),d=.5-Math.cos(h*Math.PI)/2;let f=s+d*(t-s);if(u(f,t)&&(f=t),e.wrapperEl.scrollTo({[n]:f}),u(f,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:f})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(p)};p()}function hr(e,t=""){const n=ft(),a=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&a.push(...e.assignedElements()),t?a.filter(s=>s.matches(t)):a}function d1(e,t){const n=[t];for(;n.length>0;){const a=n.shift();if(e===a)return!0;n.push(...a.children,...a.shadowRoot?a.shadowRoot.children:[],...a.assignedElements?a.assignedElements():[])}}function h1(e,t){const n=ft();let a=t.contains(e);return!a&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(a=[...t.assignedElements()].includes(e),a||(a=d1(e,t))),a}function oo(e){try{console.warn(e);return}catch{}}function lo(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:i1(t)),n}function f1(e,t){const n=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&n.push(a):n.push(a),e=a}return n}function p1(e,t){const n=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&n.push(a):n.push(a),e=a}return n}function Kr(e,t){return ft().getComputedStyle(e,null).getPropertyValue(t)}function Ph(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function m1(e,t){const n=[];let a=e.parentElement;for(;a;)n.push(a),a=a.parentElement;return n}function Oh(e,t,n){const a=ft();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function xr(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function zc(e,t=""){typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(t):e.innerHTML=t}let El;function g1(){const e=ft(),t=Pn();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function ug(){return El||(El=g1()),El}let Pl;function x1({userAgent:e}={}){const t=ug(),n=ft(),a=n.navigator.platform,s=e||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,c=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const p=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=a==="Win32";let f=a==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&f&&t.touch&&y.indexOf(`${o}x${c}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),l&&!d&&(i.os="android",i.android=!0),(u||h||p)&&(i.os="ios",i.ios=!0),i}function dg(e={}){return Pl||(Pl=x1(e)),Pl}let Ol;function y1(){const e=ft(),t=dg();let n=!1;function a(){const c=e.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(a()){const c=String(e.navigator.userAgent);if(c.includes("Version/")){const[l,u]=c.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));n=l<16||l===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=a(),o=i||s&&t.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function hg(){return Ol||(Ol=y1()),Ol}function v1({swiper:e,on:t,emit:n}){const a=ft();let s=null,i=null;const o=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(p=>{i=a.requestAnimationFrame(()=>{const{width:h,height:d}=e;let f=h,y=d;p.forEach(({contentBoxSize:x,contentRect:b,target:g})=>{g&&g!==e.el||(f=b?b.width:(x[0]||x).inlineSize,y=b?b.height:(x[0]||x).blockSize)}),(f!==h||y!==d)&&o()})}),s.observe(e.el))},l=()=>{i&&a.cancelAnimationFrame(i),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){c();return}a.addEventListener("resize",o),a.addEventListener("orientationchange",u)}),t("destroy",()=>{l(),a.removeEventListener("resize",o),a.removeEventListener("orientationchange",u)})}function b1({swiper:e,extendParams:t,on:n,emit:a}){const s=[],i=ft(),o=(u,p={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,d=new h(f=>{if(e.__preventObserver__)return;if(f.length===1){a("observerUpdate",f[0]);return}const y=function(){a("observerUpdate",f[0])};i.requestAnimationFrame?i.requestAnimationFrame(y):i.setTimeout(y,0)});d.observe(u,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:e.isElement||(typeof p.childList>"u"?!0:p).childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),s.push(d)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=m1(e.hostEl);for(let p=0;p<u.length;p+=1)o(u[p])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",l)}var j1={on(e,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const s=n?"unshift":"push";return e.split(" ").forEach(i=>{a.eventsListeners[i]||(a.eventsListeners[i]=[]),a.eventsListeners[i][s](t)}),a},once(e,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function s(...i){a.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(a,i)}return s.__emitterProxy=t,a.on(e,s,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const a=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[a](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(a=>{typeof t>"u"?n.eventsListeners[a]=[]:n.eventsListeners[a]&&n.eventsListeners[a].forEach((s,i)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&n.eventsListeners[a].splice(i,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,a,s;return typeof e[0]=="string"||Array.isArray(e[0])?(n=e[0],a=e.slice(1,e.length),s=t):(n=e[0].events,a=e[0].data,s=e[0].context||t),a.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[o,...a])}),t.eventsListeners&&t.eventsListeners[o]&&t.eventsListeners[o].forEach(c=>{c.apply(s,a)})}),t}};function w1(){const e=this;let t,n;const a=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=a.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=a.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(Kr(a,"padding-left")||0,10)-parseInt(Kr(a,"padding-right")||0,10),n=n-parseInt(Kr(a,"padding-top")||0,10)-parseInt(Kr(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function N1(){const e=this;function t(S,T){return parseFloat(S.getPropertyValue(e.getDirectionLabel(T))||0)}const n=e.params,{wrapperEl:a,slidesEl:s,rtlTranslate:i,wrongRTL:o}=e,c=e.virtual&&n.virtual.enabled,l=c?e.virtual.slides.length:e.slides.length,u=hr(s,`.${e.params.slideClass}, swiper-slide`),p=c?e.virtual.slides.length:u.length;let h=[];const d=[],f=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(e));let x=n.slidesOffsetAfter;typeof x=="function"&&(x=n.slidesOffsetAfter.call(e));const b=e.snapGrid.length,g=e.slidesGrid.length,m=e.size-y-x;let j=n.spaceBetween,v=-y,w=0,_=0;if(typeof m>"u")return;typeof j=="string"&&j.indexOf("%")>=0?j=parseFloat(j.replace("%",""))/100*m:typeof j=="string"&&(j=parseFloat(j)),e.virtualSize=-j-y-x,u.forEach(S=>{i?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(oi(a,"--swiper-centered-offset-before",""),oi(a,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&e.grid;k?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();let C;const O=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<p;S+=1){C=0;const T=u[S];if(!(T&&(k&&e.grid.updateSlide(S,T,u),Kr(T,"display")==="none"))){if(c&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(C=n.virtual.slidesPerViewAutoSlideSize),C&&T&&(n.roundLengths&&(C=Math.floor(C)),T.style[e.getDirectionLabel("width")]=`${C}px`);else if(n.slidesPerView==="auto"){O&&(T.style[e.getDirectionLabel("width")]="");const P=getComputedStyle(T),L=T.style.transform,B=T.style.webkitTransform;if(L&&(T.style.transform="none"),B&&(T.style.webkitTransform="none"),n.roundLengths)C=e.isHorizontal()?Oh(T,"width"):Oh(T,"height");else{const M=t(P,"width"),I=t(P,"padding-left"),D=t(P,"padding-right"),V=t(P,"margin-left"),z=t(P,"margin-right"),R=P.getPropertyValue("box-sizing");if(R&&R==="border-box")C=M+V+z;else{const{clientWidth:E,offsetWidth:$}=T;C=M+I+D+V+z+($-E)}}L&&(T.style.transform=L),B&&(T.style.webkitTransform=B),n.roundLengths&&(C=Math.floor(C))}else C=(m-(n.slidesPerView-1)*j)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),T&&(T.style[e.getDirectionLabel("width")]=`${C}px`);T&&(T.swiperSlideSize=C),f.push(C),n.centeredSlides?(v=v+C/2+w/2+j,w===0&&S!==0&&(v=v-m/2-j),S===0&&(v=v-m/2-j),Math.abs(v)<1/1e3&&(v=0),n.roundLengths&&(v=Math.floor(v)),_%n.slidesPerGroup===0&&h.push(v),d.push(v)):(n.roundLengths&&(v=Math.floor(v)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&h.push(v),d.push(v),v=v+C+j),e.virtualSize+=C+j,w=C,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,m)+x,i&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(a.style.width=`${e.virtualSize+j}px`),n.setWrapperSize&&(a.style[e.getDirectionLabel("width")]=`${e.virtualSize+j}px`),k&&e.grid.updateWrapperSize(C,h),!n.centeredSlides){const S=[];for(let T=0;T<h.length;T+=1){let P=h[T];n.roundLengths&&(P=Math.floor(P)),h[T]<=e.virtualSize-m&&S.push(P)}h=S,Math.floor(e.virtualSize-m)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-m)}if(c&&n.loop){const S=f[0]+j;if(n.slidesPerGroup>1){const T=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),P=S*n.slidesPerGroup;for(let L=0;L<T;L+=1)h.push(h[h.length-1]+P)}for(let T=0;T<e.virtual.slidesBefore+e.virtual.slidesAfter;T+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+S),d.push(d[d.length-1]+S),e.virtualSize+=S}if(h.length===0&&(h=[0]),j!==0){const S=e.isHorizontal()&&i?"marginLeft":e.getDirectionLabel("marginRight");u.filter((T,P)=>!n.cssMode||n.loop?!0:P!==u.length-1).forEach(T=>{T.style[S]=`${j}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;f.forEach(P=>{S+=P+(j||0)}),S-=j;const T=S>m?S-m:0;h=h.map(P=>P<=0?-y:P>T?T+x:P)}if(n.centerInsufficientSlides){let S=0;f.forEach(P=>{S+=P+(j||0)}),S-=j;const T=(y||0)+(x||0);if(S+T<m){const P=(m-S-T)/2;h.forEach((L,B)=>{h[B]=L-P}),d.forEach((L,B)=>{d[B]=L+P})}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:d,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){oi(a,"--swiper-centered-offset-before",`${-h[0]}px`),oi(a,"--swiper-centered-offset-after",`${e.size/2-f[f.length-1]/2}px`);const S=-e.snapGrid[0],T=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(P=>P+S),e.slidesGrid=e.slidesGrid.map(P=>P+T)}if(p!==l&&e.emit("slidesLengthChange"),h.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==g&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,T=e.el.classList.contains(S);p<=n.maxBackfaceHiddenSlides?T||e.el.classList.add(S):T&&e.el.classList.remove(S)}}function _1(e){const t=this,n=[],a=t.virtual&&t.params.virtual.enabled;let s=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=c=>a?t.slides[t.getSlideIndexByData(c)]:t.slides[c];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(c=>{n.push(c)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const c=t.activeIndex+i;if(c>t.slides.length&&!a)break;n.push(o(c))}else n.push(o(t.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const c=n[i].offsetHeight;s=c>s?c:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function k1(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-n-e.cssOverflowAdjustment()}const Ah=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function S1(e=this&&this.translate||0){const t=this,n=t.params,{slides:a,rtlTranslate:s,snapGrid:i}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;s&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*t.size:typeof c=="string"&&(c=parseFloat(c));for(let l=0;l<a.length;l+=1){const u=a[l];let p=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=a[0].swiperSlideOffset);const h=(o+(n.centeredSlides?t.minTranslate():0)-p)/(u.swiperSlideSize+c),d=(o-i[0]+(n.centeredSlides?t.minTranslate():0)-p)/(u.swiperSlideSize+c),f=-(o-p),y=f+t.slidesSizesGrid[l],x=f>=0&&f<=t.size-t.slidesSizesGrid[l],b=f>=0&&f<t.size-1||y>1&&y<=t.size||f<=0&&y>=t.size;b&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(l)),Ah(u,b,n.slideVisibleClass),Ah(u,x,n.slideFullyVisibleClass),u.progress=s?-h:h,u.originalProgress=s?-d:d}}function T1(e){const t=this;if(typeof e>"u"){const p=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*p||0}const n=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:c}=t;const l=i,u=o;if(a===0)s=0,i=!0,o=!0;else{s=(e-t.minTranslate())/a;const p=Math.abs(e-t.minTranslate())<1,h=Math.abs(e-t.maxTranslate())<1;i=p||s<=0,o=h||s>=1,p&&(s=0),h&&(s=1)}if(n.loop){const p=t.getSlideIndexByData(0),h=t.getSlideIndexByData(t.slides.length-1),d=t.slidesGrid[p],f=t.slidesGrid[h],y=t.slidesGrid[t.slidesGrid.length-1],x=Math.abs(e);x>=d?c=(x-d)/y:c=(x+y-f)/y,c>1&&(c-=1)}Object.assign(t,{progress:s,progressLoop:c,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),o&&!u&&t.emit("reachEnd toEdge"),(l&&!i||u&&!o)&&t.emit("fromEdge"),t.emit("progress",s)}const Al=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function C1(){const e=this,{slides:t,params:n,slidesEl:a,activeIndex:s}=e,i=e.virtual&&n.virtual.enabled,o=e.grid&&n.grid&&n.grid.rows>1,c=h=>hr(a,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,u,p;if(i)if(n.loop){let h=s-e.virtual.slidesBefore;h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),l=c(`[data-swiper-slide-index="${h}"]`)}else l=c(`[data-swiper-slide-index="${s}"]`);else o?(l=t.find(h=>h.column===s),p=t.find(h=>h.column===s+1),u=t.find(h=>h.column===s-1)):l=t[s];l&&(o||(p=p1(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p&&(p=t[0]),u=f1(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=t[t.length-1]))),t.forEach(h=>{Al(h,h===l,n.slideActiveClass),Al(h,h===p,n.slideNextClass),Al(h,h===u,n.slidePrevClass)}),e.emitSlidesClasses()}const Pi=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,a=t.closest(n());if(a){let s=a.querySelector(`.${e.params.lazyPreloaderClass}`);!s&&e.isElement&&(a.shadowRoot?s=a.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{a.shadowRoot&&(s=a.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Ll=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Bc=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const a=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=s,c=[o-t];c.push(...Array.from({length:t}).map((l,u)=>o+a+u)),e.slides.forEach((l,u)=>{c.includes(l.column)&&Ll(e,u)});return}const i=s+a-1;if(e.params.rewind||e.params.loop)for(let o=s-t;o<=i+t;o+=1){const c=(o%n+n)%n;(c<s||c>i)&&Ll(e,c)}else for(let o=Math.max(s-t,0);o<=Math.min(i+t,n-1);o+=1)o!==s&&(o>i||o<s)&&Ll(e,o)};function E1(e){const{slidesGrid:t,params:n}=e,a=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?a>=t[i]&&a<t[i+1]-(t[i+1]-t[i])/2?s=i:a>=t[i]&&a<t[i+1]&&(s=i+1):a>=t[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function P1(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:s,activeIndex:i,realIndex:o,snapIndex:c}=t;let l=e,u;const p=f=>{let y=f-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof l>"u"&&(l=E1(t)),a.indexOf(n)>=0)u=a.indexOf(n);else{const f=Math.min(s.slidesPerGroupSkip,l);u=f+Math.floor((l-f)/s.slidesPerGroup)}if(u>=a.length&&(u=a.length-1),l===i&&!t.params.loop){u!==c&&(t.snapIndex=u,t.emit("snapIndexChange"));return}if(l===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=p(l);return}const h=t.grid&&s.grid&&s.grid.rows>1;let d;if(t.virtual&&s.virtual.enabled&&s.loop)d=p(l);else if(h){const f=t.slides.find(x=>x.column===l);let y=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(t.slides.indexOf(f),0)),d=Math.floor(y/s.grid.rows)}else if(t.slides[l]){const f=t.slides[l].getAttribute("data-swiper-slide-index");f?d=parseInt(f,10):d=l}else d=l;Object.assign(t,{previousSnapIndex:c,snapIndex:u,previousRealIndex:o,realIndex:d,previousIndex:i,activeIndex:l}),t.initialized&&Bc(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==d&&t.emit("realIndexChange"),t.emit("slideChange"))}function O1(e,t){const n=this,a=n.params;let s=e.closest(`.${a.slideClass}, swiper-slide`);!s&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${a.slideClass}, swiper-slide`)&&(s=c)});let i=!1,o;if(s){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===s){i=!0,o=c;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}a.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var A1={updateSize:w1,updateSlides:N1,updateAutoHeight:_1,updateSlidesOffset:k1,updateSlidesProgress:S1,updateProgress:T1,updateSlidesClasses:C1,updateActiveIndex:P1,updateClickedSlide:O1};function L1(e=this.isHorizontal()?"x":"y"){const t=this,{params:n,rtlTranslate:a,translate:s,wrapperEl:i}=t;if(n.virtualTranslate)return a?-s:s;if(n.cssMode)return s;let o=c1(i,e);return o+=t.cssOverflowAdjustment(),a&&(o=-o),o||0}function I1(e,t){const n=this,{rtlTranslate:a,params:s,wrapperEl:i,progress:o}=n;let c=0,l=0;const u=0;n.isHorizontal()?c=a?-e:e:l=e,s.roundLengths&&(c=Math.floor(c),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:l,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-l:s.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${c}px, ${l}px, ${u}px)`);let p;const h=n.maxTranslate()-n.minTranslate();h===0?p=0:p=(e-n.minTranslate())/h,p!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function M1(){return-this.snapGrid[0]}function R1(){return-this.snapGrid[this.snapGrid.length-1]}function D1(e=0,t=this.params.speed,n=!0,a=!0,s){const i=this,{params:o,wrapperEl:c}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),u=i.maxTranslate();let p;if(a&&e>l?p=l:a&&e<u?p=u:p=e,i.updateProgress(p),o.cssMode){const h=i.isHorizontal();if(t===0)c[h?"scrollLeft":"scrollTop"]=-p;else{if(!i.support.smoothScroll)return cg({swiper:i,targetPosition:-p,side:h?"left":"top"}),!0;c.scrollTo({[h?"left":"top"]:-p,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(p),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(p),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(d){!i||i.destroyed||d.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var $1={getTranslate:L1,setTranslate:I1,minTranslate:M1,maxTranslate:R1,translateTo:D1};function z1(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function fg({swiper:e,runCallbacks:t,direction:n,step:a}){const{activeIndex:s,previousIndex:i}=e;let o=n;o||(s>i?o="next":s<i?o="prev":o="reset"),e.emit(`transition${a}`),t&&o==="reset"?e.emit(`slideResetTransition${a}`):t&&s!==i&&(e.emit(`slideChangeTransition${a}`),o==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`))}function B1(e=!0,t){const n=this,{params:a}=n;a.cssMode||(a.autoHeight&&n.updateAutoHeight(),fg({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function F1(e=!0,t){const n=this,{params:a}=n;n.animating=!1,!a.cssMode&&(n.setTransition(0),fg({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var V1={setTransition:z1,transitionStart:B1,transitionEnd:F1};function H1(e=0,t,n=!0,a,s){typeof e=="string"&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:c,snapGrid:l,slidesGrid:u,previousIndex:p,activeIndex:h,rtlTranslate:d,wrapperEl:f,enabled:y}=i;if(!y&&!a&&!s||i.destroyed||i.animating&&c.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const x=Math.min(i.params.slidesPerGroupSkip,o);let b=x+Math.floor((o-x)/i.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const g=-l[b];if(c.normalizeSlideIndex)for(let k=0;k<u.length;k+=1){const C=-Math.floor(g*100),O=Math.floor(u[k]*100),S=Math.floor(u[k+1]*100);typeof u[k+1]<"u"?C>=O&&C<S-(S-O)/2?o=k:C>=O&&C<S&&(o=k+1):C>=O&&(o=k)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(d?g>i.translate&&g>i.minTranslate():g<i.translate&&g<i.minTranslate())||!i.allowSlidePrev&&g>i.translate&&g>i.maxTranslate()&&(h||0)!==o))return!1;o!==(p||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(g);let m;o>h?m="next":o<h?m="prev":m="reset";const j=i.virtual&&i.params.virtual.enabled;if(!(j&&s)&&(d&&-g===i.translate||!d&&g===i.translate))return i.updateActiveIndex(o),c.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),c.effect!=="slide"&&i.setTranslate(g),m!=="reset"&&(i.transitionStart(n,m),i.transitionEnd(n,m)),!1;if(c.cssMode){const k=i.isHorizontal(),C=d?g:-g;if(t===0)j&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),j&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[k?"scrollLeft":"scrollTop"]=C})):f[k?"scrollLeft":"scrollTop"]=C,j&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return cg({swiper:i,targetPosition:C,side:k?"left":"top"}),!0;f.scrollTo({[k?"left":"top"]:C,behavior:"smooth"})}return!0}const _=hg().isSafari;return j&&!s&&_&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(t),i.setTranslate(g),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,a),i.transitionStart(n,m),t===0?i.transitionEnd(n,m):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(C){!i||i.destroyed||C.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,m))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function U1(e=0,t,n=!0,a){typeof e=="string"&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let c;if(i){const x=o*s.params.grid.rows;c=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===x).column}else c=s.getSlideIndexByData(o);const l=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:p,slidesOffsetAfter:h}=s.params,d=u||!!p||!!h;let f=s.params.slidesPerView;f==="auto"?f=s.slidesPerViewDynamic():(f=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&f%2===0&&(f=f+1));let y=l-c<f;if(d&&(y=y||c<Math.ceil(f/2)),a&&d&&s.params.slidesPerView!=="auto"&&!i&&(y=!1),y){const x=d?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?c+1:c-l+1,slideRealIndex:x==="next"?s.realIndex:void 0})}if(i){const x=o*s.params.grid.rows;o=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===x).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,t,n,a)}),s}function q1(e,t=!0,n){const a=this,{enabled:s,params:i,animating:o}=a;if(!s||a.destroyed)return a;typeof e>"u"&&(e=a.params.speed);let c=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(c=Math.max(a.slidesPerViewDynamic("current",!0),1));const l=a.activeIndex<i.slidesPerGroupSkip?1:c,u=a.virtual&&i.virtual.enabled;if(i.loop){if(o&&!u&&i.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+l,e,t,n)}),!0}return i.rewind&&a.isEnd?a.slideTo(0,e,t,n):a.slideTo(a.activeIndex+l,e,t,n)}function G1(e,t=!0,n){const a=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:c,enabled:l,animating:u}=a;if(!l||a.destroyed)return a;typeof e>"u"&&(e=a.params.speed);const p=a.virtual&&s.virtual.enabled;if(s.loop){if(u&&!p&&s.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const h=c?a.translate:-a.translate;function d(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const f=d(h),y=i.map(m=>d(m)),x=s.freeMode&&s.freeMode.enabled;let b=i[y.indexOf(f)-1];if(typeof b>"u"&&(s.cssMode||x)){let m;i.forEach((j,v)=>{f>=j&&(m=v)}),typeof m<"u"&&(b=x?i[m]:i[m>0?m-1:m])}let g=0;if(typeof b<"u"&&(g=o.indexOf(b),g<0&&(g=a.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-a.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&a.isBeginning){const m=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(m,e,t,n)}else if(s.loop&&a.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{a.slideTo(g,e,t,n)}),!0;return a.slideTo(g,e,t,n)}function K1(e,t=!0,n){const a=this;if(!a.destroyed)return typeof e>"u"&&(e=a.params.speed),a.slideTo(a.activeIndex,e,t,n)}function W1(e,t=!0,n,a=.5){const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),c=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[c]){const u=s.snapGrid[c],p=s.snapGrid[c+1];l-u>(p-u)*a&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[c-1],p=s.snapGrid[c];l-u<=(p-u)*a&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,n)}function X1(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,a=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let s=e.getSlideIndexWhenGrid(e.clickedIndex),i;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,c=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):s>(c?(e.slides.length-a)/2-(e.params.grid.rows-1):e.slides.length-a)?(e.loopFix(),s=e.getSlideIndex(hr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),lg(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var Q1={slideTo:H1,slideToLoop:U1,slideNext:q1,slidePrev:G1,slideReset:K1,slideToClosest:W1,slideToClickedSlide:X1};function Y1(e,t){const n=this,{params:a,slidesEl:s}=n;if(!a.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{hr(s,`.${a.slideClass}, swiper-slide`).forEach((y,x)=>{y.setAttribute("data-swiper-slide-index",x)})},o=()=>{const f=hr(s,`.${a.slideBlankClass}`);f.forEach(y=>{y.remove()}),f.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&a.grid&&a.grid.rows>1;a.loopAddBlankSlides&&(a.slidesPerGroup>1||c)&&o();const l=a.slidesPerGroup*(c?a.grid.rows:1),u=n.slides.length%l!==0,p=c&&n.slides.length%a.grid.rows!==0,h=f=>{for(let y=0;y<f;y+=1){const x=n.isElement?lo("swiper-slide",[a.slideBlankClass]):lo("div",[a.slideClass,a.slideBlankClass]);n.slidesEl.append(x)}};if(u){if(a.loopAddBlankSlides){const f=l-n.slides.length%l;h(f),n.recalcSlides(),n.updateSlides()}else oo("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(p){if(a.loopAddBlankSlides){const f=a.grid.rows-n.slides.length%a.grid.rows;h(f),n.recalcSlides(),n.updateSlides()}else oo("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const d=a.centeredSlides||!!a.slidesOffsetBefore||!!a.slidesOffsetAfter;n.loopFix({slideRealIndex:e,direction:d?void 0:"next",initial:t})}function J1({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:a,activeSlideIndex:s,initial:i,byController:o,byMousewheel:c}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:p,allowSlideNext:h,slidesEl:d,params:f}=l,{centeredSlides:y,slidesOffsetBefore:x,slidesOffsetAfter:b,initialSlide:g}=f,m=y||!!x||!!b;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled){t&&(!m&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=p,l.allowSlideNext=h,l.emit("loopFix");return}let j=f.slidesPerView;j==="auto"?j=l.slidesPerViewDynamic():(j=Math.ceil(parseFloat(f.slidesPerView,10)),m&&j%2===0&&(j=j+1));const v=f.slidesPerGroupAuto?j:f.slidesPerGroup;let w=m?Math.max(v,Math.ceil(j/2)):v;w%v!==0&&(w+=v-w%v),w+=f.loopAdditionalSlides,l.loopedSlides=w;const _=l.grid&&f.grid&&f.grid.rows>1;u.length<j+w||l.params.effect==="cards"&&u.length<j+w*2?oo("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&f.grid.fill==="row"&&oo("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],C=[],O=_?Math.ceil(u.length/f.grid.rows):u.length,S=i&&O-g<j&&!m;let T=S?g:l.activeIndex;typeof s>"u"?s=l.getSlideIndex(u.find(V=>V.classList.contains(f.slideActiveClass))):T=s;const P=n==="next"||!n,L=n==="prev"||!n;let B=0,M=0;const D=(_?u[s].column:s)+(m&&typeof a>"u"?-j/2+.5:0);if(D<w){B=Math.max(w-D,v);for(let V=0;V<w-D;V+=1){const z=V-Math.floor(V/O)*O;if(_){const R=O-z-1;for(let E=u.length-1;E>=0;E-=1)u[E].column===R&&k.push(E)}else k.push(O-z-1)}}else if(D+j>O-w){M=Math.max(D-(O-w*2),v),S&&(M=Math.max(M,j-O+g+1));for(let V=0;V<M;V+=1){const z=V-Math.floor(V/O)*O;_?u.forEach((R,E)=>{R.column===z&&C.push(E)}):C.push(z)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&u.length<j+w*2&&(C.includes(s)&&C.splice(C.indexOf(s),1),k.includes(s)&&k.splice(k.indexOf(s),1)),L&&k.forEach(V=>{u[V].swiperLoopMoveDOM=!0,d.prepend(u[V]),u[V].swiperLoopMoveDOM=!1}),P&&C.forEach(V=>{u[V].swiperLoopMoveDOM=!0,d.append(u[V]),u[V].swiperLoopMoveDOM=!1}),l.recalcSlides(),f.slidesPerView==="auto"?l.updateSlides():_&&(k.length>0&&L||C.length>0&&P)&&l.slides.forEach((V,z)=>{l.grid.updateSlide(z,V,l.slides)}),f.watchSlidesProgress&&l.updateSlidesOffset(),t){if(k.length>0&&L){if(typeof e>"u"){const V=l.slidesGrid[T],R=l.slidesGrid[T+B]-V;c?l.setTranslate(l.translate-R):(l.slideTo(T+Math.ceil(B),0,!1,!0),a&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-R,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-R))}else if(a){const V=_?k.length/f.grid.rows:k.length;l.slideTo(l.activeIndex+V,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(C.length>0&&P)if(typeof e>"u"){const V=l.slidesGrid[T],R=l.slidesGrid[T-M]-V;c?l.setTranslate(l.translate-R):(l.slideTo(T-M,0,!1,!0),a&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-R,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-R))}else{const V=_?C.length/f.grid.rows:C.length;l.slideTo(l.activeIndex-V,0,!1,!0)}}if(l.allowSlidePrev=p,l.allowSlideNext=h,l.controller&&l.controller.control&&!o){const V={slideRealIndex:e,direction:n,setTranslate:a,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(z=>{!z.destroyed&&z.params.loop&&z.loopFix({...V,slideTo:z.params.slidesPerView===f.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...V,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView?t:!1})}l.emit("loopFix")}function Z1(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;a[i]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),a.forEach(s=>{n.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var ej={loopCreate:Y1,loopFix:J1,loopDestroy:Z1};function tj(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function rj(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var nj={setGrabCursor:tj,unsetGrabCursor:rj};function aj(e,t=this){function n(a){if(!a||a===Pn()||a===ft())return null;a.assignedSlot&&(a=a.assignedSlot);const s=a.closest(e);return!s&&!a.getRootNode?null:s||n(a.getRootNode().host)}return n(t)}function Lh(e,t,n){const a=ft(),{params:s}=e,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=a.innerWidth-o)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function sj(e){const t=this,n=Pn();let a=e;a.originalEvent&&(a=a.originalEvent);const s=t.touchEventsData;if(a.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==a.pointerId)return;s.pointerId=a.pointerId}else a.type==="touchstart"&&a.targetTouches.length===1&&(s.touchId=a.targetTouches[0].identifier);if(a.type==="touchstart"){Lh(t,a,a.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:c}=t;if(!c||!i.simulateTouch&&a.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=a.target;if(i.touchEventsTarget==="wrapper"&&!h1(l,t.wrapperEl)||"which"in a&&a.which===3||"button"in a&&a.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",p=a.composedPath?a.composedPath():a.path;u&&a.target&&a.target.shadowRoot&&p&&(l=p[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,d=!!(a.target&&a.target.shadowRoot);if(i.noSwiping&&(d?aj(h,l):l.closest(h))){t.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;o.currentX=a.pageX,o.currentY=a.pageY;const f=o.currentX,y=o.currentY;if(!Lh(t,a,f))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=y,s.touchStartTime=io(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let x=!0;l.matches(s.focusableElements)&&(x=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&(a.pointerType==="mouse"||a.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&n.activeElement.blur();const b=x&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!l.isContentEditable&&a.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",a)}function ij(e){const t=Pn(),n=this,a=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:c}=n;if(!c||!s.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(a.touchId!==null||l.pointerId!==a.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(w=>w.identifier===a.touchId),!u||u.identifier!==a.touchId)return}else u=l;if(!a.isTouched){a.startMoving&&a.isScrolling&&n.emit("touchMoveOpposite",l);return}const p=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){i.startX=p,i.startY=h;return}if(!n.allowTouchMove){l.target.matches(a.focusableElements)||(n.allowClick=!1),a.isTouched&&(Object.assign(i,{startX:p,startY:h,currentX:p,currentY:h}),a.touchStartTime=io());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else{if(o&&(p>i.startX&&-n.translate<=n.maxTranslate()||p<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(p<i.startX&&n.translate<=n.maxTranslate()||p>i.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(a.focusableElements)){a.isMoved=!0,n.allowClick=!1;return}a.allowTouchCallbacks&&n.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=p,i.currentY=h;const d=i.currentX-i.startX,f=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(d**2+f**2)<n.params.threshold)return;if(typeof a.isScrolling>"u"){let w;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?a.isScrolling=!1:d*d+f*f>=25&&(w=Math.atan2(Math.abs(f),Math.abs(d))*180/Math.PI,a.isScrolling=n.isHorizontal()?w>s.touchAngle:90-w>s.touchAngle)}if(a.isScrolling&&n.emit("touchMoveOpposite",l),typeof a.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(a.startMoving=!0),a.isScrolling||l.type==="touchmove"&&a.preventTouchMoveFromPointerMove){a.isTouched=!1;return}if(!a.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let y=n.isHorizontal()?d:f,x=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),x=Math.abs(x)*(o?1:-1)),i.diff=y,y*=s.touchRatio,o&&(y=-y,x=-x);const b=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=x>0?"prev":"next";const g=n.params.loop&&!s.cssMode,m=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!a.isMoved){if(g&&m&&n.loopFix({direction:n.swipeDirection}),a.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const w=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(w)}a.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s._loopSwapReset!==!1&&a.isMoved&&a.allowThresholdMove&&b!==n.touchesDirection&&g&&m&&Math.abs(y)>=1){Object.assign(i,{startX:p,startY:h,currentX:p,currentY:h,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;return}n.emit("sliderMove",l),a.isMoved=!0,a.currentTranslate=y+a.startTranslate;let j=!0,v=s.resistanceRatio;if(s.touchReleaseOnEdges&&(v=0),y>0?(g&&m&&a.allowThresholdMove&&a.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>n.minTranslate()&&(j=!1,s.resistance&&(a.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+a.startTranslate+y)**v))):y<0&&(g&&m&&a.allowThresholdMove&&a.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),a.currentTranslate<n.maxTranslate()&&(j=!1,s.resistance&&(a.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-a.startTranslate-y)**v))),j&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(a.currentTranslate=a.startTranslate),s.threshold>0)if(Math.abs(y)>s.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,a.currentTranslate=a.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{a.currentTranslate=a.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(a.currentTranslate),n.setTranslate(a.currentTranslate))}function oj(e){const t=this,n=t.touchEventsData;let a=e;a.originalEvent&&(a=a.originalEvent);let s;if(a.type==="touchend"||a.type==="touchcancel"){if(s=[...a.changedTouches].find(w=>w.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||a.pointerId!==n.pointerId)return;s=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&!(["pointercancel","contextmenu"].includes(a.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:c,rtlTranslate:l,slidesGrid:u,enabled:p}=t;if(!p||!o.simulateTouch&&a.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",a),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const h=io(),d=h-n.touchStartTime;if(t.allowClick){const w=a.path||a.composedPath&&a.composedPath();t.updateClickedSlide(w&&w[0]||a.target,w),t.emit("tap click",a),d<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",a)}if(n.lastClickTime=io(),lg(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(o.followFinger?f=l?t.translate:-t.translate:f=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:f});return}const y=f>=-t.maxTranslate()&&!t.params.loop;let x=0,b=t.slidesSizesGrid[0];for(let w=0;w<u.length;w+=w<o.slidesPerGroupSkip?1:o.slidesPerGroup){const _=w<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[w+_]<"u"?(y||f>=u[w]&&f<u[w+_])&&(x=w,b=u[w+_]-u[w]):(y||f>=u[w])&&(x=w,b=u[u.length-1]-u[u.length-2])}let g=null,m=null;o.rewind&&(t.isBeginning?m=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const j=(f-u[x])/b,v=x<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(d>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(j>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?g:x+v):t.slideTo(x)),t.swipeDirection==="prev"&&(j>1-o.longSwipesRatio?t.slideTo(x+v):m!==null&&j<0&&Math.abs(j)>o.longSwipesRatio?t.slideTo(m):t.slideTo(x))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(a.target===t.navigation.nextEl||a.target===t.navigation.prevEl)?a.target===t.navigation.nextEl?t.slideTo(x+v):t.slideTo(x):(t.swipeDirection==="next"&&t.slideTo(g!==null?g:x+v),t.swipeDirection==="prev"&&t.slideTo(m!==null?m:x))}}function Ih(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:s,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const c=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!c?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=a,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function lj(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function cj(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:a}=e;if(!a)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const i=e.maxTranslate()-e.minTranslate();i===0?s=0:s=(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function uj(e){const t=this;Pi(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function dj(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const pg=(e,t)=>{const n=Pn(),{params:a,el:s,wrapperEl:i,device:o}=e,c=!!a.nested,l=t==="on"?"addEventListener":"removeEventListener",u=t;!s||typeof s=="string"||(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:c}),s[l]("touchstart",e.onTouchStart,{passive:!1}),s[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:c}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:c}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&s[l]("click",e.onClick,!0),a.cssMode&&i[l]("scroll",e.onScroll),a.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ih,!0):e[u]("observerUpdate",Ih,!0),s[l]("load",e.onLoad,{capture:!0}))};function hj(){const e=this,{params:t}=e;e.onTouchStart=sj.bind(e),e.onTouchMove=ij.bind(e),e.onTouchEnd=oj.bind(e),e.onDocumentTouchStart=dj.bind(e),t.cssMode&&(e.onScroll=cj.bind(e)),e.onClick=lj.bind(e),e.onLoad=uj.bind(e),pg(e,"on")}function fj(){pg(this,"off")}var pj={attachEvents:hj,detachEvents:fj};const Mh=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function mj(){const e=this,{realIndex:t,initialized:n,params:a,el:s}=e,i=a.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=Pn(),c=a.breakpointsBase==="window"||!a.breakpointsBase?a.breakpointsBase:"container",l=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?e.el:o.querySelector(a.breakpointsBase),u=e.getBreakpoint(i,c,l);if(!u||e.currentBreakpoint===u)return;const h=(u in i?i[u]:void 0)||e.originalParams,d=Mh(e,a),f=Mh(e,h),y=e.params.grabCursor,x=h.grabCursor,b=a.enabled;d&&!f?(s.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&f&&(s.classList.add(`${a.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&a.grid.fill==="column")&&s.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),y&&!x?e.unsetGrabCursor():!y&&x&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_=>{if(typeof h[_]>"u")return;const k=a[_]&&a[_].enabled,C=h[_]&&h[_].enabled;k&&!C&&e[_].disable(),!k&&C&&e[_].enable()});const g=h.direction&&h.direction!==a.direction,m=a.loop&&(h.slidesPerView!==a.slidesPerView||g),j=a.loop;g&&n&&e.changeDirection(),St(e.params,h);const v=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),b&&!v?e.disable():!b&&v&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",h),n&&(m?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!j&&w?(e.loopCreate(t),e.updateSlides()):j&&!w&&e.loopDestroy()),e.emit("breakpoint",h)}function gj(e,t="window",n){if(!e||t==="container"&&!n)return;let a=!1;const s=ft(),i=t==="window"?s.innerHeight:n.clientHeight,o=Object.keys(e).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const l=parseFloat(c.substr(1));return{value:i*l,point:c}}return{value:c,point:c}});o.sort((c,l)=>parseInt(c.value,10)-parseInt(l.value,10));for(let c=0;c<o.length;c+=1){const{point:l,value:u}=o[c];t==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(a=l):u<=n.clientWidth&&(a=l)}return a||"max"}var xj={setBreakpoint:mj,getBreakpoint:gj};function yj(e,t){const n=[];return e.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(s=>{a[s]&&n.push(t+s)}):typeof a=="string"&&n.push(t+a)}),n}function vj(){const e=this,{classNames:t,params:n,rtl:a,el:s,device:i}=e,o=yj(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:a},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()}function bj(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var jj={addClasses:vj,removeClasses:bj};function wj(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:a}=n;if(a){const s=e.slides.length-1,i=e.slidesGrid[s]+e.slidesSizesGrid[s]+a*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var Nj={checkOverflow:wj},Fc={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function _j(e,t){return function(a={}){const s=Object.keys(a)[0],i=a[s];if(typeof i!="object"||i===null){St(t,a);return}if(e[s]===!0&&(e[s]={enabled:!0}),s==="navigation"&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),!(s in e&&"enabled"in i)){St(t,a);return}typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),St(t,a)}}const Il={eventsEmitter:j1,update:A1,translate:$1,transition:V1,slide:Q1,loop:ej,grabCursor:nj,events:pj,breakpoints:xj,checkOverflow:Nj,classes:jj},Ml={};let nd=class br{constructor(...t){let n,a;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?a=t[0]:[n,a]=t,a||(a={}),a=St({},a),n&&!a.el&&(a.el=n);const s=Pn();if(a.el&&typeof a.el=="string"&&s.querySelectorAll(a.el).length>1){const l=[];return s.querySelectorAll(a.el).forEach(u=>{const p=St({},a,{el:u});l.push(new br(p))}),l}const i=this;i.__swiper__=!0,i.support=ug(),i.device=dg({userAgent:a.userAgent}),i.browser=hg(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],a.modules&&Array.isArray(a.modules)&&i.modules.push(...a.modules);const o={};i.modules.forEach(l=>{l({params:a,swiper:i,extendParams:_j(a,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const c=St({},Fc,o);return i.params=St({},c,Ml,a),i.originalParams=St({},i.params),i.passedParams=St({},a),i.params&&i.params.on&&Object.keys(i.params.on).forEach(l=>{i.on(l,i.params.on[l])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:a}=this,s=hr(n,`.${a.slideClass}, swiper-slide`),i=Ph(s[0]);return Ph(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:n,params:a}=t;t.slides=hr(n,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const a=this;t=Math.min(Math.max(t,0),1);const s=a.minTranslate(),o=(a.maxTranslate()-s)*t+s;a.translateTo(o,typeof n>"u"?0:n),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(a=>{const s=t.getSlideClasses(a);n.push({slideEl:a,classNames:s}),t.emit("_slideClass",a,s)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const a=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:c,size:l,activeIndex:u}=a;let p=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[u]?Math.ceil(i[u].swiperSlideSize):0,d;for(let f=u+1;f<i.length;f+=1)i[f]&&!d&&(h+=Math.ceil(i[f].swiperSlideSize),p+=1,h>l&&(d=!0));for(let f=u-1;f>=0;f-=1)i[f]&&!d&&(h+=i[f].swiperSlideSize,p+=1,h>l&&(d=!0))}else if(t==="current")for(let h=u+1;h<i.length;h+=1)(n?o[h]+c[h]-o[u]<l:o[h]-o[u]<l)&&(p+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<l&&(p+=1);return p}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Pi(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const o=t.rtlTranslate?t.translate*-1:t.translate,c=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(c),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(a.freeMode&&a.freeMode.enabled&&!a.cssMode)s(),a.autoHeight&&t.updateAutoHeight();else{if((a.slidesPerView==="auto"||a.slidesPerView>1)&&t.isEnd&&!a.centeredSlides){const o=t.virtual&&a.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(o.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||s()}a.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const a=this,s=a.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${s}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),a.emit("changeDirection"),n&&a.update()),a}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let a=t||n.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=n,a.parentNode&&a.parentNode.host&&a.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(s()):hr(a,s())[0];return!o&&n.params.createElements&&(o=lo("div",n.params.wrapperClass),a.append(o),hr(a,`.${n.params.slideClass}`).forEach(c=>{o.append(c)})),Object.assign(n,{el:a,wrapperEl:o,slidesEl:n.isElement&&!a.parentNode.host.slideSlots?a.parentNode.host:o,hostEl:n.isElement?a.parentNode.host:a,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||Kr(a,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||Kr(a,"direction")==="rtl"),wrongRTL:Kr(o,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Pi(n,i):i.addEventListener("load",o=>{Pi(n,o.target)})}),Bc(n),n.initialized=!0,Bc(n),n.emit("init"),n.emit("afterInit"),n}destroy(t=!0,n=!0){const a=this,{params:s,el:i,wrapperEl:o,slides:c}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),s.loop&&a.loopDestroy(),n&&(a.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),c&&c.length&&c.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(l=>{a.off(l)}),t!==!1&&(a.el&&typeof a.el!="string"&&(a.el.swiper=null),o1(a)),a.destroyed=!0),null}static extendDefaults(t){St(Ml,t)}static get extendedDefaults(){return Ml}static get defaults(){return Fc}static installModule(t){br.prototype.__modules__||(br.prototype.__modules__=[]);const n=br.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>br.installModule(n)),br):(br.installModule(t),br)}};Object.keys(Il).forEach(e=>{Object.keys(Il[e]).forEach(t=>{nd.prototype[t]=Il[e][t]})});nd.use([v1,b1]);const mg=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Sn(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function sa(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:Sn(t[a])&&Sn(e[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?e[a]=t[a]:sa(e[a],t[a]):e[a]=t[a]})}function gg(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function xg(e={}){return e.pagination&&typeof e.pagination.el>"u"}function yg(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function vg(e=""){const t=e.split(" ").map(a=>a.trim()).filter(a=>!!a),n=[];return t.forEach(a=>{n.indexOf(a)<0&&n.push(a)}),n.join(" ")}function kj(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Sj({swiper:e,slides:t,passedParams:n,changedParams:a,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:c}){const l=a.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:u,pagination:p,navigation:h,scrollbar:d,virtual:f,thumbs:y}=e;let x,b,g,m,j,v,w,_;a.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(x=!0),a.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),a.includes("pagination")&&n.pagination&&(n.pagination.el||c)&&(u.pagination||u.pagination===!1)&&p&&!p.el&&(g=!0),a.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&d&&!d.el&&(m=!0),a.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(j=!0);const k=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),u[C].prevEl=void 0,u[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),u[C].el=void 0,e[C].el=void 0))};a.includes("loop")&&e.isElement&&(u.loop&&!n.loop?v=!0:!u.loop&&n.loop?w=!0:_=!0),l.forEach(C=>{if(Sn(u[C])&&Sn(n[C]))Object.assign(u[C],n[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in n[C]&&!n[C].enabled&&k(C);else{const O=n[C];(O===!0||O===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?O===!1&&k(C):u[C]=n[C]}}),l.includes("controller")&&!b&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),a.includes("children")&&t&&f&&u.virtual.enabled?(f.slides=t,f.update(!0)):a.includes("virtual")&&f&&u.virtual.enabled&&(t&&(f.slides=t),f.update(!0)),a.includes("children")&&t&&u.loop&&(_=!0),x&&y.init()&&y.update(!0),b&&(e.controller.control=u.controller.control),g&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),p.init(),p.render(),p.update()),m&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),d.init(),d.updateSize(),d.setTranslate()),j&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),zc(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),zc(i,e.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),e.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),h.init(),h.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),a.includes("direction")&&e.changeDirection(n.direction,!1),(v||_)&&e.loopDestroy(),(w||_)&&e.loopCreate(),e.update()}function Tj(e={},t=!0){const n={on:{}},a={},s={};sa(n,Fc),n._emitClasses=!0,n.init=!1;const i={},o=mg.map(l=>l.replace(/_/,"")),c=Object.assign({},e);return Object.keys(c).forEach(l=>{typeof e[l]>"u"||(o.indexOf(l)>=0?Sn(e[l])?(n[l]={},s[l]={},sa(n[l],e[l]),sa(s[l],e[l])):(n[l]=e[l],s[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?a[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:i[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:a}}function Cj({el:e,nextEl:t,prevEl:n,paginationEl:a,scrollbarEl:s,swiper:i},o){gg(o)&&t&&n&&(i.params.navigation.nextEl=t,i.originalParams.navigation.nextEl=t,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),xg(o)&&a&&(i.params.pagination.el=a,i.originalParams.pagination.el=a),yg(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(e)}function Ej(e,t,n,a,s){const i=[];if(!t)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&a){const l=a.map(s),u=n.map(s);l.join("")!==u.join("")&&o("children"),a.length!==n.length&&o("children")}return mg.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(Sn(e[l])&&Sn(t[l])){const u=Object.keys(e[l]),p=Object.keys(t[l]);u.length!==p.length?o(l):(u.forEach(h=>{e[l][h]!==t[l][h]&&o(l)}),p.forEach(h=>{e[l][h]!==t[l][h]&&o(l)}))}else e[l]!==t[l]&&o(l)}),i}const Pj=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},co.apply(this,arguments)}function bg(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function jg(e){const t=[];return Ie.Children.toArray(e).forEach(n=>{bg(n)?t.push(n):n.props&&n.props.children&&jg(n.props.children).forEach(a=>t.push(a))}),t}function Oj(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ie.Children.toArray(e).forEach(a=>{if(bg(a))t.push(a);else if(a.props&&a.props.slot&&n[a.props.slot])n[a.props.slot].push(a);else if(a.props&&a.props.children){const s=jg(a.props.children);s.length>0?s.forEach(i=>t.push(i)):n["container-end"].push(a)}else n["container-end"].push(a)}),{slides:t,slots:n}}function Aj(e,t,n){if(!n)return null;const a=p=>{let h=p;return p<0?h=t.length+p:h>=t.length&&(h=h-t.length),h},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,c=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,u=[];for(let p=c;p<l;p+=1)p>=i&&p<=o&&u.push(t[a(p)]);return u.map((p,h)=>Ie.cloneElement(p,{swiper:e,style:s,key:p.props.virtualIndex||p.key||`slide-${h}`}))}function os(e,t){return typeof window>"u"?N.useEffect(e,t):N.useLayoutEffect(e,t)}const Rh=N.createContext(null),Lj=N.createContext(null),ad=N.forwardRef(({className:e,tag:t="div",wrapperTag:n="div",children:a,onSwiper:s,...i}={},o)=>{let c=!1;const[l,u]=N.useState("swiper"),[p,h]=N.useState(null),[d,f]=N.useState(!1),y=N.useRef(!1),x=N.useRef(null),b=N.useRef(null),g=N.useRef(null),m=N.useRef(null),j=N.useRef(null),v=N.useRef(null),w=N.useRef(null),_=N.useRef(null),{params:k,passedParams:C,rest:O,events:S}=Tj(i),{slides:T,slots:P}=Oj(a),L=()=>{f(!d)};Object.assign(k.on,{_containerClasses(V,z){u(z)}});const B=()=>{Object.assign(k.on,S),c=!0;const V={...k};if(delete V.wrapperClass,b.current=new nd(V),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=T;const z={cache:!1,slides:T,renderExternal:h,renderExternalUpdate:!1};sa(b.current.params.virtual,z),sa(b.current.originalParams.virtual,z)}};x.current||B(),b.current&&b.current.on("_beforeBreakpoint",L);const M=()=>{c||!S||!b.current||Object.keys(S).forEach(V=>{b.current.on(V,S[V])})},I=()=>{!S||!b.current||Object.keys(S).forEach(V=>{b.current.off(V,S[V])})};N.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",L)}),N.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),os(()=>{if(o&&(o.current=x.current),!!x.current)return b.current.destroyed&&B(),Cj({el:x.current,nextEl:j.current,prevEl:v.current,paginationEl:w.current,scrollbarEl:_.current,swiper:b.current},k),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),os(()=>{M();const V=Ej(C,g.current,T,m.current,z=>z.key);return g.current=C,m.current=T,V.length&&b.current&&!b.current.destroyed&&Sj({swiper:b.current,slides:T,passedParams:C,changedParams:V,nextEl:j.current,prevEl:v.current,scrollbarEl:_.current,paginationEl:w.current}),()=>{I()}}),os(()=>{Pj(b.current)},[p]);function D(){return k.virtual?Aj(b.current,T,p):T.map((V,z)=>Ie.cloneElement(V,{swiper:b.current,swiperSlideIndex:z}))}return Ie.createElement(t,co({ref:x,className:vg(`${l}${e?` ${e}`:""}`)},O),Ie.createElement(Lj.Provider,{value:b.current},P["container-start"],Ie.createElement(n,{className:kj(k.wrapperClass)},P["wrapper-start"],D(),P["wrapper-end"]),gg(k)&&Ie.createElement(Ie.Fragment,null,Ie.createElement("div",{ref:v,className:"swiper-button-prev"}),Ie.createElement("div",{ref:j,className:"swiper-button-next"})),yg(k)&&Ie.createElement("div",{ref:_,className:"swiper-scrollbar"}),xg(k)&&Ie.createElement("div",{ref:w,className:"swiper-pagination"}),P["container-end"]))});ad.displayName="Swiper";const sd=N.forwardRef(({tag:e="div",children:t,className:n="",swiper:a,zoom:s,lazy:i,virtualIndex:o,swiperSlideIndex:c,...l}={},u)=>{const p=N.useRef(null),[h,d]=N.useState("swiper-slide"),[f,y]=N.useState(!1);function x(j,v,w){v===p.current&&d(w)}os(()=>{if(typeof c<"u"&&(p.current.swiperSlideIndex=c),u&&(u.current=p.current),!(!p.current||!a)){if(a.destroyed){h!=="swiper-slide"&&d("swiper-slide");return}return a.on("_slideClass",x),()=>{a&&a.off("_slideClass",x)}}}),os(()=>{a&&p.current&&!a.destroyed&&d(a.getSlideClasses(p.current))},[a]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},g=()=>typeof t=="function"?t(b):t,m=()=>{y(!0)};return Ie.createElement(e,co({ref:p,className:vg(`${h}${n?` ${n}`:""}`),"data-swiper-slide-index":o,onLoad:m},l),s&&Ie.createElement(Rh.Provider,{value:b},Ie.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},g(),i&&!f&&Ie.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&Ie.createElement(Rh.Provider,{value:b},g(),i&&!f&&Ie.createElement("div",{className:"swiper-lazy-preloader"})))});sd.displayName="SwiperSlide";function Ij(e,t,n,a){return e.params.createElements&&Object.keys(a).forEach(s=>{if(!n[s]&&n.auto===!0){let i=hr(e.el,`.${a[s]}`)[0];i||(i=lo("div",a[s]),i.className=a[s],e.el.append(i)),n[s]=i,t[s]=i}}),n}const Mj='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function wg({swiper:e,extendParams:t,on:n,emit:a}){t({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(f){let y;return f&&typeof f=="string"&&e.isElement&&(y=e.el.querySelector(f)||e.hostEl.querySelector(f),y)?y:(f&&(typeof f=="string"&&(y=[...document.querySelectorAll(f)]),e.params.uniqueNavElements&&typeof f=="string"&&y&&y.length>1&&e.el.querySelectorAll(f).length===1?y=e.el.querySelector(f):y&&y.length===1&&(y=y[0])),f&&!y?f:y)}function i(f,y){const x=e.params.navigation;f=xr(f),f.forEach(b=>{b&&(b.classList[y?"add":"remove"](...x.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](x.lockClass))})}function o(){const{nextEl:f,prevEl:y}=e.navigation;if(e.params.loop){i(y,!1),i(f,!1);return}i(y,e.isBeginning&&!e.params.rewind),i(f,e.isEnd&&!e.params.rewind)}function c(f){f.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function l(f){f.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function u(){const f=e.params.navigation;if(e.params.navigation=Ij(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(f.nextEl||f.prevEl))return;let y=s(f.nextEl),x=s(f.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:x}),y=xr(y),x=xr(x);const b=(g,m)=>{if(g){if(f.addIcons&&g.matches(".swiper-button-next,.swiper-button-prev")&&!g.querySelector("svg")){const j=document.createElement("div");zc(j,Mj),g.appendChild(j.querySelector("svg")),j.remove()}g.addEventListener("click",m==="next"?l:c)}!e.enabled&&g&&g.classList.add(...f.lockClass.split(" "))};y.forEach(g=>b(g,"next")),x.forEach(g=>b(g,"prev"))}function p(){let{nextEl:f,prevEl:y}=e.navigation;f=xr(f),y=xr(y);const x=(b,g)=>{b.removeEventListener("click",g==="next"?l:c),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};f.forEach(b=>x(b,"next")),y.forEach(b=>x(b,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?d():(u(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{p()}),n("enable disable",()=>{let{nextEl:f,prevEl:y}=e.navigation;if(f=xr(f),y=xr(y),e.enabled){o();return}[...f,...y].filter(x=>!!x).forEach(x=>x.classList.add(e.params.navigation.lockClass))}),n("click",(f,y)=>{let{nextEl:x,prevEl:b}=e.navigation;x=xr(x),b=xr(b);const g=y.target;let m=b.includes(g)||x.includes(g);if(e.isElement&&!m){const j=y.path||y.composedPath&&y.composedPath();j&&(m=j.find(v=>x.includes(v)||b.includes(v)))}if(e.params.navigation.hideOnClick&&!m){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===g||e.pagination.el.contains(g)))return;let j;x.length?j=x[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(j=b[0].classList.contains(e.params.navigation.hiddenClass)),a(j===!0?"navigationShow":"navigationHide"),[...x,...b].filter(v=>!!v).forEach(v=>v.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),o()},d=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:h,disable:d,update:o,init:u,destroy:p})}function Rj(){const e=Ce(),{topProducts:t}=Rs();return r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(ng,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"c nh gi cao"})]}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Sn phm ni bt"})]}),r.jsxs("button",{onClick:()=>e("/products"),className:"hidden md:flex items-center space-x-2 hover:underline font-medium",children:[r.jsx("span",{children:"Xem tt c"}),r.jsx(zt,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ad,{modules:[wg],navigation:{nextEl:".custom-swiper-next",prevEl:".custom-swiper-prev"},spaceBetween:24,slidesPerView:1,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:4}},className:"!pb-10",children:t.slice(0,10).map(n=>{var a,s,i;return r.jsx(sd,{children:r.jsx(td,{product:{id:String(n.product_id),name:n.product_name,price:Number(n.product_price),image:n.product_image,average_rating:Number(n.average_rating??n.averageRating??0),description:n.product_description,sport:(i=(s=(a=n.Team)==null?void 0:a.Tournament)==null?void 0:s.Sport)==null?void 0:i.sport_name,is_active:n.is_active},onViewDetails:()=>e(`/product/${n.product_id}`)})},n.product_id)})}),r.jsx("button",{className:"custom-swiper-prev absolute left-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Previous",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})})}),r.jsx("button",{className:"custom-swiper-next absolute right-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Next",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M9 6l6 6-6 6"})})})]})]})}function Dj(){const e=Ce(),{sports:t}=Rs();return r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Mn th thao"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(n=>r.jsxs("div",{className:"group relative h-96 overflow-hidden cursor-pointer",onClick:()=>e(`/products?sport=${n.sport_id}`),children:[r.jsx("img",{src:n.sport_icon,alt:n.sport_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),r.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-8",children:[r.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:n.sport_name}),r.jsxs("div",{className:"inline-flex items-center space-x-2 text-white font-medium group-hover:underline",children:[r.jsx("span",{children:"Xem thm"}),r.jsx(zt,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},n.sport_id))})]})}function $j(){var o;const e=Ce(),{blogs:t,loading:n,error:a}=Ju(),s=t[0];if(n)return r.jsx("section",{className:"bg-gray-100 py-20 text-center",children:"ang ti blog..."});if(a)return r.jsx("section",{className:"bg-gray-100 py-20 text-center text-red-600",children:a});if(!s)return r.jsx("section",{className:"bg-gray-100 py-20 text-center",children:"Khng c blog mi nht."});const i=t.slice(1,3);return r.jsx("section",{className:"bg-gray-100 py-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Tin tc"}),r.jsxs("button",{className:"flex items-center gap-2 text-black font-semibold hover:underline text-base",onClick:()=>e("/blog"),children:["Xem thm ",r.jsx(zt,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-12",children:[r.jsx("div",{children:r.jsx("img",{src:s.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:s.blog_title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold leading-tight",children:s.blog_title}),r.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:((o=s.blog_content)==null?void 0:o.slice(0,120))+"..."}),r.jsxs("button",{onClick:()=>e(`/blog/${s.blog_id}`),className:"bg-black text-white px-8 py-4 font-semibold hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",children:[r.jsx("span",{children:"c bi vit"}),r.jsx(zt,{className:"w-5 h-5"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map(c=>{var l;return r.jsxs("div",{className:"cursor-pointer",onClick:()=>e(`/blog/${c.blog_id}`),children:[r.jsx("img",{src:c.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:c.blog_title,className:"w-full h-full object-cover",style:{height:"400px"}}),r.jsxs("div",{className:"pt-3",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.blog_title}),r.jsx("p",{className:"text-gray-600 text-sm mb-1 line-clamp-2",children:((l=c.blog_content)==null?void 0:l.slice(0,80))+"..."}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:(()=>{const u=new Date(c.created_at),p=u.getUTCDate(),h=u.getUTCMonth()+1,d=u.getUTCFullYear();return`${p}/${h}/${d}`})()}),r.jsxs("button",{className:"bg-black text-white px-4 py-2 font-semibold hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",onClick:u=>{u.stopPropagation(),e(`/blog/${c.blog_id}`)},children:[r.jsx("span",{children:"c bi vit"}),r.jsx(zt,{className:"w-4 h-4"})]})]})]},c.blog_id)})})]})})}function zj(){return r.jsxs("div",{className:"min-h-screen",children:[r.jsx(a1,{}),r.jsx(Rj,{}),r.jsx(Dj,{}),r.jsx($j,{})]})}function li({title:e,children:t,defaultOpen:n=!1}){const[a,s]=N.useState(n);return r.jsxs("div",{children:[r.jsxs("button",{className:"flex justify-between items-center w-full py-3 font-semibold border-b",onClick:()=>s(i=>!i),type:"button",children:[r.jsx("span",{children:e}),r.jsx("span",{className:"ml-2",children:a?"":""})]}),a&&r.jsx("div",{className:"py-2",children:t})]})}function Bj({categories:e,selectedCategory:t,setSelectedCategory:n,selectedSport:a,setSelectedSport:s,selectedTournament:i,setSelectedTournament:o,selectedTeam:c,setSelectedTeam:l}){const{sports:u,products:p}=Rs(),h=Array.from(new Set(p.filter(f=>{var y,x,b;return!a||((b=(x=(y=f.Team)==null?void 0:y.Tournament)==null?void 0:x.Sport)==null?void 0:b.sport_name)===a}).map(f=>{var y,x;return(x=(y=f.Team)==null?void 0:y.Tournament)==null?void 0:x.tournament_name}).filter(f=>!!f))),d=Array.from(new Set(p.filter(f=>{var y,x,b,g,m;return(!a||((b=(x=(y=f.Team)==null?void 0:y.Tournament)==null?void 0:x.Sport)==null?void 0:b.sport_name)===a)&&(!i||((m=(g=f.Team)==null?void 0:g.Tournament)==null?void 0:m.tournament_name)===i)}).map(f=>{var y;return(y=f.Team)==null?void 0:y.team_name}).filter(f=>!!f)));return r.jsxs("aside",{className:"w-full md:w-64 pr-4 space-y-4 border-r",children:[r.jsx("button",{className:"mb-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded font-medium w-full",onClick:()=>{n("Tt c"),s(""),o(""),l("")},children:"t li b lc"}),r.jsx(li,{title:t==="Tt c"?"Phn loi":`Phn loi: ${t}`,defaultOpen:!0,children:r.jsx("div",{className:"space-y-2",children:e.map(f=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${t===f?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:t===f,onChange:()=>n(f),className:"accent-black"}),r.jsx("span",{children:f})]},f))})}),r.jsx(li,{title:a===""?"Mn th thao":`Mn th thao: ${a}`,children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-2 py-1 rounded",children:[r.jsx("input",{type:"radio",checked:a==="",onChange:()=>s(""),className:"accent-black"}),r.jsx("span",{children:"Tt c"})]}),u.map(f=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${a===f.sport_name?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:a===f.sport_name,onChange:()=>s(f.sport_name),className:"accent-black"}),r.jsx("span",{children:f.sport_name})]},f.sport_id))]})}),r.jsx(li,{title:i===""?"Gii u":`Gii u: ${i}`,children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-2 py-1 rounded",children:[r.jsx("input",{type:"radio",checked:i==="",onChange:()=>o(""),className:"accent-black"}),r.jsx("span",{children:"Tt c"})]}),h.map(f=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${i===f?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:i===f,onChange:()=>o(f),className:"accent-black"}),r.jsx("span",{children:f})]},f))]})}),r.jsx(li,{title:c===""?"i bng":`i bng: ${c}`,children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-2 py-1 rounded",children:[r.jsx("input",{type:"radio",checked:c==="",onChange:()=>l(""),className:"accent-black"}),r.jsx("span",{children:"Tt c"})]}),d.map(f=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${c===f?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:c===f,onChange:()=>l(f),className:"accent-black"}),r.jsx("span",{children:f})]},f))]})})]})}function Fj({setQuery:e}){const[t,n]=N.useState(""),a=i=>{n(i.target.value),e(i.target.value)},s=()=>{n(""),e("")};return r.jsx("div",{className:"relative w-full max-w-md mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",className:"w-full border rounded px-4 py-2 focus:outline-none focus:border-black pr-10",placeholder:"Tm kim sn phm...",value:t,onChange:a}),t&&r.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black",onClick:s,tabIndex:-1,type:"button","aria-label":"Xa tm kim",children:""})]})})}function Vj({selectedSort:e,setSelectedSort:t}){return r.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Lc theo:"}),r.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"border border-gray-300 px-4 py-2 text-sm focus:outline-none focus:border-black",children:[r.jsx("option",{value:"featured",children:"Mc nh"}),r.jsx("option",{value:"price-low",children:"Gi: Thp n Cao"}),r.jsx("option",{value:"price-high",children:"Gi: Cao n Thp"}),r.jsx("option",{value:"newest",children:"Mi Nht"})]})]})}function Hj({products:e,onViewDetails:t}){return Ce(),e.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No products found in this category."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(n=>{var a,s,i;return r.jsx(td,{product:{id:n.product_id,name:n.product_name,price:Number(n.product_price),image:n.product_image,average_rating:n.average_rating,description:n.product_description,sport:(i=(s=(a=n.Team)==null?void 0:a.Tournament)==null?void 0:s.Sport)==null?void 0:i.sport_name,is_active:n.is_active},onViewDetails:t},n.product_id)})})}function Uj(){const e=Ce(),{products:t,sports:n,fetchProductsPaginated:a}=Rs(),s=N.useRef(null),[i]=ab(),{id:o}=qu();console.log(t[0]);const c=["Tt c","o u","Giy","Ph kin","Bng"],l=N.useMemo(()=>{const H=Array.from(new Set(t.map(F=>{var q;return(q=F.Category)==null?void 0:q.category_name}).filter(F=>!!F))).filter(F=>!c.includes(F));return[...c,...H]},[t]),[u,p]=N.useState(!1),[h,d]=N.useState("Tt c"),[f,y]=N.useState("mc nh"),[x,b]=N.useState(""),[g,m]=N.useState(""),[j,v]=N.useState(""),[w,_]=N.useState(""),[k,C]=N.useState(1),O=15,[S,T]=N.useState([]),[P,L]=N.useState(0),[B,M]=N.useState(!1),[I,D]=N.useState(""),[V,z]=N.useState(),[R,E]=N.useState();N.useEffect(()=>{const U=setTimeout(()=>{D(w)},500);return()=>clearTimeout(U)},[w]);const $=N.useMemo(()=>{let U=t;return U=U.filter(H=>{var F,q,X,G,K,W,Q;return(h==="Tt c"||((F=H.Category)==null?void 0:F.category_name)===h)&&(x===""||((G=(X=(q=H.Team)==null?void 0:q.Tournament)==null?void 0:X.Sport)==null?void 0:G.sport_name)===x)&&(g===""||((W=(K=H.Team)==null?void 0:K.Tournament)==null?void 0:W.tournament_name)===g)&&(j===""||((Q=H.Team)==null?void 0:Q.team_name)===j)}),w&&(U=U.filter(H=>H.product_name.toLowerCase().includes(w.toLowerCase()))),f==="price-low "?U=[...U].sort((H,F)=>H.product_price-F.product_price):f==="price-high"?U=[...U].sort((H,F)=>F.product_price-H.product_price):f==="newest"&&(U=[...U].sort((H,F)=>new Date(F.release_date??0).getTime()-new Date(H.release_date??0).getTime())),U},[t,h,x,g,j,w,f]);N.useEffect(()=>{M(!0),a({search:I,page:k,limit:O,category:h!=="Tt c"?h:void 0,sport:x||void 0,tournament:g||void 0,team:j||void 0,minPrice:V,maxPrice:R}).then(({products:U,total:H})=>{T(U),L(H),M(!1)})},[I,k,h,x,g,j,V,R]);const A=Math.ceil(P/O);return N.useEffect(()=>{C(1),s.current&&s.current.scrollIntoView({behavior:"smooth"})},[h,x,g,j,w,f]),N.useEffect(()=>{s.current&&s.current.scrollIntoView({behavior:"smooth"})},[k]),N.useEffect(()=>{const U=i.get("sport");if(U&&n.length>0){const H=n.find(F=>String(F.sport_id)===String(U));H&&b(H.sport_name)}},[i,n]),console.log("totalPages:",A),r.jsxs("div",{className:"min-h-screen pt-24 pb-12 bg-white",children:[r.jsx("div",{ref:s}),r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Tt c sn phm"}),r.jsxs("p",{className:"text-gray-600",children:["ang c ",$.length," ",($.length===1,"sn phm")]})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("aside",{className:"w-64 hidden md:block",children:r.jsx("div",{className:"sticky top-28",children:r.jsx(Bj,{categories:l,selectedCategory:h,setSelectedCategory:d,selectedSport:x,setSelectedSport:b,selectedTournament:g,setSelectedTournament:m,selectedTeam:j,setSelectedTeam:v})})}),r.jsxs("main",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Fj,{setQuery:_})}),r.jsx("div",{children:r.jsx(Vj,{selectedSort:f,setSelectedSort:y})})]}),r.jsx(Hj,{products:S,onViewDetails:U=>e(`/product/${U}`)}),B&&r.jsx("div",{className:"flex justify-center py-4",children:r.jsx("span",{className:"loader"})}),A>1&&r.jsxs("div",{className:"flex justify-center mt-12 gap-1 select-none",children:[r.jsx("button",{className:"px-2 text-gray-500 hover:text-black transition disabled:opacity-40 disabled:cursor-not-allowed bg-transparent border-none rounded-none",onClick:()=>C(U=>Math.max(1,U-1)),disabled:k===1,"aria-label":"Trang trc",style:{background:"none",border:"none",borderRadius:0},children:r.jsx("span",{className:"text-base",children:"<"})}),(()=>{let U=[];if(A<=5)for(let H=1;H<=A;H++)U.push(H);else{U.push(1,2),k>3&&U.push("...");for(let H=Math.max(3,k-1);H<=Math.min(A-2,k+1);H++)H!==1&&H!==A&&U.push(H);k<A-2&&U.push("..."),U.push(A-1,A),U=U.filter((H,F,q)=>typeof H=="string"||H>=1&&H<=A&&q.indexOf(H)===F)}return U.map((H,F)=>typeof H=="number"?r.jsx("button",{className:`px-2 text-lg transition bg-transparent border-none rounded-none
              ${k===H?"text-black font-bold":"text-gray-700 hover:text-black"}
            `,onClick:()=>C(H),"aria-current":k===H?"page":void 0,style:{background:"none",border:"none",borderRadius:0},children:H},H):r.jsx("span",{className:"px-2 text-gray-400",style:{background:"none",border:"none",borderRadius:0},children:"..."},`ellipsis-${F}`))})(),r.jsx("button",{className:"px-2 text-gray-500 hover:text-black transition disabled:opacity-40 disabled:cursor-not-allowed bg-transparent border-none rounded-none",onClick:()=>C(U=>Math.min(A,U+1)),disabled:k===A,"aria-label":"Trang sau",style:{background:"none",border:"none",borderRadius:0},children:r.jsx("span",{className:"text-base",children:">"})})]})]})]})]})]})}function qj({images:e,mainImage:t,className:n}){const[a,s]=N.useState(0),i=t?[t,...e.filter(o=>o!==t)]:e;return r.jsxs("div",{className:n,children:[r.jsx("div",{className:"bg-gray-100 rounded-xl overflow-hidden mb-6 flex items-center justify-center shadow-lg",style:{height:520,width:"100%"},children:r.jsx("img",{src:i[a],alt:"nh sn phm",className:"object-cover w-full h-full transition-all duration-500"})}),r.jsx("div",{className:"flex justify-center space-x-5",children:i.map((o,c)=>r.jsx("button",{onClick:()=>s(c),className:`rounded-xl overflow-hidden border-2 transition-all duration-200 bg-white
              ${a===c?"border-black opacity-100":"border-transparent opacity-40 hover:opacity-80"}
            `,style:{width:88,height:66},type:"button",children:r.jsx("img",{src:o,alt:`Thumbnail ${c+1}`,className:"object-cover w-full h-full"})},o+c))})]})}function Gj({reviews:e,averageRating:t}){const[n,a]=N.useState(!1);return r.jsxs("div",{className:"border-t border-b py-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>a(!n),children:[r.jsxs("span",{className:"text-2xl font-semibold",children:["nh gi (",e.length,")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dh,{rating:t}),r.jsx(Ds,{className:`w-6 h-6 transition-transform ${n?"rotate-180":""}`})]})]}),n&&r.jsxs("div",{className:"mt-6 space-y-6",children:[e.length===0&&r.jsx("div",{className:"text-gray-500",children:"Cha c nh gi no."}),e.map((s,i)=>r.jsxs("div",{className:"border-b pb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Dh,{rating:s.rating}),r.jsx("span",{className:"text-xs text-gray-400",children:s.user_name||"n danh"}),s.created_at&&r.jsx("span",{className:"text-xs text-gray-400",children:new Date(s.created_at).toLocaleDateString("vi-VN")})]}),r.jsx("div",{className:"text-gray-700",children:s.comment})]},i))]})]})}function Dh({rating:e}){const t=Math.floor(e),n=e-t>=.25&&e-t<.75,a=5-t-(n?1:0);return r.jsxs("span",{className:"flex text-xl text-yellow-500",children:[[...Array(t)].map((s,i)=>r.jsx("span",{children:""},i)),n&&r.jsx("span",{className:"text-yellow-400",children:""},"half"),[...Array(a)].map((s,i)=>r.jsx("span",{className:"text-gray-300",children:""},i+t+1))]})}function Kj(){const[e,t]=N.useState(!1);return r.jsxs("div",{className:"border-t border-b py-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>t(!e),children:[r.jsx("span",{className:"text-2xl font-semibold",children:"Chnh sch"}),r.jsx(Ds,{className:`w-6 h-6 transition-transform ${e?"rotate-180":""}`})]}),e&&r.jsxs("div",{className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Hb,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-1",children:"Min ph vn chuyn"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Min ph vn chuyn cho n hng trn 2.000.000 "})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Db,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-1",children:"i tr d dng"}),r.jsx("p",{className:"text-sm text-gray-600",children:"i tr trong 60 ngy vi sn phm cha s dng"})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(gr,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-1",children:"Bo hnh 2 nm"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Bo hnh chnh hng 2 nm cho mi sn phm"})]})]})]})]})}const Wj="/api";function Xj({productId:e}){const[t,n]=N.useState([]),a=Ce();return N.useEffect(()=>{async function s(){try{const o=await(await fetch(`${Wj}/products/related/${e}`)).json();n(o.products||o)}catch{n([])}}e&&s()},[e]),t.length?r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsx("div",{children:r.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider text-black-700",children:"Cc sn phm lin quan"})})}),r.jsxs("div",{className:"relative",children:[r.jsx(ad,{modules:[wg],navigation:{nextEl:".related-swiper-next",prevEl:".related-swiper-prev"},spaceBetween:24,slidesPerView:1,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:4}},className:"!pb-10",children:t.map(s=>{var i,o,c;return r.jsx(sd,{children:r.jsx(td,{product:{id:String(s.product_id),name:s.product_name,price:Number(s.product_price),image:s.product_image,average_rating:Number(s.average_rating??0),description:s.product_description,sport:(c=(o=(i=s.Team)==null?void 0:i.Tournament)==null?void 0:o.Sport)==null?void 0:c.sport_name,is_active:s.is_active},onViewDetails:()=>a(`/product/${s.product_id}`)})},s.product_id)})}),r.jsx("button",{className:"related-swiper-prev absolute left-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Previous",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})})}),r.jsx("button",{className:"related-swiper-next absolute right-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Next",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M9 6l6 6-6 6"})})})]})]}):null}const jr="/api",Ya=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),ci=[{name:"en",hex:"#222"},{name:"Trng",hex:"#fff"},{name:"",hex:"#dc2626"}];function Qj(){const[e,t]=N.useState([]);return N.useEffect(()=>{async function n(){try{const s=await(await fetch(`${jr}/products/top?limit=4`)).json();t(s.products||[])}catch{t([])}}n()},[]),e.length?r.jsxs("div",{className:"mt-16",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Sn phm ni bt"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:e.map(n=>r.jsxs("div",{className:"bg-white shadow hover:shadow-lg transition p-4 flex flex-col items-center cursor-pointer",onClick:()=>window.location.href=`/product/${n.product_id}`,children:[r.jsx("img",{src:n.product_image,alt:n.product_name,className:"w-24 h-24 object-contain mb-3"}),r.jsx("div",{className:"font-semibold text-gray-900 text-center",children:n.product_name}),r.jsx("div",{className:"text-black font-bold mt-1",children:Ya(n.product_price)})]},n.product_id))})]}):null}function Yj(){var R,E,$;const{id:e}=qu(),[t,n]=N.useState(null),[a,s]=N.useState(""),[i,o]=N.useState(0),[c,l]=N.useState(0),[u,p]=N.useState(""),[h,d]=N.useState([]),[f,y]=N.useState([]),[x,b]=N.useState(0),[g,m]=N.useState([]),j=Ce(),{refresh:v}=Zu(),{refresh:w}=ed();if(N.useEffect(()=>{p("")},[a,i]),N.useEffect(()=>{async function A(){try{const H=await(await fetch(`${jr}/products/${e}`)).json();n(H.product||H)}catch{n(null)}}A()},[e]),N.useEffect(()=>{async function A(){if(e)try{const H=await(await fetch(`${jr}/variants/product/${e}`)).json();m(H.variants||[])}catch{m([])}}A()},[e]),N.useEffect(()=>{const A=localStorage.getItem("token");if(A)try{const H=JSON.parse(atob(A.split(".")[1])).user_id;fetch(`${jr}/wishlist/wishlist-items/${H}`,{headers:{Authorization:`Bearer ${A}`}}).then(F=>F.json()).then(F=>{const q=Array.isArray(F.items)?F.items.map(X=>X.variant_id):[];d(q)})}catch{}},[e]),N.useEffect(()=>{async function A(){const H=await(await fetch(`${jr}/review/product/${t.product_id}`)).json();y(H.reviews||[]),b(H.average_rating||0)}t!=null&&t.product_id&&A()},[t==null?void 0:t.product_id]),!t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("span",{children:"ang ti sn phm..."})});const _=(((R=t.Category)==null?void 0:R.category_name)||t.category||"").toLowerCase(),k=_.includes("o")||_.includes("qun o"),C=_.includes("giy"),O=_.includes("bng"),S=_.includes("ph kin")||_.includes("dng c"),T=(()=>{if(k)return g.find(A=>A.variant_size===a);if(C)return g.find(A=>{var U;return A.variant_size===a&&((U=A.variant_color)==null?void 0:U.toLowerCase())===ci[i].name.toLowerCase()});if(S)return g.find(A=>{var U;return((U=A.variant_color)==null?void 0:U.toLowerCase())===ci[i].name.toLowerCase()});if(O)return g[0]})(),P=T&&h.includes(T.variant_id),L=async()=>{const A=localStorage.getItem("token"),U=!!A;let H=T;if(O&&g.length>0&&(H=g[0]),k&&!a){p("Vui lng chn kch c!");return}if(C&&(!a||!ci[i])){p("Vui lng chn kch c v mu!");return}if(S&&!ci[i]){p("Vui lng chn mu!");return}if(!H){p("Khng tm thy phin bn sn phm ph hp!");return}if(U)try{if(!(await fetch(`${jr}/cart/add`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({variant_id:H.variant_id,quantity:1})})).ok)throw new Error("Thm vo gi hng tht bi!");ee("Thm sn phm vo gi hng thnh cng!","success"),j("/cart")}catch{p("Thm vo gi hng tht bi!"),ee("Thm vo gi hng tht bi!","error")}else{const F=JSON.parse(localStorage.getItem("cart")||"[]"),q=F.findIndex(X=>X.variant_id===H.variant_id);q!==-1?F[q].quantity+=1:F.push({id:T.variant_id,product_id:t.product_id,variant_id:T.variant_id,quantity:1,name:t.product_name,price:t.product_price,image:t.product_image,size:T.variant_size,color:T.variant_color}),localStorage.setItem("cart",JSON.stringify(F)),w(),ee("Thm sn phm vo gi hng thnh cng!","success"),j("/cart")}},B=async()=>{const A=localStorage.getItem("token");if(!A){ee("Bn cn ng nhp  thm vo yu thch!","error"),j("/login",{state:{from:`/product/${e}`}});return}if(!T){ee("Vui lng chn phn loi!","error");return}try{const H=JSON.parse(atob(A.split(".")[1])).user_id,X=(await(await fetch(`${jr}/wishlist/${H}`,{headers:{Authorization:`Bearer ${A}`}})).json()).wishlist_id,K=await(await fetch(`${jr}/wishlist/add/${X}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({variant_id:T.variant_id,added_at:new Date().toISOString()})})).json();K.success?(ee(" thm vo danh sch yu thch!","success"),v(),fetch(`${jr}/wishlist/wishlist-items/${H}`,{headers:{Authorization:`Bearer ${A}`}}).then(W=>W.json()).then(W=>{const Q=Array.isArray(W.items)?W.items.map(ne=>ne.variant_id):[];d(Q)})):ee(K.message||" c trong danh sch yu thch!","info")}catch{ee("Thm vo danh sch yu thch tht bi!","error")}},M=O&&g.length>0&&g[0].variant_stock===0;t.is_active===!1||t.is_active;const I=((E=t.Product_Images)==null?void 0:E.map(A=>A.image_url))||[],D={en:"#222",Trng:"#fff",:"#dc2626"},V=Array.from(new Set(g.map(A=>A.variant_size))),z=Array.from(new Set(g.map(A=>A.variant_color)));return r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-5",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsx("div",{className:"space-y-4",children:r.jsx(qj,{images:I,mainImage:t.product_image})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 uppercase tracking-wider mb-2",children:(($=t.Category)==null?void 0:$.category_name)||t.category}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:t.product_name||t.name}),r.jsx("div",{className:"flex items-center space-x-3",children:t.discountPrice?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-3xl font-bold",children:Ya(t.discountPrice)}),r.jsx("span",{className:"text-xl text-gray-500 line-through",children:Ya(t.price)}),r.jsxs("span",{className:"bg-black text-white text-sm font-semibold px-3 py-1",children:["Tit kim"," ",Ya(t.price-t.discountPrice)]})]}):r.jsx("span",{className:"text-3xl font-bold",children:Ya(t.product_price||t.price)})})]}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.product_description||t.description}),k&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold block mb-3",children:"Chn kch c"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:Array.from(new Set(g.map(A=>A.variant_size))).map(A=>{const U=g.find(F=>F.variant_size===A),H=!U||U.variant_stock===0;return r.jsx("button",{onClick:()=>!H&&s(A),className:`py-3 text-center border-2 font-medium transition-colors ${a===A?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"} ${H?"opacity-50 cursor-not-allowed":""}`,disabled:H,children:A},A)})}),a&&T&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["S lng cn li:"," ",r.jsx("span",{className:"font-semibold",children:T.variant_stock})]})]}),C&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold block mb-3",children:"Chn kch c"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.map(A=>{const U=g.find(F=>F.variant_size===A&&F.variant_color===z[i]),H=!U||U.variant_stock===0;return r.jsx("button",{onClick:()=>!H&&s(A),className:`py-3 text-center border-2 font-medium transition-colors ${a===A?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"} ${H?"opacity-50 cursor-not-allowed":""}`,disabled:H,children:A},A)})}),a&&T&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["S lng cn li:"," ",r.jsx("span",{className:"font-semibold",children:T.variant_stock})]})]}),C&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"font-semibold",children:"Chn mu"}),r.jsx("span",{className:"text-sm text-gray-600",children:z[i]})]}),r.jsx("div",{className:"flex space-x-3",children:z.map((A,U)=>{const H=g.find(q=>q.variant_size===a&&q.variant_color===A),F=!H||H.variant_stock===0;return r.jsx("button",{onClick:()=>!F&&o(U),className:`w-12 h-12 border-2 transition-colors ${i===U?"border-black":"border-gray-300"} ${F?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:D[A]||"#eee"},title:A,disabled:F,children:A},A)})})]}),r.jsxs("div",{className:"flex space-x-4",children:[M?r.jsxs("button",{className:"flex-1 bg-gray-400 text-white py-4 font-semibold cursor-not-allowed flex items-center justify-center gap-2",style:{borderRadius:0},disabled:!0,children:[r.jsx($c,{className:"w-5 h-5"})," ht hng"]}):r.jsxs("button",{className:"flex-1 bg-black text-white py-4 font-semibold hover:bg-gray-900 transition-colors flex items-center justify-center gap-2",style:{borderRadius:0},onClick:L,children:[r.jsx($c,{className:"w-5 h-5"}),"Thm vo gi hng"]}),r.jsx("button",{className:`w-14 h-14 border-2 ${P?"border-black":"border-gray-300"} flex items-center justify-center hover:border-gray-400 transition-colors`,style:{borderRadius:0},onClick:B,disabled:P,title:P?" c trong danh sch yu thch":"Thm vo danh sch yu thch",children:r.jsx(ao,{className:"w-5 h-5",color:P?"black":"gray",fill:P?"black":"none"})})]}),u&&r.jsx("div",{className:"text-red-600 text-sm mt-2",children:u}),r.jsx(Kj,{}),r.jsx(Gj,{reviews:f,averageRating:t.average_rating||0})]})]}),r.jsx(Qj,{}),r.jsx(Xj,{productId:t.product_id})]})})}const $h="/api",Jj=["M","L","XL"];function Ng({productId:e,currentSize:t,currentColor:n,onClose:a,onUpdate:s}){var C,O;const[i,o]=N.useState(!0),[c,l]=N.useState(null),[u,p]=N.useState([]),[h,d]=N.useState(t||""),[f,y]=N.useState(n||""),[x,b]=N.useState(null);N.useEffect(()=>{o(!0),fetch(`${$h}/products/${e}`).then(S=>{if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);return S.json()}).then(S=>{const T=S.product?S.product:S;l(T),fetch(`${$h}/variants/product/${e}`).then(P=>{if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);return P.json()}).then(P=>{p(Array.isArray(P.variants)?P.variants:[]),o(!1)}).catch(P=>{console.error("Li khi fetch variants:",P),p([]),o(!1)})}).catch(S=>{console.error("Li khi fetch sn phm:",S),l(null),p([]),o(!1)})},[e]);const g=((O=(C=c==null?void 0:c.Category)==null?void 0:C.category_name)==null?void 0:O.toLowerCase())||"";console.log("categoryName:",g);const m=g.includes("o u"),j=g.includes("giy"),v=g.includes("bng"),w=g.includes("ph kin");let _=[],k=[];return w?_=Jj:(m||j)&&(_=[...new Set(u.map(S=>S.variant_size).filter(S=>!!S))]),j&&(k=[...new Set(u.map(S=>S.variant_color).filter(S=>!!S))]),console.log("sizes:",_),console.log("colors:",k),console.log("variants:",u),N.useEffect(()=>{let S;m||w?S=u.find(T=>T.variant_size===h):j?S=u.find(T=>T.variant_size===h&&T.variant_color===f):v&&(S=u[0]),b(S||null)},[h,f,u,m,j,w,v]),i?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-12 text-xl font-semibold",children:"ang ti d liu sn phm..."})}):c?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl flex overflow-hidden relative min-h-[520px]",children:[r.jsx("div",{className:"flex-1 bg-gray-100 flex items-center justify-center p-0 min-h-[520px]",children:r.jsx("img",{src:c.product_image,alt:c.product_name,className:"object-contain w-full h-full",style:{maxHeight:520}})}),r.jsxs("div",{className:"flex-1 p-12 flex flex-col min-w-[400px] relative",children:[r.jsx("button",{className:"absolute top-6 right-6 text-gray-500 hover:text-black text-3xl",onClick:a,"aria-label":"ng",children:r.jsx(Re,{})}),r.jsx("h2",{className:"text-2xl font-bold mb-1",children:c.product_name}),r.jsxs("div",{className:"text-gray-700 mb-6 text-lg font-semibold",children:[Number(c.product_price).toLocaleString("vi-VN"),""]}),(m||j||w)&&r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"mb-2 font-semibold text-base",children:"Chn kch c"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:_.map(S=>{let T=!1;return m||w?T=!u.find(P=>P.variant_size===S&&P.variant_stock>0):j&&(T=!u.find(P=>P.variant_size===S&&P.variant_color===f&&P.variant_stock>0)),r.jsx("button",{onClick:()=>d(S),className:`py-3 rounded-md border text-base font-medium transition-colors ${h===S?"border-black bg-black text-white":"border-gray-300 hover:border-black bg-white"} ${T?"opacity-50 cursor-not-allowed":""}`,disabled:T,children:S},S)})})]}),j&&r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"mb-2 font-semibold text-base",children:"Chn mu"}),r.jsx("div",{className:"flex gap-3",children:k.map(S=>{const T=!u.find(P=>P.variant_color===S&&P.variant_size===h&&P.variant_stock>0);return r.jsx("button",{onClick:()=>y(S),className:`px-6 py-3 rounded-md border text-base font-medium transition-colors ${f===S?"border-black bg-black text-white":"border-gray-300 hover:border-black bg-white"} ${T?"opacity-50 cursor-not-allowed":""}`,disabled:T,children:S},S)})})]}),x&&r.jsxs("div",{className:"mb-6 text-gray-600 text-sm",children:["S lng cn li:"," ",r.jsx("span",{className:"font-semibold",children:x.variant_stock})]}),r.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[r.jsx("button",{className:`w-full py-3 rounded-md font-semibold text-lg ${x?"bg-black text-white hover:bg-gray-900":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,disabled:!x,onClick:()=>x&&s(x),children:"Cp nht sn phm"}),r.jsx("button",{className:"w-full py-3 rounded-md border border-black text-black font-semibold hover:bg-gray-100",onClick:a,children:"Hy"})]})]})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-12 text-xl font-semibold text-red-600",children:"Khng th ti d liu sn phm. Vui lng th li!"})})}const yr="/api",za=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function Zj({onNavigate:e}){const[t,n]=N.useState([]),[a,s]=N.useState(!1),[i,o]=N.useState(null),[c,l]=N.useState(null),[u,p]=N.useState(null),h=Ce(),{setOrderItems:d,setOrderSource:f}=Yu(),{refresh:y}=ed();N.useEffect(()=>{const _=localStorage.getItem("token");if(s(!!_),_){let k="";try{k=JSON.parse(atob(_.split(".")[1])).user_id}catch{s(!1)}k&&fetch(`${yr}/cart/${k}`,{headers:{Authorization:`Bearer ${_}`}}).then(C=>C.json()).then(C=>{if(!C.cart_id){n([]),o(null);return}o(C.cart_id),fetch(`${yr}/cart/items/${C.cart_id}`,{headers:{Authorization:`Bearer ${_}`}}).then(O=>O.json()).then(O=>{const S=Array.isArray(O)?O.map(T=>{var P,L,B,M,I,D,V,z,R;return{id:T.variant_id,product_id:(P=T.Variant)==null?void 0:P.product_id,name:((B=(L=T.Variant)==null?void 0:L.Product)==null?void 0:B.product_name)||"",price:Number((I=(M=T.Variant)==null?void 0:M.Product)==null?void 0:I.product_price)||0,image:((V=(D=T.Variant)==null?void 0:D.Product)==null?void 0:V.product_image)||"",size:((z=T.Variant)==null?void 0:z.variant_size)||"",color:((R=T.Variant)==null?void 0:R.variant_color)||"",quantity:T.quantity}}):[];n(S),y()}).catch(()=>n([]))}).catch(()=>n([]))}else{const k=JSON.parse(localStorage.getItem("cart")||"[]");n(k)}},[]);const x=async(_,k)=>{const C=t.find(S=>S.id===_);if(!C)return;const O=C.quantity+k;if(O<=0){l(_);return}if(a&&i){const S=localStorage.getItem("token");try{if(!(await fetch(`${yr}/cart/update`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({cart_id:i,variant_id:_,quantity:O})})).ok)throw new Error("Cp nht tht bi");const L=await(await fetch(`${yr}/cart/items/${i}`,{headers:{Authorization:`Bearer ${S}`}})).json(),B=Array.isArray(L)?L.map(M=>{var I,D,V,z,R,E,$,A,U;return{id:M.variant_id,product_id:(I=M.Variant)==null?void 0:I.product_id,name:((V=(D=M.Variant)==null?void 0:D.Product)==null?void 0:V.product_name)||"",price:Number((R=(z=M.Variant)==null?void 0:z.Product)==null?void 0:R.product_price)||0,image:(($=(E=M.Variant)==null?void 0:E.Product)==null?void 0:$.product_image)||"",size:((A=M.Variant)==null?void 0:A.variant_size)||"",color:((U=M.Variant)==null?void 0:U.variant_color)||"",quantity:M.quantity}}):[];n(B),y()}catch{ee("Cp nht s lng tht bi!","error")}}else n(S=>{const T=S.map(P=>P.id===_?{...P,quantity:O}:P);return localStorage.setItem("cart",JSON.stringify(T)),y(),T})},b=async _=>{if(a&&i){const k=localStorage.getItem("token");try{if(!(await fetch(`${yr}/cart/remove/${i}/${_}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`}})).ok)throw new Error("Xa tht bi");const S=await(await fetch(`${yr}/cart/items/${i}`,{headers:{Authorization:`Bearer ${k}`}})).json(),T=Array.isArray(S)?S.map(P=>{var L,B,M,I,D,V,z,R,E;return{id:P.variant_id,product_id:(L=P.Variant)==null?void 0:L.product_id,name:((M=(B=P.Variant)==null?void 0:B.Product)==null?void 0:M.product_name)||"",price:Number((D=(I=P.Variant)==null?void 0:I.Product)==null?void 0:D.product_price)||0,image:((z=(V=P.Variant)==null?void 0:V.Product)==null?void 0:z.product_image)||"",size:((R=P.Variant)==null?void 0:R.variant_size)||"",color:((E=P.Variant)==null?void 0:E.variant_color)||"",quantity:P.quantity}}):[];n(T),ee(" xa sn phm thnh cng!","success"),y()}catch{ee("Xa sn phm tht bi!","error")}}else n(k=>{const C=k.filter(O=>String(O.id)!==String(_));return localStorage.setItem("cart",JSON.stringify(C)),ee(" xa sn phm thnh cng!","success"),y(),C})},g=async _=>{if(u){if(a&&i){const k=localStorage.getItem("token");try{if(!(await fetch(`${yr}/cart/change-variant`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({cart_id:i,old_variant_id:u.id,new_variant_id:_.variant_id,quantity:u.quantity})})).ok)throw new Error("Cp nht tht bi");const S=await(await fetch(`${yr}/cart/items/${i}`,{headers:{Authorization:`Bearer ${k}`}})).json(),T=Array.isArray(S)?S.map(P=>{var L,B,M,I,D,V,z,R,E;return{id:P.variant_id,product_id:(L=P.Variant)==null?void 0:L.product_id,name:((M=(B=P.Variant)==null?void 0:B.Product)==null?void 0:M.product_name)||"",price:Number((D=(I=P.Variant)==null?void 0:I.Product)==null?void 0:D.product_price)||0,image:((z=(V=P.Variant)==null?void 0:V.Product)==null?void 0:z.product_image)||"",size:((R=P.Variant)==null?void 0:R.variant_size)||"",color:((E=P.Variant)==null?void 0:E.variant_color)||"",quantity:P.quantity}}):[];n(T),ee(" cp nht sn phm thnh cng!","success"),y()}catch{ee("Cp nht sn phm tht bi!","error")}}else n(k=>{const C=k.map(O=>O.id===u.id?{...O,id:String(_.variant_id),size:_.variant_size||"",color:_.variant_color||""}:O);return localStorage.setItem("cart",JSON.stringify(C)),y(),C}),ee(" cp nht sn phm thnh cng!","success");p(null)}},m=t.reduce((_,k)=>_+k.price*k.quantity,0),j=m>15e5?0:15e3,v=m+j,w=async()=>{if(a){const _=localStorage.getItem("token"),C=await(await fetch(`${yr}/cart/items/${i}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}})).json();d(C),f("cart"),h("/order-info")}else{if(JSON.parse(localStorage.getItem("cart")||"[]").length===0)return;h("/order-info")}};return r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Gi hng"}),t.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg mb-6",children:"Gi hng ca bn ang trng"}),r.jsx("button",{onClick:()=>e("products"),className:"bg-black text-white px-8 py-3 font-semibold hover:bg-gray-800 transition-colors",children:"Tip tc mua sm"})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(_=>r.jsxs("div",{className:"flex items-center space-x-4 bg-white border border-gray-200 p-4",children:[r.jsx("img",{src:_.image,alt:_.name,className:"w-24 h-24 object-cover bg-gray-100"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-lg mb-1 truncate",children:_.name}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Kch c: ",_.size," | Mu: ",_.color]}),r.jsx("p",{className:"font-semibold",children:za(_.price)})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>x(_.id,-1),className:"w-8 h-8 border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:r.jsx(Mb,{className:"w-4 h-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:_.quantity}),r.jsx("button",{onClick:()=>x(_.id,1),className:"w-8 h-8 border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:r.jsx(wt,{className:"w-4 h-4"})})]}),r.jsx("button",{onClick:()=>b(_.id),className:"p-2 hover:bg-gray-100 rounded transition-colors",children:r.jsx(Kt,{className:"w-5 h-5 text-gray-500"})}),r.jsx("button",{className:"ml-2 px-3 py-1 border border-black rounded text-sm hover:bg-gray-100 transition",onClick:()=>p(_),children:"i size/mu"})]},_.id))}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 sticky top-24",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",children:"Tm tt n hng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),r.jsx("span",{className:"font-medium",children:za(m)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),r.jsx("span",{className:"font-medium",children:j===0?"Min ph":za(j)})]}),m<15e5&&r.jsxs("div",{className:"text-xs text-gray-600 pt-2 border-t border-gray-300",children:["Mua thm ",za(15e5-m),"  c min ph vn chuyn"]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold mb-6 pt-4 border-t border-gray-300",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:za(v)})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("button",{onClick:w,className:"w-full py-3 bg-black text-white font-semibold hover:bg-gray-900 transition",style:{borderRadius:0},children:"Tin hnh t hng"}),r.jsx("button",{onClick:()=>e("products"),className:"w-full border-2 border-black text-black py-4 font-semibold hover:bg-gray-100 transition-colors",children:"Tip tc mua sm"})]})]})})]}),c&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:[r.jsx("div",{className:"bg-white border border-black rounded-lg shadow-lg p-7 w-[340px] animate-fade-in",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-11 h-11 flex items-center justify-center rounded-full bg-gray-100 mb-4",children:r.jsx(Kt,{className:"w-6 h-6 text-black"})}),r.jsx("h3",{className:"font-bold text-lg mb-2 text-black text-center",children:"Xc nhn xa sn phm?"}),r.jsx("p",{className:"text-gray-700 text-center mb-6",children:"Sn phm s b xa khi gi hng ca bn. Bn chc chn mun tip tc?"}),r.jsxs("div",{className:"flex gap-3 w-full",children:[r.jsx("button",{onClick:()=>l(null),className:"flex-1 py-2 rounded-lg border border-black text-black font-semibold hover:bg-gray-100 transition",children:"Hy"}),r.jsx("button",{onClick:()=>{b(c),l(null)},className:"flex-1 py-2 rounded-lg bg-black text-white font-semibold hover:bg-gray-900 transition",children:"Xa"})]})]})}),r.jsx("style",{children:`
                .animate-fade-in {
                  animation: fadeInModal 0.18s cubic-bezier(.4,0,.2,1);
                }
                @keyframes fadeInModal {
                  from { opacity: 0; transform: translateY(24px);}
                  to { opacity: 1; transform: none;}
                }
              `})]}),u&&r.jsx(Ng,{productId:u.product_id,currentSize:u.size,currentColor:u.color,onClose:()=>p(null),onUpdate:_=>{g({..._,variant_size:_.variant_size??"",variant_color:_.variant_color??""})}})]})})}const ew=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function tw({items:e}){return e.reduce((t,n)=>t+Number(n.price)*n.quantity,0),r.jsxs("div",{className:"bg-white border border-gray-200 p-4 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sn phm"}),e.length===0?r.jsx("div",{className:"text-gray-500",children:"Khng c sn phm no trong gi hng."}):r.jsx("div",{className:"divide-y mb-6",children:e.map(t=>r.jsxs("div",{className:"flex items-center py-3 gap-4",children:[r.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 object-cover bg-gray-100 rounded"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold truncate",children:t.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Kch c: ",t.size," | Mu: ",t.color]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["S lng: ",t.quantity]})]}),r.jsx("div",{className:"font-semibold text-base",children:ew(Number(t.price)*t.quantity)})]},t.id))})]})}function rw({value:e,onChange:t,error:n}){return r.jsxs("div",{className:"bg-white border border-gray-200  shadow p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thng tin ngi nhn"}),n&&r.jsx("div",{className:"text-red-600 mb-3 text-sm",children:n}),r.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["H v tn ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp h v tn",value:e.name,required:!0,onChange:a=>t({...e,name:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["S in thoi ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp s in thoi",value:e.phone,required:!0,onChange:a=>t({...e,phone:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["Email nhn hng ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp email",value:e.email,required:!0,onChange:a=>t({...e,email:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["a ch nhn hng ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp a ch",value:e.address,required:!0,onChange:a=>t({...e,address:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col md:col-span-2",children:[r.jsx("label",{className:"mb-1 font-medium text-gray-700",children:"Ghi ch (tu chn)"}),r.jsx("textarea",{className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Ghi ch cho n hng (nu c)",value:e.note,onChange:a=>t({...e,note:a.target.value}),rows:2})]})]})]})}const In=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function nw({vouchers:e=[],...t}){const{value:n,onChange:a,items:s,onConfirmPayment:i,onTotalChange:o}=t,[c,l]=N.useState(null),u=s.reduce((y,x)=>y+Number(x.price)*x.quantity,0),p=u>=15e5?0:15e3,h=c?Number(c.discount_value):0,d=u-h+p;N.useEffect(()=>{t.onTotalChange&&t.onTotalChange(d)},[d]),N.useEffect(()=>{t.onOrderVoucherChange&&t.onOrderVoucherChange(c)},[c]);const f=y=>{if(!y||y.voucher_status&&y.voucher_status!=="active"||y.min_order_value!==void 0&&u<Number(y.min_order_value)||typeof y.usage_limit=="number"&&(y.used_count??0)>=y.usage_limit)return!1;const x=new Date;return!(y.start_date&&new Date(y.start_date)>x||y.end_date&&new Date(y.end_date)<x)};return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-8 flex flex-col items-center",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tm tt n hng"}),r.jsxs("div",{className:"space-y-3 mb-6 w-full",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),r.jsx("span",{className:"font-medium",children:In(u)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),r.jsx("span",{className:"font-medium",children:p===0?"Min ph":In(p)})]}),r.jsxs("div",{className:"mb-2 w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chn voucher gim gi n hng"}),r.jsxs("select",{className:"w-full px-4 py-2 border rounded bg-white text-sm",value:(c==null?void 0:c.voucher_id)??"",onChange:y=>{const x=e.find(b=>String(b.voucher_id)===y.target.value&&b.discount_type==="order");l(x?{...x,voucher_id:String(x.voucher_id)}:null)},children:[r.jsx("option",{value:"",children:"-- Khng chn voucher --"}),e.filter(y=>y.discount_type==="order").map(y=>{const x=f(y),b=typeof y.usage_limit=="number"?y.usage_limit:"";return r.jsxs("option",{value:y.voucher_id,disabled:!x,style:{color:x?"#222":"#bbb",fontSize:"13px",padding:"6px 0"},children:[y.voucher_code,Number(y.discount_value||0)>0?` - ${In(Number(y.discount_value||0))}`:"",b!==""?` | SL: ${b}`:"",x?"":" (Khng  iu kin)"]},y.voucher_id)})]})]}),h>0&&r.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-semibold mb-1",children:[r.jsx("span",{children:"Gim gi n hng"}),r.jsxs("span",{children:["-",In(h)]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold pt-4 border-t border-gray-300 mb-6 w-full",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:In(d)})]}),u<15e5&&r.jsxs("div",{className:"text-xs text-gray-600 pt-2 border-t border-gray-300",children:["Mua thm ",In(15e5-u),"  c min ph vn chuyn"]})]}),r.jsx("h2",{className:"text-xl font-bold mb-4 w-full",children:"Phng thc thanh ton"}),r.jsxs("div",{className:"flex flex-col gap-4 w-full items-center",children:[r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-2 rounded-lg border transition w-full ${n==="cod"?"border-black bg-gray-50 shadow":"border-gray-200 bg-white"}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:n==="cod",onChange:()=>a("cod"),style:{display:"none"}}),r.jsx(Zm,{className:"w-8 h-8 text-black"}),r.jsx("span",{className:"font-medium",children:"Tin mt"})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-2 rounded-lg border transition w-full ${n==="momo"?"border-black bg-gray-50 shadow":"border-gray-200 bg-white"}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:n==="momo",onChange:()=>a("momo"),style:{display:"none"}}),r.jsx(Kb,{className:"w-8 h-8 text-pink-500"}),r.jsx("span",{className:"font-medium",children:"MOMO"})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-2 rounded-lg border transition w-full ${n==="VnPay"?"border-black bg-gray-50 shadow":"border-gray-200 bg-white"}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:n==="VnPay",onChange:()=>a("VnPay"),style:{display:"none"}}),r.jsx(_b,{className:"w-8 h-8 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"VnPay"})]})]}),n&&r.jsx("button",{className:"mt-8 w-full py-3 bg-black text-white font-semibold rounded hover:bg-gray-900 transition",onClick:i,children:"Xc nhn thanh ton"})]})}var $o={},_g={exports:{}},aw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sw=aw,iw=sw;function kg(){}function Sg(){}Sg.resetWarningCache=kg;var ow=function(){function e(a,s,i,o,c,l){if(l!==iw){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Sg,resetWarningCache:kg};return n.PropTypes=n,n};_g.exports=ow();var Tg=_g.exports,Cg={L:1,M:0,Q:3,H:2},Eg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},lw=Eg;function Pg(e){this.mode=lw.MODE_8BIT_BYTE,this.data=e}Pg.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var cw=Pg,ui=Cg;function dr(e,t){this.totalCount=e,this.dataCount=t}dr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];dr.getRSBlocks=function(e,t){var n=dr.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=n.length/3,s=new Array,i=0;i<a;i++)for(var o=n[i*3+0],c=n[i*3+1],l=n[i*3+2],u=0;u<o;u++)s.push(new dr(c,l));return s};dr.getRsBlockTable=function(e,t){switch(t){case ui.L:return dr.RS_BLOCK_TABLE[(e-1)*4+0];case ui.M:return dr.RS_BLOCK_TABLE[(e-1)*4+1];case ui.Q:return dr.RS_BLOCK_TABLE[(e-1)*4+2];case ui.H:return dr.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var uw=dr;function Og(){this.buffer=new Array,this.length=0}Og.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var dw=Og,er={glog:function(e){if(e<1)throw new Error("glog("+e+")");return er.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return er.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var rt=0;rt<8;rt++)er.EXP_TABLE[rt]=1<<rt;for(var rt=8;rt<256;rt++)er.EXP_TABLE[rt]=er.EXP_TABLE[rt-4]^er.EXP_TABLE[rt-5]^er.EXP_TABLE[rt-6]^er.EXP_TABLE[rt-8];for(var rt=0;rt<255;rt++)er.LOG_TABLE[er.EXP_TABLE[rt]]=rt;var Ag=er,cn=Ag;function Oi(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var a=0;a<e.length-n;a++)this.num[a]=e[a+n]}Oi.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<e.getLength();a++)t[n+a]^=cn.gexp(cn.glog(this.get(n))+cn.glog(e.get(a)));return new Oi(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=cn.glog(this.get(0))-cn.glog(e.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(var a=0;a<e.getLength();a++)n[a]^=cn.gexp(cn.glog(e.get(a))+t);return new Oi(n,0).mod(e)}};var Lg=Oi,Mt=Eg,zh=Lg,hw=Ag,zr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Je={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Je.getBCHDigit(t)-Je.getBCHDigit(Je.G15)>=0;)t^=Je.G15<<Je.getBCHDigit(t)-Je.getBCHDigit(Je.G15);return(e<<10|t)^Je.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Je.getBCHDigit(t)-Je.getBCHDigit(Je.G18)>=0;)t^=Je.G18<<Je.getBCHDigit(t)-Je.getBCHDigit(Je.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Je.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case zr.PATTERN000:return(t+n)%2==0;case zr.PATTERN001:return t%2==0;case zr.PATTERN010:return n%3==0;case zr.PATTERN011:return(t+n)%3==0;case zr.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case zr.PATTERN101:return t*n%2+t*n%3==0;case zr.PATTERN110:return(t*n%2+t*n%3)%2==0;case zr.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new zh([1],0),n=0;n<e;n++)t=t.multiply(new zh([1,hw.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Mt.MODE_NUMBER:return 10;case Mt.MODE_ALPHA_NUM:return 9;case Mt.MODE_8BIT_BYTE:return 8;case Mt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Mt.MODE_NUMBER:return 12;case Mt.MODE_ALPHA_NUM:return 11;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Mt.MODE_NUMBER:return 14;case Mt.MODE_ALPHA_NUM:return 13;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,a=0;a<t;a++)for(var s=0;s<t;s++){for(var i=0,o=e.isDark(a,s),c=-1;c<=1;c++)if(!(a+c<0||t<=a+c))for(var l=-1;l<=1;l++)s+l<0||t<=s+l||c==0&&l==0||o==e.isDark(a+c,s+l)&&i++;i>5&&(n+=3+i-5)}for(var a=0;a<t-1;a++)for(var s=0;s<t-1;s++){var u=0;e.isDark(a,s)&&u++,e.isDark(a+1,s)&&u++,e.isDark(a,s+1)&&u++,e.isDark(a+1,s+1)&&u++,(u==0||u==4)&&(n+=3)}for(var a=0;a<t;a++)for(var s=0;s<t-6;s++)e.isDark(a,s)&&!e.isDark(a,s+1)&&e.isDark(a,s+2)&&e.isDark(a,s+3)&&e.isDark(a,s+4)&&!e.isDark(a,s+5)&&e.isDark(a,s+6)&&(n+=40);for(var s=0;s<t;s++)for(var a=0;a<t-6;a++)e.isDark(a,s)&&!e.isDark(a+1,s)&&e.isDark(a+2,s)&&e.isDark(a+3,s)&&e.isDark(a+4,s)&&!e.isDark(a+5,s)&&e.isDark(a+6,s)&&(n+=40);for(var p=0,s=0;s<t;s++)for(var a=0;a<t;a++)e.isDark(a,s)&&p++;var h=Math.abs(100*p/t/t-50)/5;return n+=h*10,n}},fw=Je,pw=cw,Ig=uw,Mg=dw,ln=fw,mw=Lg;function fr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var It=fr.prototype;It.addData=function(e){var t=new pw(e);this.dataList.push(t),this.dataCache=null};It.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};It.getModuleCount=function(){return this.moduleCount};It.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=Ig.getRSBlocks(e,this.errorCorrectLevel),n=new Mg,a=0,s=0;s<t.length;s++)a+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var i=this.dataList[s];n.put(i.mode,4),n.put(i.getLength(),ln.getLengthInBits(i.mode,e)),i.write(n)}if(n.getLengthInBits()<=a*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};It.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[n][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=fr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};It.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(0<=n&&n<=6&&(a==0||a==6)||0<=a&&a<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=a&&a<=4?this.modules[e+n][t+a]=!0:this.modules[e+n][t+a]=!1)};It.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var a=ln.getLostPoint(this);(n==0||e>a)&&(e=a,t=n)}return t};It.createMovieClip=function(e,t,n){var a=e.createEmptyMovieClip(t,n),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var o=i*s,c=0;c<this.modules[i].length;c++){var l=c*s,u=this.modules[i][c];u&&(a.beginFill(0,100),a.moveTo(l,o),a.lineTo(l+s,o),a.lineTo(l+s,o+s),a.lineTo(l,o+s),a.endFill())}return a};It.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};It.setupPositionAdjustPattern=function(){for(var e=ln.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var a=e[t],s=e[n];if(this.modules[a][s]==null)for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)i==-2||i==2||o==-2||o==2||i==0&&o==0?this.modules[a+i][s+o]=!0:this.modules[a+i][s+o]=!1}};It.setupTypeNumber=function(e){for(var t=ln.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var a=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=a}for(var n=0;n<18;n++){var a=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=a}};It.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,a=ln.getBCHTypeInfo(n),s=0;s<15;s++){var i=!e&&(a>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(a>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e};It.mapData=function(e,t){for(var n=-1,a=this.moduleCount-1,s=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var c=0;c<2;c++)if(this.modules[a][o-c]==null){var l=!1;i<e.length&&(l=(e[i]>>>s&1)==1);var u=ln.getMask(t,a,o-c);u&&(l=!l),this.modules[a][o-c]=l,s--,s==-1&&(i++,s=7)}if(a+=n,a<0||this.moduleCount<=a){a-=n,n=-n;break}}};fr.PAD0=236;fr.PAD1=17;fr.createData=function(e,t,n){for(var a=Ig.getRSBlocks(e,t),s=new Mg,i=0;i<n.length;i++){var o=n[i];s.put(o.mode,4),s.put(o.getLength(),ln.getLengthInBits(o.mode,e)),o.write(s)}for(var c=0,i=0;i<a.length;i++)c+=a[i].dataCount;if(s.getLengthInBits()>c*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+c*8+")");for(s.getLengthInBits()+4<=c*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=c*8||(s.put(fr.PAD0,8),s.getLengthInBits()>=c*8));)s.put(fr.PAD1,8);return fr.createBytes(s,a)};fr.createBytes=function(e,t){for(var n=0,a=0,s=0,i=new Array(t.length),o=new Array(t.length),c=0;c<t.length;c++){var l=t[c].dataCount,u=t[c].totalCount-l;a=Math.max(a,l),s=Math.max(s,u),i[c]=new Array(l);for(var p=0;p<i[c].length;p++)i[c][p]=255&e.buffer[p+n];n+=l;var h=ln.getErrorCorrectPolynomial(u),d=new mw(i[c],h.getLength()-1),f=d.mod(h);o[c]=new Array(h.getLength()-1);for(var p=0;p<o[c].length;p++){var y=p+f.getLength()-o[c].length;o[c][p]=y>=0?f.get(y):0}}for(var x=0,p=0;p<t.length;p++)x+=t[p].totalCount;for(var b=new Array(x),g=0,p=0;p<a;p++)for(var c=0;c<t.length;c++)p<i[c].length&&(b[g++]=i[c][p]);for(var p=0;p<s;p++)for(var c=0;c<t.length;c++)p<o[c].length&&(b[g++]=o[c][p]);return b};var gw=fr,id={};Object.defineProperty(id,"__esModule",{value:!0});var xw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yw=Tg,Rt=Dg(yw),Rg=N,di=Dg(Rg);function Dg(e){return e&&e.__esModule?e:{default:e}}function vw(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var bw={bgColor:Rt.default.oneOfType([Rt.default.object,Rt.default.string]).isRequired,bgD:Rt.default.string.isRequired,fgColor:Rt.default.oneOfType([Rt.default.object,Rt.default.string]).isRequired,fgD:Rt.default.string.isRequired,size:Rt.default.number.isRequired,title:Rt.default.string,viewBoxSize:Rt.default.number.isRequired,xmlns:Rt.default.string},od=(0,Rg.forwardRef)(function(e,t){var n=e.bgColor,a=e.bgD,s=e.fgD,i=e.fgColor,o=e.size,c=e.title,l=e.viewBoxSize,u=e.xmlns,p=u===void 0?"http://www.w3.org/2000/svg":u,h=vw(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return di.default.createElement("svg",xw({},h,{height:o,ref:t,viewBox:"0 0 "+l+" "+l,width:o,xmlns:p}),c?di.default.createElement("title",null,c):null,di.default.createElement("path",{d:a,fill:n}),di.default.createElement("path",{d:s,fill:i}))});od.displayName="QRCodeSvg";od.propTypes=bw;id.default=od;Object.defineProperty($o,"__esModule",{value:!0});$o.QRCode=void 0;var jw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ww=Tg,vr=Bs(ww),Nw=Cg,_w=Bs(Nw),kw=gw,Sw=Bs(kw),$g=N,Tw=Bs($g),Cw=id,Ew=Bs(Cw);function Bs(e){return e&&e.__esModule?e:{default:e}}function Pw(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var Ow={bgColor:vr.default.oneOfType([vr.default.object,vr.default.string]),fgColor:vr.default.oneOfType([vr.default.object,vr.default.string]),level:vr.default.string,size:vr.default.number,value:vr.default.string.isRequired},zo=(0,$g.forwardRef)(function(e,t){var n=e.bgColor,a=n===void 0?"#FFFFFF":n,s=e.fgColor,i=s===void 0?"#000000":s,o=e.level,c=o===void 0?"L":o,l=e.size,u=l===void 0?256:l,p=e.value,h=Pw(e,["bgColor","fgColor","level","size","value"]),d=new Sw.default(-1,_w.default[c]);d.addData(p),d.make();var f=d.modules;return Tw.default.createElement(Ew.default,jw({},h,{bgColor:a,bgD:f.map(function(y,x){return y.map(function(b,g){return b?"":"M "+g+" "+x+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:f.map(function(y,x){return y.map(function(b,g){return b?"M "+g+" "+x+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:f.length}))});$o.QRCode=zo;zo.displayName="QRCode";zo.propTypes=Ow;var Aw=$o.default=zo;const Rl="/api";function Lw({cartItems:e,recipient:t,amount:n,orderId:a,orderData:s,onBack:i,onConfirm:o}){const[c,l]=N.useState(null),[u,p]=N.useState(!0),[h,d]=N.useState(!1),[f,y]=N.useState(""),x=Math.round(n*.05),b=n+x;N.useEffect(()=>{async function m(){p(!0);try{const v=await(await fetch(`${Rl}/order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:a,order_status:"pending",...s})})).json();if(!v.success)throw new Error(v.message||"Khng th to n hng");console.log(" Created order with status pending:",a);const _=await(await fetch(`${Rl}/payment/momo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:b,orderId:a,orderInfo:`Thanh ton n hng #${a}`})})).json();console.log("MoMo API response:",_),l(_)}catch(j){console.error("MoMo API error:",j),l({message:j.message||"Khng th to giao dch MoMo."})}p(!1)}m()},[b,a,s]);const g=async()=>{d(!0),y("");try{const j=await(await fetch(`${Rl}/order/status/${a}`)).json();if(console.log("Order status:",j),j.success&&j.order){const v=j.order.order_status;v==="paid"||v===" thanh ton"?o():y("Cha nhn c thanh ton t MoMo. Vui lng qut m QR v thanh ton.")}else y("Khng th kim tra trng thi n hng.")}catch(m){console.error("Check payment error:",m),y("Li khi kim tra trng thi thanh ton.")}finally{d(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-200 py-10",children:r.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-2xl shadow-xl border border-gray-200 p-8 md:p-12",children:[r.jsxs("button",{onClick:i,className:"mb-6 flex items-center gap-2 text-blue-600 font-semibold hover:underline",children:[r.jsx(Lo,{className:"w-5 h-5"}),"Quay v"]}),r.jsx("div",{className:"text-3xl font-bold mb-4 text-pink-600 text-center tracking-wide",children:"Thanh ton bng MoMo"}),r.jsx("div",{className:"mb-6 text-center",children:r.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 px-4 py-1 rounded-full font-semibold text-base shadow",children:["M n hng: ",r.jsxs("span",{className:"font-bold",children:["#",a]})]})}),r.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-gray-800 text-lg",children:"Sn phm"}),r.jsx("ul",{className:"space-y-2",children:e.map(m=>r.jsxs("li",{className:"text-gray-700 text-base",children:[r.jsx("span",{className:"font-semibold",children:m.name})," -"," ",m.size,", ",m.color," x ",m.quantity," ",r.jsxs("span",{className:"text-gray-500",children:["(",m.price.toLocaleString(),")"]})]},m.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-gray-800 text-lg",children:"Thng tin ngi nhn"}),r.jsxs("div",{className:"text-gray-700 text-base space-y-1",children:[r.jsxs("div",{children:[r.jsx("b",{children:"H tn:"})," ",t.name]}),r.jsxs("div",{children:[r.jsx("b",{children:"in thoi:"})," ",t.phone]}),r.jsxs("div",{children:[r.jsx("b",{children:"Email:"})," ",t.email]}),r.jsxs("div",{children:[r.jsx("b",{children:"a ch:"})," ",t.address]}),t.note&&r.jsxs("div",{children:[r.jsx("b",{children:"Ghi ch:"})," ",t.note]})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold py-2 border-b border-gray-200",children:[r.jsx("span",{children:"Tng tin"}),r.jsxs("span",{className:"text-pink-600 text-2xl font-bold",children:[b.toLocaleString(),""]})]}),r.jsxs("div",{className:"flex justify-between items-center text-base py-2",children:[r.jsx("span",{children:"Ph giao dch (5%)"}),r.jsxs("span",{className:"text-gray-700",children:[x.toLocaleString(),""]})]})]}),r.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[r.jsx("h3",{className:"font-bold mb-4 text-gray-800 text-lg",children:"Qut m QR  thanh ton"}),r.jsx("div",{className:"p-4 bg-white border-2 border-gray-300 rounded-lg",children:u?r.jsx("div",{className:"w-[256px] h-[256px] flex items-center justify-center text-gray-500",children:"ang to m QR..."}):c!=null&&c.qrCodeUrl?r.jsx(Aw,{value:c.qrCodeUrl,size:256}):r.jsx("div",{className:"w-[256px] h-[256px] flex items-center justify-center text-red-500 text-center p-4",children:(c==null?void 0:c.message)||"Khng th to m QR"})}),r.jsx("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"M ng dng MoMo  Qut m  Xc nhn thanh ton"}),f&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm text-center",children:f})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("button",{className:"px-10 py-3 bg-pink-600 text-white rounded-lg font-bold text-lg shadow hover:bg-pink-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",onClick:g,disabled:h,children:[h&&r.jsx(Ab,{className:"w-5 h-5 animate-spin"}),h?"ang kim tra...":"Xc nhn  thanh ton"]})})]})})}const Ze=[];for(let e=0;e<256;++e)Ze.push((e+256).toString(16).slice(1));function Iw(e,t=0){return(Ze[e[t+0]]+Ze[e[t+1]]+Ze[e[t+2]]+Ze[e[t+3]]+"-"+Ze[e[t+4]]+Ze[e[t+5]]+"-"+Ze[e[t+6]]+Ze[e[t+7]]+"-"+Ze[e[t+8]]+Ze[e[t+9]]+"-"+Ze[e[t+10]]+Ze[e[t+11]]+Ze[e[t+12]]+Ze[e[t+13]]+Ze[e[t+14]]+Ze[e[t+15]]).toLowerCase()}let Dl;const Mw=new Uint8Array(16);function Rw(){if(!Dl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dl=crypto.getRandomValues.bind(crypto)}return Dl(Mw)}const Dw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bh={randomUUID:Dw};function $w(e,t,n){var s;e=e||{};const a=e.random??((s=e.rng)==null?void 0:s.call(e))??Rw();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Iw(a)}function zg(e,t,n){return Bh.randomUUID&&!e?Bh.randomUUID():$w(e)}const zw="/api",Bw=[{code:"VNPAYQR",name:"VNPAY QR"},{code:"VISA",name:"Th quc t (Visa/MasterCard/JCB)"},{code:"NCB",name:"Ngn hng NCB"},{code:"AGRIBANK",name:"Ngn hng Agribank"},{code:"BIDV",name:"Ngn hng BIDV"},{code:"VIETCOMBANK",name:"Ngn hng Vietcombank"}];function Fw({cartItems:e,recipient:t,amount:n,onBack:a}){const[s,i]=N.useState(null),[o,c]=N.useState(!1),[l,u]=N.useState(""),[p,h]=N.useState(()=>zg()),d=Math.round(n*.05),f=n+d,y=async()=>{c(!0);try{const b=await(await fetch(`${zw}/payment/vnpay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:f,orderId:p,orderInfo:`Thanh ton n hng #${p}`,bankCode:l})})).json();i(b),b.payUrl&&(window.location.href=b.payUrl)}catch{i({message:"Khng th to giao dch VNPAY."})}c(!1)};return r.jsx("div",{className:"min-h-screen flex items-start",children:r.jsx("div",{className:"w-full px-0 py-10 mt-6",children:r.jsxs("div",{className:"w-full max-w-5xl mx-auto bg-white rounded-xl py-10 px-12 shadow-2xl border border-gray-300",children:[r.jsxs("button",{onClick:a,className:"mb-6 flex items-center gap-2 text-black font-semibold hover:underline",children:[r.jsx(Lo,{className:"w-5 h-5"}),"Quay v"]}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("img",{src:"https://pay.vnpay.vn/images/logo_vnpay.png",alt:"VNPAY",className:"h-10"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"Thanh ton qua VNPAY"}),r.jsx("div",{className:"text-gray-500 text-sm",children:"Thanh ton t ng lin kt vi VNPAY, hon thnh tc th. Ph 5%"})]})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 text-lg font-semibold text-gray-700",children:[r.jsxs("div",{children:["S tin:"," ",r.jsxs("span",{className:"text-black",children:[n.toLocaleString(),""]})]}),r.jsxs("div",{children:["Ph giao dch:"," ",r.jsxs("span",{className:"text-black",children:[d.toLocaleString()," (5%)"]})]}),r.jsxs("div",{children:["Tng tin:"," ",r.jsxs("span",{className:"text-black",children:[f.toLocaleString(),""]})]})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"text-base font-semibold mb-2 text-gray-800",children:["Thanh ton n hng"," ",r.jsxs("span",{className:"text-blue-600 font-bold",children:["#",p]})]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Chn ngn hng/th  thanh ton:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Bw.map(x=>r.jsx("button",{type:"button",className:`border rounded px-4 py-2 text-left ${l===x.code?"border-blue-600 bg-blue-50":"border-gray-300 bg-white"} hover:border-blue-400`,onClick:()=>u(x.code),children:x.name},x.code))})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("button",{className:"px-8 py-3 bg-blue-600 text-white rounded font-semibold text-lg hover:bg-blue-700 transition",disabled:!l||o,onClick:y,children:o?"ang chuyn hng...":"Thanh ton"}),(s==null?void 0:s.message)&&r.jsx("div",{className:"mt-6 text-red-600 font-semibold",children:s.message})]}),r.jsx("div",{className:"mt-8 text-gray-600 text-sm text-center",children:'Sau khi nhn "Thanh ton", bn s c chuyn sang cng VNPAY  nhp thng tin th/ngn hng v hon tt giao dch.'})]})})})}function Vw({cartItems:e,recipient:t,amount:n,orderId:a,onBack:s,onConfirm:i}){const c=n+0;return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-200 py-10",children:r.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-2xl shadow-xl border border-gray-200 p-8 md:p-12",children:[r.jsxs("button",{onClick:s,className:"mb-6 flex items-center gap-2 text-blue-600 font-semibold hover:underline",children:[r.jsx(Lo,{className:"w-5 h-5"}),"Quay v"]}),r.jsx("div",{className:"text-3xl font-bold mb-4 text-green-700 text-center tracking-wide",children:"Thanh ton khi nhn hng (COD)"}),r.jsx("div",{className:"mb-6 text-center",children:r.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 px-4 py-1 rounded-full font-semibold text-base shadow",children:["M n hng: ",r.jsxs("span",{className:"font-bold",children:["#",a]})]})}),r.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-gray-800 text-lg",children:"Sn phm"}),r.jsx("ul",{className:"space-y-2",children:e.map(l=>r.jsxs("li",{className:"text-gray-700 text-base",children:[r.jsx("span",{className:"font-semibold",children:l.name})," -"," ",l.size,", ",l.color," x ",l.quantity," ",r.jsxs("span",{className:"text-gray-500",children:["(",l.price.toLocaleString(),")"]})]},l.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-gray-800 text-lg",children:"Thng tin ngi nhn"}),r.jsxs("div",{className:"text-gray-700 text-base space-y-1",children:[r.jsxs("div",{children:[r.jsx("b",{children:"H tn:"})," ",t.name]}),r.jsxs("div",{children:[r.jsx("b",{children:"in thoi:"})," ",t.phone]}),r.jsxs("div",{children:[r.jsx("b",{children:"Email:"})," ",t.email]}),r.jsxs("div",{children:[r.jsx("b",{children:"a ch:"})," ",t.address]}),t.note&&r.jsxs("div",{children:[r.jsx("b",{children:"Ghi ch:"})," ",t.note]})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold py-2 border-b border-gray-200",children:[r.jsx("span",{children:"Tng tin"}),r.jsxs("span",{className:"text-green-700 text-2xl font-bold",children:[c.toLocaleString(),""]})]}),r.jsxs("div",{className:"flex justify-between items-center text-base py-2",children:[r.jsx("span",{children:"Ph giao dch"}),r.jsxs("span",{className:"text-gray-700",children:[0 .toLocaleString(),""]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{className:"px-10 py-3 bg-green-600 text-white rounded-lg font-bold text-lg shadow hover:bg-green-700 transition",onClick:i,children:"Xc nhn thanh ton COD"})})]})})}function Hw(){return r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"loader mb-4"}),r.jsx("div",{className:"text-white font-semibold text-lg",children:"ang x l thanh ton..."})]}),r.jsx("style",{children:`
          .loader {
            border: 4px solid #fff;
            border-top: 4px solid #222;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
          }
          @keyframes spin {
            0% { transform: rotate(0deg);}
            100% { transform: rotate(360deg);}
          }
        `})]})}const Br="/api";function Uw(){const[e,t]=N.useState([]),[n,a]=N.useState({name:"",phone:"",email:"",address:"",note:""}),[s,i]=N.useState("cod"),[o,c]=N.useState(null),[l,u]=N.useState(""),[p,h]=N.useState(!1),[d,f]=N.useState(()=>zg()),[y,x]=N.useState([]),[b,g]=N.useState(null),[m,j]=N.useState(null),[v,w]=N.useState(null),[_,k]=N.useState(0),[C,O]=N.useState(!1),{orderItems:S,orderSource:T}=Yu(),{user:P}=jt(),L=Ce(),M=!!localStorage.getItem("token"),I=P!=null&&P.user_id?P.user_id:null;localStorage.getItem("cartId"),N.useEffect(()=>{if(M){const q=JSON.parse(localStorage.getItem("user")||"{}");if(a(X=>({name:q.user_name||X.name,phone:q.user_phone||X.phone,email:q.user_email||X.email,address:q.user_address||X.address,note:""})),S&&S.length>0){const X=S.map(G=>{var K,W,Q,ne,le,pe,ve,te,Y;return{id:String(G.variant_id??G.id),product_id:G.product_id??((K=G.Variant)==null?void 0:K.product_id),name:G.name??((Q=(W=G.Variant)==null?void 0:W.Product)==null?void 0:Q.product_name),price:Number(G.price??((le=(ne=G.Variant)==null?void 0:ne.Product)==null?void 0:le.product_price)),size:G.size??((pe=G.Variant)==null?void 0:pe.variant_size),color:G.color??((ve=G.Variant)==null?void 0:ve.variant_color),image:G.image??((Y=(te=G.Variant)==null?void 0:te.Product)==null?void 0:Y.product_image),quantity:G.quantity}});t(X)}}else{const q=JSON.parse(localStorage.getItem("cart")||"[]");t(q)}},[M,S]),N.useEffect(()=>{fetch(`${Br}/vouchers`).then(q=>q.json()).then(q=>{Array.isArray(q.data)?x(q.data):x([])})},[]);const D=async()=>{if(H()){O(!0);try{const X=await(await fetch(`${Br}/order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:d,order_date:new Date().toISOString(),order_status:"Ch xc nhn",total_amount:U,order_discount:E,shipping_fee:A,user_id:(P==null?void 0:P.user_id)??I,voucher_id:(m==null?void 0:m.voucher_id)??null,shipping_voucher_id:(v==null?void 0:v.voucher_id)??null,recipient_name:n.name,recipient_phone:n.phone,recipient_email:n.email,recipient_address:n.address,notes:n.note,products:e.map(W=>({variant_id:W.id,quantity:W.quantity,price_at_time:W.price*W.quantity}))})})).json();if(!X.success)throw new Error(X.message);const K=await(await fetch(`${Br}/payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method:"cod",payment_status:" thanh ton",payment_info:"Thanh ton khi nhn hng",paid_at:null,order_id:d,user_id:(P==null?void 0:P.user_id)??I,voucher_id:null})})).json();if(K.success===!1)throw new Error(K.message);if(c("success"),T==="cart")if(M&&I){const W=localStorage.getItem("token"),ne=await(await fetch(`${Br}/cart/${I}`,{headers:{Authorization:`Bearer ${W}`}})).json();console.log("cartData:",ne);const le=ne==null?void 0:ne.cart_id;console.log("cartId ly c  FE:",le),le&&(await fetch(`${Br}/cart/clear/${le}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}}),t([]))}else localStorage.removeItem("cart"),t([])}catch{c("fail")}finally{O(!1)}}},V=async()=>{O(!0);try{const X=await(await fetch(`${Br}/payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method:"momo",payment_status:" thanh ton",payment_info:`Thanh ton MoMo - n hng #${d}`,paid_at:new Date().toISOString(),order_id:d,user_id:(P==null?void 0:P.user_id)??I,voucher_id:null})})).json();if(X.success===!1)throw new Error(X.message);if(c("success"),T==="cart")if(M&&I){const G=localStorage.getItem("token"),W=await(await fetch(`${Br}/cart/${I}`,{headers:{Authorization:`Bearer ${G}`}})).json(),Q=W==null?void 0:W.cart_id;Q&&(await fetch(`${Br}/cart/clear/${Q}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}}),t([]))}else localStorage.removeItem("cart"),t([])}catch(q){console.error("Error:",q),c("fail")}finally{O(!1)}},z=e.reduce((q,X)=>q+Number(X.price)*X.quantity,0),R=z>=15e5?0:15e3,E=Number((m==null?void 0:m.discount_value)??0),$=Number((v==null?void 0:v.discount_value)??0),A=Math.max(0,R-$),U=Math.max(0,z+A-E);N.useEffect(()=>{console.log("showPayment:",p)},[p]);const H=()=>!n.name||!n.phone||!n.email||!n.address?(u("Vui lng nhp y  cc trng bt buc."),!1):(u(""),!0),F=new Date;return y.filter(q=>q.voucher_status==="active"&&z>=Number(q.min_order_value)&&(!q.usage_limit||(q.used_count??0)<q.usage_limit)&&(!q.start_date||new Date(q.start_date)<=F)&&(!q.end_date||new Date(q.end_date)>=F)),N.useEffect(()=>{if(o){const q=setTimeout(()=>{c(null),L("/cart")},1500);return()=>clearTimeout(q)}},[o,L]),r.jsxs("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:[r.jsx("div",{className:"max-w-5xl mx-auto px-6",children:p?s==="momo"?r.jsx(Lw,{cartItems:e,recipient:n,amount:U,orderId:d,orderData:{order_date:new Date().toISOString(),total_amount:U,order_discount:E,shipping_fee:A,user_id:(P==null?void 0:P.user_id)??I,voucher_id:(m==null?void 0:m.voucher_id)??null,shipping_voucher_id:(v==null?void 0:v.voucher_id)??null,recipient_name:n.name,recipient_phone:n.phone,recipient_email:n.email,recipient_address:n.address,notes:n.note,products:e.map(q=>({variant_id:q.id,quantity:q.quantity,price_at_time:q.price*q.quantity}))},onBack:()=>h(!1),onConfirm:V}):s==="VnPay"?r.jsx(Fw,{cartItems:e,recipient:n,amount:_,onBack:()=>h(!1)}):r.jsx(Vw,{cartItems:e,recipient:n,amount:_,orderId:d,onBack:()=>h(!1),onConfirm:D}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 mb-6 text-black font-semibold hover:underline",children:"Quay v"}),r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Thng tin n hng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-10 gap-8",children:[r.jsxs("div",{className:"md:col-span-6 flex flex-col",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(tw,{items:e}),r.jsx(rw,{value:n,onChange:a})]}),l&&r.jsx("div",{className:"mt-4 text-red-600 text-sm",children:l})]}),r.jsx("div",{className:"md:col-span-4",children:r.jsx(nw,{value:s,onChange:q=>{i(q),console.log("Chn phng thc:",q)},items:e,vouchers:y,onConfirmPayment:()=>{H()&&h(!0)},onTotalChange:k,onOrderVoucherChange:j,onShippingVoucherChange:w})})]})]})}),C&&r.jsx(Hw,{}),o&&r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{pointerEvents:"none"},children:[r.jsx("div",{className:"flex flex-col items-center px-8 py-8",style:{background:"rgba(0,0,0,0.7)",borderRadius:0,boxShadow:"none",minWidth:320,animation:"fadeInUp 0.7s cubic-bezier(.4,0,.2,1)",pointerEvents:"auto"},onClick:()=>c(null),children:o==="success"?r.jsxs(r.Fragment,{children:[r.jsx(jb,{className:"text-white",size:80}),r.jsx("div",{className:"mt-4 text-white font-bold text-xl",children:"Thanh ton thnh cng!"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Do,{className:"text-white",size:80}),r.jsx("div",{className:"mt-4 text-white font-bold text-xl",children:"Thanh ton tht bi!"})]})}),r.jsx("style",{children:`
              @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(40px);}
                to { opacity: 1; transform: translateY(0);}
              }
              .animate-fade-in { animation: fadeInUp 0.7s cubic-bezier(.4,0,.2,1);}
            `})]})]})}function qw(){var M,I;const e=Ce(),{getBlogsPaginated:t}=Ju(),[n,a]=N.useState([]),[s,i]=N.useState(!1),[o,c]=N.useState(null),[l,u]=N.useState(1),[p,h]=N.useState(1),[d,f]=N.useState(""),[y,x]=N.useState(""),[b,g]=N.useState(""),[m,j]=N.useState(""),[v]=N.useState(""),[w]=N.useState(""),[_,k]=N.useState([]),[C,O]=N.useState([]),S=9;N.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{try{const[V,z]=await Promise.all([fetch("/api/sports"),fetch("/api/tournaments")]),R=await V.json(),E=await z.json();Array.isArray(R)&&k(R),E.success&&E.tournaments&&O(E.tournaments)}catch(V){console.error("Error fetching filter data:",V)}})()},[]),N.useEffect(()=>{const D=setTimeout(()=>{x(d),u(1)},500);return()=>clearTimeout(D)},[d]),N.useEffect(()=>{u(1)},[b,m,v,w]);const T=N.useCallback(async()=>{i(!0),c(null);try{const D=await t(y,b,v,w,m,S,l);a(D.blogs||[]),h(D.pagination.totalPages||1)}catch(D){console.error("Error fetching blogs:",D),c("Khng th ti danh sch blog"),a([])}finally{i(!1)}},[y,b,v,w,m,l,t,S]);N.useEffect(()=>{T()},[T]);const P=()=>{if(p<=7)return Array.from({length:p},(R,E)=>E+1);const D=[1];l>3&&D.push("...");const V=Math.max(2,l-1),z=Math.min(p-1,l+1);for(let R=V;R<=z;R++)D.push(R);return l<p-2&&D.push("..."),D.push(p),D},L=n[0],B=n.slice(1);return r.jsx("div",{className:"pt-24 pb-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Blog Hun Luyn & Hiu Sut"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Gc nhn chuyn gia gip bn nng cao thnh tch th thao"})]}),r.jsx("div",{className:"mb-8",children:r.jsx("input",{type:"text",placeholder:"Tm kim blog theo tiu  hoc ni dung...",value:d,onChange:D=>f(D.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black"})}),r.jsxs("div",{className:"mb-8 flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"B mn:"}),r.jsxs("select",{value:b,onChange:D=>g(D.target.value),className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),_.map(D=>r.jsx("option",{value:D.sport_id.toString(),children:D.sport_name},D.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Gii u:"}),r.jsxs("select",{value:m,onChange:D=>j(D.target.value),className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),C.map(D=>r.jsx("option",{value:D.tournament_id.toString(),children:D.tournament_name},D.tournament_id))]})]})]}),s&&r.jsx("div",{className:"text-center py-20",children:"ang ti..."}),o&&r.jsx("div",{className:"text-center py-20 text-red-600",children:o}),!s&&!o&&!n.length&&r.jsx("div",{className:"text-center py-20",children:"Khng tm thy bi vit no ph hp vi b lc."}),!s&&!o&&n.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-16",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{className:"order-2 lg:order-1",children:[r.jsx("span",{className:"inline-block bg-black text-white text-xs font-semibold px-3 py-1 mb-4",children:"NI BT"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:L.blog_title}),r.jsx("p",{className:"text-gray-600 text-lg mb-6 leading-relaxed line-clamp-4",children:((M=L.blog_content)==null?void 0:M.slice(0,180))+"..."}),r.jsxs("div",{className:"flex items-center space-x-6 mb-6 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsx("span",{children:((I=L.User)==null?void 0:I.user_name)||L.author||"Admin"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:(()=>{const D=new Date(L.created_at),V=D.getUTCDate(),z=D.getUTCMonth()+1,R=D.getUTCFullYear();return`${V}/${z}/${R}`})()})]})]}),r.jsxs("button",{onClick:()=>e(`/blog/${L.blog_id}`),className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 font-semibold hover:bg-gray-800 transition-colors",children:[r.jsx("span",{children:"c bi vit"}),r.jsx(zt,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"order-1 lg:order-2",children:r.jsx("img",{src:L.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:L.blog_title,className:"w-full h-96 object-cover"})})]})}),r.jsx("div",{className:"mb-8",children:r.jsx("h2",{className:"text-2xl font-bold",children:"Bi vit mi nht"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:B.map(D=>{var V,z,R;return r.jsxs("article",{className:"group cursor-pointer",onClick:()=>e(`/blog/${D.blog_id}`),children:[r.jsx("div",{className:"bg-gray-100 mb-4 overflow-hidden",children:r.jsx("img",{src:D.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:D.blog_title,className:"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-500"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-600",children:((V=D.Sport)==null?void 0:V.sport_name)||"Blog"}),r.jsx("h3",{className:"text-xl font-bold group-hover:underline leading-snug",children:D.blog_title}),r.jsx("p",{className:"text-gray-600 leading-relaxed line-clamp-3",children:((z=D.blog_content)==null?void 0:z.slice(0,100))+"..."}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 pt-2",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Wt,{className:"w-3 h-3"}),r.jsx("span",{children:((R=D.User)==null?void 0:R.user_name)||D.author||"Admin"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Cs,{className:"w-3 h-3"}),r.jsx("span",{children:(()=>{const E=new Date(D.created_at),$=E.getUTCDate(),A=E.getUTCMonth()+1,U=E.getUTCFullYear();return`${$}/${A}/${U}`})()})]})]})]})]},D.blog_id)})}),p>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 py-12",children:[r.jsx("button",{onClick:()=>u(D=>Math.max(1,D-1)),disabled:l===1,className:"px-3 py-1 border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:""}),P().map((D,V)=>D==="..."?r.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${V}`):r.jsx("button",{onClick:()=>u(D),className:`px-3 py-1 border ${l===D?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:D},D)),r.jsx("button",{onClick:()=>u(D=>Math.min(p,D+1)),disabled:l===p,className:"px-3 py-1 border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:""})]})]})]})})}function Gw(){const e=Ce(),{login:t,register:n,user:a}=jt(),[s,i]=N.useState(!0),[o,c]=N.useState(!1),[l,u]=N.useState(!1),[p,h]=N.useState({username:"",email:"",password:"",confirmPassword:""}),[d,f]=N.useState(null),[y,x]=N.useState(!1),b=async g=>{if(g.preventDefault(),f(null),!s&&p.password!==p.confirmPassword){f("Passwords do not match");return}x(!0);try{if(s){await t(p.email,p.password);const m=localStorage.getItem("user");m&&(JSON.parse(m).role_id===0?e("/admin"):e("/"))}else await n(p.username,p.email,p.password),e("/")}catch(m){f(m.message||"Internal error")}finally{x(!1)}};return r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-md mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center mb-1",children:r.jsx("img",{src:"/assets/img/logo/logo_PantheraShop.png",alt:"Logo"})}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:s?"Cho mng tr li":"To ti khon"}),r.jsx("p",{className:"text-gray-600",children:s?"ng nhp  truy cp ti khon ca bn":"Tham gia cng chng ti  bt u hnh trnh th thao"})]}),d&&r.jsx("div",{className:"mb-4 text-red-600 font-medium text-sm",children:d}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[!s&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tn ng nhp"}),r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:p.username,onChange:g=>h({...p,username:g.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"JohnDoe",required:!s})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",value:p.email,onChange:g=>h({...p,email:g.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"email@.com",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mt khu"}),r.jsxs("div",{className:"relative",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:o?"text":"password",value:p.password,onChange:g=>h({...p,password:g.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"",required:!0}),r.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?r.jsx(bn,{className:"w-5 h-5"}):r.jsx(Vt,{className:"w-5 h-5"})})]})]}),!s&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Xc nhn mt khu"}),r.jsxs("div",{className:"relative",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:l?"text":"password",value:p.confirmPassword,onChange:g=>h({...p,confirmPassword:g.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"",required:!s}),r.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?r.jsx(bn,{className:"w-5 h-5"}):r.jsx(Vt,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",disabled:y,className:"w-full bg-black text-white py-3 font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50",children:y?"ang x l...":s?"ng nhp":"To ti khon"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600",children:[s?"Cha c ti khon? ":" c ti khon? ",r.jsx("button",{onClick:()=>i(!s),className:"text-black font-semibold hover:underline",children:s?"ng k":"ng nhp"})]})})]})})}function Bo(){return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-gray-300 border-t-black rounded-full animate-spin"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"ang ti d liu..."})]})}function Kw(){const{token:e,fetchProfile:t,logout:n,updateProfile:a,updatePassword:s,updateAvatar:i}=jt(),[o,c]=N.useState(null),[l,u]=N.useState(!0),[p,h]=N.useState(!1),[d,f]=N.useState(!1),[y,x]=N.useState({user_name:"",user_email:"",user_phone:"",user_address:""}),[b,g]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,j]=N.useState(!1),[v,w]=N.useState(!1),[_,k]=N.useState(!1),C=N.useRef(null),O=Ce();N.useEffect(()=>{if(!e)return;(async()=>{try{const B=await t();c(B)}catch{O("/login")}finally{u(!1)}})()},[e]),N.useEffect(()=>{o&&x({user_name:o.user_name||"",user_email:o.user_email||"",user_phone:o.user_phone||"",user_address:o.user_address||""})},[o]);const S=async L=>{var M;const B=(M=L.target.files)==null?void 0:M[0];if(B)try{const D=`${await i(B)}?t=${Date.now()}`;c(V=>({...V,avatar:D})),ee("Avatar updated!","success"),setTimeout(async()=>{const V=await t();c({...V,avatar:D})},1e3)}catch(I){ee(I.message||"Upload failed!","error")}},T=async L=>{L.preventDefault();try{await a(y),ee("Profile updated successfully!","success"),h(!1);const B=await t();c(B),ee("Profile updated successfully!","success")}catch{ee("Update failed!","error")}},P=async L=>{if(L.preventDefault(),b.newPassword!==b.confirmPassword){ee("Passwords do not match","error");return}if(b.newPassword.length<8){ee("Password must be at least 8 characters","error");return}try{const B=await s(b.currentPassword,b.newPassword);B&&B.success?(ee("Password changed successfully!","success"),g({currentPassword:"",newPassword:"",confirmPassword:""})):ee((B==null?void 0:B.message)||"Change password failed!","error")}catch(B){ee(B.message||"Change password failed!","error")}};return l?r.jsx(Bo,{}):o?r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Thng tin c nhn"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[r.jsxs("div",{className:"relative w-24 h-24 mb-4",children:[r.jsx("img",{src:o.avatar||"/default-avatar.png",alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border border-gray-300"}),r.jsx("button",{className:"absolute bottom-0 right-0 bg-black text-white rounded-full p-2 hover:bg-gray-800",onClick:()=>{var L;return(L=C.current)==null?void 0:L.click()},title:"i nh i din",type:"button",children:r.jsx(so,{className:"w-4 h-4"})}),r.jsx("input",{type:"file",accept:"image/*",ref:C,className:"hidden",onChange:S})]}),r.jsx("h2",{className:"text-xl font-bold mb-1",children:o.user_name}),r.jsx("p",{className:"text-sm text-gray-600",children:o.user_email})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsx("button",{onClick:()=>O("/order-history"),className:"w-full text-left px-4 py-3 border border-gray-200 hover:bg-gray-50 transition-colors font-medium",children:"Lch s n hng"}),r.jsx("button",{onClick:()=>f(!0),className:"w-full text-left px-4 py-3 border border-gray-200 hover:bg-gray-50 transition-colors font-medium",children:"i mt khu"}),r.jsx("button",{onClick:()=>{n(),O("/login")},className:"w-full text-left px-4 py-3 border border-gray-200 hover:bg-gray-50 transition-colors font-medium text-red-600",children:"ng xut"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Thng tin c nhn"}),p?r.jsx("button",{onClick:()=>h(!1),className:"text-sm font-medium text-gray-600 hover:underline",children:"Hy"}):r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 text-sm font-medium hover:underline",children:[r.jsx(so,{className:"w-4 h-4"}),r.jsx("span",{children:"Chnh sa"})]})]}),r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsx("span",{children:"H v tn"})]}),p?r.jsx("input",{type:"text",value:y.user_name,onChange:L=>x({...y,user_name:L.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black",required:!0}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:o.user_name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(va,{className:"w-4 h-4"}),r.jsx("span",{children:"Email"})]}),p?r.jsx("input",{type:"email",value:y.user_email,onChange:L=>x({...y,user_email:L.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black",required:!0}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:o.user_email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(zs,{className:"w-4 h-4"}),r.jsx("span",{children:"S in thoi"})]}),p?r.jsx("input",{type:"tel",value:y.user_phone,onChange:L=>x({...y,user_phone:L.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black"}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:o.user_phone||"Cha cp nht"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx($s,{className:"w-4 h-4"}),r.jsx("span",{children:"a ch"})]}),p?r.jsx("textarea",{value:y.user_address,onChange:L=>x({...y,user_address:L.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black",rows:3}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:o.user_address||"Cha cp nht"})]}),p&&r.jsxs("button",{type:"submit",className:"w-full bg-black text-white py-3 font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2",children:[r.jsx($b,{className:"w-5 h-5"}),r.jsx("span",{children:"Lu thay i"})]})]})]}),d&&r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"i mt khu"}),r.jsx("button",{onClick:()=>f(!1),className:"text-sm font-medium text-gray-600 hover:underline",children:"Hy"})]}),r.jsxs("form",{onSubmit:P,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(Cr,{className:"w-4 h-4"}),r.jsx("span",{children:"Mt khu hin ti"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Nhp mt khu hin ti",type:m?"text":"password",value:b.currentPassword,onChange:L=>g({...b,currentPassword:L.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black pr-10",required:!0}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>j(L=>!L),tabIndex:-1,children:m?r.jsx(bn,{className:"w-5 h-5"}):r.jsx(Vt,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(Cr,{className:"w-4 h-4"}),r.jsx("span",{children:"Mt khu mi"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Nhp mt khu mi",type:v?"text":"password",value:b.newPassword,onChange:L=>g({...b,newPassword:L.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black pr-10",required:!0,minLength:8}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>w(L=>!L),tabIndex:-1,children:v?r.jsx(bn,{className:"w-5 h-5"}):r.jsx(Vt,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ti thiu 8 k t"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(Cr,{className:"w-4 h-4"}),r.jsx("span",{children:"Xc nhn mt khu mi"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Nhp li mt khu mi",type:_?"text":"password",value:b.confirmPassword,onChange:L=>g({...b,confirmPassword:L.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black pr-10",required:!0,minLength:8}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>k(L=>!L),tabIndex:-1,children:_?r.jsx(bn,{className:"w-5 h-5"}):r.jsx(Vt,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-black text-white py-3 font-semibold hover:bg-gray-800 transition-colors",children:"Cp nht mt khu"})]})]})]})]})]})}):r.jsx("p",{children:"Khng th ti thng tin ngi dng"})}const Ww="/api",Bg=N.createContext(null),Xw=()=>N.useContext(Bg);function Qw({children:e}){const{token:t,isAuthenticated:n}=jt(),[a,s]=N.useState([]),[i,o]=N.useState(!0);return N.useEffect(()=>{async function c(){if(o(!0),!n||!t){s([]),o(!1);return}let l="";try{l=JSON.parse(atob(t.split(".")[1])).user_id}catch{}if(!l){s([]),o(!1);return}const p=await(await fetch(`${Ww}/orders/user/${l}`,{headers:{Authorization:`Bearer ${t}`}})).json();s(p.data||[]),o(!1)}c()},[t,n]),r.jsx(Bg.Provider,{value:{orders:a,loading:i},children:e})}function Yw(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}function Jw({item:e}){var n,a,s,i;const t=(n=e.Variant)==null?void 0:n.Product;return r.jsxs("div",{className:"flex items-center mb-4 last:mb-0",children:[r.jsx("img",{src:t==null?void 0:t.product_image,alt:t==null?void 0:t.product_name,className:"w-20 h-20 object-cover rounded mr-6 border"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-lg",children:t==null?void 0:t.product_name}),r.jsxs("div",{className:"text-gray-500 text-sm",children:["Size: ",((a=e.Variant)==null?void 0:a.variant_size)??"-"," | Color:"," ",((s=e.Variant)==null?void 0:s.variant_color)??"-"," | Qty: ",e.quantity]}),r.jsxs("div",{className:"text-xs text-gray-400",children:[(i=t==null?void 0:t.Category)==null?void 0:i.category_name," | ",t==null?void 0:t.product_description]})]}),r.jsx("div",{className:"font-bold text-lg ml-4",children:Yw(e.price_at_time)})]})}const Zw="/api";function eN({order:e,onClose:t}){var u,p;const[n,a]=N.useState(5),[s,i]=N.useState(""),o=localStorage.getItem("token"),c=(u=jt().user)==null?void 0:u.user_id,l=async()=>{try{for(const h of e.orderProducts||[])await fetch(`${Zw}/review`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({order_id:e.order_id,variant_id:h.variant_id,user_id:c,rating:n,comment:s})});a(5),i(""),t(),ee("nh gi thnh cng!","success")}catch{ee("Gi nh gi tht bi!","error")}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white w-full max-w-md rounded shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"nh gi sn phm"}),r.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[r.jsx("div",{className:"font-semibold mb-2",children:"Sn phm trong n hng:"}),r.jsx("ul",{children:(p=e.orderProducts)==null?void 0:p.map((h,d)=>{var f,y,x,b,g,m,j,v,w,_,k;return r.jsxs("li",{className:"flex items-center gap-3 mb-3",children:[r.jsx("img",{src:(y=(f=h.Variant)==null?void 0:f.Product)==null?void 0:y.product_image,alt:(b=(x=h.Variant)==null?void 0:x.Product)==null?void 0:b.product_name,className:"w-14 h-14 object-cover bg-gray-100 border"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold",children:(m=(g=h.Variant)==null?void 0:g.Product)==null?void 0:m.product_name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Loi: ",(w=(v=(j=h.Variant)==null?void 0:j.Product)==null?void 0:v.Category)==null?void 0:w.category_name," | Mu: ",((_=h.Variant)==null?void 0:_.variant_color)??"-"," | Size:"," ",((k=h.Variant)==null?void 0:k.variant_size)??"-"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["S lng: ",h.quantity," | Gi:"," ",Number(h.price_at_time).toLocaleString("vi-VN",{style:"currency",currency:"VND"})]})]})]},d)})})]}),r.jsx("div",{className:"mb-4 flex justify-center",children:[1,2,3,4,5].map(h=>r.jsx("span",{className:`cursor-pointer text-2xl ${h<=n?"text-yellow-400":"text-gray-300"}`,onClick:()=>a(h),children:""},h))}),r.jsx("textarea",{className:"w-full border rounded p-2 mb-4",rows:3,placeholder:"Nhn xt ca bn...",value:s,onChange:h=>i(h.target.value)}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded",onClick:t,children:"Hy"}),r.jsx("button",{className:"px-4 py-2 bg-yellow-500 text-white rounded font-semibold",onClick:l,children:"Gi nh gi"})]})]})})}const tN="/api";function rN(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}function nN({order:e}){var g;const{setOrderItems:t,setOrderSource:n}=Yu(),a=Ce(),{user:s,token:i}=jt(),[o,c]=N.useState(!1),[l,u]=N.useState(5),[p,h]=N.useState(""),[d,f]=N.useState(!1);N.useEffect(()=>{async function m(){if(!e.orderProducts)return;let j=!0;const v=s==null?void 0:s.user_id;for(const w of e.orderProducts)if(!(await(await fetch(`${tN}/review/check?order_id=${e.order_id}&variant_id=${w.variant_id}&user_id=${v}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:i?`Bearer ${i}`:""}})).json()).exists){j=!1;break}f(j)}e.order_status===" giao"&&m()},[e,s,i]);const y=()=>{if(!e.orderProducts)return;const m=e.orderProducts.map(j=>{var v,w,_,k,C,O,S;return{id:String(j.variant_id),product_id:(v=j.Variant)==null?void 0:v.product_id,name:(_=(w=j.Variant)==null?void 0:w.Product)==null?void 0:_.product_name,price:Number(j.price_at_time)/j.quantity,size:(k=j.Variant)==null?void 0:k.variant_size,color:(C=j.Variant)==null?void 0:C.variant_color,image:(S=(O=j.Variant)==null?void 0:O.Product)==null?void 0:S.product_image,quantity:j.quantity}});t(m),n("buyAgain"),a("/order-info")},x=()=>{a(`/order-detail/${e.order_id}`,{state:{order:e}})},b=()=>c(!0);return r.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between px-6 py-4 bg-gray-50 border-b",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-bold text-xl mr-2",children:e.order_id}),e.order_status==="Delivered"&&r.jsx(Io,{className:"inline-block text-green-600 w-5 h-5 align-middle"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"bg-green-100 text-green-700 px-4 py-1 rounded font-semibold text-sm",children:e.order_status}),r.jsx("span",{className:"text-2xl font-bold",children:rN(e.total_amount)})]})]}),r.jsxs("div",{className:"px-6 pt-2 pb-4 text-gray-500 text-sm border-b",children:[" t vo ",new Date(e.order_date).toLocaleDateString("vi-VN")]}),r.jsx("div",{className:"px-6 py-4",children:(g=e.orderProducts)==null?void 0:g.map((m,j)=>r.jsx(Jw,{item:m},j))}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 px-6 pb-6",children:[r.jsx("button",{className:"flex-1 border border-black py-3 font-semibold hover:bg-gray-100 transition",onClick:y,children:"Mua li"}),r.jsx("button",{className:"flex-1 border border-gray-300 py-3 font-semibold hover:bg-gray-100 transition",onClick:x,children:"Xem chi tit"}),e.order_status===" giao"&&(d?r.jsx("button",{className:"flex-1 border border-green-500 py-3 font-semibold text-green-700 bg-green-50 cursor-default",disabled:!0,children:" nh gi"}):r.jsx("button",{className:"flex-1 border border-yellow-500 py-3 font-semibold text-yellow-700 hover:bg-yellow-50 transition",onClick:b,children:"nh gi"}))]}),o&&r.jsx(eN,{order:e,onClose:()=>c(!1)})]})}const aN=["Tt c","Ch xc nhn","ang vn chuyn"," giao"," hy","ang x l"];function sN(){const{orders:e,loading:t}=Xw(),n=Ce(),[a,s]=N.useState("Tt c"),[i,o]=N.useState(""),[c,l]=N.useState("desc");let u=e;return a!=="Tt c"&&(u=u.filter(p=>p.order_status===a)),i?u=[...u].sort((p,h)=>{const d=Number(p.total_amount),f=Number(h.total_amount);return i==="desc"?f-d:d-f}):c&&(u=[...u].sort((p,h)=>c==="desc"?new Date(h.order_date).getTime()-new Date(p.order_date).getTime():new Date(p.order_date).getTime()-new Date(h.order_date).getTime())),r.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Lch s n hng"}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Trng thi:"}),r.jsx("select",{value:a,onChange:p=>s(p.target.value),className:"border px-2 py-1 rounded",children:aN.map(p=>r.jsx("option",{value:p,children:p},p))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Gi:"}),r.jsxs("select",{value:i,onChange:p=>{o(p.target.value),l("")},className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"-- Chn --"}),r.jsx("option",{value:"desc",children:"Gim dn"}),r.jsx("option",{value:"asc",children:"Tng dn"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Ngy:"}),r.jsxs("select",{value:c,onChange:p=>{l(p.target.value),o("")},className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"-- Chn --"}),r.jsx("option",{value:"desc",children:"Mi nht"}),r.jsx("option",{value:"asc",children:"C nht"})]})]})]}),t?r.jsx("div",{className:"text-center py-16",children:"ang ti..."}):u.length===0?r.jsx("div",{className:"text-center py-16",children:"Khng tm thy n hng no."}):r.jsx("div",{className:"space-y-8",children:u.map(p=>r.jsx(nN,{order:p},p.order_id))}),r.jsx("button",{className:"mt-8 px-4 py-2 bg-black text-white rounded",onClick:()=>n("/profile"),children:"Quay li trang c nhn"})]})})}function Fh(){var o,c;const{blog_id:e}=qu(),t=Ce(),{blogs:n,loading:a,error:s}=Ju();if(N.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),a)return r.jsx("div",{className:"text-center py-20",children:"ang ti..."});if(s)return r.jsx("div",{className:"text-center py-20 text-red-600",children:s});const i=n.find(l=>String(l.blog_id)===String(e));return i?r.jsxs("div",{className:"pt-24 pb-12 max-w-3xl mx-auto px-4",children:[r.jsxs("button",{className:"mb-6 flex items-center gap-2 text-black font-semibold hover:underline",onClick:()=>t("/blog"),children:[r.jsx(Lo,{className:"w-4 h-4"}),"Quay li Blog"]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:i.blog_title}),r.jsxs("div",{className:"flex items-center space-x-6 mb-6 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsx("span",{children:((o=i.User)==null?void 0:o.user_name)||"Admin"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:(()=>{const l=new Date(i.created_at),u=l.getUTCDate(),p=l.getUTCMonth()+1,h=l.getUTCFullYear();return`${u}/${p}/${h}`})()})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"font-semibold",children:(c=i.Sport)==null?void 0:c.sport_name})})]}),r.jsx("img",{src:i.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:i.blog_title,className:"w-full h-80 object-cover mb-8"}),r.jsx("div",{className:"text-lg text-gray-800 leading-relaxed whitespace-pre-line",children:i.blog_content})]}):r.jsx("div",{className:"text-center py-20",children:"Khng tm thy bi vit."})}function iN(){var $;const{variants:e,loading:t,remove:n,changeVariant:a,refresh:s,fetchWishlistItemsPaginated:i}=Zu(),{isAuthenticated:o}=jt(),[c,l]=N.useState("desc"),[u,p]=N.useState(""),[h,d]=N.useState(""),[f,y]=N.useState(""),[x,b]=N.useState(""),[g,m]=N.useState(!1),[j,v]=N.useState(null),w=Ce(),_=bt(),[k,C]=N.useState(1),[O,S]=N.useState([]),[T,P]=N.useState(0),[L,B]=N.useState(!1),M=5;N.useEffect(()=>{localStorage.getItem("token")||(ee("Bn cn phi ng nhp  truy cp trang ny","error"),w("/login"))},[w,o]),N.useEffect(()=>{const A=setTimeout(()=>{b(f)},500);return()=>clearTimeout(A)},[f]),N.useEffect(()=>{B(!0),i({search:x,page:k,limit:M,size:u||void 0,color:h||void 0,sortOrder:c}).then(({items:A,total:U})=>{S(A),P(U),B(!1)})},[x,k,u,h,c,i]),N.useEffect(()=>{C(1)},[x,u,h,c]);const I=Array.from(new Set(e.map(A=>A.variant_size).filter(Boolean))),D=Array.from(new Set(e.map(A=>A.variant_color).filter(Boolean))),V=Math.ceil(T/M);($=_.state)!=null&&$.from;const z=A=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(A);function R(A,U){n(A,U)}async function E(A,U,H){const F={variant_id:H.variant_id,variant_size:H.variant_size??void 0,variant_color:H.variant_color??void 0};await a(A,U,F),m(!1),v(null)}return r.jsxs("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Danh sch yu thch"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("aside",{className:"md:col-span-1 bg-white border border-gray-200 rounded-lg p-6 h-fit",children:[r.jsxs("div",{className:"mb-6 flex items-center gap-2 font-bold text-lg",children:[r.jsx(Tb,{className:"w-5 h-5"}),"B lc"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Tm kim"}),r.jsx("input",{type:"text",value:f,onChange:A=>y(A.target.value),className:"w-full border px-2 py-1 rounded",placeholder:"Tn sn phm..."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Kch c"}),r.jsxs("select",{value:u,onChange:A=>p(A.target.value),className:"w-full border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),I.map(A=>r.jsx("option",{value:A,children:A},A))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Mu sc"}),r.jsxs("select",{value:h,onChange:A=>d(A.target.value),className:"w-full border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),D.map(A=>r.jsx("option",{value:A,children:A},A))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Sp xp"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:`flex items-center gap-1 px-3 py-1 border rounded ${c==="desc"?"bg-black text-white":"bg-white text-black"}`,onClick:()=>l("desc"),children:[r.jsx(xb,{className:"w-4 h-4"}),"Mi nht"]}),r.jsxs("button",{className:`flex items-center gap-1 px-3 py-1 border rounded ${c==="asc"?"bg-black text-white":"bg-white text-black"}`,onClick:()=>l("asc"),children:[r.jsx(yb,{className:"w-4 h-4"}),"C nht"]})]})]})]}),r.jsx("main",{className:"md:col-span-3",children:L?r.jsx("div",{className:"text-center py-20",children:"ang ti..."}):O.length===0?r.jsx("div",{className:"text-center py-20 text-gray-500",children:"Khng c sn phm yu thch no."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-6",children:O.map(A=>r.jsxs("div",{className:"flex bg-white rounded-lg shadow hover:shadow-lg transition cursor-pointer overflow-hidden relative",onClick:()=>w(`/product/${A.product_id}`),children:[r.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[r.jsx("img",{src:A.product_image||"https://placehold.co/400x400?text=No+Image",alt:A.product_name,className:"w-full h-full object-cover"}),r.jsx("button",{className:"absolute bottom-2 right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow hover:bg-gray-100",onClick:U=>{U.stopPropagation(),R(A.wishlist_variant_id,A.variant_id)},title:"Xa khi yu thch",children:r.jsx(ao,{className:"w-5 h-5 text-black",fill:"currentColor"})})]}),r.jsxs("div",{className:"flex-1 p-5 flex flex-col justify-between relative",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:A.sport}),r.jsx("div",{className:"font-bold text-lg mb-1",children:A.product_name}),A.product_rating!==void 0&&r.jsxs("div",{className:"text-yellow-500 text-xs mb-1",children:[" ",A.product_rating]}),r.jsxs("div",{className:"flex gap-4 text-sm mb-2",children:[r.jsxs("span",{children:["Kch c: ",r.jsx("b",{children:A.variant_size})]}),r.jsxs("span",{children:["Mu: ",r.jsx("b",{children:A.variant_color})]})]})]}),r.jsx("div",{className:"font-semibold text-base text-black",children:z(A.product_price??0)}),r.jsxs("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 flex flex-row items-center gap-2",children:[r.jsx("button",{className:"px-4 py-1 border border-black text-black text-base rounded hover:bg-gray-100 font-medium",onClick:U=>{U.stopPropagation(),v(A),m(!0)},children:"i size/mu"}),r.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100 border border-gray-300",onClick:U=>{U.stopPropagation(),R(A.wishlist_variant_id,A.variant_id)},title:"Xa khi yu thch",children:r.jsx(Re,{className:"w-5 h-5 text-gray-500"})})]})]})]},A.wishlist_variant_id))}),V>1&&r.jsxs("div",{className:"flex justify-center mt-8 gap-1 select-none",children:[r.jsx("button",{className:"px-2 text-gray-500 hover:text-black transition disabled:opacity-40 disabled:cursor-not-allowed bg-transparent border-none rounded-none",onClick:()=>C(A=>Math.max(1,A-1)),disabled:k===1,"aria-label":"Trang trc",style:{background:"none",border:"none",borderRadius:0},children:r.jsx("span",{className:"text-base",children:"<"})}),(()=>{let A=[];if(V<=5)for(let U=1;U<=V;U++)A.push(U);else{A.push(1,2),k>3&&A.push("...");for(let U=Math.max(3,k-1);U<=Math.min(V-2,k+1);U++)U!==1&&U!==V&&A.push(U);k<V-2&&A.push("..."),A.push(V-1,V),A=A.filter((U,H,F)=>typeof U=="string"||U>=1&&U<=V&&F.indexOf(U)===H)}return A.map((U,H)=>typeof U=="number"?r.jsx("button",{className:`px-2 text-lg transition bg-transparent border-none rounded-none
                              ${k===U?"text-black font-bold":"text-gray-700 hover:text-black"}
                            `,onClick:()=>C(U),"aria-current":k===U?"page":void 0,style:{background:"none",border:"none",borderRadius:0},children:U},U):r.jsx("span",{className:"px-2 text-gray-400",style:{background:"none",border:"none",borderRadius:0},children:"..."},`ellipsis-${H}`))})(),r.jsx("button",{className:"px-2 text-gray-500 hover:text-black transition disabled:opacity-40 disabled:cursor-not-allowed bg-transparent border-none rounded-none",onClick:()=>C(A=>Math.min(V,A+1)),disabled:k===V,"aria-label":"Trang sau",style:{background:"none",border:"none",borderRadius:0},children:r.jsx("span",{className:"text-base",children:">"})})]})]})})]})]}),g&&j&&r.jsx(Ng,{productId:j.product_id,currentSize:j.variant_size??void 0,currentColor:j.variant_color??void 0,onClose:()=>{m(!1),v(null)},onUpdate:A=>E(j.wishlist_variant_id,j.variant_id,A)})]})}function hi(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}const Ba=[{key:"Pending",label:"Ch xc nhn"},{key:"Processing",label:"ang x l"},{key:"Shipped",label:"ang vn chuyn"},{key:"Delivered",label:" giao"}];function oN(e){switch(e){case"Ch xc nhn":case"Pending":return 0;case"ang x l":case"Processing":return 1;case"ang vn chuyn":case"Shipped":return 2;case" giao":case"Delivered":return 3;case" hy":case"Cancelled":return-1;default:return 0}}function lN(){var l,u;const e=bt(),t=Ce(),n=(l=e.state)==null?void 0:l.order;if(!n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{children:"Khng tm thy n hng."}),r.jsx("button",{className:"mt-4 px-4 py-2 bg-black text-white",onClick:()=>t(-1),children:"Quay li"})]})});n.payment_method;const a=n.payment_status||(n.order_status===" giao"||n.order_status==="Delivered"?" thanh ton":"Cha thanh ton"),s=Number(n.shipping_fee)??(Number(n.total_amount)<15e5?15e3:0),i=Number(n.tax)??Math.round(Number(n.total_amount)*.04),o=Number(n.total_amount)+(s||0)+(i||0),c=oN(n.order_status);return r.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Chi tit n hng"})}),r.jsxs("div",{className:"text-gray-500 mb-8",children:["M n hng ",r.jsx("span",{className:"font-semibold",children:n.order_id}),"  "," "," ",n.order_date&&new Date(n.order_date).toLocaleDateString("vi-VN")]}),(u=n.orderProducts)==null?void 0:u.map((p,h)=>{var d,f,y,x,b,g,m,j,v,w,_,k,C,O,S;return r.jsxs("div",{className:"flex flex-col md:flex-row border-b border-gray-200 py-8",children:[r.jsx("div",{className:"md:w-1/3 flex-shrink-0 flex items-center justify-center mb-6 md:mb-0",children:r.jsx("img",{src:(f=(d=p.Variant)==null?void 0:d.Product)==null?void 0:f.product_image,alt:(x=(y=p.Variant)==null?void 0:y.Product)==null?void 0:x.product_name,className:"w-full h-auto md:w-[420px] md:h-[350px] object-cover bg-gray-100",style:{maxWidth:"100%",maxHeight:"520px"}})}),r.jsxs("div",{className:"md:w-2/3 md:pl-10 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-bold text-lg mb-2",children:[(g=(b=p.Variant)==null?void 0:b.Product)==null?void 0:g.product_name,r.jsx("span",{className:"ml-2 text-gray-700 font-semibold",children:hi(p.price_at_time)})]}),r.jsx("div",{className:"text-gray-600 mb-2",children:(j=(m=p.Variant)==null?void 0:m.Product)==null?void 0:j.product_description}),r.jsxs("div",{className:"text-gray-500 text-sm mb-2",children:["Size: ",((v=p.Variant)==null?void 0:v.variant_size)??"-"," | Mu:"," ",((w=p.Variant)==null?void 0:w.variant_color)??"-"," | SL: ",p.quantity]}),r.jsxs("div",{className:"text-gray-500 text-sm mb-2",children:["Loi: ",(C=(k=(_=p.Variant)==null?void 0:_.Product)==null?void 0:k.Category)==null?void 0:C.category_name]}),r.jsx("div",{className:"flex flex-wrap gap-8 mt-6",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"a ch nhn hng"}),r.jsxs("div",{className:"text-gray-500",children:["Tn ngi nhn: ",n.recipient_name]}),r.jsxs("div",{className:"text-gray-500",children:["S in thoi: ",n.recipient_phone]}),r.jsxs("div",{className:"text-gray-500",children:["a ch: ",n.recipient_address]})]})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:(O=Ba[c])!=null&&O.label?`${(S=Ba[c])==null?void 0:S.label} vo ngy ${n.order_date&&new Date(n.order_date).toLocaleDateString("vi-VN")}`:" hy"}),r.jsxs("div",{className:"w-full flex flex-col gap-2",children:[r.jsxs("div",{className:"relative w-full h-1.5 bg-gray-200",children:[r.jsx("div",{className:`absolute top-0 left-0 h-1.5 ${c===-1?"bg-red-500":"bg-black"}`,style:{width:c===-1?"0%":`${(c+1)/Ba.length*100}%`,borderRadius:"4px",transition:"width 0.3s"}}),r.jsx("div",{className:"absolute top-1/2 left-0 w-full flex justify-between items-center pointer-events-none",style:{transform:"translateY(-50%)"},children:Ba.map((T,P)=>r.jsx("div",{className:`w-3 h-3 flex items-center justify-center font-bold text-[10px]
                            ${c===-1?P===0?"bg-red-500 text-white":"bg-gray-300 text-gray-400":P<=c?"bg-black text-white":"bg-gray-300 text-gray-400"}
                          `,style:{borderRadius:"50%",zIndex:2,boxShadow:P===c&&c!==-1?"0 0 0 2px #000":void 0}},T.key))})]}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-black font-medium",children:[Ba.map((T,P)=>r.jsx("span",{className:c===-1&&P===0||P===c&&c!==-1?"underline":"",children:T.label},T.key)),c===-1&&r.jsx("span",{className:"text-red-500 font-semibold ml-2",children:" hy"})]})]})]})]})]},h)}),r.jsxs("div",{className:"bg-gray-100 mt-12 mb-10 px-0 py-0",children:[r.jsxs("div",{className:"px-8 pt-8 pb-4",children:[r.jsx("div",{className:"font-bold text-lg mb-4",children:"Thng tin thanh ton"}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"Tn ngi nhn:"})," ",n.recipient_name]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"S in thoi:"})," ",n.recipient_phone]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"a ch:"})," ",n.recipient_address]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"Phng thc thanh ton:"})," ",n.payment_method||n.payment_type||"Tin mt"]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"Trng thi thanh ton:"})," ",r.jsx("span",{className:a===" thanh ton"?"text-green-600 font-bold":"text-yellow-600 font-bold",children:a})]})]}),r.jsx("div",{className:"border-t border-gray-300 mx-8"}),r.jsxs("div",{className:"px-8 py-6",children:[r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Tm tnh"}),r.jsx("span",{children:hi(n.total_amount)})]}),r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Ph vn chuyn"}),r.jsx("span",{children:s===0?"Min ph":hi(s)})]}),r.jsxs("div",{className:"mt-4 flex justify-between text-black font-bold text-base border-t pt-3",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:hi(o)})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"px-6 py-3 bg-black text-white font-semibold text-lg",onClick:()=>t(-1),children:"Quay li"})})]})})}const cN=({onLogout:e,adminName:t="Admin"})=>{const[n,a]=N.useState(!1),s=Ce(),i=()=>{e(),s("/login")};return r.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 right-0 left-64 z-10 transition-all duration-300",children:r.jsxs("div",{className:"h-full flex items-center justify-between px-8",children:[r.jsx("div",{className:"flex-1 max-w-xl",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim hoc g lnh...",className:"w-full pl-12 pr-4 py-2.5 bg-gray-50 border-0 text-sm focus:outline-none focus:ring-2 focus:ring-black transition-all duration-200"}),r.jsx("kbd",{className:"absolute right-4 top-1/2 -translate-y-1/2 px-2 py-1 bg-gray-200 text-xs text-gray-600 font-mono",children:"K"})]})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{className:"relative p-2 hover:bg-gray-100 transition-colors duration-200",children:[r.jsx(bb,{size:20,className:"text-gray-600"}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),r.jsx("button",{className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-600",children:r.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-3 p-2 hover:bg-gray-100 transition-colors duration-200",children:[r.jsx("div",{className:"w-8 h-8 bg-black text-white flex items-center justify-center font-medium text-sm",children:t.charAt(0).toUpperCase()}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:t})]}),n&&r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 shadow-lg animate-fadeIn",children:r.jsxs("div",{className:"py-2",children:[r.jsxs(Ts,{to:"/admin/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",onClick:()=>a(!1),children:[r.jsx(Wt,{size:16}),r.jsx("span",{children:"H s"})]}),r.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200",children:[r.jsx(Lb,{size:16}),r.jsx("span",{children:"ng xut"})]})]})})]})]})]})})},uN=()=>{const e=bt(),[t,n]=N.useState([]),a=[{id:"dashboard",label:"Dashboard",icon:r.jsx(Ob,{size:20}),path:"/admin"},{id:"users",label:"Qun l ngi dng",icon:r.jsx(ag,{size:20}),path:"/admin/users"},{id:"suppliers",label:"Qun l nh cung cp",icon:r.jsx(Ch,{size:20}),path:"/admin/suppliers"},{id:"products",label:"Qun l sn phm",icon:r.jsx(Er,{size:20}),subItems:[{label:"Danh sch sn phm",path:"/admin/products"},{label:"Th vin nh",path:"/admin/product-images"},{label:"Danh mc",path:"/admin/categories"}]},{id:"orders",label:"Qun l n hng",icon:r.jsx(rg,{size:20}),path:"/admin/orders"},{id:"inventory",label:"Qun l kho",icon:r.jsx(Ch,{size:20}),subItems:[{label:"Tn kho",path:"/admin/inventory"},{label:"Cnh bo",path:"/admin/inventory/alerts"}]},{id:"vouchers",label:"Qun l voucher",icon:r.jsx(Bb,{size:20}),path:"/admin/vouchers"},{id:"reports",label:"Bo co",icon:r.jsx(vb,{size:20}),path:"/admin/reports"},{id:"blogs",label:"Qun l bi vit",icon:r.jsx(tg,{size:20}),path:"/admin/blogs"},{id:"settings",label:"Ci t",icon:r.jsx(Dc,{size:20}),path:"/admin/settings"}],s=c=>{n(l=>l.includes(c)?l.filter(u=>u!==c):[...l,c])},i=c=>e.pathname===c,o=c=>c==null?void 0:c.some(l=>e.pathname===l.path);return r.jsxs("aside",{className:"w-64 bg-black text-white h-screen fixed left-0 top-0 overflow-y-auto transition-all duration-300",children:[r.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-800",children:r.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"PANTHERA ADMIN"})}),r.jsx("nav",{className:"py-6",children:a.map(c=>r.jsx("div",{className:"mb-1",children:c.subItems?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>s(c.id),className:`w-full flex items-center justify-between px-6 py-3 text-sm transition-colors duration-200 ${o(c.subItems)?"bg-white text-black":"hover:bg-gray-900"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[c.icon,r.jsx("span",{className:"font-medium",children:c.label})]}),t.includes(c.id)?r.jsx(Ds,{size:16}):r.jsx(En,{size:16})]}),t.includes(c.id)&&r.jsx("div",{className:"bg-gray-950 animate-slideDown",children:c.subItems.map(l=>r.jsx(Ts,{to:l.path,className:`block px-14 py-2.5 text-sm transition-colors duration-200 ${i(l.path)?"text-white font-medium":"text-gray-400 hover:text-white"}`,children:l.label},l.path))})]}):r.jsxs(Ts,{to:c.path,className:`flex items-center gap-3 px-6 py-3 text-sm transition-all duration-200 ${i(c.path)?"bg-white text-black font-medium":"hover:bg-gray-900"}`,children:[c.icon,r.jsx("span",{children:c.label})]})},c.id))})]})},Ee="/api",Vc=()=>localStorage.getItem("token")||"",Pe=()=>{const e=Vc();return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},$e=(e,t)=>{const n=e instanceof Error?e.message:t;ee(n,"error")},dN={loading:!1,getStats:async()=>({categoriesCount:0,sportsCount:0,tournamentsCount:0,teamsCount:0}),getAllCategories:async()=>[],getCategoryById:async()=>null,getCategoriesPaginated:async()=>({categories:[],total:0,page:1,totalPages:0}),createCategory:async()=>({}),updateCategory:async()=>({}),deleteCategory:async()=>!1,getAllSports:async()=>[],getSportsPaginated:async()=>({sports:[],total:0,page:1,totalPages:0}),createSport:async()=>({}),updateSport:async()=>({}),deleteSport:async()=>!1,getAllTournaments:async()=>[],getTournamentsBySport:async()=>[],getTournamentsPaginated:async()=>({tournaments:[],total:0,page:1,totalPages:0}),createTournament:async()=>({}),updateTournament:async()=>({}),deleteTournament:async()=>!1,getAllTeams:async()=>[],getTeamsByTournament:async()=>[],getTeamsPaginated:async()=>({teams:[],total:0,page:1,totalPages:0}),createTeam:async()=>({}),updateTeam:async()=>({}),deleteTeam:async()=>!1},Fg=N.createContext(dN),hN=({children:e})=>{const[t,n]=N.useState(!1),[a,s]=N.useState({categories:null,sports:null,tournaments:null,teams:null,lastFetch:{categories:0,sports:0,tournaments:0,teams:0}}),i=3e4,o=N.useCallback(async()=>{var M,I,D,V;try{const[z,R,E,$]=await Promise.all([fetch(`${Ee}/admin/categories`,{method:"GET",headers:Pe()}),fetch(`${Ee}/admin/sports`,{method:"GET",headers:Pe()}),fetch(`${Ee}/admin/tournaments`,{method:"GET",headers:Pe()}),fetch(`${Ee}/admin/teams`,{method:"GET",headers:Pe()})]),[A,U,H,F]=await Promise.all([z.json(),R.json(),E.json(),$.json()]);return{categoriesCount:((M=A.categories)==null?void 0:M.length)||0,sportsCount:((I=U.sports)==null?void 0:I.length)||0,tournamentsCount:((D=H.tournaments)==null?void 0:D.length)||0,teamsCount:((V=F.teams)==null?void 0:V.length)||0}}catch(z){return $e(z,"Li khi ti thng k"),{categoriesCount:0,sportsCount:0,tournamentsCount:0,teamsCount:0}}},[]),B={loading:t,getStats:o,getAllCategories:async(M=!1)=>{const I=Date.now();if(!M&&a.categories&&I-a.lastFetch.categories<i)return a.categories;n(!0);try{const D=await fetch(`${Ee}/admin/categories`,{method:"GET",headers:Pe()}),V=await D.json();if(!D.ok)throw new Error(V.message||"Failed to fetch categories");const z=V.categories||[];return s(R=>({...R,categories:z,lastFetch:{...R.lastFetch,categories:I}})),z}catch(D){return $e(D,"Li khi ti danh mc"),a.categories||[]}finally{n(!1)}},getCategoryById:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/categories/${M}`,{method:"GET",headers:Pe()}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to fetch category");return D.category}catch(I){return $e(I,"Li khi ti danh mc"),null}finally{n(!1)}},getCategoriesPaginated:async(M="",I=9,D=1)=>{n(!0);try{const V=new URLSearchParams({search:M.trim(),limit:I.toString(),page:D.toString()}),z=await fetch(`${Ee}/admin/categories/paginated?${V}`,{method:"GET",headers:Pe()}),R=await z.json();if(!z.ok)throw new Error(R.message||"Failed to fetch categories");return{categories:R.categories||[],total:R.total||0,page:R.page||D,totalPages:R.totalPages||0}}catch(V){return $e(V,"Li khi ti danh mc"),{categories:[],total:0,page:1,totalPages:0}}finally{n(!1)}},createCategory:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/categories`,{method:"POST",headers:Pe(),body:JSON.stringify(M)}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to create category");return s(V=>({...V,categories:null,lastFetch:{...V.lastFetch,categories:0}})),D.category}catch(I){throw $e(I,"Li khi to danh mc"),I}finally{n(!1)}},updateCategory:async(M,I)=>{n(!0);try{const D=await fetch(`${Ee}/admin/categories/${M}`,{method:"PUT",headers:Pe(),body:JSON.stringify(I)}),V=await D.json();if(!D.ok)throw new Error(V.message||"Failed to update category");return V.category}catch(D){throw $e(D,"Li khi cp nht danh mc"),D}finally{n(!1)}},deleteCategory:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/categories/${M}`,{method:"DELETE",headers:Pe()}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to delete category");return!0}catch(I){throw $e(I,"Li khi xa danh mc"),I}finally{n(!1)}},getAllSports:async(M=!1)=>{const I=Date.now();if(!M&&a.sports&&I-a.lastFetch.sports<i)return a.sports;n(!0);try{const D=await fetch(`${Ee}/admin/sports`,{method:"GET",headers:Pe()}),V=await D.json();if(!D.ok)throw new Error(V.message||"Failed to fetch sports");const z=V.sports||[];return s(R=>({...R,sports:z,lastFetch:{...R.lastFetch,sports:I}})),z}catch(D){return $e(D,"Li khi ti mn th thao"),a.sports||[]}finally{n(!1)}},getSportsPaginated:async(M="",I=10,D=1)=>{n(!0);try{const V=new URLSearchParams;M&&V.append("search",M),V.append("limit",I.toString()),V.append("page",D.toString());const z=await fetch(`${Ee}/admin/sports/paginated?${V.toString()}`,{method:"GET",headers:Pe()}),R=await z.json();if(!z.ok)throw new Error(R.message||"Failed to fetch paginated sports");return{sports:R.sports||[],total:R.total||0,page:R.page||1,totalPages:R.totalPages||0}}catch(V){throw $e(V,"Li khi ti mn th thao"),V}finally{n(!1)}},createSport:async(M,I)=>{n(!0);try{let D,V;if(I){const E=new FormData;M.sport_name&&E.append("sport_name",M.sport_name),M.sport_description&&E.append("sport_description",M.sport_description),M.has_teams!==void 0&&E.append("has_teams",M.has_teams.toString()),M.has_tournaments!==void 0&&E.append("has_tournaments",M.has_tournaments.toString()),E.append("sport_icon",I);const $=Vc();V={...$&&{Authorization:`Bearer ${$}`}},D=E}else V=Pe(),D=JSON.stringify(M);const z=await fetch(`${Ee}/admin/sports`,{method:"POST",headers:V,body:D}),R=await z.json();if(!z.ok)throw new Error(R.message||"Failed to create sport");return s(E=>({...E,sports:null,lastFetch:{...E.lastFetch,sports:0}})),R.sport}catch(D){throw $e(D,"Li khi to mn th thao"),D}finally{n(!1)}},updateSport:async(M,I,D)=>{n(!0);try{let V,z;if(D){const $=new FormData;I.sport_name&&$.append("sport_name",I.sport_name),I.sport_description&&$.append("sport_description",I.sport_description),I.has_teams!==void 0&&$.append("has_teams",I.has_teams.toString()),I.has_tournaments!==void 0&&$.append("has_tournaments",I.has_tournaments.toString()),$.append("sport_icon",D);const A=Vc();z={...A&&{Authorization:`Bearer ${A}`}},V=$}else z=Pe(),V=JSON.stringify(I);const R=await fetch(`${Ee}/admin/sports/${M}`,{method:"PUT",headers:z,body:V}),E=await R.json();if(!R.ok)throw new Error(E.message||"Failed to update sport");return s($=>({...$,sports:null,lastFetch:{...$.lastFetch,sports:0}})),E.sport}catch(V){throw $e(V,"Li khi cp nht mn th thao"),V}finally{n(!1)}},deleteSport:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/sports/${M}`,{method:"DELETE",headers:Pe()}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to delete sport");return!0}catch(I){throw $e(I,"Li khi xa mn th thao"),I}finally{n(!1)}},getAllTournaments:async()=>{n(!0);try{const M=await fetch(`${Ee}/admin/tournaments`,{method:"GET",headers:Pe()}),I=await M.json();if(!M.ok)throw new Error(I.message||"Failed to fetch tournaments");return I.tournaments||[]}catch(M){return $e(M,"Li khi ti gii u"),[]}finally{n(!1)}},getTournamentsBySport:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/sports/${M}/tournaments`,{method:"GET",headers:Pe()}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to fetch tournaments");return D.tournaments||[]}catch(I){return $e(I,"Li khi ti gii u"),[]}finally{n(!1)}},getTournamentsPaginated:async(M="",I="",D=10,V=1)=>{n(!0);try{const z=new URLSearchParams;M&&z.append("search",M),I&&z.append("sport",I),z.append("limit",D.toString()),z.append("page",V.toString());const R=await fetch(`${Ee}/admin/tournaments/paginated?${z.toString()}`,{method:"GET",headers:Pe()}),E=await R.json();if(!R.ok)throw new Error(E.message||"Failed to fetch paginated tournaments");return{tournaments:E.tournaments||[],total:E.total||0,page:E.page||1,totalPages:E.totalPages||0}}catch(z){throw $e(z,"Li khi ti gii u"),z}finally{n(!1)}},createTournament:async M=>{n(!0);try{let I,D;if(M.imageFile){const R=new FormData;Object.entries(M).forEach(([E,$])=>{E!=="imageFile"&&$!==void 0&&R.append(E,$.toString())}),R.append("image",M.imageFile),I=R,D={Authorization:`Bearer ${localStorage.getItem("token")}`}}else I=JSON.stringify(M),D=Pe();const V=await fetch(`${Ee}/admin/tournaments`,{method:"POST",headers:D,body:I}),z=await V.json();if(!V.ok)throw new Error(z.message||"Failed to create tournament");return z.tournament}catch(I){throw $e(I,"Li khi to gii u"),I}finally{n(!1)}},updateTournament:async(M,I)=>{n(!0);try{let D,V;if(I.imageFile){const E=new FormData;Object.entries(I).forEach(([$,A])=>{$!=="imageFile"&&A!==void 0&&E.append($,A.toString())}),E.append("image",I.imageFile),D=E,V={Authorization:`Bearer ${localStorage.getItem("token")}`}}else D=JSON.stringify(I),V=Pe();const z=await fetch(`${Ee}/admin/tournaments/${M}`,{method:"PUT",headers:V,body:D}),R=await z.json();if(!z.ok)throw new Error(R.message||"Failed to update tournament");return R.tournament}catch(D){throw $e(D,"Li khi cp nht gii u"),D}finally{n(!1)}},deleteTournament:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/tournaments/${M}`,{method:"DELETE",headers:Pe()}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to delete tournament");return!0}catch(I){throw $e(I,"Li khi xa gii u"),I}finally{n(!1)}},getAllTeams:async()=>{n(!0);try{const M=await fetch(`${Ee}/admin/teams`,{method:"GET",headers:Pe()}),I=await M.json();if(!M.ok)throw new Error(I.message||"Failed to fetch teams");return I.teams||[]}catch(M){return $e(M,"Li khi ti i"),[]}finally{n(!1)}},getTeamsByTournament:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/tournaments/${M}/teams`,{method:"GET",headers:Pe()}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to fetch teams");return D.teams||[]}catch(I){return $e(I,"Li khi ti i"),[]}finally{n(!1)}},getTeamsPaginated:async(M="",I="",D="",V=10,z=1)=>{n(!0);try{const R=new URLSearchParams;M&&R.append("search",M),I&&R.append("sport",I),D&&R.append("tournament",D),R.append("limit",V.toString()),R.append("page",z.toString());const E=await fetch(`${Ee}/admin/teams/paginated?${R.toString()}`,{method:"GET",headers:Pe()}),$=await E.json();if(!E.ok)throw new Error($.message||"Failed to fetch paginated teams");return{teams:$.teams||[],total:$.total||0,page:$.page||1,totalPages:$.totalPages||0}}catch(R){throw $e(R,"Li khi ti i"),R}finally{n(!1)}},createTeam:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/teams`,{method:"POST",headers:Pe(),body:JSON.stringify(M)}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to create team");return D.team}catch(I){throw $e(I,"Li khi to i"),I}finally{n(!1)}},updateTeam:async(M,I)=>{n(!0);try{const D=await fetch(`${Ee}/admin/teams/${M}`,{method:"PUT",headers:Pe(),body:JSON.stringify(I)}),V=await D.json();if(!D.ok)throw new Error(V.message||"Failed to update team");return V.team}catch(D){throw $e(D,"Li khi cp nht i"),D}finally{n(!1)}},deleteTeam:async M=>{n(!0);try{const I=await fetch(`${Ee}/admin/teams/${M}`,{method:"DELETE",headers:Pe()}),D=await I.json();if(!I.ok)throw new Error(D.message||"Failed to delete team");return!0}catch(I){throw $e(I,"Li khi xa i"),I}finally{n(!1)}}};return r.jsx(Fg.Provider,{value:B,children:e})},Xt=()=>{const e=N.useContext(Fg);if(!e)throw new Error("useCategory must be used within CategoryProvider");return e},fN=({children:e,onLogout:t,adminName:n})=>r.jsx(hN,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(uN,{}),r.jsxs("div",{className:"ml-64 transition-all duration-300",children:[r.jsx(cN,{onLogout:t,adminName:n}),r.jsx("main",{className:"pt-16",children:r.jsx("div",{className:"p-8 animate-fadeIn",children:e})})]})]})}),pN=({title:e,value:t,icon:n,trend:a})=>r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center group-hover:bg-black transition-colors duration-300",children:r.jsx(n,{size:24,className:"text-gray-600 group-hover:text-white transition-colors duration-300"})}),a&&r.jsxs("span",{className:`text-sm font-medium ${a.isPositive?"text-green-600":"text-red-600"}`,children:[a.isPositive?"":""," ",a.value]})]}),r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:e}),r.jsx("p",{className:"text-3xl font-bold text-black",children:t})]}),un="/api",Vg=N.createContext(void 0),mN=()=>{const e=N.useContext(Vg);if(!e)throw new Error("useDashboard must be used within DashboardProvider");return e},gN=({children:e})=>{const[t,n]=N.useState(null),[a,s]=N.useState(!1),[i,o]=N.useState(null),[c,l]=N.useState(null),u=()=>localStorage.getItem("token"),g={stats:t,loading:a,error:i,fetchStats:async()=>{s(!0),o(null);try{const m=u(),v=await(await fetch(`${un}/admin/dashboard/stats`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}})).json();v.success?n(v.data):o(v.message||"Khng th ly d liu dashboard")}catch(m){o(m.message||"Li ly d liu dashboard")}finally{s(!1)}},fetchUsers:async(m,j)=>{try{const v=u();return(await(await fetch(`${un}/admin/dashboard/users?year=${m}&month=${j}`,{method:"GET",headers:{Authorization:`Bearer ${v}`}})).json()).count??null}catch{return null}},fetchOrders:async(m,j)=>{try{const v=u();return(await(await fetch(`${un}/admin/dashboard/orders?year=${m}&month=${j}`,{method:"GET",headers:{Authorization:`Bearer ${v}`}})).json()).count??null}catch{return null}},fetchProducts:async(m,j)=>{try{const v=u();return(await(await fetch(`${un}/admin/dashboard/products?year=${m}&month=${j}`,{method:"GET",headers:{Authorization:`Bearer ${v}`}})).json()).count??null}catch{return null}},fetchRevenue:async(m,j)=>{try{const v=u();return(await(await fetch(`${un}/admin/dashboard/revenue?year=${m}&month=${j}`,{method:"GET",headers:{Authorization:`Bearer ${v}`}})).json()).total??null}catch{return null}},fetchMonthlySales:async m=>{try{const j=u();return(await(await fetch(`${un}/admin/dashboard/monthly-sales?year=${m}`,{method:"GET",headers:{Authorization:`Bearer ${j}`}})).json()).sales??[]}catch{return[]}},recentOrders:c,fetchRecentOrders:async()=>{o(null);try{const m=u(),v=await(await fetch(`${un}/admin/dashboard/recent-orders`,{method:"GET",headers:{Authorization:`Bearer ${m}`}})).json();v.success?l(v.data):o(v.message||"Khng th ly n hng gn y")}catch(m){o(m.message||"Li ly n hng gn y")}}};return r.jsx(Vg.Provider,{value:g,children:e})},tt=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),xN=()=>{var g,m,j;const{stats:e,loading:t,error:n,fetchStats:a,fetchMonthlySales:s,recentOrders:i,fetchRecentOrders:o}=mN(),[c,l]=N.useState([]),[u,p]=N.useState(new Date().getFullYear());N.useEffect(()=>{a();const v=new Date().getFullYear();s(v).then(w=>{l(w.map(_=>({month:`T${_.month}`,value:_.value})))}),o()},[]);const h=[{title:"Khch hng",value:((g=e==null?void 0:e.users.value)==null?void 0:g.toLocaleString("vi-VN"))??"0",icon:ag,trend:(e==null?void 0:e.users.trend)??{value:"0%",isPositive:!0}},{title:"n hng",value:((m=e==null?void 0:e.orders.value)==null?void 0:m.toLocaleString("vi-VN"))??"0",icon:rg,trend:(e==null?void 0:e.orders.trend)??{value:"0%",isPositive:!0}},{title:"Sn phm",value:((j=e==null?void 0:e.products.value)==null?void 0:j.toLocaleString("vi-VN"))??"0",icon:Er,trend:(e==null?void 0:e.products.trend)??{value:"0%",isPositive:!0}},{title:"Doanh thu",value:e!=null&&e.revenue.value?tt(e.revenue.value):tt(0),icon:Zm,trend:(e==null?void 0:e.revenue.trend)??{value:"0%",isPositive:!0}}],d=Math.max(...c.map(v=>v.value),1),f=1e3,y=200,x=c.map((v,w)=>{const _=f/(c.length-1)*w,k=y-v.value/d*y;return[_,k]}),b=x.length>0?x.map((v,w)=>w===0?`M ${v[0]} ${v[1]}`:`L ${v[0]} ${v[1]}`).join(" "):"";return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Bng iu khin"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Cho mng tr li Panthera Admin"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(v=>r.jsx(pN,{...v},v.title))}),t&&r.jsx("div",{children:"ang ti d liu..."}),n&&r.jsx("div",{className:"text-red-500",children:n}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-lg font-bold text-black",children:"Doanh s theo thng"}),r.jsx("button",{className:"text-gray-400 hover:text-black transition-colors duration-200",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"12",cy:"5",r:"1"}),r.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})]}),r.jsxs("div",{className:"relative h-64",children:[r.jsx("div",{className:"absolute inset-0 flex items-end justify-between gap-2 z-10",children:c.map((v,w)=>r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full bg-black hover:bg-gray-700 transition-all duration-300 cursor-pointer relative group",style:{height:`${v.value/d*100}%`},children:r.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:tt(v.value)})}),r.jsx("span",{className:"text-xs text-gray-600 mt-2",children:v.month})]},w))}),r.jsx("svg",{className:"absolute inset-0 w-full h-full z-20 pointer-events-none",viewBox:`0 0 ${f} ${y}`,children:r.jsx("path",{d:b,fill:"none",stroke:"#000",strokeWidth:"3"})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-bold text-black",children:"n hng gn y"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-3",children:"M n"}),r.jsx("th",{className:"px-6 py-3",children:"Khch hng"}),r.jsx("th",{className:"px-6 py-3",children:"Ngy"}),r.jsx("th",{className:"px-6 py-3",children:"S tin"}),r.jsx("th",{className:"px-6 py-3",children:"Trng thi"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:i&&i.length>0?i.map(v=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-black",children:v.order_id}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.recipient_name}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.order_date}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-black",children:tt(v.total_amount)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${v.order_status==="Hon thnh"?"bg-green-100 text-green-800":v.order_status==="ang x l"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:v.order_status})})]},v.order_id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Khng c n hng gn y"})})})]})})]})]})},Fa="/api",Hg=N.createContext(void 0),yN=({children:e})=>{const[t,n]=N.useState(!1),a=async()=>{n(!0);try{const l=localStorage.getItem("token"),u=await fetch(`${Fa}/admin/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(!u.ok)throw new Error("Failed to fetch users");const p=await u.json();return p.success?p.data:[]}catch(l){throw console.error("Error fetching users:",l),l}finally{n(!1)}},s=async l=>{n(!0);try{const u=localStorage.getItem("token"),p={...l,user_status:l.user_status!==void 0?l.user_status:!0},d=await(await fetch(`${Fa}/admin/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(p)})).json();if(!d.success)throw new Error(d.message);return d}catch(u){throw u}finally{n(!1)}},i=async(l,u)=>{try{const p=localStorage.getItem("token"),d=await(await fetch(`${Fa}/admin/users/profile/${l}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(u)})).json();if(!d.success)throw new Error(d.message);return d}catch(p){throw p}},o=async(l,u)=>{try{const p=localStorage.getItem("token"),d=await(await fetch(`${Fa}/admin/users/status/${l}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({shouldLock:u})})).json();if(!d.success)throw new Error(d.message);return d}catch(p){throw p}},c=async l=>{const u=new FormData;u.append("avatar",l);try{const p=localStorage.getItem("token"),d=await(await fetch(`${Fa}/admin/upload-avatar`,{method:"POST",headers:{Authorization:`Bearer ${p}`},body:u})).json();if(!d.success)throw new Error(d.message);return d.avatar_url}catch(p){throw p}};return r.jsx(Hg.Provider,{value:{getAllUsers:a,createUser:s,updateUser:i,updateUserStatus:o,uploadAvatar:c,loading:t},children:e})},Fo=()=>{const e=N.useContext(Hg);if(!e)throw new Error("useAdmin must be used within AdminProvider");return e},vN=({isOpen:e,onClose:t,onSuccess:n})=>{const[a,s]=N.useState({user_name:"",user_email:"",user_password:"",confirm_password:"",user_phone:"",user_address:"",role_id:2,avatar:""}),[i,o]=N.useState({}),[c,l]=N.useState(!1),[u,p]=N.useState(""),[h,d]=N.useState(null),[f,y]=N.useState(!1),[x,b]=N.useState(!1),g=N.useRef(null),{createUser:m,uploadAvatar:j}=Fo(),v=O=>{var P;const S=(P=O.target.files)==null?void 0:P[0];if(!S)return;if(!S.type.startsWith("image/")){const L="Vui lng chn file nh";o({...i,avatar:L}),ee(L,"error");return}if(S.size>5*1024*1024){const L="File nh khng c vt qu 5MB";o({...i,avatar:L}),ee(L,"error");return}d(S);const T=URL.createObjectURL(S);p(T),i.avatar&&o(L=>({...L,avatar:""})),ee(" chn nh, s upload khi to ti khon","info")},w=()=>{const O={};if(a.user_name.trim()||(O.user_name="Tn ngi dng l bt buc"),a.user_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.user_email)||(O.user_email="Email khng ng nh dng"):O.user_email="Email l bt buc",a.user_password?/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{6,}$/.test(a.user_password)||(O.user_password="Mt khu phi c t nht 6 k t, bao gm ch hoa, ch thng v s"):O.user_password="Mt khu l bt buc",a.confirm_password?a.user_password!==a.confirm_password&&(O.confirm_password="Mt khu xc nhn khng khp"):O.confirm_password="Xc nhn mt khu l bt buc",a.user_phone&&!/^\d{9,11}$/.test(a.user_phone)&&(O.user_phone="S in thoi phi c 9-11 ch s"),o(O),Object.keys(O).length>0){const S=Object.values(O)[0];ee(S,"error")}return Object.keys(O).length===0},_=async O=>{if(O.preventDefault(),!!w()){l(!0),ee("ang to ti khon...","info");try{let S="";if(h){ee("ang upload avatar...","info");try{S=await j(h),ee("Upload avatar thnh cng!","success")}catch(T){throw new Error("Upload avatar tht bi: "+T.message)}}await m({user_name:a.user_name,user_email:a.user_email,user_password:a.user_password,user_phone:a.user_phone||void 0,user_address:a.user_address||void 0,role_id:a.role_id,avatar:S||void 0}),s({user_name:"",user_email:"",user_password:"",confirm_password:"",user_phone:"",user_address:"",role_id:2,avatar:""}),u&&URL.revokeObjectURL(u),p(""),d(null),o({}),y(!1),b(!1),ee(`To ti khon thnh cng cho ${a.user_name}!`,"success"),n(),t()}catch(S){const T=S.message||"C li xy ra khi to ti khon";o({submit:T}),ee(T,"error")}finally{l(!1)}}},k=O=>{const{name:S,value:T}=O.target;s(P=>({...P,[S]:S==="role_id"?parseInt(T):T})),i[S]&&o(P=>({...P,[S]:""}))},C=()=>{a.user_name||a.user_email||a.user_password||a.user_phone||a.user_address||u?confirm("Bn c chc chn mun ng form? D liu cha lu s b mt.")&&(s({user_name:"",user_email:"",user_password:"",confirm_password:"",user_phone:"",user_address:"",role_id:2,avatar:""}),u&&URL.revokeObjectURL(u),p(""),d(null),o({}),y(!1),b(!1),t()):t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-black",children:"To ngi dng mi"}),r.jsx("button",{type:"button",onClick:C,className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx(Re,{size:20})})]}),r.jsxs("form",{onSubmit:_,className:"p-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden",children:u?r.jsx("img",{src:u,alt:"Avatar preview",className:"w-full h-full object-cover"}):r.jsx(Wt,{className:"w-8 h-8 text-gray-400"})}),r.jsx("button",{type:"button",onClick:()=>{var O;return(O=g.current)==null?void 0:O.click()},disabled:c,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-black text-white flex items-center justify-center hover:bg-gray-800 disabled:opacity-50 transition-colors duration-200",title:"Chn avatar",children:r.jsx(no,{size:14})}),r.jsx("input",{type:"file",ref:g,onChange:v,accept:"image/*",className:"hidden"})]})}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:h?` chn: ${h.name}`:"Avatar (khng bt buc)"}),i.avatar&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.avatar})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ngi dng *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",name:"user_name",value:a.user_name,onChange:k,className:`w-full pl-10 pr-4 py-2.5 border ${i.user_name?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp tn ngi dng"})]}),i.user_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_name})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",name:"user_email",value:a.user_email,onChange:k,className:`w-full pl-10 pr-4 py-2.5 border ${i.user_email?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp email"})]}),i.user_email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_email})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:f?"text":"password",name:"user_password",value:a.user_password,onChange:k,className:`w-full pl-10 pr-12 py-2.5 border ${i.user_password?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp mt khu"}),r.jsx("button",{type:"button",onClick:()=>y(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",title:f?"n mt khu":"Hin mt khu",children:f?r.jsx(bn,{size:18}):r.jsx(Vt,{size:18})})]}),i.user_password&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_password})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc nhn mt khu *"}),r.jsxs("div",{className:"relative",children:[r.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:x?"text":"password",name:"confirm_password",value:a.confirm_password,onChange:k,className:`w-full pl-10 pr-12 py-2.5 border ${i.confirm_password?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp li mt khu"}),r.jsx("button",{type:"button",onClick:()=>b(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",title:x?"n mt khu":"Hin mt khu",children:x?r.jsx(bn,{size:18}):r.jsx(Vt,{size:18})})]}),i.confirm_password&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.confirm_password})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),r.jsxs("div",{className:"relative",children:[r.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"tel",name:"user_phone",value:a.user_phone,onChange:k,className:`w-full pl-10 pr-4 py-2.5 border ${i.user_phone?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp s in thoi"})]}),i.user_phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_phone})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Gb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsxs("select",{name:"role_id",value:a.role_id,onChange:k,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:0,children:"Admin"}),r.jsx("option",{value:1,children:"Nhn vin"}),r.jsx("option",{value:2,children:"Khch hng"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch"}),r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-3 text-gray-400",size:18}),r.jsx("textarea",{name:"user_address",value:a.user_address,onChange:k,rows:3,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200 resize-none",placeholder:"Nhp a ch (khng bt buc)"})]})]})]}),i.submit&&r.jsx("div",{className:"bg-red-50 border border-red-200 p-3 mt-4",children:r.jsx("p",{className:"text-red-600 text-sm",children:i.submit})}),r.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:C,disabled:c,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 transition-colors duration-200",children:"Hy"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2.5 bg-black text-white font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:c?"ang to...":"To ti khon"})]})]})]})}):null},bN=({isOpen:e,onClose:t,onSuccess:n,user:a})=>{const[s,i]=N.useState({user_name:"",user_email:"",user_phone:"",user_address:"",role_id:2,avatar:""}),[o,c]=N.useState({}),[l,u]=N.useState(!1),[p,h]=N.useState(""),[d,f]=N.useState(null),y=N.useRef(null),{uploadAvatar:x,updateUser:b}=Fo();N.useEffect(()=>{a&&(i({user_name:a.user_name,user_email:a.user_email,user_phone:a.user_phone||"",user_address:a.user_address||"",role_id:a.user_id,avatar:a.avatar||""}),h(a.avatar||""),f(null))},[a]);const g=_=>{var O;const k=(O=_.target.files)==null?void 0:O[0];if(!k)return;if(!k.type.startsWith("image/")){const S="Vui lng chn file nh";c({...o,avatar:S}),ee(S,"error");return}if(k.size>5*1024*1024){const S="File nh khng c vt qu 5MB";c({...o,avatar:S}),ee(S,"error");return}f(k);const C=URL.createObjectURL(k);h(C),o.avatar&&c(S=>({...S,avatar:""})),ee(" chn nh, s upload khi lu thay i","info")},m=()=>{const _={};if(s.user_name.trim()||(_.user_name="Tn ngi dng l bt buc"),s.user_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.user_email)||(_.user_email="Email khng ng nh dng"):_.user_email="Email l bt buc",s.user_phone&&!/^\d{9,11}$/.test(s.user_phone)&&(_.user_phone="S in thoi phi c 9-11 ch s"),c(_),Object.keys(_).length>0){const k=Object.values(_)[0];ee(k,"error")}return Object.keys(_).length===0},j=async _=>{if(_.preventDefault(),!(!m()||!a)){u(!0),ee("ang cp nht thng tin...","info");try{let k=s.avatar;if(d){ee("ang upload avatar...","info");try{k=await x(d),ee("Upload avatar thnh cng!","success")}catch(C){throw new Error("Upload avatar tht bi: "+C.message)}}await b(a.user_id,{user_name:s.user_name,user_email:s.user_email,user_phone:s.user_phone||null,user_address:s.user_address||null,role_id:s.role_id,avatar:k||null}),ee("Cp nht thng tin thnh cng!","success"),n(),t()}catch(k){const C=k.message||"C li xy ra khi cp nht thng tin";c({submit:C}),ee(C,"error")}finally{u(!1)}}},v=_=>{const{name:k,value:C}=_.target;i(O=>({...O,[k]:k==="role_id"?parseInt(C):C})),o[k]&&c(O=>({...O,[k]:""}))},w=()=>{d&&p&&URL.revokeObjectURL(p),f(null),c({}),t()};return!e||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-black",children:"Chnh sa ngi dng"}),r.jsx("button",{type:"button",onClick:w,className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx(Re,{size:20})})]}),r.jsxs("form",{onSubmit:j,className:"p-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden",children:p?r.jsx("img",{src:p,alt:"Avatar preview",className:"w-full h-full object-cover"}):r.jsx(Wt,{className:"w-8 h-8 text-gray-400"})}),r.jsx("button",{type:"button",onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},disabled:l,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-black text-white flex items-center justify-center hover:bg-gray-800 disabled:opacity-50 transition-colors duration-200",title:"Thay i avatar",children:r.jsx(no,{size:14})}),r.jsx("input",{type:"file",ref:y,onChange:g,accept:"image/*",className:"hidden"})]})}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:d?` chn: ${d.name}`:"Click vo avatar  thay i"}),o.avatar&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.avatar})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ngi dng *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",name:"user_name",value:s.user_name,onChange:v,className:`w-full pl-10 pr-4 py-2.5 border ${o.user_name?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp tn ngi dng"})]}),o.user_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.user_name})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",name:"user_email",value:s.user_email,onChange:v,className:`w-full pl-10 pr-4 py-2.5 border ${o.user_email?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp email"})]}),o.user_email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.user_email})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),r.jsxs("div",{className:"relative",children:[r.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"tel",name:"user_phone",value:s.user_phone,onChange:v,className:`w-full pl-10 pr-4 py-2.5 border ${o.user_phone?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp s in thoi"})]}),o.user_phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.user_phone})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr *"}),r.jsxs("div",{className:"relative",children:[r.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsxs("select",{name:"role_id",value:s.role_id,onChange:v,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:0,children:"Admin"}),r.jsx("option",{value:1,children:"Nhn vin"}),r.jsx("option",{value:2,children:"Khch hng"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch"}),r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-3 text-gray-400",size:18}),r.jsx("textarea",{name:"user_address",value:s.user_address,onChange:v,rows:3,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200 resize-none",placeholder:"Nhp a ch (khng bt buc)"})]})]})]}),o.submit&&r.jsx("div",{className:"bg-red-50 border border-red-200 p-3 mt-4",children:r.jsx("p",{className:"text-red-600 text-sm",children:o.submit})}),r.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:w,disabled:l,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 transition-colors duration-200",children:"Hy"}),r.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2.5 bg-black text-white font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:l?"ang lu...":"Lu thay i"})]})]})]})})},jN=({isOpen:e,onClose:t,user:n})=>{if(!e||!n)return null;const a=o=>{switch(o){case 0:return"Admin";case 1:return"Nhn vin";case 2:return"Khch hng";default:return"Khch hng"}},s=o=>{switch(o){case 0:return"bg-black text-white";case 1:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},i=o=>o?new Date(o).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-black",children:"Chi tit ngi dng"}),r.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx(Re,{size:20})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6 pb-6 border-b border-gray-200",children:[n.avatar?r.jsx("img",{src:n.avatar,alt:n.user_name,className:"w-24 h-24 object-cover border-2 border-gray-200"}):r.jsx("div",{className:"w-24 h-24 bg-black text-white flex items-center justify-center text-3xl font-bold",children:n.user_name.charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-black mb-2",children:n.user_name}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${s(n.role_id)}`,children:a(n.role_id)}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium flex items-center gap-1 ${n.user_status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.user_status?r.jsxs(r.Fragment,{children:[r.jsx(Io,{size:12}),"Hot ng"]}):r.jsxs(r.Fragment,{children:[r.jsx(Do,{size:12}),"Tm kha"]})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-bold text-black",children:"Thng tin chi tit"}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(Wt,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"ID ngi dng"}),r.jsxs("p",{className:"text-base text-black font-medium",children:["#",n.user_id]})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(va,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Email"}),r.jsx("p",{className:"text-base text-black",children:n.user_email})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(zs,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"S in thoi"}),r.jsx("p",{className:"text-base text-black",children:n.user_phone||r.jsx("span",{className:"text-gray-400",children:"Cha cp nht"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx($s,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"a ch"}),r.jsx("p",{className:"text-base text-black",children:n.user_address||r.jsx("span",{className:"text-gray-400",children:"Cha cp nht"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(gr,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Vai tr"}),r.jsx("p",{className:"text-base text-black",children:a(n.role_id)})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(Cs,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Ngy tham gia"}),r.jsx("p",{className:"text-base text-black",children:i(n.created_at)})]})]})]})]}),r.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 bg-black text-white font-medium hover:bg-gray-800 transition-colors duration-200",children:"ng"})})]})})};function ba({isOpen:e,onClose:t,onConfirm:n,title:a,message:s,confirmText:i="Xc nhn",cancelText:o="Hy",type:c="warning"}){const[l,u]=N.useState(!1);if(!e)return null;const p={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",info:"bg-black hover:bg-gray-800"},h=async f=>{f.preventDefault(),f.stopPropagation(),u(!0);try{await n()}finally{u(!1)}},d=f=>{f.preventDefault(),f.stopPropagation(),l||t()};return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:d}),r.jsxs("div",{className:"relative bg-white shadow-2xl max-w-md w-full mx-4 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-bold text-black",children:a}),r.jsx("button",{type:"button",onClick:d,disabled:l,className:"p-1 hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Re,{size:20,className:"text-gray-600"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:s})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{type:"button",onClick:d,disabled:l,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o}),r.jsx("button",{type:"button",onClick:h,disabled:l,className:`px-6 py-2.5 text-white font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${p[c]}`,children:l?"ang x l...":i})]})]})]})}const wN=()=>{const[e,t]=N.useState(""),[n,a]=N.useState(""),[s,i]=N.useState([]),[o,c]=N.useState([]),[l,u]=N.useState(0),[p,h]=N.useState(""),[d,f]=N.useState(""),[y,x]=N.useState(1),[b,g]=N.useState(!1),[m,j]=N.useState(!1),[v,w]=N.useState(!1),[_,k]=N.useState(null),[C,O]=N.useState(!1),[S,T]=N.useState({title:"",message:"",onConfirm:async()=>{},type:"warning"}),{getAllUsers:P,updateUserStatus:L,loading:B}=Fo(),M=10,[I,D]=N.useState(null),[V,z]=N.useState(!1);N.useEffect(()=>{const G=setTimeout(()=>{a(e)},500);return()=>clearTimeout(G)},[e]),N.useEffect(()=>{(async()=>{z(!0);try{const K="/api",W=new URLSearchParams({search:n||"",page:String(y),limit:String(M),...p?{role:p}:{},...d?{status:d}:{}}),ne=await(await fetch(`${K}/admin/users/paginated?${W.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();c(ne.users||[]),u(ne.total||0)}catch(K){console.error("Failed to fetch paginated users:",K),ee("Khng th ti danh sch ngi dng","error")}finally{z(!1)}})()},[n,y,p,d]),N.useEffect(()=>{x(1)},[n,p,d]),N.useEffect(()=>{(async()=>{try{const W=(await P()).sort((Q,ne)=>Q.role_id-ne.role_id);i(W)}catch(K){console.error("Failed to fetch users:",K)}})()},[]);const R=async()=>{try{const K=(await P()).sort((W,Q)=>W.role_id-Q.role_id);i(K)}catch(G){console.error("Failed to fetch users:",G),ee("Khng th lm mi danh sch ngi dng","error")}},E=(G,K,W,Q="warning")=>{T({title:G,message:K,onConfirm:W,type:Q}),O(!0)},$=async(G,K)=>{D(G);try{const W=await L(G,K);W.user&&i(Q=>Q.map(ne=>ne.user_id===G?{...ne,user_status:W.user.user_status}:ne)),ee(W.message||"Cp nht trng thi thnh cng!","success")}catch(W){console.error("Failed to update user status:",W),ee(W.message||"C li xy ra khi cp nht trng thi","error")}finally{D(null)}},A=(G,K,W,Q)=>{G.preventDefault(),G.stopPropagation(),E("Xc nhn thay i trng thi",`Bn c chc chn mun ${Q?"kha":"m kha"} ti khon "${W}"?`,async()=>await $(K),Q?"warning":"info")},U=(G,K,W,Q)=>{G.preventDefault(),G.stopPropagation();const ne=Q?"kha":"m kha",le=Q;E(`${ne==="kha"?"Kha":"M kha"} ti khon`,`Bn c chc chn mun ${ne} ti khon "${W}"?${ne==="kha"?`

Ti khon s khng th ng nhp sau khi b kha.`:""}`,async()=>await $(K,le),Q?"danger":"info")},H=G=>{switch(G){case 0:return"Admin";case 1:return"Nhn vin";case 2:return"Khch hng";default:return"Khch hng"}},F=G=>G?{name:"Hot ng",color:"bg-green-100 text-green-800"}:{name:"Tm kha",color:"bg-red-100 text-red-800"},q=Math.ceil(l/M),X=G=>G?new Date(G).toLocaleDateString("vi-VN"):"N/A";return B?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-lg font-medium",children:"ang ti..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l ngi dng"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l thng tin v quyn hn ngi dng"})]}),r.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(wt,{size:20}),r.jsx("span",{className:"font-medium",children:"Thm ngi dng"})]})]}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex-1 relative min-w-80",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim theo tn, email hoc s in thoi...",value:e,onChange:G=>{t(G.target.value),x(1)},className:"w-full pl-12 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})]}),r.jsxs("select",{value:p,onChange:G=>{h(G.target.value),x(1)},className:"px-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Tt c vai tr"}),r.jsx("option",{value:"0",children:"Admin"}),r.jsx("option",{value:"1",children:"Nhn vin"}),r.jsx("option",{value:"2",children:"Khch hng"})]}),r.jsxs("select",{value:d,onChange:G=>{f(G.target.value),x(1)},className:"px-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Tt c trng thi"}),r.jsx("option",{value:"true",children:"Hot ng"}),r.jsx("option",{value:"false",children:"Tm kha"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tng ngi dng"}),r.jsx("p",{className:"text-2xl font-bold text-black",children:s.length})]})})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"ang hot ng"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(G=>G.user_status).length})]})})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tm kha"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.filter(G=>!G.user_status).length})]})})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Admin"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(G=>G.role_id===0).length})]})})})]}),!V&&l===0?r.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-2 text-lg font-medium",children:"Khng tm thy ngi dng"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Th thay i b lc hoc tm kim vi t kha khc"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Ngi dng"}),r.jsx("th",{className:"px-6 py-4",children:"Lin h"}),r.jsx("th",{className:"px-6 py-4",children:"Vai tr"}),r.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),r.jsx("th",{className:"px-6 py-4",children:"Ngy tham gia"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:V?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"ang ti..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Khng tm thy ngi dng no"})}):o.map(G=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[G.avatar?r.jsx("img",{src:G.avatar,alt:G.user_name,className:"w-10 h-10 object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-black text-white flex items-center justify-center font-medium",children:G.user_name.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-black",children:G.user_name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["ID: #",G.user_id]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(va,{size:14}),r.jsx("span",{children:G.user_email})]}),G.user_phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(zs,{size:14}),r.jsx("span",{children:G.user_phone})]}),G.user_address&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx($s,{size:14}),r.jsx("span",{className:"truncate max-w-xs",children:G.user_address})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${G.role_id===0?"bg-black text-white":G.role_id===1?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:H(G.role_id)})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${F(G.user_status).color}`,children:F(G.user_status).name}),r.jsx("button",{type:"button",onClick:K=>A(K,G.user_id,G.user_name,G.user_status),className:`p-1 hover:bg-gray-100 transition-colors duration-200 ${G.role_id===0?"opacity-50 cursor-not-allowed":""}`,disabled:G.role_id===0||I===G.user_id,title:G.role_id===0?"Khng th thay i trng thi Admin":G.user_status?"Click  kha ti khon":"Click  m kha ti khon",children:I===G.user_id?r.jsx("span",{className:"animate-spin w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full inline-block"}):G.user_status?r.jsx(Vb,{className:"w-5 h-5 text-green-600"}):r.jsx(Fb,{className:"w-5 h-5 text-gray-400"})})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:X(G.created_at)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{k(G),w(!0)},className:"p-2 hover:bg-blue-50 transition-colors duration-200",title:"Xem chi tit",children:r.jsx(Vt,{size:16,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>{k(G),j(!0)},className:"p-2 hover:bg-gray-100 transition-colors duration-200",title:"Chnh sa ngi dng",children:r.jsx(Gt,{size:16,className:"text-gray-600"})}),r.jsx("button",{type:"button",onClick:K=>U(K,G.user_id,G.user_name,G.user_status),className:`p-2 transition-colors duration-200 ${G.role_id===0?"opacity-50 cursor-not-allowed":G.user_status?"hover:bg-red-50":"hover:bg-green-50"}`,disabled:G.role_id===0,title:G.role_id===0?"Khng th thay i trng thi Admin":G.user_status?"Kha ti khon":"M kha ti khon",children:G.user_status?r.jsx(Cr,{size:16,className:"text-red-600"}):r.jsx(qb,{size:16,className:"text-green-600"})})]})})]},G.user_id))})]})}),q>1&&r.jsxs("div",{className:"flex items-center justify-between bg-white p-4 border border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Hin th"," ",r.jsxs("span",{className:"font-medium",children:[(y-1)*M+1,"-",Math.min(y*M,l)]})," ","ca ",r.jsx("span",{className:"font-medium",children:l})," ngi dng"]}),r.jsxs("div",{className:"flex gap-1 select-none",children:[r.jsx("button",{type:"button",onClick:()=>x(G=>Math.max(1,G-1)),disabled:y===1,className:"px-2 text-gray-500 hover:text-black transition disabled:opacity-40 disabled:cursor-not-allowed bg-transparent border-none rounded-none","aria-label":"Trang trc",style:{background:"none",border:"none",borderRadius:0},children:r.jsx("span",{className:"text-base",children:"<"})}),(()=>{let G=[];if(q<=5)for(let K=1;K<=q;K++)G.push(K);else{G.push(1,2),y>3&&G.push("...");for(let K=Math.max(3,y-1);K<=Math.min(q-2,y+1);K++)K!==1&&K!==q&&G.push(K);y<q-2&&G.push("..."),G.push(q-1,q),G=G.filter((K,W,Q)=>typeof K=="string"||K>=1&&K<=q&&Q.indexOf(K)===W)}return G.map((K,W)=>typeof K=="number"?r.jsx("button",{type:"button",className:`px-2 text-lg transition bg-transparent border-none rounded-none
                          ${y===K?"text-black font-bold":"text-gray-700 hover:text-black"}
                        `,onClick:()=>x(K),"aria-current":y===K?"page":void 0,style:{background:"none",border:"none",borderRadius:0},children:K},K):r.jsx("span",{className:"px-2 text-gray-400",style:{background:"none",border:"none",borderRadius:0},children:"..."},`ellipsis-${W}`))})(),r.jsx("button",{type:"button",onClick:()=>x(G=>Math.min(q,G+1)),disabled:y===q,className:"px-2 text-gray-500 hover:text-black transition disabled:opacity-40 disabled:cursor-not-allowed bg-transparent border-none rounded-none","aria-label":"Trang sau",style:{background:"none",border:"none",borderRadius:0},children:r.jsx("span",{className:"text-base",children:">"})})]})]})]}),r.jsx(ba,{isOpen:C,onClose:()=>O(!1),onConfirm:async()=>{await S.onConfirm(),O(!1)},title:S.title,message:S.message,type:S.type,confirmText:"Xc nhn",cancelText:"Hy"}),r.jsx(jN,{isOpen:v,onClose:()=>{w(!1),k(null)},user:_}),r.jsx(bN,{isOpen:m,onClose:()=>{j(!1),k(null)},onSuccess:R,user:_}),r.jsx(vN,{isOpen:b,onClose:()=>g(!1),onSuccess:R})]})},_t="/api",Ug=N.createContext(void 0),NN=({children:e})=>{const[t,n]=N.useState(!1),a=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),s=async()=>{n(!0);try{const x=await fetch(`${_t}/admin/products`,{method:"GET",headers:a()});if(!x.ok)throw new Error("Failed to fetch products");const b=await x.json();return Array.isArray(b)?(console.log(` Loaded ${b.length} products`),b):b.products&&Array.isArray(b.products)?(console.log(` Loaded ${b.products.length} products`),b.products):(console.warn(" Unexpected response format:",b),[])}catch(x){throw console.error("Error fetching products:",x),x}finally{n(!1)}},i=N.useCallback(async x=>{try{const b=localStorage.getItem("token"),g=await fetch(`${_t}/admin/products/${x}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}});if(!g.ok){const j=await g.json();throw new Error(j.message||"Failed to fetch product")}const m=await g.json();return m.success&&m.product?m.product:null}catch(b){throw console.error("Error fetching product by ID:",b),b}},[]),o=async(x,b)=>{n(!0);try{const g=localStorage.getItem("token");let m=x.product_image;if(b){const _=new FormData;_.append("image",b);const k=await fetch(`${_t}/admin/upload-product-image`,{method:"POST",headers:{Authorization:`Bearer ${g}`},body:_});if(k.ok){const C=await k.json();C.success&&C.imageUrl&&(m=C.imageUrl)}}const j={...x,product_image:m,product_price:typeof x.product_price=="string"?parseFloat(x.product_price):x.product_price,category_id:typeof x.category_id=="string"?parseInt(x.category_id):x.category_id,team_id:x.team_id?typeof x.team_id=="string"?parseInt(x.team_id):x.team_id:void 0},v=await fetch(`${_t}/admin/products`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(j)});if(!v.ok){const _=await v.json();throw new Error(_.message||"Failed to create product")}const w=await v.json();return console.log(" Product created successfully:",w),w}catch(g){throw console.error("Error creating product:",g),g}finally{n(!1)}},c=async(x,b,g)=>{n(!0);try{const m=localStorage.getItem("token");let j=b.product_image;if(g){const k=new FormData;k.append("image",g);const C=await fetch(`${_t}/admin/upload-product-image`,{method:"POST",headers:{Authorization:`Bearer ${m}`},body:k});if(C.ok){const O=await C.json();O.success&&O.imageUrl&&(j=O.imageUrl)}}const v={...b,product_image:j,product_price:typeof b.product_price=="string"?parseFloat(b.product_price):b.product_price,category_id:typeof b.category_id=="string"?parseInt(b.category_id):b.category_id,team_id:b.team_id?typeof b.team_id=="string"?parseInt(b.team_id):b.team_id:void 0},w=await fetch(`${_t}/admin/products/${x}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(v)});if(!w.ok){const k=await w.json();throw new Error(k.message||"Failed to update product")}const _=await w.json();return console.log(" Product updated successfully:",_),_}catch(m){throw console.error("Error updating product:",m),m}finally{n(!1)}},l=async x=>{n(!0);try{const b=localStorage.getItem("token"),g=await fetch(`${_t}/admin/products/${x}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}});if(!g.ok){const m=await g.json();throw new Error(m.message||"Failed to delete product")}return console.log(" Product deleted successfully"),!0}catch(b){throw console.error("Error deleting product:",b),b}finally{n(!1)}},u=async(x="",b=10,g=1,m,j,v,w,_,k)=>{n(!0);try{const C=new URLSearchParams({search:x.trim(),limit:b.toString(),page:g.toString()});m&&C.append("category",m),j&&C.append("sport",j),v&&C.append("tournament",v),w&&C.append("team",w),_!==void 0&&C.append("minPrice",_.toString()),k!==void 0&&C.append("maxPrice",k.toString());const O=localStorage.getItem("token"),S=await fetch(`${_t}/admin/products/paginated?${C}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`}});if(!S.ok)throw new Error("Failed to fetch products");const T=await S.json();return{products:T.products||[],total:T.totalProducts||0,page:g,totalPages:Math.ceil((T.totalProducts||0)/b)}}catch(C){return console.error("Error fetching paginated products:",C),{products:[],total:0,page:1,totalPages:0}}finally{n(!1)}},p=async x=>{try{const b=localStorage.getItem("token"),g=await fetch(`${_t}/admin/variants/${x}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}});if(!g.ok)throw new Error("Failed to fetch variants");const m=await g.json();return m.success&&m.variants?(console.log(` Loaded ${m.variants.length} variants for product ${x}`),m.variants):[]}catch(b){throw console.error("Error fetching variants:",b),b}},h=async x=>{try{const b=localStorage.getItem("token"),g=await fetch(`${_t}/admin/variants`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(x)});if(!g.ok){const j=await g.json();throw new Error(j.message||"Failed to create variant")}const m=await g.json();return console.log(" Variant created successfully:",m),m}catch(b){throw console.error("Error creating variant:",b),b}},d=async(x,b)=>{try{const g=localStorage.getItem("token"),m=await fetch(`${_t}/admin/variants/${x}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(b)});if(!m.ok){const v=await m.json();throw new Error(v.message||"Failed to update variant")}const j=await m.json();return console.log(" Variant updated successfully:",j),j}catch(g){throw console.error("Error updating variant:",g),g}},f=async x=>{try{const b=localStorage.getItem("token"),g=await fetch(`${_t}/admin/variants/${x}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}});if(!g.ok){const m=await g.json();throw new Error(m.message||"Failed to delete variant")}return console.log(" Variant deleted successfully"),!0}catch(b){throw console.error("Error deleting variant:",b),b}},y=async(x,b)=>{n(!0);try{const g=localStorage.getItem("token"),m=await fetch(`${_t}/admin/products/${x}/lock`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({is_active:b})});if(!m.ok){const v=await m.json();throw new Error(v.message||"Failed to update product status")}return await m.json()}catch(g){throw console.error("Error updating product status:",g),g}finally{n(!1)}};return r.jsx(Ug.Provider,{value:{getAllProducts:s,getProductById:i,getProductsPaginated:u,createProduct:o,updateProduct:c,deleteProduct:l,getVariantsByProductId:p,createVariant:h,updateVariant:d,deleteVariant:f,setProductLockStatus:y,loading:t},children:e})},ja=()=>{const e=N.useContext(Ug);if(!e)throw new Error("useProduct must be used within ProductProvider");return e},Va="/api",qg=N.createContext(void 0),_N=({children:e})=>{const[t,n]=N.useState([]),[a,s]=N.useState(!1),i=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),o=async()=>{s(!0);try{const h=await fetch(`${Va}/admin/suppliers`,{method:"GET",headers:i()});if(!h.ok)throw new Error("Failed to fetch suppliers");const d=await h.json(),f=Array.isArray(d.suppliers)?d.suppliers.map(y=>({...y,is_active:y.is_connected})):[];n(f)}catch(h){throw n([]),h}finally{s(!1)}},c=async h=>{s(!0);try{const d=new URLSearchParams;h.search&&d.append("search",h.search),h.supplier_type&&d.append("supplier_type",h.supplier_type),h.is_connected!==void 0&&h.is_connected!==""&&d.append("is_connected",h.is_connected),h.limit&&d.append("limit",h.limit.toString()),h.page&&d.append("page",h.page.toString());const f=await fetch(`${Va}/admin/suppliers/paginated?${d.toString()}`,{method:"GET",headers:i()});if(!f.ok)throw new Error("Failed to fetch paginated suppliers");return await f.json()}catch(d){throw d}finally{s(!1)}},l=async h=>{s(!0);try{if(!(await fetch(`${Va}/admin/suppliers`,{method:"POST",headers:i(),body:JSON.stringify(h)})).ok)throw new Error("Failed to create supplier");await o()}finally{s(!1)}},u=async(h,d)=>{s(!0);try{if(!(await fetch(`${Va}/admin/suppliers/${h}`,{method:"PUT",headers:i(),body:JSON.stringify(d)})).ok)throw new Error("Failed to update supplier");await o()}finally{s(!1)}},p=async(h,d)=>{s(!0);try{if(!(await fetch(`${Va}/admin/suppliers/${h}/connection-status`,{method:"PATCH",headers:i(),body:JSON.stringify({is_connected:d})})).ok)throw new Error("Failed to update connection status");await o()}finally{s(!1)}};return r.jsx(qg.Provider,{value:{suppliers:t,loading:a,fetchSuppliers:o,fetchSuppliersPaginated:c,createSupplier:l,updateSupplier:u,setConnectionStatus:p},children:e})},wa=()=>{const e=N.useContext(qg);if(!e)throw new Error("useSupplier must be used within SupplierProvider");return e},kN=({isOpen:e,onClose:t,onSuccess:n})=>{var E,$,A,U,H,F,q,X,G;const{getAllCategories:a,getAllSports:s,getAllTournaments:i,getAllTeams:o}=Xt(),{createProduct:c}=ja(),{suppliers:l,fetchSuppliers:u}=wa(),[p,h]=N.useState({product_name:"",product_description:"",product_price:"",category_id:"",sport_id:"",tournament_id:"",team_id:"",supplier_id:""}),[d,f]=N.useState([]),[y,x]=N.useState([]),[b,g]=N.useState([]),[m,j]=N.useState([]),[v,w]=N.useState([{variant_size:"",variant_color:""}]),[_,k]=N.useState(!1),[C,O]=N.useState(null),[S,T]=N.useState("");N.useEffect(()=>{e&&P()},[e]),N.useEffect(()=>{if(p.sport_id){const K=b.filter(W=>W.sport_id===parseInt(p.sport_id));p.tournament_id&&!K.find(W=>W.tournament_id===parseInt(p.tournament_id))&&h(W=>({...W,tournament_id:"",team_id:""}))}},[p.sport_id,b]),N.useEffect(()=>{if(p.tournament_id){const K=m.filter(W=>W.tournament_id===parseInt(p.tournament_id));p.team_id&&!K.find(W=>W.team_id===parseInt(p.team_id))&&h(W=>({...W,team_id:""}))}},[p.tournament_id,m]),N.useEffect(()=>{u()},[]);const P=async()=>{try{const[K,W,Q,ne]=await Promise.all([a(),s(),i(),o()]);f(K),x(W),g(Q),j(ne)}catch(K){console.error("Error fetching data:",K),ee("Khng th ti d liu","error")}},L=K=>{O(K)},B=()=>{O(null),T("")},M=K=>{const{name:W,value:Q}=K.target;h(ne=>({...ne,[W]:Q}))},I=(K,W,Q)=>{const ne=[...v];ne[K]={...ne[K],[W]:Q},w(ne)},D=()=>{w([...v,{variant_size:"",variant_color:""}])},V=K=>{v.length>1&&w(v.filter((W,Q)=>Q!==K))},z=async K=>{K.preventDefault(),k(!0);try{console.log("All variants:",v);const W=v.filter(pe=>{var ve,te;return((ve=pe.variant_size)==null?void 0:ve.trim())||((te=pe.variant_color)==null?void 0:te.trim())});console.log("Valid variants after filter:",W);const Q=W.map(pe=>{var ve,te;return{variant_size:((ve=pe.variant_size)==null?void 0:ve.trim())||"Standard",variant_color:((te=pe.variant_color)==null?void 0:te.trim())||"Default",variant_stock:0}}),ne={product_name:p.product_name,product_description:p.product_description||"",product_price:p.product_price,category_id:p.category_id,team_id:p.team_id||void 0,supplier_id:p.supplier_id,variants:Q.length>0?Q:void 0};console.log("Creating product:",ne);const le=await c(ne,C);le.success?(ee("To sn phm thnh cng!","success"),n(),t(),R()):ee(le.message||"C li xy ra khi to sn phm","error")}catch(W){console.error("Error creating product:",W),ee(W.message||"C li xy ra khi to sn phm","error")}finally{k(!1)}},R=()=>{h({product_name:"",product_description:"",product_price:"",category_id:"",sport_id:"",tournament_id:"",team_id:"",supplier_id:""}),w([{variant_size:"",variant_color:""}]),O(null),T("")};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO SN PHM MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm sn phm mi vo b su tp ca bn"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:z,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-4",children:"HNH NH SN PHM"}),C||S?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:C?URL.createObjectURL(C):S,alt:"Preview",className:"w-full aspect-square object-cover bg-gray-50"}),r.jsx("button",{type:"button",onClick:B,className:"absolute top-4 right-4 p-2 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-gray-100",children:r.jsx(Re,{size:20})})]}):r.jsxs("label",{className:"block cursor-pointer",children:[r.jsxs("div",{className:"w-full aspect-square border-2 border-dashed border-gray-300 hover:border-black transition-colors duration-200 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100",children:[r.jsx(Ro,{size:48,className:"text-gray-400 mb-4"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nhn  ti nh ln"}),r.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Ti a 5MB"})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var Q;const W=(Q=K.target.files)==null?void 0:Q[0];if(W){if(W.size>5*1024*1024){ee("Kch thc nh khng c vt qu 5MB","error");return}L(W)}},className:"hidden"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN SN PHM"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TN SN PHM *"}),r.jsx("input",{type:"text",name:"product_name",value:p.product_name,onChange:M,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"Nhp tn sn phm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M T"}),r.jsx("textarea",{name:"product_description",value:p.product_description,onChange:M,rows:4,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 resize-none",placeholder:"M t sn phm ca bn..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI (VN) *"}),r.jsx("input",{type:"number",name:"product_price",value:p.product_price,onChange:M,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",required:!0})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"PHN LOI"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"MN TH THAO"}),r.jsxs("select",{name:"sport_id",value:p.sport_id,onChange:M,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),y.map(K=>r.jsx("option",{value:K.sport_id,children:K.sport_name},K.sport_id))]}),p.sport_id&&((E=y.find(K=>K.sport_id.toString()===p.sport_id))==null?void 0:E.sport_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:($=y.find(K=>K.sport_id.toString()===p.sport_id))==null?void 0:$.sport_icon,alt:"Sport",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(A=y.find(K=>K.sport_id.toString()===p.sport_id))==null?void 0:A.sport_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII U"}),r.jsxs("select",{name:"tournament_id",value:p.tournament_id,onChange:M,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!p.sport_id,children:[r.jsx("option",{value:"",children:"Chn gii u"}),b.filter(K=>!p.sport_id||K.sport_id===parseInt(p.sport_id)).map(K=>r.jsx("option",{value:K.tournament_id,children:K.tournament_name},K.tournament_id))]}),p.tournament_id&&((U=b.find(K=>K.tournament_id.toString()===p.tournament_id))==null?void 0:U.tournament_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(H=b.find(K=>K.tournament_id.toString()===p.tournament_id))==null?void 0:H.tournament_icon,alt:"Tournament",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(F=b.find(K=>K.tournament_id.toString()===p.tournament_id))==null?void 0:F.tournament_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"I BNG"}),r.jsxs("select",{name:"team_id",value:p.team_id,onChange:M,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!p.tournament_id,children:[r.jsx("option",{value:"",children:"Chn i bng"}),m.filter(K=>!p.tournament_id||K.tournament_id===parseInt(p.tournament_id)).map(K=>r.jsx("option",{value:K.team_id,children:K.team_name},K.team_id))]}),p.team_id&&((q=m.find(K=>K.team_id.toString()===p.team_id))==null?void 0:q.team_logo)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(X=m.find(K=>K.team_id.toString()===p.team_id))==null?void 0:X.team_logo,alt:"Team",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(G=m.find(K=>K.team_id.toString()===p.team_id))==null?void 0:G.team_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"DANH MC *"}),r.jsxs("select",{name:"category_id",value:p.category_id,onChange:M,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn danh mc"}),d.map(K=>r.jsx("option",{value:K.category_id,children:K.category_name},K.category_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH CUNG CP *"}),r.jsxs("select",{name:"supplier_id",value:p.supplier_id||"",onChange:M,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn nh cung cp"}),l.map(K=>r.jsx("option",{value:K.supplier_id,children:K.supplier_name},K.supplier_id))]})]})]})]})]})]}),r.jsxs("div",{className:"space-y-6 border-t pt-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"BIN TH SN PHM"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nhp t nht mt trong hai: kch c hoc mu sc (hoc c hai).  trng nu sn phm khng c bin th."})]}),r.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(wt,{size:18}),r.jsx("span",{className:"text-sm font-medium",children:"Thm bin th"})]})]}),r.jsx("div",{className:"space-y-4",children:v.map((K,W)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-5 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:K.variant_size,onChange:Q=>I(W,"variant_size",Q.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL... (b trng nu khng c)"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:K.variant_color,onChange:Q=>I(W,"variant_color",Q.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng... (b trng nu khng c)"})]}),r.jsx("div",{className:"flex items-end",children:v.length>1&&r.jsx("button",{type:"button",onClick:()=>V(W),className:"w-full px-3 py-2 text-red-600 hover:text-white hover:bg-red-600 border border-red-600 transition-all duration-200",title:"Remove variant",children:r.jsx(Kt,{size:18,className:"mx-auto"})})})]},W))})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:_,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:_?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang to..."]}):"To sn phm"})]})]})]})}):null},SN=({isOpen:e,product:t,onClose:n,onSuccess:a})=>{var X,G,K,W,Q,ne,le,pe,ve;const{updateProduct:s,getVariantsByProductId:i,createVariant:o,updateVariant:c,deleteVariant:l}=ja(),{getAllCategories:u,getAllSports:p,getAllTournaments:h,getAllTeams:d}=Xt(),{suppliers:f,fetchSuppliers:y}=wa(),[x,b]=N.useState({product_name:"",product_description:"",product_price:"",category_id:"",sport_id:"",tournament_id:"",team_id:"",supplier_id:""}),[g,m]=N.useState([]),[j,v]=N.useState([]),[w,_]=N.useState([]),[k,C]=N.useState([]),[O,S]=N.useState([{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}]),[T,P]=N.useState(!1),[L,B]=N.useState(!1),[M,I]=N.useState(null),[D,V]=N.useState("");N.useEffect(()=>{e&&z()},[e]),N.useEffect(()=>{y()},[]),N.useEffect(()=>{var te,Y,Z,J,se,ae,me,ce,ye;t&&e&&(b({product_name:t.product_name,product_description:t.product_description||"",product_price:typeof t.product_price=="number"?t.product_price.toString():t.product_price,category_id:t.category_id.toString(),sport_id:((J=(Z=(Y=(te=t.Team)==null?void 0:te.Tournament)==null?void 0:Y.Sport)==null?void 0:Z.sport_id)==null?void 0:J.toString())||"",tournament_id:((me=(ae=(se=t.Team)==null?void 0:se.Tournament)==null?void 0:ae.tournament_id)==null?void 0:me.toString())||"",team_id:((ce=t.team_id)==null?void 0:ce.toString())||"",supplier_id:((ye=t.supplier_id)==null?void 0:ye.toString())||""}),t.product_image&&V(t.product_image),R(t.product_id))},[t,e]),N.useEffect(()=>{if(x.sport_id){const te=w.filter(Y=>Y.sport_id===parseInt(x.sport_id));x.tournament_id&&!te.find(Y=>Y.tournament_id===parseInt(x.tournament_id))&&b(Y=>({...Y,tournament_id:"",team_id:""}))}},[x.sport_id,w]),N.useEffect(()=>{if(x.tournament_id){const te=k.filter(Y=>Y.tournament_id===parseInt(x.tournament_id));x.team_id&&!te.find(Y=>Y.team_id===parseInt(x.team_id))&&b(Y=>({...Y,team_id:""}))}},[x.tournament_id,k]);const z=async()=>{try{const[te,Y,Z,J]=await Promise.all([u(),p(),h(),d()]);m(te),v(Y),_(Z),C(J)}catch(te){console.error("Error fetching data:",te),ee("Khng th ti d liu","error")}},R=async te=>{B(!0);try{const Y=await i(te);Y.length>0?S(Y.map(Z=>({variant_id:Z.variant_id,variant_size:Z.variant_size||"",variant_color:Z.variant_color||"",variant_stock:Z.variant_stock||0,isNew:!1}))):S([{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}])}catch(Y){console.error("Error fetching variants:",Y),S([{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}])}finally{B(!1)}},E=te=>{I(te);const Y=new FileReader;Y.onloadend=()=>{V(Y.result)},Y.readAsDataURL(te)},$=()=>{I(null),V("")},A=te=>{const{name:Y,value:Z}=te.target;b(J=>({...J,[Y]:Z}))},U=(te,Y,Z)=>{const J=[...O];J[te]={...J[te],[Y]:Y==="variant_stock"?Number(Z)||0:Z},S(J)},H=()=>{S([...O,{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}])},F=te=>{if(O.length===1){ee("Phi c t nht 1 bin th","error");return}const Y=O[te];if(Y.variant_id&&!Y.isNew){const Z=[...O];Z[te]={...Y,isDeleted:!0},S(Z)}else S(O.filter((Z,J)=>J!==te))},q=async te=>{var Y,Z,J,se;te.preventDefault(),P(!0);try{console.log(" Updating product:",t==null?void 0:t.product_id),await s(t.product_id,{product_name:x.product_name,product_description:x.product_description,product_price:x.product_price,category_id:x.category_id,team_id:x.team_id||void 0,supplier_id:x.supplier_id},M);const ae=[];for(const ce of O){if(ce.isDeleted||!((Y=ce.variant_size)!=null&&Y.trim())&&!((Z=ce.variant_color)!=null&&Z.trim())){ce.variant_id&&ce.isDeleted&&ae.push(l(ce.variant_id));continue}const ye={variant_size:((J=ce.variant_size)==null?void 0:J.trim())||"Standard",variant_color:((se=ce.variant_color)==null?void 0:se.trim())||"Default",variant_stock:ce.variant_stock||0,product_id:t.product_id};ce.variant_id&&!ce.isNew?ae.push(c(ce.variant_id,ye)):ae.push(o(ye))}(await Promise.allSettled(ae)).forEach((ce,ye)=>{ce.status==="fulfilled"?console.log(` Variant operation ${ye+1} succeeded`):console.error(` Variant operation ${ye+1} failed:`,ce.reason)}),ee("Cp nht sn phm thnh cng!","success"),a(),n()}catch(ae){console.error("Error updating product:",ae),ee("C li xy ra khi cp nht sn phm","error")}finally{P(!1)}};return!e||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHNH SA SN PHM"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cp nht thng tin sn phm ca bn"})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:q,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-4",children:"HNH NH SN PHM"}),M||D?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:M?URL.createObjectURL(M):D,alt:"Preview",className:"w-full aspect-square object-cover bg-gray-50"}),r.jsx("button",{type:"button",onClick:$,className:"absolute top-4 right-4 p-2 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-gray-100",children:r.jsx(Re,{size:20})})]}):r.jsxs("label",{className:"block cursor-pointer",children:[r.jsxs("div",{className:"w-full aspect-square border-2 border-dashed border-gray-300 hover:border-black transition-colors duration-200 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100",children:[r.jsx(Ro,{size:48,className:"text-gray-400 mb-4"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nhn  ti nh ln"}),r.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Ti a 5MB"})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:te=>{var Z;const Y=(Z=te.target.files)==null?void 0:Z[0];if(Y){if(Y.size>5*1024*1024){ee("Kch thc nh khng c vt qu 5MB","error");return}E(Y)}},className:"hidden"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN SN PHM"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TN SN PHM *"}),r.jsx("input",{type:"text",name:"product_name",value:x.product_name,onChange:A,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"Nhp tn sn phm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M T"}),r.jsx("textarea",{name:"product_description",value:x.product_description,onChange:A,rows:4,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 resize-none",placeholder:"M t sn phm ca bn..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI (VN) *"}),r.jsx("input",{type:"number",name:"product_price",value:x.product_price,onChange:A,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",required:!0})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"PHN LOI"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"MN TH THAO"}),r.jsxs("select",{name:"sport_id",value:x.sport_id,onChange:A,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),j.map(te=>r.jsx("option",{value:te.sport_id,children:te.sport_name},te.sport_id))]}),x.sport_id&&((X=j.find(te=>te.sport_id.toString()===x.sport_id))==null?void 0:X.sport_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(G=j.find(te=>te.sport_id.toString()===x.sport_id))==null?void 0:G.sport_icon,alt:"Sport",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(K=j.find(te=>te.sport_id.toString()===x.sport_id))==null?void 0:K.sport_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII U"}),r.jsxs("select",{name:"tournament_id",value:x.tournament_id,onChange:A,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!x.sport_id,children:[r.jsx("option",{value:"",children:"Chn gii u"}),w.filter(te=>!x.sport_id||te.sport_id===parseInt(x.sport_id)).map(te=>r.jsx("option",{value:te.tournament_id,children:te.tournament_name},te.tournament_id))]}),x.tournament_id&&((W=w.find(te=>te.tournament_id.toString()===x.tournament_id))==null?void 0:W.tournament_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(Q=w.find(te=>te.tournament_id.toString()===x.tournament_id))==null?void 0:Q.tournament_icon,alt:"Tournament",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(ne=w.find(te=>te.tournament_id.toString()===x.tournament_id))==null?void 0:ne.tournament_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"I BNG"}),r.jsxs("select",{name:"team_id",value:x.team_id,onChange:A,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!x.tournament_id,children:[r.jsx("option",{value:"",children:"Chn i bng"}),k.filter(te=>!x.tournament_id||te.tournament_id===parseInt(x.tournament_id)).map(te=>r.jsx("option",{value:te.team_id,children:te.team_name},te.team_id))]}),x.team_id&&((le=k.find(te=>te.team_id.toString()===x.team_id))==null?void 0:le.team_logo)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(pe=k.find(te=>te.team_id.toString()===x.team_id))==null?void 0:pe.team_logo,alt:"Team",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(ve=k.find(te=>te.team_id.toString()===x.team_id))==null?void 0:ve.team_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"DANH MC *"}),r.jsxs("select",{name:"category_id",value:x.category_id,onChange:A,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn danh mc"}),g.map(te=>r.jsx("option",{value:te.category_id,children:te.category_name},te.category_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH CUNG CP *"}),r.jsxs("select",{name:"supplier_id",value:x.supplier_id,onChange:A,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn nh cung cp"}),f.map(te=>r.jsx("option",{value:te.supplier_id,children:te.supplier_name},te.supplier_id))]})]})]})]})]})]}),r.jsxs("div",{className:"space-y-6 border-t pt-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"BIN TH SN PHM"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nhp t nht mt trong hai: kch c hoc mu sc (hoc c hai).  trng nu sn phm khng c bin th."})]}),r.jsxs("button",{type:"button",onClick:H,disabled:L,className:"flex items-center gap-2 px-4 py-2 bg-black text-white hover:bg-gray-800 transition-colors duration-200 disabled:opacity-50",children:[r.jsx(wt,{size:18}),r.jsx("span",{className:"text-sm font-medium",children:"Thm bin th"})]})]}),L?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black mx-auto"}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"ang ti variants..."})]}):r.jsx("div",{className:"space-y-4",children:O.filter(te=>!te.isDeleted).map((te,Y)=>r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-4 p-5 transition-colors duration-200 ${te.isNew?"bg-green-50 hover:bg-green-100":"bg-gray-50 hover:bg-gray-100"}`,children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:te.variant_size,onChange:Z=>U(Y,"variant_size",Z.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:te.variant_color,onChange:Z=>U(Y,"variant_color",Z.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"TN KHO"}),r.jsx("input",{type:"number",min:"0",value:te.variant_stock||0,disabled:!0,className:"w-full px-3 py-2 border-b-2 border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed",placeholder:"0"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Qun l ti module kho"})]}),r.jsxs("div",{className:"flex items-end justify-between",children:[te.isNew&&r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 font-bold uppercase tracking-wider self-center",children:"MI"}),!te.isNew&&te.variant_id&&r.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 font-bold uppercase tracking-wider self-center",children:["ID: ",te.variant_id]}),r.jsx("button",{type:"button",onClick:()=>F(Y),className:"px-3 py-2 text-red-600 hover:text-white hover:bg-red-600 border border-red-600 transition-all duration-200 ml-auto",title:"Xa variant",children:r.jsx(Kt,{size:18})})]})]},Y))}),O.filter(te=>!te.isDeleted).length===0&&!L&&r.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:'Cha c bin th. Nhn "Thm bin th"  to mi.'})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:T,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:T?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang cp nht..."]}):"Cp nht sn phm"})]})]})]})})},TN="/api",CN=({isOpen:e,product:t,onClose:n,onEdit:a,onDelete:s})=>{const{getProductById:i}=ja(),[o,c]=N.useState(null),[l,u]=N.useState([]),[p,h]=N.useState([]),[d,f]=N.useState(!1),[y,x]=N.useState(!1),[b,g]=N.useState(null);N.useEffect(()=>{e&&t?g(t.product_id):e||(g(null),h([]))},[e,t]),N.useEffect(()=>{if(!b){c(null),u([]);return}let O=!1;return(async()=>{f(!0);try{const T=await i(b);!O&&T&&(c(T),u(T.Variants||[]))}catch(T){O||(console.error("Error fetching product details:",T),ee("Khng th ti chi tit sn phm","error"),t&&c(t),u([]))}finally{O||f(!1)}})(),()=>{O=!0}},[b]),N.useEffect(()=>{if(!b){h([]);return}let O=!1;return(async()=>{x(!0),console.log(` Fetching images for product ${b}...`);try{const T=localStorage.getItem("token"),P=await fetch(`${TN}/admin/product-images/${b}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}});if(console.log(" Response status:",P.status),!P.ok){const B=await P.text();throw console.log(" Error response:",B),new Error("Failed to fetch product images")}const L=await P.json();if(console.log(" API Response:",L),!O){let B=[];L.success&&L.data?B=L.data:L.images?B=L.images:Array.isArray(L)&&(B=L),h(Array.isArray(B)?B:[]),console.log(` Loaded ${B.length} images for product ${b}`)}}catch(T){O||(console.error(" Error fetching product images:",T),h([]))}finally{O||x(!1)}})(),()=>{O=!0}},[b]);const m=O=>{const S=typeof O=="string"?parseFloat(O):O;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S)},j=O=>new Date(O).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),v=O=>O===0?{label:"Ht hng",color:"bg-red-100 text-red-800"}:O<20?{label:"Sp ht",color:"bg-yellow-100 text-yellow-800"}:{label:"Cn hng",color:"bg-green-100 text-green-800"},w=O=>Array.from({length:5},(S,T)=>r.jsx(zb,{size:16,className:T<Math.floor(O)?"text-yellow-400 fill-current":"text-gray-300"},T));if(!e||!t)return null;const _=o||t,k=v(_.stock),C=[];return _.product_image&&C.push({image_id:0,product_id:_.product_id,image_url:_.product_image,is_primary:!0,created_at:_.created_at}),p.forEach(O=>{O.image_url!==_.product_image&&C.push(O)}),console.log(" Total images to display:",C.length),r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-8 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-sm uppercase tracking-wider font-medium",children:"CHI TIT SN PHM"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Chnh sa",children:r.jsx(Gt,{size:18})}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Xa",children:r.jsx(Kt,{size:18})}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(Re,{size:20})})]})]}),d?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-gray-500",children:"ang ti..."})]})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"aspect-square bg-gray-50 overflow-hidden",children:_.product_image?r.jsx("img",{src:_.product_image,alt:_.product_name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"flex items-center justify-center h-full text-gray-300",children:r.jsx(Er,{size:80,strokeWidth:1})})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-medium mb-2",children:_.product_name}),r.jsx("div",{className:"text-xl font-medium",children:m(_.product_price)})]}),_.average_rating>0&&r.jsxs("div",{className:"flex items-center gap-2 pb-6 border-b",children:[r.jsx("div",{className:"flex items-center gap-1",children:w(_.average_rating)}),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",_.average_rating.toFixed(1),")"]})]}),r.jsxs("div",{className:"space-y-3 pb-6 border-b",children:[_.Category&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"DANH MC"}),r.jsx("div",{className:"font-medium",children:_.Category.category_name})]}),_.Team&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"I/CLB"}),r.jsx("div",{className:"font-medium",children:_.Team.team_name})]}),_.Team.Tournament&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"GII U"}),r.jsx("div",{className:"font-medium",children:_.Team.Tournament.tournament_name})]}),_.Team.Tournament.Sport&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"MN TH THAO"}),r.jsx("div",{className:"font-medium",children:_.Team.Tournament.Sport.sport_name})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b",children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500",children:"TRNG THI"}),r.jsx("span",{className:`px-3 py-1 text-xs uppercase tracking-wider font-medium ${k.color}`,children:k.label}),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",_.stock," sn phm)"]})]}),_.product_description&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"M T"}),r.jsx("p",{className:"text-sm leading-relaxed text-gray-700",children:_.product_description})]}),r.jsxs("div",{className:"text-xs text-gray-400 pt-4",children:["Ngy to: ",j(_.created_at)]})]})]}),r.jsx("div",{className:"px-8 pb-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.length>0&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-gray-500 mb-3 flex items-center justify-between",children:r.jsxs("span",{children:["BIN TH (",l.length,")"]})}),r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:l.map((O,S)=>{const T=v(O.variant_stock);return r.jsx("div",{className:"border border-gray-200 p-3 hover:border-black transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsxs("span",{className:"text-xs font-medium text-gray-400 flex-shrink-0",children:["#",S+1]}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-medium truncate",children:O.variant_size}),r.jsx("span",{className:"text-gray-300",children:""}),r.jsx("span",{className:"text-sm text-gray-600 truncate",children:O.variant_color})]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${T.color} whitespace-nowrap`,children:O.variant_stock})})]})},O.variant_id||S)})})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("h3",{className:"text-xs uppercase tracking-wider text-gray-500 mb-3 flex items-center justify-between",children:[r.jsxs("span",{children:["HNH NH (",C.length,")"]}),y&&r.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"}),"ang ti..."]})]}),C.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto pr-2",children:C.map((O,S)=>r.jsxs("div",{className:"aspect-square border border-gray-200 overflow-hidden group relative",children:[r.jsx("img",{src:O.image_url,alt:`${_.product_name} - ${S+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),O.is_primary&&r.jsx("div",{className:"absolute top-2 left-2 bg-black text-white text-xs px-2 py-0.5 uppercase tracking-wider",children:"Chnh"})]},O.image_id||S))}):r.jsxs("div",{className:"border border-dashed border-gray-300 p-8 flex flex-col items-center justify-center text-gray-400",children:[r.jsx(Er,{size:32,strokeWidth:1,className:"mb-2"}),r.jsx("p",{className:"text-xs",children:y?"ang ti nh...":"Cha c nh minh ha"})]})]})]})})]})})]})})},$l="/api",EN=({isOpen:e,onClose:t,onSuccess:n})=>{const{suppliers:a,loading:s,fetchSuppliers:i}=wa(),{getAllTeams:o}=Xt(),[c,l]=N.useState(null),[u,p]=N.useState([]),[h,d]=N.useState(null),[f,y]=N.useState(!1);if(N.useEffect(()=>{e&&a.length===0&&i()},[e,i,a.length]),!e)return null;const x=async()=>{if(!c){ee("Vui lng chn nh cung cp trc","error");return}try{const _=(await o()).map(P=>({team_id:P.team_id,team_name:P.team_name})),k=localStorage.getItem("token"),C=await fetch(`${$l}/admin/products/excel/template`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({supplier_id:c,teams:_})});if(!C.ok)throw new Error("Failed to download template");const O=await C.blob(),S=window.URL.createObjectURL(O),T=document.createElement("a");T.href=S,T.download=`product_template_supplier_${c}.xlsx`,document.body.appendChild(T),T.click(),window.URL.revokeObjectURL(S),document.body.removeChild(T),ee("Ti template thnh cng","success")}catch(w){console.error("Download template error:",w),ee("Khng th ti template","error")}},b=w=>{const _=w.target.files;_&&p([...u,...Array.from(_)])},g=w=>{p(u.filter((_,k)=>k!==w))},m=w=>{var k;const _=(k=w.target.files)==null?void 0:k[0];_&&d(_)},j=async()=>{if(!c){ee("Vui lng chn nh cung cp","error");return}if(!h){ee("Vui lng chn file Excel","error");return}y(!0);try{const w=localStorage.getItem("token");let _=[];if(u.length>0){const S=new FormData;u.forEach(L=>{S.append("images",L)});const T=await fetch(`${$l}/admin/products/upload-excel-images`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${w}`},body:S});if(!T.ok)throw new Error("Failed to upload images");const P=await T.json();if(!P.success)throw new Error("Image upload failed");_=P.images}const k=new FormData;k.append("excel",h),u.forEach(S=>{k.append("images",S)});const C=await fetch(`${$l}/admin/products/excel/import-with-variants`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${w}`},body:k});if(!C.ok)throw new Error("Failed to import Excel");const O=await C.json();if(!O.success)throw new Error(O.message||"Import failed");ee(O.message||"Import thnh cng","success"),n==null||n(),t()}catch(w){console.error("Import error:",w),ee(w instanceof Error?w.message:"Khng th import sn phm","error")}finally{y(!1)}},v=()=>{f||(l(null),p([]),d(null),t())};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-2xl font-bold text-black uppercase tracking-tight",children:"Import Sn Phm T Excel"}),r.jsx("button",{type:"button",onClick:v,disabled:f,className:"p-2 hover:bg-gray-100 transition-colors disabled:opacity-50",children:r.jsx(Re,{size:20})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 1: Chn Nh Cung Cp"}),r.jsxs("select",{value:c||"",onChange:w=>l(Number(w.target.value)),disabled:f,className:"w-full px-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"-- Chn nh cung cp --"}),a.filter(w=>w.is_active).map(w=>r.jsx("option",{value:w.supplier_id,children:w.supplier_name},w.supplier_id))]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 2: Ti Template Excel"}),r.jsxs("button",{type:"button",onClick:x,disabled:!c||f,className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(kb,{size:20}),r.jsx("span",{className:"font-medium",children:"Ti Template"})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Template s c sn thng tin nh cung cp v danh sch i bng"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 3: Ti nh Sn Phm (Nu C)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-6 text-center hover:border-black transition-colors",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:b,disabled:f,className:"hidden",id:"image-upload"}),r.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[r.jsx(Cb,{size:40,className:"text-gray-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Click  chn nh"})]})]}),u.length>0&&r.jsx("div",{className:"grid grid-cols-4 gap-3 mt-4",children:u.map((w,_)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:URL.createObjectURL(w),alt:w.name,className:"w-full h-24 object-cover border border-gray-200"}),r.jsx("button",{type:"button",onClick:()=>g(_),disabled:f,className:"absolute top-1 right-1 p-1 bg-red-600 text-white hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Re,{size:14})}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:w.name})]},_))}),r.jsx("p",{className:"text-xs text-gray-600",children:'Tn file nh phi khp vi tn trong ct "product_image" ca Excel'})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 4: Ti File Excel"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-6 text-center hover:border-black transition-colors",children:[r.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:m,disabled:f,className:"hidden",id:"excel-upload"}),r.jsxs("label",{htmlFor:"excel-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[r.jsx(eg,{size:40,className:"text-gray-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:h?h.name:"Click  chn file Excel"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:v,disabled:f,className:"px-5 py-2.5 border border-gray-300 text-black hover:bg-gray-50 transition-colors disabled:opacity-50",children:r.jsx("span",{className:"font-medium",children:"Hy"})}),r.jsxs("button",{type:"button",onClick:j,disabled:!c||!h||f,className:"flex items-center gap-2 px-5 py-2.5 bg-green-600 text-white hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ro,{size:20}),r.jsx("span",{className:"font-medium",children:f?"ang import...":"Import"})]})]})]})})},PN=()=>{const[e,t]=N.useState(""),[n,a]=N.useState(""),[s,i]=N.useState([]),[o,c]=N.useState(0),[l,u]=N.useState(1),[p,h]=N.useState(!1),d=10,[f,y]=N.useState({sport:"",tournament:"",team:"",category:""}),[x,b]=N.useState(!1),[g,m]=N.useState(!1),[j,v]=N.useState(!1),[w,_]=N.useState(!1),[k,C]=N.useState(!1),[O,S]=N.useState(null),{getProductsPaginated:T,setProductLockStatus:P}=ja(),{getAllCategories:L,getAllSports:B,getAllTournaments:M,getAllTeams:I}=Xt(),D=Ce(),[V,z]=N.useState([]),[R,E]=N.useState([]),[$,A]=N.useState([]),[U,H]=N.useState([]);N.useEffect(()=>{const J=setTimeout(()=>{a(e),u(1)},500);return()=>clearTimeout(J)},[e]),N.useEffect(()=>{(async()=>{try{const[se,ae,me,ce]=await Promise.all([L(),B(),M(),I()]);z(se),E(ae),A(me),H(ce)}catch(se){console.error("Error loading filter options:",se)}})()},[]),N.useEffect(()=>{F()},[n,l,f]);const F=async()=>{try{h(!0);const J=await T(n,d,l,f.category,f.sport,f.tournament,f.team);i(J.products),c(J.total)}catch(J){console.error("Error fetching products:",J),ee("Khng th ti sn phm","error")}finally{h(!1)}},q=()=>{b(!0)},X=J=>{S(J),m(!0)},G=J=>{S(J),v(!0)},K=J=>{S(J),_(!0)},W=()=>{O&&(ee("Chc nng xa ang pht trin","info"),_(!1),S(null))},Q=()=>{b(!1),F(),ee("To sn phm thnh cng","success")},ne=()=>{m(!1),S(null),F(),ee("Cp nht sn phm thnh cng","success")},le=async J=>{try{await P(J.product_id,!J.is_active),F(),ee(`${J.is_active?"Ngng bn":"ang bn"} sn phm thnh cng`,"success")}catch(se){console.error("Failed to update product status:",se),ee("Khng th cp nht trng thi sn phm","error")}},pe=J=>{const se=typeof J=="string"?parseFloat(J):J;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(se)},ve=J=>new Date(J).toLocaleDateString("vi-VN"),te=Math.ceil(o/d),Y=J=>{u(J),window.scrollTo({top:0,behavior:"smooth"})},Z=()=>{const J=[];if(te<=5)for(let se=1;se<=te;se++)J.push(r.jsx("button",{onClick:()=>Y(se),className:`px-3 py-1 rounded ${l===se?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:se},se));else{J.push(r.jsx("button",{onClick:()=>Y(1),className:`px-3 py-1 rounded ${l===1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"1"},1)),J.push(r.jsx("button",{onClick:()=>Y(2),className:`px-3 py-1 rounded ${l===2?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"2"},2)),l>4&&J.push(r.jsx("span",{className:"px-2",children:"..."},"dots1"));const se=Math.max(3,l-1),ae=Math.min(te-2,l+1);for(let me=se;me<=ae;me++)me>2&&me<te-1&&J.push(r.jsx("button",{onClick:()=>Y(me),className:`px-3 py-1 rounded ${l===me?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:me},me));l<te-3&&J.push(r.jsx("span",{className:"px-2",children:"..."},"dots2")),J.push(r.jsx("button",{onClick:()=>Y(te-1),className:`px-3 py-1 rounded ${l===te-1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:te-1},te-1)),J.push(r.jsx("button",{onClick:()=>Y(te),className:`px-3 py-1 rounded ${l===te?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:te},te))}return J};return p?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-lg font-medium",children:"ang ti..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l sn phm"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l thng tin sn phm v danh mc"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>D("/admin/categories"),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-300 text-black hover:bg-gray-50 transition-colors duration-200",children:[r.jsx(Pr,{size:20}),r.jsx("span",{className:"font-medium",children:"Danh mc"})]}),r.jsxs("button",{type:"button",onClick:q,className:"flex items-center gap-2 px-4 py-2.5 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(wt,{size:20}),r.jsx("span",{className:"font-medium",children:"Thm sn phm"})]}),r.jsxs("button",{type:"button",onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 text-white hover:bg-green-700 transition-colors duration-200",children:[r.jsx(eg,{size:20}),r.jsx("span",{className:"font-medium",children:"Import Excel"})]})]})]}),r.jsxs("div",{className:"bg-white p-4 border border-gray-200",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Danh mc"}),r.jsxs("select",{value:f.category,onChange:J=>{y({...f,category:J.target.value}),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c danh mc"}),V.map(J=>r.jsx("option",{value:J.category_name,children:J.category_name},J.category_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mn th thao"}),r.jsxs("select",{value:f.sport,onChange:J=>{y({...f,sport:J.target.value}),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c mn th thao"}),R.map(J=>r.jsx("option",{value:J.sport_name,children:J.sport_name},J.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gii u"}),r.jsxs("select",{value:f.tournament,onChange:J=>{y({...f,tournament:J.target.value}),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c gii u"}),$.map(J=>r.jsx("option",{value:J.tournament_name,children:J.tournament_name},J.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"i/CLB"}),r.jsxs("select",{value:f.team,onChange:J=>{y({...f,team:J.target.value}),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c i"}),U.map(J=>r.jsx("option",{value:J.team_name,children:J.team_name},J.team_id))]})]})]}),(f.category||f.sport||f.tournament||f.team)&&r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:()=>{y({sport:"",tournament:"",team:"",category:""}),u(1)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Xa b lc"})})]}),r.jsx("div",{className:"bg-white p-4 border border-gray-200 border-t-0",children:r.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:r.jsxs("div",{className:"flex-1 relative min-w-80",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim sn phm theo tn hoc m t...",value:e,onChange:J=>{t(J.target.value),u(1)},className:"w-full pl-12 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tng sn phm"}),r.jsx("p",{className:"text-2xl font-bold text-black",children:o})]}),r.jsx(Er,{className:"w-8 h-8 text-gray-400"})]})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Trang hin ti"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.length})]}),r.jsx(Er,{className:"w-8 h-8 text-green-400"})]})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tng trang"}),r.jsx("p",{className:"text-2xl font-bold text-gray-600",children:te})]}),r.jsx(Cr,{className:"w-8 h-8 text-gray-400"})]})})]}),s.length===0?r.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-2 text-lg font-medium",children:"Khng tm thy sn phm"}),r.jsx("div",{className:"text-sm text-gray-500",children:o===0?"Cha c sn phm no trong h thng":"Th thay i b lc hoc tm kim vi t kha khc"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Sn phm"}),r.jsx("th",{className:"px-6 py-4",children:"Danh mc"}),r.jsx("th",{className:"px-6 py-4",children:"Gi"}),r.jsx("th",{className:"px-6 py-4",children:"Trng thi bn"}),r.jsx("th",{className:"px-6 py-4",children:"Ngy to"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(J=>{var se;return r.jsxs("tr",{className:`hover:bg-gray-50 transition-colors duration-200 ${J.is_active?"":"opacity-60 bg-gray-100"}`,children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[J.product_image?r.jsx("img",{src:J.product_image,alt:J.product_name,className:"w-12 h-12 object-cover border border-gray-200"}):r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center",children:r.jsx(Er,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"max-w-xs",children:[r.jsx("p",{className:"text-sm font-medium text-black line-clamp-1",children:J.product_name}),J.product_description&&r.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:J.product_description})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800",children:((se=J.Category)==null?void 0:se.category_name)||"N/A"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm font-medium text-black",children:pe(J.product_price)})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${J.is_active?"bg-green-100 text-green-800":"bg-gray-300 text-gray-700"}`,children:J.is_active?"ang bn":"Ngng bn"})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve(J.created_at)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>G(J),className:"p-2 hover:bg-blue-50 transition-colors duration-200",title:"Xem chi tit",children:r.jsx(Vt,{size:16,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>X(J),className:"p-2 hover:bg-gray-100 transition-colors duration-200",title:"Chnh sa",children:r.jsx(Gt,{size:16,className:"text-gray-600"})}),r.jsx("button",{type:"button",onClick:()=>le(J),className:"p-2 hover:bg-yellow-50 transition-colors duration-200",title:J.is_active?"Kha sn phm (Ngng bn)":"M kha sn phm (ang bn)",children:r.jsx(Cr,{size:16,className:J.is_active?"text-yellow-600":"text-gray-400"})})]})})]},J.product_id)})})]})}),te>1&&r.jsxs("div",{className:"flex items-center justify-between bg-white p-4 border border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Hin th ",(l-1)*d+1," n"," ",Math.min(l*d,o)," trong tng"," ",o," sn phm"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Y(l-1),disabled:l===1,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),Z(),r.jsx("button",{type:"button",onClick:()=>Y(l+1),disabled:l===te,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}),x&&r.jsx(kN,{isOpen:x,onClose:()=>b(!1),onSuccess:Q}),g&&O&&r.jsx(SN,{isOpen:g,product:O,onClose:()=>{m(!1),S(null)},onSuccess:ne}),j&&O&&r.jsx(CN,{isOpen:j,product:O,onClose:()=>{v(!1),S(null)},onEdit:()=>X(O),onDelete:()=>K(O)}),r.jsx(ba,{isOpen:w,title:"Xa sn phm",message:`Bn c chc chn mun xa sn phm "${O==null?void 0:O.product_name}"? Hnh ng ny khng th hon tc.`,onConfirm:W,onClose:()=>{_(!1),S(null)},confirmText:"Xa",cancelText:"Hy",type:"danger"}),k&&r.jsx(EN,{isOpen:k,onClose:()=>C(!1),onSuccess:()=>{C(!1),F(),ee("Import sn phm thnh cng","success")}})]})},fi="/api",Gg=N.createContext(void 0),ON=({children:e})=>{const[t,n]=N.useState(!1),a=async()=>{n(!0);try{const c=localStorage.getItem("token"),l=await fetch(`${fi}/admin/orders`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`}});if(!l.ok)throw new Error("Failed to fetch orders");const u=await l.json();return u.success?u.data:[]}catch(c){throw console.error("Error fetching orders:",c),c}finally{n(!1)}},s=async c=>{n(!0);try{const l=localStorage.getItem("token"),u=await fetch(`${fi}/admin/orders/history/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(!u.ok)throw new Error("Failed to fetch order history");const p=await u.json();return p.success?p.data:[]}catch(l){throw console.error("Error fetching order history:",l),l}finally{n(!1)}},i=async(c,l,u,p)=>{try{const h=localStorage.getItem("token"),d=new URLSearchParams;c&&d.append("search",c),l&&d.append("order_status",l),d.append("limit",u.toString()),d.append("page",p.toString());const y=await(await fetch(`${fi}/admin/orders/paginated?${d.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}})).json();if(y.success)return{data:y.data,total:y.total,page:y.page,totalPages:y.totalPages};throw new Error(y.message||"Failed to fetch paginated orders")}catch(h){throw console.error("Error fetching paginated orders:",h),h}},o=async(c,l)=>{n(!0);try{const u=localStorage.getItem("token"),h=await(await fetch(`${fi}/admin/orders/${c}/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({status:l})})).json();if(!h.success)throw new Error(h.message);return h}catch(u){throw u}finally{n(!1)}};return r.jsx(Gg.Provider,{value:{getAllOrders:a,getOrderHistoryByUserId:s,getOrdersPaginated:i,approveOrder:o,loading:t},children:e})},ld=()=>{const e=N.useContext(Gg);if(!e)throw new Error("useOrder must be used within OrderProvider");return e},AN=["Tt c","Ch xc nhn","ang x l","ang vn chuyn"," giao"," hy"],LN={"Ch xc nhn":"bg-yellow-100 text-yellow-800 border-yellow-300","ang x l":"bg-blue-100 text-blue-800 border-blue-300","ang vn chuyn":"bg-purple-100 text-purple-800 border-purple-300"," giao":"bg-green-100 text-green-800 border-green-300"," hy":"bg-red-100 text-red-800 border-red-300",Pending:"bg-yellow-100 text-yellow-800 border-yellow-300",Processing:"bg-blue-100 text-blue-800 border-blue-300",Shipped:"bg-purple-100 text-purple-800 border-purple-300",Delivered:"bg-green-100 text-green-800 border-green-300",Cancelled:"bg-red-100 text-red-800 border-red-300"};function Vh(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}const IN=()=>{const e=Ce(),{getOrdersPaginated:t}=ld(),[n,a]=N.useState([]),[s,i]=N.useState(0),[o,c]=N.useState(1),[l,u]=N.useState(!1),p=10,[h,d]=N.useState(""),[f,y]=N.useState(""),[x,b]=N.useState("Tt c");N.useEffect(()=>{const w=setTimeout(()=>{y(h),c(1)},500);return()=>clearTimeout(w)},[h]),N.useEffect(()=>{c(1)},[x]);const g=async()=>{u(!0);try{const w=await t(f,x,p,o);a(w.data),i(w.total)}catch(w){console.error("Error fetching paginated orders:",w)}finally{u(!1)}};N.useEffect(()=>{g()},[f,x,o]);const m=Math.ceil(s/p),j=()=>{const w=[];if(m<=5)for(let _=1;_<=m;_++)w.push(_);else w.push(1,2),o>3&&o<m-2?w.push("...",o-1,o,o+1,"..."):o<=3?w.push(3,"..."):w.push("...",m-2),w.push(m-1,m);return w},v=w=>{e(`/admin/orders/${w.order_id}`,{state:{order:w}})};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Qun l n hng"}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[r.jsx("div",{className:"flex-1 min-w-[250px]",children:r.jsx("input",{type:"text",value:h,onChange:w=>d(w.target.value),placeholder:"Tm kim theo m n, tn, ST...",className:"w-full border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black"})}),r.jsx("div",{children:r.jsx("select",{value:x,onChange:w=>b(w.target.value),className:"border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black",children:AN.map(w=>r.jsx("option",{value:w,children:w},w))})})]}),l?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-black"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti..."})]}):n.length===0?r.jsx("div",{className:"text-center py-16 bg-white border rounded-lg",children:r.jsx("p",{className:"text-gray-600",children:h||x!=="Tt c"?"Khng tm thy n hng no ph hp.":"Cha c n hng no."})}):r.jsx("div",{className:"space-y-6",children:n.map(w=>{var _,k,C;return r.jsxs("div",{className:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("h3",{className:"font-bold text-lg",children:["#",w.order_id.toString().substring(0,8)]}),r.jsx("span",{className:`px-3 py-1  text-sm font-semibold  ${LN[w.order_status]||"bg-gray-100 text-gray-800"}`,children:w.order_status})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:Vh(w.total_amount)}),r.jsxs("div",{className:"text-sm text-gray-500",children:[" t vo"," ",new Date(w.order_date).toLocaleDateString("vi-VN")]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex gap-8 mb-4",children:[r.jsxs("div",{className:"flex-1 pr-8 border-r border-gray-300",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Thng tin User:"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ID:"})," ",(_=w.User)==null?void 0:_.user_id]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tn:"})," ",(k=w.User)==null?void 0:k.user_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",(C=w.User)==null?void 0:C.user_email]})]})]}),r.jsxs("div",{className:"flex-1 pl-8",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Thng tin ngi nhn:"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tn:"})," ",w.recipient_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ST:"})," ",w.recipient_phone]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"a ch:"})," ",w.recipient_address]})]})]})]}),w.orderProducts&&w.orderProducts.length>0&&r.jsx("div",{className:"space-y-3",children:w.orderProducts.map((O,S)=>{var T,P,L,B,M,I,D,V;return r.jsxs("div",{className:"flex items-center gap-4 pb-3 border-b last:border-b-0",children:[r.jsx("img",{src:((P=(T=O.Variant)==null?void 0:T.Product)==null?void 0:P.product_image)||"/placeholder.jpg",alt:(B=(L=O.Variant)==null?void 0:L.Product)==null?void 0:B.product_name,className:"w-20 h-20 object-cover bg-gray-100 rounded"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:(I=(M=O.Variant)==null?void 0:M.Product)==null?void 0:I.product_name}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Size: ",((D=O.Variant)==null?void 0:D.variant_size)||"-"," | Mu:"," ",((V=O.Variant)==null?void 0:V.variant_color)||"-"," | SL:"," ",O.quantity]})]}),r.jsx("div",{className:"text-right font-semibold",children:Vh(O.price_at_time)})]},S)})}),r.jsx("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:r.jsx("button",{onClick:()=>v(w),className:"flex-1 px-6 py-3 bg-white border-2 border-black text-black font-semibold hover:bg-black hover:text-white transition-colors",children:"Xem chi tit"})})]})]},w.order_id)})}),!l&&m>0&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx("button",{onClick:()=>c(w=>Math.max(w-1,1)),disabled:o===1,className:"px-4 py-2 text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Trc"}),j().map((w,_)=>r.jsx("button",{onClick:()=>typeof w=="number"&&c(w),disabled:w==="...",className:`px-3 py-2 text-sm font-bold ${o===w?"bg-black text-white":w==="..."?"cursor-default":"hover:bg-gray-100"}`,children:w},_)),r.jsx("button",{onClick:()=>c(w=>Math.min(w+1,m)),disabled:o===m,className:"px-4 py-2 text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Sau"})]})]})})};function Ha(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}const $n=[{key:"Ch xc nhn",label:"Ch xc nhn"},{key:"ang x l",label:"ang x l"},{key:"ang vn chuyn",label:"ang vn chuyn"},{key:" giao",label:" giao"}],MN=["Ch xc nhn","ang x l","ang vn chuyn"," giao"," hy"];function RN(e){const t=$n.findIndex(n=>n.key===e);return e===" hy"?-1:t}function DN(){var b,g;const e=bt(),t=Ce(),{approveOrder:n}=ld(),a=(b=e.state)==null?void 0:b.order,[s,i]=N.useState(!1),[o,c]=N.useState((a==null?void 0:a.order_status)||"");if(!a)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Khng tm thy n hng."}),r.jsx("button",{className:"px-6 py-3 bg-black text-white font-semibold hover:bg-gray-800",onClick:()=>t("/admin/orders"),children:"Quay li danh sch"})]})});const l=a.payment_method||"Thanh ton khi nhn hng",u=a.payment_status||(a.order_status===" giao"||a.order_status==="Delivered"?" thanh ton":"Cha thanh ton"),p=Number(a.shipping_fee)??(Number(a.total_amount)<15e5?15e3:0),h=Number(a.tax)??Math.round(Number(a.total_amount)*.04),d=Number(a.total_amount)+(p||0)+(h||0),f=RN(a.order_status),y=a.order_status===" giao"||a.order_status===" hy",x=async()=>{if(o===a.order_status){ee("Trng thi khng thay i","info");return}i(!0);try{await n(a.order_id,o),ee("Cp nht trng thi thnh cng","success"),a.order_status=o,t("/admin/orders")}catch(m){console.error("Error updating status:",m),ee(m.message||"Khng th cp nht trng thi","error")}finally{i(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CHI TIT N HNG"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["M n hng ",r.jsxs("span",{className:"font-semibold",children:["#",a.order_id]})," ",""," ",a.order_date&&new Date(a.order_date).toLocaleDateString("vi-VN")]})]}),r.jsx("button",{className:"px-6 py-3 border-2 border-black hover:bg-black hover:text-white transition-colors font-semibold",onClick:()=>t("/admin/orders"),children:"Quay li"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-bold mb-4 uppercase tracking-wider",children:"Cp nht trng thi"}),r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:"Trng thi n hng"}),r.jsx("select",{disabled:y,value:o,onChange:m=>c(m.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none bg-white",children:MN.map(m=>r.jsx("option",{value:m,children:m},m))})]}),r.jsx("button",{onClick:x,disabled:y||s||o===a.order_status,className:"px-6 py-3 bg-black text-white font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"ang cp nht...":"Cp nht"})]})]}),r.jsx("div",{className:"bg-white border border-gray-200",children:(g=a.orderProducts)==null?void 0:g.map((m,j)=>{var v,w,_,k,C,O,S,T,P,L,B,M,I,D,V;return r.jsxs("div",{className:"flex flex-col md:flex-row border-b border-gray-200 last:border-b-0 p-6",children:[r.jsx("div",{className:"md:w-1/3 flex-shrink-0 flex items-center justify-center mb-6 md:mb-0",children:r.jsx("img",{src:((w=(v=m.Variant)==null?void 0:v.Product)==null?void 0:w.product_image)||"/placeholder.jpg",alt:(k=(_=m.Variant)==null?void 0:_.Product)==null?void 0:k.product_name,className:"w-full h-auto max-w-[350px] object-cover bg-gray-100"})}),r.jsxs("div",{className:"md:w-2/3 md:pl-8 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-xl mb-2",children:(O=(C=m.Variant)==null?void 0:C.Product)==null?void 0:O.product_name}),r.jsxs("div",{className:"text-lg font-semibold text-gray-700 mb-3",children:[Ha(m.price_at_time),"  ",m.quantity," ="," ",Ha(m.price_at_time*m.quantity)]}),r.jsx("div",{className:"text-gray-600 mb-3",children:(T=(S=m.Variant)==null?void 0:S.Product)==null?void 0:T.product_description}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-500",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Size:"})," ",((P=m.Variant)==null?void 0:P.variant_size)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Mu:"})," ",((L=m.Variant)==null?void 0:L.variant_color)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Loi:"})," ",(I=(M=(B=m.Variant)==null?void 0:B.Product)==null?void 0:M.Category)==null?void 0:I.category_name]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:(D=$n[f])!=null&&D.label?`${(V=$n[f])==null?void 0:V.label} vo ngy ${a.order_date&&new Date(a.order_date).toLocaleDateString("vi-VN")}`:" hy"}),r.jsxs("div",{className:"w-full flex flex-col gap-2",children:[r.jsxs("div",{className:"relative w-full h-1.5 bg-gray-200",children:[r.jsx("div",{className:`absolute top-0 left-0 h-1.5 ${f===-1?"bg-red-500":"bg-black"}`,style:{width:f===-1?"0%":`${(f+1)/$n.length*100}%`,transition:"width 0.3s"}}),r.jsx("div",{className:"absolute top-1/2 left-0 w-full flex justify-between items-center pointer-events-none",style:{transform:"translateY(-50%)"},children:$n.map((z,R)=>r.jsx("div",{className:`w-3 h-3 flex items-center justify-center font-bold text-[10px] ${f===-1?R===0?"bg-red-500 text-white":"bg-gray-300 text-gray-400":R<=f?"bg-black text-white":"bg-gray-300 text-gray-400"}`,style:{borderRadius:"50%",zIndex:2,boxShadow:R===f&&f!==-1?"0 0 0 2px #000":void 0}},z.key))})]}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-black font-medium",children:[$n.map((z,R)=>r.jsx("span",{className:f===-1&&R===0||R===f&&f!==-1?"underline":"",children:z.label},z.key)),f===-1&&r.jsx("span",{className:"text-red-500 font-semibold ml-2",children:" hy"})]})]})]})]})]},j)})}),r.jsxs("div",{className:"bg-gray-100 border border-gray-200",children:[r.jsxs("div",{className:"px-8 pt-8 pb-4",children:[r.jsx("div",{className:"font-bold text-lg mb-4 uppercase tracking-wider",children:"Thng tin thanh ton"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Tn ngi nhn:"})," ",a.recipient_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"S in thoi:"})," ",a.recipient_phone]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("span",{className:"font-semibold",children:"a ch:"})," ",a.recipient_address]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Phng thc thanh ton:"})," ",l]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Trng thi thanh ton:"})," ",r.jsx("span",{className:u===" thanh ton"?"text-green-600 font-bold":"text-yellow-600 font-bold",children:u})]})]})]}),r.jsx("div",{className:"border-t border-gray-300 mx-8"}),r.jsxs("div",{className:"px-8 py-6",children:[r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Tm tnh"}),r.jsx("span",{children:Ha(a.total_amount)})]}),r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Ph vn chuyn"}),r.jsx("span",{children:p===0?"Min ph":Ha(p)})]}),r.jsxs("div",{className:"mt-4 flex justify-between text-black font-bold text-lg border-t pt-3",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:Ha(d)})]})]})]})]})}const Hh="/api",$N=({isOpen:e,onClose:t,onSuccess:n})=>{const[a,s]=N.useState(null),[i,o]=N.useState(!1),c=async()=>{try{const p=localStorage.getItem("token"),h=await fetch(`${Hh}/admin/products/excel/template`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${p}`}});if(!h.ok)throw new Error("Failed to download template");const d=await h.blob(),f=window.URL.createObjectURL(d),y=document.createElement("a");y.href=f,y.download="template_inventory_stock.xlsx",document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(f),document.body.removeChild(y),ee(" ti template thnh cng","success")}catch(p){console.error("Download template error:",p),ee("Khng th ti template","error")}},l=async()=>{if(a){o(!0);try{const p=localStorage.getItem("token"),h=new FormData;h.append("excel",a);const d=await fetch(`${Hh}/admin/inventory/excel/import-stock`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${p}`},body:h});if(!d.ok)throw new Error("Failed to import Excel");const f=await d.json();if(!f.success)throw new Error(f.message||"Import failed");ee(f.message||"Import thnh cng","success"),n==null||n(),t()}catch(p){console.error("Import error:",p),ee(p instanceof Error?p.message:"Khng th import file","error")}finally{o(!1)}}},u=()=>{i||(s(null),t())};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:r.jsxs("div",{className:"bg-white shadow-2xl w-full max-w-2xl p-0 relative border border-gray-300 flex flex-col",style:{borderRadius:0,minHeight:480},children:[r.jsxs("div",{className:"flex items-center justify-between px-10 py-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight text-black",children:"Import tn kho t Excel"}),r.jsx("button",{className:"text-gray-400 hover:text-black text-3xl",onClick:u,disabled:i,title:"ng",children:r.jsx("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),r.jsxs("form",{className:"flex-1 px-10 py-8 flex flex-col gap-8 justify-center",onSubmit:p=>{p.preventDefault(),l()},children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Hng dn s dng:"}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"Ti file mu Excel bn di"}),r.jsx("li",{children:'in thng tin vo sheet "Variants": product_name, variant_size, variant_color, variant_stock'}),r.jsx("li",{children:"Ch cc variant  tn ti trong h thng mi c cp nht"}),r.jsx("li",{children:"Upload file Excel  in  import"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-semibold mb-3 text-gray-700",children:"Ti file mu"}),r.jsx("button",{className:"w-full px-5 py-4 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 hover:bg-gray-200 text-base font-semibold text-black transition-colors duration-200 shadow-sm disabled:opacity-50",style:{borderRadius:0},onClick:c,type:"button",disabled:i,children:"Bm  ti file mu Excel"}),r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:'S dng sheet "Variants"  cp nht stock cho cc bin th  c'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-semibold mb-3 text-gray-700",children:"Import file Excel"}),r.jsx("input",{type:"file",accept:".xlsx,.xls",className:"block w-full text-base text-gray-700 file:mr-4 file:py-4 file:px-4 file:rounded-none file:border-0 file:text-base file:font-semibold file:bg-gray-50 file:text-black hover:file:bg-gray-100 border border-gray-300 disabled:opacity-50",onChange:p=>{var h;return s(((h=p.target.files)==null?void 0:h[0])||null)},style:{borderRadius:0},disabled:i}),a&&r.jsxs("div",{className:"text-sm text-green-700 mt-2",children:[" chn: ",r.jsx("span",{className:"font-semibold",children:a.name})]})]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{className:"px-6 py-3 bg-white border border-gray-300 hover:bg-gray-100 text-lg font-medium transition-colors duration-200 disabled:opacity-50",style:{borderRadius:0},onClick:u,type:"button",disabled:i,children:"Hy"}),r.jsx("button",{className:"px-6 py-3 bg-black text-white hover:bg-gray-900 text-lg font-semibold transition-colors duration-200 disabled:opacity-50",style:{borderRadius:0},type:"submit",disabled:!a||i,children:i?"ang import...":"Import"})]})]})]})}):null},Ua="/api",Kg=N.createContext(void 0),zN=({children:e})=>{const[t,n]=N.useState([]),[a,s]=N.useState(!1),i=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),o=async(h,d,f)=>{const y=new URLSearchParams;h&&y.append("search",h),y.append("limit",d.toString()),y.append("page",f.toString());const x=await fetch(`${Ua}/admin/inventory/paginated?${y}`,{method:"GET",headers:i()});if(!x.ok)throw new Error("Failed to fetch paginated inventory");const b=await x.json();return{products:b.products||[],total:b.total||0,totalVariants:b.totalVariants||0,page:b.page||1,totalPages:b.totalPages||1}},c=async()=>{s(!0);try{const h=await fetch(`${Ua}/admin/inventory`,{method:"GET",headers:i()});if(!h.ok)throw new Error("Failed to fetch products");const d=await h.json();let f=[];Array.isArray(d)?f=d:d.products&&Array.isArray(d.products)&&(f=d.products);const y=new Map;f.forEach(x=>{var m,j,v,w,_,k,C,O,S;const b=((m=x.Product)==null?void 0:m.product_id)||x.product_id;y.has(b)||y.set(b,{product_id:b,product_name:((j=x.Product)==null?void 0:j.product_name)||"",product_description:((v=x.Product)==null?void 0:v.product_description)||"",product_price:((w=x.Product)==null?void 0:w.product_price)||0,product_image:((_=x.Product)==null?void 0:_.product_image)||"",created_at:((k=x.Product)==null?void 0:k.created_at)||"",is_active:((C=x.Product)==null?void 0:C.is_active)??!0,Variant:[]});const g=y.get(b);Array.isArray(g.Variant)&&g.Variant.push({variant_id:x.variant_id,variant_size:x.variant_size,variant_color:x.variant_color,variant_stock:x.variant_stock,product_id:b,product_name:(O=x.Product)==null?void 0:O.product_name,product_image:(S=x.Product)==null?void 0:S.product_image,created_at:x.created_at,updated_at:x.updated_at})}),n(Array.from(y.values()))}catch(h){throw n([]),h}finally{s(!1)}},l=async h=>{s(!0);try{const d={...h,variant_size:h.variant_size||"Standard",variant_color:h.variant_color||"Default",variant_stock:h.variant_stock||0,product_id:typeof h.product_id=="string"?parseInt(h.product_id):h.product_id},f=await fetch(`${Ua}/admin/inventory`,{method:"POST",headers:i(),body:JSON.stringify(d)});if(!f.ok){const y=await f.json();throw new Error(y.message||"Failed to create variant")}await c()}catch(d){throw d}finally{s(!1)}},u=async(h,d)=>{s(!0);try{const f={variant_size:d.variant_size,variant_color:d.variant_color,variant_stock:d.variant_stock},y=await fetch(`${Ua}/admin/inventory/${h}`,{method:"PUT",headers:i(),body:JSON.stringify(f)});if(!y.ok){const x=await y.json();throw new Error(x.message||"Failed to update variant")}await c()}catch(f){throw f}finally{s(!1)}},p=async h=>{s(!0);try{const d=await fetch(`${Ua}/admin/inventory/${h}`,{method:"DELETE",headers:i()});if(!d.ok){const f=await d.json();throw new Error(f.message||"Failed to delete variant")}await c()}catch(d){throw d}finally{s(!1)}};return r.jsx(Kg.Provider,{value:{products:t,loading:a,fetchProducts:c,getInventoryPaginated:o,createVariant:l,updateVariant:u,deleteVariant:p},children:e})},Vo=()=>{const e=N.useContext(Kg);if(!e)throw new Error("useInventory must be used within InventoryProvider");return e},BN=({isOpen:e,onClose:t,onSuccess:n})=>{const{createVariant:a}=Vo(),{getAllProducts:s}=ja(),[i,o]=N.useState({product_id:"",variant_size:"",variant_color:"",variant_stock:"0"}),[c,l]=N.useState([]),[u,p]=N.useState(!1);N.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const x=await s();l(x)}catch(x){console.error("Error fetching products:",x),ee("Khng th ti danh sch sn phm","error")}},d=x=>{const{name:b,value:g}=x.target;o(m=>({...m,[b]:g}))},f=async x=>{x.preventDefault(),p(!0);try{if(!i.variant_size.trim()&&!i.variant_color.trim()){ee("Vui lng nhp t nht kch c hoc mu sc","error"),p(!1);return}const b={product_id:parseInt(i.product_id),variant_size:i.variant_size.trim()||"Standard",variant_color:i.variant_color.trim()||"Default",variant_stock:parseInt(i.variant_stock)};await a(b),ee("To bin th thnh cng!","success"),n(),t(),y()}catch(b){console.error("Error creating variant:",b),ee(b.message||"C li xy ra khi to bin th","error")}finally{p(!1)}},y=()=>{o({product_id:"",variant_size:"",variant_color:"",variant_stock:"0"})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO BIN TH MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm bin th mi cho sn phm"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:f,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"SN PHM *"}),r.jsxs("select",{name:"product_id",value:i.product_id,onChange:d,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn sn phm"}),c.map(x=>r.jsx("option",{value:x.product_id,children:x.product_name},x.product_id))]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN BIN TH"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_size",value:i.variant_size,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_color",value:i.variant_color,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"S LNG TN KHO *"}),r.jsx("input",{type:"number",name:"variant_stock",value:i.variant_stock,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",min:"0",required:!0})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:u?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang to..."]}):"To bin th"})]})]})]})}):null},FN=({isOpen:e,variant:t,onClose:n,onSuccess:a})=>{const{updateVariant:s}=Vo(),[i,o]=N.useState({variant_size:"",variant_color:"",variant_stock:"0"}),[c,l]=N.useState(!1);N.useEffect(()=>{var h;t&&e&&o({variant_size:t.variant_size||"",variant_color:t.variant_color||"",variant_stock:((h=t.variant_stock)==null?void 0:h.toString())||"0"})},[t,e]);const u=h=>{const{name:d,value:f}=h.target;o(y=>({...y,[d]:f}))},p=async h=>{if(h.preventDefault(),!!t){l(!0);try{if(!i.variant_size.trim()&&!i.variant_color.trim()){ee("Vui lng nhp t nht kch c hoc mu sc","error"),l(!1);return}const d={variant_size:i.variant_size.trim()||"Standard",variant_color:i.variant_color.trim()||"Default",variant_stock:parseInt(i.variant_stock),product_id:t.product_id};await s(t.variant_id,d),ee("Cp nht bin th thnh cng!","success"),a(),n()}catch(d){console.error("Error updating variant:",d),ee(d.message||"C li xy ra khi cp nht bin th","error")}finally{l(!1)}}};return!e||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CP NHT BIN TH"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chnh sa thng tin bin th sn phm"})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:p,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-600 mb-2",children:"SN PHM"}),r.jsx("p",{className:"text-lg font-medium",children:t.product_name})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN BIN TH"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_size",value:i.variant_size,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_color",value:i.variant_color,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"S LNG TN KHO *"}),r.jsx("input",{type:"number",name:"variant_stock",value:i.variant_stock,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",min:"0",required:!0})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:c?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang cp nht..."]}):"Cp nht bin th"})]})]})]})})},VN=({isOpen:e,variant:t,onClose:n,onEdit:a,onDelete:s})=>{const i=l=>l?new Date(l).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}):"-",o=l=>l===0?{label:"Ht hng",color:"bg-red-100 text-red-800"}:l<20?{label:"Sp ht",color:"bg-yellow-100 text-yellow-800"}:{label:"Cn hng",color:"bg-green-100 text-green-800"};if(!e||!t)return null;const c=o(t.variant_stock);return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-8 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-sm uppercase tracking-wider font-medium",children:"CHI TIT BIN TH"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Chnh sa",children:r.jsx(Gt,{size:18})}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Xa",children:r.jsx(Kt,{size:18})}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(Re,{size:20})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"aspect-square bg-gray-50 overflow-hidden",children:t.product_image?r.jsx("img",{src:t.product_image,alt:t.product_name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"flex items-center justify-center h-full text-gray-300",children:r.jsx(Er,{size:80,strokeWidth:1})})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"SN PHM"}),r.jsx("h1",{className:"text-2xl font-medium",children:t.product_name||"Khng c tn"})]}),r.jsxs("div",{className:"space-y-4 pb-6 border-b",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"KCH C"}),r.jsx("div",{className:"font-medium text-lg",children:t.variant_size||"Standard"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"MU SC"}),r.jsx("div",{className:"font-medium text-lg",children:t.variant_color||"Default"})]})]}),r.jsxs("div",{className:"space-y-4 pb-6 border-b",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"S LNG TN KHO"}),r.jsx("div",{className:"text-3xl font-medium",children:t.variant_stock})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500",children:"TRNG THI"}),r.jsx("span",{className:`px-3 py-1 text-xs uppercase tracking-wider font-medium ${c.color}`,children:c.label})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"M BIN TH"}),r.jsxs("div",{className:"text-sm font-mono text-gray-600",children:["#",t.variant_id]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"NGY TO"}),r.jsx("div",{className:"text-sm text-gray-600",children:i(t.created_at)})]})]})]})]})})]})})},HN=e=>e===0?{label:"Ht hng",color:"bg-red-100 text-red-800"}:e<20?{label:"Sp ht",color:"bg-yellow-100 text-yellow-800"}:{label:"Cn hng",color:"bg-green-100 text-green-800"},UN=()=>{const{getInventoryPaginated:e}=Vo(),[t,n]=N.useState(""),[a,s]=N.useState(""),[i,o]=N.useState(!1),[c,l]=N.useState(!1),[u,p]=N.useState(!1),[h,d]=N.useState(!1),[f,y]=N.useState(!1),[x,b]=N.useState(null),[g,m]=N.useState(null),[j,v]=N.useState(1),[w,_]=N.useState(1),[k,C]=N.useState([]),[O,S]=N.useState([]),[T,P]=N.useState(0),[L,B]=N.useState(0),M=10;N.useEffect(()=>{const $=setTimeout(()=>{s(t),v(1)},500);return()=>clearTimeout($)},[t]);const I=N.useCallback(async()=>{o(!0);try{const $=await e(a,M,j),A=$.products||[],U=new Map;A.forEach(q=>{var K,W,Q,ne,le,pe,ve,te,Y;const X=((K=q.Product)==null?void 0:K.product_id)||q.product_id;U.has(X)||U.set(X,{product_id:X,product_name:((W=q.Product)==null?void 0:W.product_name)||"",product_description:((Q=q.Product)==null?void 0:Q.product_description)||"",product_price:((ne=q.Product)==null?void 0:ne.product_price)||0,product_image:((le=q.Product)==null?void 0:le.product_image)||"",created_at:((pe=q.Product)==null?void 0:pe.created_at)||"",is_active:((ve=q.Product)==null?void 0:ve.is_active)??!0,Variant:[]});const G=U.get(X);Array.isArray(G.Variant)&&q.variant_id!==null&&G.Variant.push({variant_id:q.variant_id,variant_size:q.variant_size,variant_color:q.variant_color,variant_stock:q.variant_stock,product_id:X,product_name:(te=q.Product)==null?void 0:te.product_name,product_image:(Y=q.Product)==null?void 0:Y.product_image,created_at:q.created_at,updated_at:q.updated_at})});const H=Array.from(U.values());C(H);const F=H.flatMap(q=>Array.isArray(q.Variant)?q.Variant:q.Variant?[q.Variant]:[]);S(F),P($.total||0),B($.totalVariants||0),_($.totalPages||1)}catch($){console.error("Error fetching inventory:",$),ee("Khng th ti d liu","error"),C([]),S([])}finally{o(!1)}},[a,j,e,M]);N.useEffect(()=>{I()},[I]);const D=$=>{m(g===$?null:$)},V=O.filter($=>$.variant_stock>=20).length,z=O.filter($=>$.variant_stock>0&&$.variant_stock<20).length,R=O.filter($=>$.variant_stock===0).length,E=()=>{if(w<=7)return Array.from({length:w},(H,F)=>F+1);const $=[1];j>3&&$.push("...");const A=Math.max(2,j-1),U=Math.min(w-1,j+1);for(let H=A;H<=U;H++)$.push(H);return j<w-2&&$.push("..."),$.push(w),$};return i?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-lg font-medium",children:"ang ti..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l kho"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l tn kho v bin th sn phm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-black text-black hover:bg-gray-100 transition-colors duration-200",children:[r.jsxs("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M12 3v12m0 0l-4-4m4 4l4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("rect",{x:"4",y:"17",width:"16",height:"4",rx:"2",stroke:"currentColor",strokeWidth:"2"})]}),r.jsx("span",{className:"font-medium",children:"Import Excel"})]}),r.jsxs("button",{type:"button",onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(wt,{size:20}),r.jsx("span",{className:"font-medium",children:"Thm bin th"})]})]})]}),r.jsx($N,{isOpen:f,onClose:()=>y(!1)}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Tng sn phm"}),r.jsx("p",{className:"text-3xl font-bold text-black",children:T})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Tng bin th"}),r.jsx("p",{className:"text-3xl font-bold text-black",children:L})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Cn hng"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:V})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Sp ht"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:z})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Ht hng"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:R})]})]}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:r.jsx("div",{className:"flex-1 relative min-w-80",children:r.jsx("input",{type:"text",placeholder:"Tm kim sn phm, size, mu sc...",value:t,onChange:$=>n($.target.value),className:"w-full pl-4 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})})})}),r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Sn phm"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:2,className:"text-center py-10 text-gray-400 text-lg",children:"ang ti..."})}):k.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:2,className:"text-center py-10 text-gray-400 text-lg",children:"Khng tm thy sn phm no."})}):k.map($=>r.jsxs(Ie.Fragment,{children:[r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[$.product_image?r.jsx("img",{src:$.product_image,alt:$.product_name,className:"w-12 h-12 object-cover border border-gray-200"}):r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center",children:r.jsx(Er,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-black",children:$.product_name}),r.jsx("p",{className:"text-xs text-gray-500",children:$.product_description})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("button",{type:"button",onClick:()=>D($.product_id),className:"flex items-center gap-1 px-3 py-1 border rounded hover:bg-gray-100",children:[g===$.product_id?r.jsx(Nb,{size:16}):r.jsx(Ds,{size:16}),r.jsx("span",{className:"text-sm font-medium",children:g===$.product_id?"n bin th":"Xem bin th"})]})})]}),g===$.product_id&&r.jsx("tr",{children:r.jsx("td",{colSpan:2,className:"bg-gray-50 px-6 py-4",children:Array.isArray($.Variant)?$.Variant.length>0?r.jsxs("table",{className:"w-full border border-gray-200",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase",children:[r.jsx("th",{className:"px-4 py-3",children:"Size"}),r.jsx("th",{className:"px-4 py-3",children:"Mu"}),r.jsx("th",{className:"px-4 py-3",children:"Tn kho"}),r.jsx("th",{className:"px-4 py-3",children:"Trng thi"}),r.jsx("th",{className:"px-4 py-3",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:$.Variant.map(A=>{const U=HN(A.variant_stock),H={...A,product_name:$.product_name,product_image:$.product_image};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-black",children:A.variant_size||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:A.variant_color||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm font-semibold",children:A.variant_stock}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${U.color}`,children:U.label})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{b(H),d(!0)},className:"p-1.5 hover:bg-blue-50 rounded transition-colors",title:"Xem chi tit",children:r.jsx(Vt,{size:16,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>{b(H),p(!0)},className:"p-1.5 hover:bg-gray-100 rounded transition-colors",title:"Chnh sa",children:r.jsx(Gt,{size:16,className:"text-gray-600"})})]})})]},A.variant_id)})})]}):r.jsx("div",{className:"text-gray-400",children:"Khng c bin th no"}):$.Variant?r.jsxs("div",{children:[r.jsxs("span",{children:["Size: ",$.Variant.variant_size]}),r.jsxs("span",{children:["Mu: ",$.Variant.variant_color]}),r.jsxs("span",{children:["Tn kho: ",$.Variant.variant_stock]})]}):r.jsx("div",{className:"text-gray-400",children:"Khng c bin th no"})})})]},$.product_id))})]})}),w>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 py-6",children:[r.jsx("button",{onClick:()=>v($=>Math.max(1,$-1)),disabled:j===1,className:"px-3 py-1 border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:""}),E().map(($,A)=>$==="..."?r.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${A}`):r.jsx("button",{onClick:()=>v($),className:`px-3 py-1 border ${j===$?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:$},$)),r.jsx("button",{onClick:()=>v($=>Math.min(w,$+1)),disabled:j===w,className:"px-3 py-1 border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:""})]}),c&&r.jsx(BN,{isOpen:c,onClose:()=>l(!1),onSuccess:I}),u&&x&&r.jsx(FN,{isOpen:u,variant:x,onClose:()=>{p(!1),b(null)},onSuccess:I}),h&&x&&r.jsx(VN,{isOpen:h,variant:x,onClose:()=>{d(!1),b(null)},onEdit:()=>p(!0),onDelete:()=>{}})]})},qN=()=>{const{getCategoriesPaginated:e,createCategory:t,updateCategory:n,deleteCategory:a,loading:s}=Xt(),[i,o]=N.useState([]),[c,l]=N.useState(0),[u,p]=N.useState(1),[h,d]=N.useState(""),[f,y]=N.useState(""),[x,b]=N.useState(!1),g=9,[m,j]=N.useState(!1),[v,w]=N.useState(null),[_,k]=N.useState(null),[C,O]=N.useState({category_name:"",category_description:""});N.useEffect(()=>{const R=setTimeout(()=>{y(h),p(1)},500);return()=>clearTimeout(R)},[h]),N.useEffect(()=>{S()},[f,u]);const S=async()=>{try{b(!0);const R=await e(f,g,u);o(R.categories),l(R.total)}catch(R){console.error("Error fetching categories:",R),ee("Khng th ti danh mc","error")}finally{b(!1)}},T=Math.ceil(c/g),P=async R=>{R.preventDefault();try{v?(await n(v.category_id,C),ee("Cp nht danh mc thnh cng","success")):(await t(C),ee("To danh mc thnh cng","success")),j(!1),w(null),M(),S()}catch(E){console.error("Error saving category:",E)}},L=R=>{w(R),O({category_name:R.category_name,category_description:R.category_description||""}),j(!0)},B=async()=>{if(_)try{await a(_.category_id),ee("Xa danh mc thnh cng","success"),k(null),S()}catch(R){console.error("Error deleting category:",R)}},M=()=>{O({category_name:"",category_description:""}),w(null)},I=()=>{j(!1),M()},D=R=>{p(R),window.scrollTo({top:0,behavior:"smooth"})},V=()=>{const R=[];if(T<=5)for(let E=1;E<=T;E++)R.push(r.jsx("button",{onClick:()=>D(E),className:`px-3 py-1 rounded ${u===E?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:E},E));else{R.push(r.jsx("button",{onClick:()=>D(1),className:`px-3 py-1 rounded ${u===1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"1"},1)),R.push(r.jsx("button",{onClick:()=>D(2),className:`px-3 py-1 rounded ${u===2?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"2"},2)),u>4&&R.push(r.jsx("span",{className:"px-2",children:"..."},"dots1"));const E=Math.max(3,u-1),$=Math.min(T-2,u+1);for(let A=E;A<=$;A++)A>2&&A<T-1&&R.push(r.jsx("button",{onClick:()=>D(A),className:`px-3 py-1 rounded ${u===A?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:A},A));u<T-3&&R.push(r.jsx("span",{className:"px-2",children:"..."},"dots2")),R.push(r.jsx("button",{onClick:()=>D(T-1),className:`px-3 py-1 rounded ${u===T-1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:T-1},T-1)),R.push(r.jsx("button",{onClick:()=>D(T),className:`px-3 py-1 rounded ${u===T?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:T},T))}return R},z=R=>new Date(R).toLocaleDateString("vi-VN");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pr,{className:"text-blue-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Danh mc sn phm"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc danh mc sn phm"})]}),r.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(wt,{size:20}),"Thm danh mc"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim danh mc...",value:h,onChange:R=>d(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]})}),x?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(R=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Pr,{className:"text-blue-600",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:R.category_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[R.product_count||0," sn phm"]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Mo,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>L(R),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Gt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>k(R),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(Kt,{size:14}),"Xa"]})]})]})]}),R.category_description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:R.category_description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["To: ",z(R.created_at)]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem sn phm",r.jsx(En,{size:12})]})]})]},R.category_id))}),i.length===0&&!x&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Pr,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy danh mc"}),r.jsx("p",{className:"text-gray-500",children:h?"Th tm kim vi t kha khc":"Cha c danh mc no"})]}),T>1&&r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Hin th ",(u-1)*g+1," n"," ",Math.min(u*g,c)," trong tng"," ",c," danh mc"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>D(u-1),disabled:u===1,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),V(),r.jsx("button",{onClick:()=>D(u+1),disabled:u===T,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:v?"Chnh sa danh mc":"Thm danh mc mi"})}),r.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn danh mc *"}),r.jsx("input",{type:"text",value:C.category_name,onChange:R=>O(E=>({...E,category_name:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),r.jsx("textarea",{value:C.category_description,onChange:R=>O(E=>({...E,category_description:R.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:s?"ang lu...":v?"Cp nht":"To mi"})]})]})]})}),r.jsx(ba,{isOpen:!!_,title:"Xa danh mc",message:`Bn c chc chn mun xa danh mc "${_==null?void 0:_.category_name}"? Hnh ng ny khng th hon tc.`,onConfirm:B,onClose:()=>k(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},Wg=({currentImage:e,onImageSelect:t,onImageRemove:n,placeholder:a="Chn nh",disabled:s=!1,maxSizeMB:i=2,className:o="w-24 h-24"})=>{const c=N.useRef(null),l=h=>{var y;const d=(y=h.target.files)==null?void 0:y[0];if(!d)return;if(!d.type.startsWith("image/")){ee("Vui lng chn file nh","error");return}const f=i*1024*1024;if(d.size>f){ee(`File nh khng c vt qu ${i}MB`,"error");return}t(d),ee(" chn nh thnh cng","success")},u=()=>{var h;s||(h=c.current)==null||h.click()},p=h=>{h.stopPropagation(),n(),c.current&&(c.current.value="")};return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`${o} bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden cursor-pointer hover:border-gray-400 transition-colors ${s?"opacity-50 cursor-not-allowed":""}`,onClick:u,children:e?r.jsx("img",{src:e,alt:"Preview",className:"w-full h-full object-cover"}):r.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[r.jsx(no,{className:"w-6 h-6 mb-1"}),r.jsx("span",{className:"text-xs text-center",children:a})]})}),!e&&r.jsx("button",{type:"button",onClick:u,disabled:s,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600 disabled:opacity-50 transition-colors duration-200",title:"Chn nh",children:r.jsx(no,{size:14})}),e&&r.jsx("button",{type:"button",onClick:p,disabled:s,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 disabled:opacity-50 transition-colors duration-200",title:"Xa nh",children:r.jsx(Re,{size:12})}),r.jsx("input",{type:"file",ref:c,onChange:l,accept:"image/*",className:"hidden"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Ti a ",i,"MB",r.jsx("br",{}),"JPG, PNG, GIF"]})]})},GN=()=>{const{getSportsPaginated:e,createSport:t,updateSport:n,deleteSport:a,loading:s}=Xt(),[i,o]=N.useState([]),[c,l]=N.useState(0),[u,p]=N.useState(1),[h,d]=N.useState(""),[f,y]=N.useState(""),[x,b]=N.useState(!1),g=9,[m,j]=N.useState(!1),[v,w]=N.useState(null),[_,k]=N.useState(null),[C,O]=N.useState(null),[S,T]=N.useState(""),[P,L]=N.useState({sport_name:"",has_teams:!0,has_tournament:!0,sport_icon:""});N.useEffect(()=>{const H=setTimeout(()=>{y(h),p(1)},500);return()=>clearTimeout(H)},[h]),N.useEffect(()=>{B()},[f,u]);const B=async()=>{try{b(!0);const H=await e(f,g,u);o(H.sports),l(H.total)}catch(H){console.error("Error fetching sports:",H),ee("Khng th ti mn th thao","error")}finally{b(!1)}},M=async H=>{H.preventDefault();try{const F={sport_name:P.sport_name,has_teams:P.has_teams,has_tournaments:P.has_tournament,sport_icon:C?void 0:P.sport_icon};v?(await n(v.sport_id,F,C||void 0),ee("Cp nht mn th thao thnh cng","success")):(await t(F,C||void 0),ee("To mn th thao thnh cng","success")),j(!1),w(null),V(),B()}catch(F){console.error("Error saving sport:",F)}},I=H=>{w(H),L({sport_name:H.sport_name,has_teams:H.has_teams===1,has_tournament:H.has_tournament===1,sport_icon:H.sport_icon||""}),O(null),T(H.sport_icon||""),j(!0)},D=async()=>{if(_)try{await a(_.sport_id),ee("Xa mn th thao thnh cng","success"),k(null),B()}catch(H){console.error("Error deleting sport:",H)}},V=()=>{L({sport_name:"",has_teams:!0,has_tournament:!0,sport_icon:""}),w(null),O(null),T("")},z=H=>{O(H);const F=URL.createObjectURL(H);T(F)},R=()=>{O(null),T(""),v&&L(H=>({...H,sport_icon:""}))},E=()=>{j(!1),V()},$=Math.ceil(c/g),A=H=>{p(H),window.scrollTo({top:0,behavior:"smooth"})},U=()=>{const H=[];if($<=5)for(let F=1;F<=$;F++)H.push(r.jsx("button",{onClick:()=>A(F),className:`px-3 py-1 rounded ${u===F?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:F},F));else{H.push(r.jsx("button",{onClick:()=>A(1),className:`px-3 py-1 rounded ${u===1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"1"},1)),H.push(r.jsx("button",{onClick:()=>A(2),className:`px-3 py-1 rounded ${u===2?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"2"},2)),u>4&&H.push(r.jsx("span",{className:"px-2",children:"..."},"dots1"));const F=Math.max(3,u-1),q=Math.min($-2,u+1);for(let X=F;X<=q;X++)X>2&&X<$-1&&H.push(r.jsx("button",{onClick:()=>A(X),className:`px-3 py-1 rounded ${u===X?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:X},X));u<$-3&&H.push(r.jsx("span",{className:"px-2",children:"..."},"dots2")),H.push(r.jsx("button",{onClick:()=>A($-1),className:`px-3 py-1 rounded ${u===$-1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:$-1},$-1)),H.push(r.jsx("button",{onClick:()=>A($),className:`px-3 py-1 rounded ${u===$?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:$},$))}return H};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(aa,{className:"text-orange-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mn th thao"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc mn th thao v cu hnh"})]}),r.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(wt,{size:20}),"Thm mn th thao"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim mn th thao...",value:h,onChange:H=>d(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]})}),x?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(H=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-2xl overflow-hidden",children:H.sport_icon?r.jsx("img",{src:H.sport_icon,alt:H.sport_name,className:"w-full h-full object-cover rounded-lg",onError:F=>{F.currentTarget.style.display="none",F.currentTarget.parentElement.innerHTML='<svg class="text-orange-600" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>'}}):r.jsx(aa,{className:"text-orange-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:H.sport_name}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[r.jsxs("span",{children:[H.tournament_count||0," gii u"]}),r.jsxs("span",{children:[H.team_count||0," i"]})]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Mo,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>I(H),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Gt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>k(H),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(Kt,{size:14}),"Xa"]})]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"C i:"}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${H.has_teams?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:H.has_teams?"C":"Khng"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"C gii u:"}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${H.has_tournament?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:H.has_tournament?"C":"Khng"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["ID: #",H.sport_id]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem chi tit",r.jsx(En,{size:12})]})]})]},H.sport_id))}),i.length===0&&!x&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(aa,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy mn th thao"}),r.jsx("p",{className:"text-gray-500",children:h?"Th tm kim vi t kha khc":"Cha c mn th thao no"})]}),$>1&&r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Hin th ",(u-1)*g+1," n"," ",Math.min(u*g,c)," trong tng"," ",c," mn th thao"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>A(u-1),disabled:u===1,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),U(),r.jsx("button",{onClick:()=>A(u+1),disabled:u===$,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:v?"Chnh sa mn th thao":"Thm mn th thao mi"})}),r.jsxs("form",{onSubmit:M,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn mn th thao *"}),r.jsx("input",{type:"text",value:P.sport_name,onChange:H=>L(F=>({...F,sport_name:H.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon mn th thao"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Wg,{currentImage:S||P.sport_icon,onImageSelect:z,onImageRemove:R,placeholder:"Icon th thao",maxSizeMB:2,className:"w-20 h-20"})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"has_teams",checked:P.has_teams,onChange:H=>L(F=>({...F,has_teams:H.target.checked})),className:"h-4 w-4 text-black focus:ring-black border-gray-300 rounded"}),r.jsx("label",{htmlFor:"has_teams",className:"ml-2 block text-sm text-gray-900",children:"Mn th thao ny c i/CLB"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"has_tournament",checked:P.has_tournament,onChange:H=>L(F=>({...F,has_tournament:H.target.checked})),className:"h-4 w-4 text-black focus:ring-black border-gray-300 rounded"}),r.jsx("label",{htmlFor:"has_tournament",className:"ml-2 block text-sm text-gray-900",children:"Mn th thao ny c gii u"})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:s?"ang lu...":v?"Cp nht":"To mi"})]})]})]})}),r.jsx(ba,{isOpen:!!_,title:"Xa mn th thao",message:`Bn c chc chn mun xa mn th thao "${_==null?void 0:_.sport_name}"? Tt c gii u v i lin quan s b xa. Hnh ng ny khng th hon tc.`,onConfirm:D,onClose:()=>k(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},KN=()=>{const{getTournamentsPaginated:e,getAllSports:t,createTournament:n,updateTournament:a,deleteTournament:s,loading:i}=Xt(),[o,c]=N.useState([]),[l,u]=N.useState(0),[p,h]=N.useState(1),[d,f]=N.useState([]),[y,x]=N.useState(""),[b,g]=N.useState(""),[m,j]=N.useState(!1),v=9,[w,_]=N.useState(!1),[k,C]=N.useState(null),[O,S]=N.useState(null),[T,P]=N.useState(""),[L,B]=N.useState(null),[M,I]=N.useState(""),[D,V]=N.useState({tournament_name:"",tournament_description:"",sport_id:"",tournament_icon:""}),z=W=>{B(W)},R=()=>{B(null),I("")};N.useEffect(()=>{const W=setTimeout(()=>{g(y),h(1)},500);return()=>clearTimeout(W)},[y]),N.useEffect(()=>{E()},[]),N.useEffect(()=>{$()},[b,T,p]);const E=async()=>{try{const W=await t();f(W)}catch(W){console.error("Error fetching sports:",W),ee("Khng th ti mn th thao","error")}},$=async()=>{var W;try{j(!0);const Q=((W=d.find(le=>le.sport_id.toString()===T))==null?void 0:W.sport_name)||"",ne=await e(b,Q,v,p);c(ne.tournaments),u(ne.total)}catch(Q){console.error("Error fetching tournaments:",Q),ee("Khng th ti gii u","error")}finally{j(!1)}},A=async W=>{W.preventDefault();try{const Q={tournament_name:D.tournament_name,tournament_description:D.tournament_description,sport_id:parseInt(D.sport_id),tournament_icon:D.tournament_icon,...L&&{imageFile:L}};k?(await a(k.tournament_id,Q),ee("Cp nht gii u thnh cng","success")):(await n(Q),ee("To gii u thnh cng","success")),_(!1),C(null),F(),$()}catch(Q){console.error("Error saving tournament:",Q),ee("C li xy ra","error")}},U=W=>{C(W),V({tournament_name:W.tournament_name,tournament_description:W.tournament_description||"",sport_id:W.sport_id.toString(),tournament_icon:W.tournament_icon||""}),I(W.tournament_icon||""),B(null),_(!0)},H=async()=>{if(O)try{await s(O.tournament_id),ee("Xa gii u thnh cng","success"),S(null),$()}catch(W){console.error("Error deleting tournament:",W)}},F=()=>{V({tournament_name:"",tournament_description:"",sport_id:"",tournament_icon:""}),C(null),B(null),I("")},q=()=>{_(!1),F()},X=Math.ceil(l/v),G=W=>{h(W),window.scrollTo({top:0,behavior:"smooth"})},K=()=>{const W=[];if(X<=5)for(let Q=1;Q<=X;Q++)W.push(r.jsx("button",{onClick:()=>G(Q),className:`px-3 py-1 rounded ${p===Q?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:Q},Q));else{W.push(r.jsx("button",{onClick:()=>G(1),className:`px-3 py-1 rounded ${p===1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"1"},1)),W.push(r.jsx("button",{onClick:()=>G(2),className:`px-3 py-1 rounded ${p===2?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"2"},2)),p>4&&W.push(r.jsx("span",{className:"px-2",children:"..."},"dots1"));const Q=Math.max(3,p-1),ne=Math.min(X-2,p+1);for(let le=Q;le<=ne;le++)le>2&&le<X-1&&W.push(r.jsx("button",{onClick:()=>G(le),className:`px-3 py-1 rounded ${p===le?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:le},le));p<X-3&&W.push(r.jsx("span",{className:"px-2",children:"..."},"dots2")),W.push(r.jsx("button",{onClick:()=>G(X-1),className:`px-3 py-1 rounded ${p===X-1?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:X-1},X-1)),W.push(r.jsx("button",{onClick:()=>G(X),className:`px-3 py-1 rounded ${p===X?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:X},X))}return W};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(na,{className:"text-purple-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gii u"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc gii u theo mn th thao"})]}),r.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(wt,{size:20}),"Thm gii u"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim gii u...",value:y,onChange:W=>x(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsx("div",{className:"w-48",children:r.jsxs("select",{value:T,onChange:W=>P(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c mn th thao"}),d.map(W=>r.jsxs("option",{value:W.sport_id,children:[W.sport_icon," ",W.sport_name]},W.sport_id))]})})]})}),i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(W=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-2xl overflow-hidden",children:W.tournament_icon?r.jsx("img",{src:W.tournament_icon,alt:W.tournament_name,className:"w-full h-full object-cover rounded-lg",onError:Q=>{Q.currentTarget.style.display="none",Q.currentTarget.parentElement.innerHTML='<svg class="text-purple-600" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>'}}):r.jsx(na,{className:"text-purple-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:W.tournament_name}),r.jsx("p",{className:"text-sm text-purple-600",children:W.sport_name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[W.team_count||0," i tham gia"]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Mo,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>U(W),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Gt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>S(W),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(Kt,{size:14}),"Xa"]})]})]})]}),W.tournament_description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:W.tournament_description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["ID: #",W.tournament_id]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem i",r.jsx(En,{size:12})]})]})]},W.tournament_id))}),o.length===0&&!m&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(na,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy gii u"}),r.jsx("p",{className:"text-gray-500",children:y||T?"Th thay i b lc":"Cha c gii u no"})]}),X>1&&r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Hin th ",(p-1)*v+1," n"," ",Math.min(p*v,l)," trong tng ",l," gii u"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>G(p-1),disabled:p===1,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),K(),r.jsx("button",{onClick:()=>G(p+1),disabled:p===X,className:"px-3 py-1 rounded bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:k?"Chnh sa gii u":"Thm gii u mi"})}),r.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mn th thao *"}),r.jsxs("select",{value:D.sport_id,onChange:W=>V(Q=>({...Q,sport_id:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0,children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),d.map(W=>r.jsxs("option",{value:W.sport_id,children:[W.sport_icon," ",W.sport_name]},W.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn gii u *"}),r.jsx("input",{type:"text",value:D.tournament_name,onChange:W=>V(Q=>({...Q,tournament_name:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),r.jsx("textarea",{value:D.tournament_description,onChange:W=>V(Q=>({...Q,tournament_description:W.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon gii u"}),r.jsx(Wg,{onImageSelect:z,onImageRemove:R,currentImage:M||(k==null?void 0:k.tournament_icon),maxSizeMB:3})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:i?"ang lu...":k?"Cp nht":"To mi"})]})]})]})}),r.jsx(ba,{isOpen:!!O,title:"Xa gii u",message:`Bn c chc chn mun xa gii u "${O==null?void 0:O.tournament_name}"? Tt c i lin quan s b xa. Hnh ng ny khng th hon tc.`,onConfirm:H,onClose:()=>S(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},WN=()=>{const{getTeamsPaginated:e,getAllSports:t,getAllTournaments:n,createTeam:a,updateTeam:s,deleteTeam:i,loading:o}=Xt(),[c,l]=N.useState([]),[u,p]=N.useState(0),[h,d]=N.useState(1),[f,y]=N.useState(""),[x,b]=N.useState(""),[g,m]=N.useState([]),[j,v]=N.useState([]),[w,_]=N.useState(""),[k,C]=N.useState(""),[O,S]=N.useState(!1),[T,P]=N.useState(null),[L,B]=N.useState(null),[M,I]=N.useState(!1),D=9,[V,z]=N.useState({team_name:"",team_description:"",tournament_id:"",team_logo:""});N.useEffect(()=>{const Q=setTimeout(()=>{b(f),d(1)},500);return()=>clearTimeout(Q)},[f]),N.useEffect(()=>{R(),E()},[]),N.useEffect(()=>{$()},[x,w,k,h]);const R=async()=>{try{const Q=await t();m(Q.map(ne=>({sport_id:ne.sport_id,sport_name:ne.sport_name})))}catch(Q){console.error("Error fetching sports:",Q),ee("Khng th ti mn th thao","error")}},E=async()=>{try{const ne=(await n()).map(le=>{var pe,ve;return{tournament_id:le.tournament_id,tournament_name:le.tournament_name,sport_id:(pe=le.Sport)==null?void 0:pe.sport_id,sport_name:(ve=le.Sport)==null?void 0:ve.sport_name}});v(ne)}catch(Q){console.error("Error fetching tournaments:",Q),ee("Khng th ti gii u","error")}},$=async()=>{try{I(!0);const Q=await e(x,w,k,D,h),ne=Q.teams.map(le=>{var pe,ve,te;return{...le,tournament_name:(pe=le.Tournament)==null?void 0:pe.tournament_name,sport_name:(te=(ve=le.Tournament)==null?void 0:ve.Sport)==null?void 0:te.sport_name}});l(ne),p(Q.total)}catch(Q){console.error("Error fetching teams:",Q),ee("Khng th ti i/CLB","error")}finally{I(!1)}},A=async Q=>{Q.preventDefault();try{const ne={team_name:V.team_name,team_description:V.team_description,tournament_id:parseInt(V.tournament_id),team_logo:V.team_logo};T?(await s(T.team_id,ne),ee("Cp nht i/CLB thnh cng","success")):(await a(ne),ee("To i/CLB thnh cng","success")),S(!1),P(null),F(),$()}catch(ne){console.error("Error saving team:",ne)}},U=Q=>{P(Q),z({team_name:Q.team_name,team_description:Q.team_description||"",tournament_id:Q.tournament_id.toString(),team_logo:Q.team_logo||""}),S(!0)},H=async()=>{if(L)try{await i(L.team_id),ee("Xa i/CLB thnh cng","success"),B(null),$()}catch(Q){console.error("Error deleting team:",Q)}},F=()=>{z({team_name:"",team_description:"",tournament_id:"",team_logo:""}),P(null)},q=()=>{S(!1),F()},X=Math.ceil(u/D),G=Q=>{d(Q)},K=()=>{const Q=[];if(X<=7)for(let le=1;le<=X;le++)Q.push(le);else h<=3?Q.push(1,2,3,4,"...",X):h>=X-2?Q.push(1,"...",X-3,X-2,X-1,X):Q.push(1,"...",h-1,h,h+1,"...",X);return Q},W=Q=>{var le;const ne=(le=Q.target.files)==null?void 0:le[0];if(ne){const pe=new FileReader;pe.onloadend=()=>{z(ve=>({...ve,team_logo:pe.result}))},pe.readAsDataURL(ne)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gr,{className:"text-green-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"i/CLB"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc i v cu lc b"})]}),r.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(wt,{size:20}),"Thm i/CLB"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim i/CLB...",value:f,onChange:Q=>y(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsx("div",{className:"w-48",children:r.jsxs("select",{value:w,onChange:Q=>{_(Q.target.value),C(""),d(1)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c mn"}),g.map(Q=>r.jsx("option",{value:Q.sport_id,children:Q.sport_name},Q.sport_id))]})}),r.jsx("div",{className:"w-64",children:r.jsxs("select",{value:k,onChange:Q=>{C(Q.target.value),d(1)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c gii u"}),j.filter(Q=>!w||Q.sport_id.toString()===w).map(Q=>r.jsx("option",{value:Q.tournament_id,children:Q.tournament_name},Q.tournament_id))]})})]})}),M?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(Q=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-2xl overflow-hidden",children:Q.team_logo?r.jsx("img",{src:Q.team_logo,alt:Q.team_name,className:"w-full h-full object-cover rounded-lg",onError:ne=>{ne.currentTarget.style.display="none",ne.currentTarget.parentElement.innerHTML='<svg class="text-green-600" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V14H16V22H8V14H9.2V10C9.2,8.6 10.6,7 12,7Z"/></svg>'}}):r.jsx(gr,{className:"text-green-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:Q.team_name}),r.jsx("p",{className:"text-sm text-green-600",children:Q.tournament_name}),r.jsx("p",{className:"text-xs text-gray-500",children:Q.sport_name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Q.product_count||0," sn phm"]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Mo,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>U(Q),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Gt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>B(Q),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(Kt,{size:14}),"Xa"]})]})]})]}),Q.team_description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Q.team_description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["ID: #",Q.team_id]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem sn phm",r.jsx(En,{size:12})]})]})]},Q.team_id))}),c.length===0&&!M&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(gr,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy i/CLB"}),r.jsx("p",{className:"text-gray-500",children:f||w||k?"Th thay i b lc":"Cha c i/CLB no"})]}),X>1&&r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>G(h-1),disabled:h===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),r.jsx("div",{className:"flex gap-2",children:K().map((Q,ne)=>r.jsx("button",{onClick:()=>typeof Q=="number"&&G(Q),disabled:Q==="...",className:`px-3 py-1 rounded ${Q===h?"bg-black text-white":Q==="..."?"cursor-default":"border border-gray-300 hover:bg-gray-50"}`,children:Q},ne))}),r.jsx("button",{onClick:()=>G(h+1),disabled:h===X,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})}),O&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:T?"Chnh sa i/CLB":"Thm i/CLB mi"})}),r.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gii u *"}),r.jsxs("select",{value:V.tournament_id,onChange:Q=>z(ne=>({...ne,tournament_id:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0,children:[r.jsx("option",{value:"",children:"Chn gii u"}),j.map(Q=>r.jsxs("option",{value:Q.tournament_id,children:[Q.tournament_name," (",Q.sport_name,")"]},Q.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn i/CLB *"}),r.jsx("input",{type:"text",value:V.team_name,onChange:Q=>z(ne=>({...ne,team_name:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),r.jsx("textarea",{value:V.team_description,onChange:Q=>z(ne=>({...ne,team_description:Q.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo i"}),r.jsxs("div",{className:"flex items-center gap-3",children:[V.team_logo&&r.jsxs("div",{className:"relative",children:[V.team_logo.startsWith("data:")?r.jsx("img",{src:V.team_logo,alt:"Logo",className:"w-12 h-12 object-cover rounded"}):r.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-2xl bg-gray-100 rounded",children:V.team_logo}),r.jsx("button",{type:"button",onClick:()=>z(Q=>({...Q,team_logo:""})),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:r.jsx(Re,{size:12})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"text",value:V.team_logo,onChange:Q=>z(ne=>({...ne,team_logo:Q.target.value})),placeholder:"Nhp emoji hoc text...",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"}),r.jsx("div",{className:"mt-2",children:r.jsxs("label",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(Ro,{size:14}),"Hoc ti ln hnh nh",r.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"hidden"})]})})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:o?"ang lu...":T?"Cp nht":"To mi"})]})]})]})}),r.jsx(ba,{isOpen:!!L,title:"Xa i/CLB",message:`Bn c chc chn mun xa i/CLB "${L==null?void 0:L.team_name}"? Tt c sn phm lin quan s mt thng tin i. Hnh ng ny khng th hon tc.`,onConfirm:H,onClose:()=>B(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},XN=()=>{const[e,t]=N.useState("overview"),[n,a]=N.useState({categoriesCount:0,sportsCount:0,tournamentsCount:0,teamsCount:0}),{getStats:s,loading:i}=Xt();N.useEffect(()=>{e==="overview"&&(async()=>{try{const p=await s();a(p)}catch(p){console.error("Failed to load stats:",p)}})()},[e]);const o=[{id:"overview",name:"Tng quan",icon:Dc,color:"text-gray-600"},{id:"categories",name:"Danh mc sn phm",icon:Pr,color:"text-blue-600"},{id:"sports",name:"Mn th thao",icon:aa,color:"text-orange-600"},{id:"tournaments",name:"Gii u",icon:na,color:"text-purple-600"},{id:"teams",name:"i/CLB",icon:gr,color:"text-green-600"}],c=[{title:"Danh mc sn phm",description:"Qun l cc danh mc phn loi sn phm",icon:Pr,color:"bg-blue-100 text-blue-600",count:`${n.categoriesCount} danh mc`,action:()=>t("categories")},{title:"Mn th thao",description:"Qun l cc mn th thao v cu hnh",icon:aa,color:"bg-orange-100 text-orange-600",count:`${n.sportsCount} mn th thao`,action:()=>t("sports")},{title:"Gii u",description:"Qun l cc gii u theo mn th thao",icon:na,color:"bg-purple-100 text-purple-600",count:`${n.tournamentsCount} gii u`,action:()=>t("tournaments")},{title:"i/CLB",description:"Qun l cc i v cu lc b",icon:gr,color:"bg-green-100 text-green-600",count:`${n.teamsCount} i/CLB`,action:()=>t("teams")}],l=()=>{switch(e){case"categories":return r.jsx(qN,{});case"sports":return r.jsx(GN,{});case"tournaments":return r.jsx(KN,{});case"teams":return r.jsx(WN,{});default:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(Dc,{className:"text-gray-600",size:24})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l danh mc"}),r.jsx("p",{className:"text-gray-600",children:"Tng quan v qun l tt c danh mc trong h thng"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i?"...":n.categoriesCount}),r.jsx("div",{className:"text-sm text-blue-600",children:"Danh mc sn phm"})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i?"...":n.sportsCount}),r.jsx("div",{className:"text-sm text-orange-600",children:"Mn th thao"})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i?"...":n.tournamentsCount}),r.jsx("div",{className:"text-sm text-purple-600",children:"Gii u"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:i?"...":n.teamsCount}),r.jsx("div",{className:"text-sm text-green-600",children:"i/CLB"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(u=>{const p=u.icon;return r.jsx("div",{className:"bg-white rounded-lg border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:u.action,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${u.color}`,children:r.jsx(p,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:u.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),r.jsx("div",{className:"text-xs text-gray-500",children:u.count})]})]}),r.jsx(zt,{className:"text-gray-400",size:20})]})},u.title)})}),r.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cu trc phn cp"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[r.jsx(aa,{className:"text-orange-600",size:20}),r.jsx("span",{className:"font-medium",children:"Mn th thao"}),r.jsx(zt,{className:"text-gray-400",size:16}),r.jsx(na,{className:"text-purple-600",size:20}),r.jsx("span",{className:"font-medium",children:"Gii u"}),r.jsx(zt,{className:"text-gray-400",size:16}),r.jsx(gr,{className:"text-green-600",size:20}),r.jsx("span",{className:"font-medium",children:"i/CLB"}),r.jsx(zt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-gray-600",children:"Sn phm"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[r.jsx(Pr,{className:"text-blue-600",size:20}),r.jsx("span",{className:"font-medium",children:"Danh mc sn phm"}),r.jsx(zt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-gray-600",children:"Sn phm"})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded border-l-4 border-yellow-400",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Lu :"})," Sn phm c th thuc v c Danh mc v i/CLB. Khi xa mn th thao, tt c gii u v i lin quan s b xa."]})})]})]})}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4",children:r.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:o.map(u=>{const p=u.icon;return r.jsxs("button",{onClick:()=>t(u.id),className:`flex items-center gap-2 px-1 py-4 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${e===u.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(p,{size:18,className:u.color}),u.name]},u.id)})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:l()})]})},pi="/api",Xg=N.createContext(void 0),QN=({children:e})=>{const[t,n]=N.useState(!1),[a,s]=N.useState([]),i=async()=>{n(!0);try{const u=localStorage.getItem("token"),p=await fetch(`${pi}/admin/vouchers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(!p.ok)throw new Error("Failed to fetch vouchers");const h=await p.json();s(h.success?h.data:[])}catch(u){throw console.error("Error fetching vouchers:",u),s([]),u}finally{n(!1)}},o=async u=>{n(!0);try{const p=localStorage.getItem("token"),h=new URLSearchParams;u.search&&h.append("search",u.search),u.discount_type&&h.append("discount_type",u.discount_type),u.voucher_status&&h.append("voucher_status",u.voucher_status),u.limit&&h.append("limit",u.limit.toString()),u.page&&h.append("page",u.page.toString());const d=await fetch(`${pi}/admin/vouchers/paginated?${h.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`}});if(!d.ok)throw new Error("Failed to fetch paginated vouchers");return await d.json()}catch(p){throw console.error("Error fetching paginated vouchers:",p),p}finally{n(!1)}},c=async u=>{n(!0);try{const p=localStorage.getItem("token"),d=await(await fetch(`${pi}/admin/vouchers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(u)})).json();if(!d.success)throw new Error(d.message);return d}catch(p){throw p}finally{n(!1)}},l=async(u,p)=>{n(!0);try{const h=localStorage.getItem("token"),f=await(await fetch(`${pi}/admin/vouchers/${u}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify(p)})).json();if(!f.success)throw new Error(f.message);return f}catch(h){throw h}finally{n(!1)}};return r.jsx(Xg.Provider,{value:{vouchers:a,getAllVouchers:i,getVouchersPaginated:o,createVoucher:c,updateVoucher:l,loading:t},children:e})},Ho=()=>{const e=N.useContext(Xg);if(!e)throw new Error("useVoucher must be used within VoucherProvider");return e},Mn="/api",Qg=N.createContext(void 0),YN=({children:e})=>{const[t,n]=N.useState(!1),[a,s]=N.useState([]),i=async()=>{n(!0);try{const h=localStorage.getItem("token"),d=await fetch(`${Mn}/admin/blogs`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}});if(!d.ok)throw new Error("Failed to fetch blogs");const f=await d.json();s(f.success?f.blogs:[])}catch(h){throw console.error("Error fetching blogs:",h),s([]),h}finally{n(!1)}},o=async h=>{n(!0);try{const d=localStorage.getItem("token"),f=new URLSearchParams;h.search&&f.append("search",h.search),h.sport_id&&f.append("sport_id",h.sport_id),h.category_id&&f.append("category_id",h.category_id),h.team_id&&f.append("team_id",h.team_id),h.tournament_id&&f.append("tournament_id",h.tournament_id),h.limit&&f.append("limit",h.limit.toString()),h.page&&f.append("page",h.page.toString());const y=await fetch(`${Mn}/admin/blogs/paginated?${f.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}});if(!y.ok)throw new Error("Failed to fetch paginated blogs");return await y.json()}catch(d){throw console.error("Error fetching paginated blogs:",d),d}finally{n(!1)}},c=async h=>{n(!0);try{const d=localStorage.getItem("token"),f=await fetch(`${Mn}/admin/blogs/${h}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}});if(!f.ok)throw new Error("Failed to fetch blog");const y=await f.json();return y.success?y.blog:null}catch(d){throw console.error("Error fetching blog:",d),d}finally{n(!1)}},l=async h=>{n(!0);try{const d=localStorage.getItem("token"),y=await(await fetch(`${Mn}/admin/blogs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(h)})).json();if(!y.success)throw new Error(y.message);return y}catch(d){throw d}finally{n(!1)}},u=async(h,d)=>{n(!0);try{const f=localStorage.getItem("token"),x=await(await fetch(`${Mn}/admin/blogs/${h}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(d)})).json();if(!x.success)throw new Error(x.message);return x}catch(f){throw f}finally{n(!1)}},p=async h=>{n(!0);try{const d=localStorage.getItem("token"),y=await(await fetch(`${Mn}/admin/blogs/${h}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}})).json();if(!y.success)throw new Error(y.message);return y}catch(d){throw d}finally{n(!1)}};return r.jsx(Qg.Provider,{value:{blogs:a,getAllBlogs:i,getBlogsPaginated:o,getBlogById:c,createBlog:l,updateBlog:u,deleteBlog:p,loading:t},children:e})},Uo=()=>{const e=N.useContext(Qg);if(!e)throw new Error("useBlog must be used within BlogProvider");return e},Rn="/api",Yg=N.createContext(void 0),JN=()=>{const e=N.useContext(Yg);if(!e)throw new Error("useAdminReport must be used within AdminReportProvider");return e},ZN=({children:e})=>{const[t,n]=N.useState([]),[a,s]=N.useState(!1),[i,o]=N.useState(null),c=()=>localStorage.getItem("token"),l=async()=>{s(!0),o(null);try{const x=c(),b=await fetch(`${Rn}/admin/reports`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`}});if(!b.ok){const m=await b.json();o(m.message||"Failed to fetch reports");return}const g=await b.json();g.success?n(g.data):o(g.message||"Failed to fetch reports")}catch(x){console.error("Error fetching reports:",x),o(x.message||"Error fetching reports")}finally{s(!1)}},y={reports:t,loading:a,error:i,getAllReports:l,getReportById:async x=>{s(!0),o(null);try{const b=c(),g=await fetch(`${Rn}/admin/reports/${x}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}});if(!g.ok){const j=await g.json();return o(j.message||"Failed to fetch report"),null}const m=await g.json();return m.success?m.data:(o(m.message||"Failed to fetch report"),null)}catch(b){return console.error("Error fetching report:",b),o(b.message||"Error fetching report"),null}finally{s(!1)}},getReportsPaginated:async(x,b,g,m)=>{try{const j=c(),v=new URLSearchParams;x&&v.append("search",x),b&&v.append("report_type",b),v.append("limit",g.toString()),v.append("page",m.toString());const _=await(await fetch(`${Rn}/admin/reports/paginated?${v.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`}})).json();if(_.success)return{data:_.data,total:_.total,page:_.page,totalPages:_.totalPages};throw new Error(_.message||"Failed to fetch paginated reports")}catch(j){throw console.error("Error fetching paginated reports:",j),j}},createReport:async(x,b,g,m,j,v)=>{s(!0),o(null);try{const w=c(),k=await(await fetch(`${Rn}/admin/reports`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({report_type:x,from_date:b,to_date:g,filters:m||{},total_value:j,details:v})})).json();return k.success?(await l(),!0):(o(k.message||"Failed to create report"),!1)}catch(w){return console.error("Error creating report:",w),o(w.message||"Error creating report"),!1}finally{s(!1)}},deleteReport:async x=>{s(!0),o(null);try{const b=c(),m=await(await fetch(`${Rn}/admin/reports/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}})).json();return m.success?(await l(),!0):(o(m.message||"Failed to delete report"),!1)}catch(b){return console.error("Error deleting report:",b),o(b.message||"Error deleting report"),!1}finally{s(!1)}},exportReportToExcel:async x=>{try{const b=c(),g=await fetch(`${Rn}/admin/reports/${x}/export-excel`,{method:"GET",headers:{Authorization:`Bearer ${b}`}});if(!g.ok)throw new Error("Khng th xut file Excel");const m=await g.blob(),j=window.URL.createObjectURL(m),v=document.createElement("a");v.href=j,v.download=`report_${x}.xlsx`,document.body.appendChild(v),v.click(),v.remove(),window.URL.revokeObjectURL(j)}catch(b){o(b.message||"Li xut file Excel")}}};return r.jsx(Yg.Provider,{value:y,children:e})},e2=({isOpen:e,onClose:t,onSubmit:n})=>{const{createSupplier:a}=wa(),[s,i]=N.useState({}),[o,c]=N.useState(!1);if(!e)return null;const l=async u=>{u.preventDefault(),c(!0),n?await n(s):await a(s),c(!1),t()};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white w-full max-w-lg p-8 border border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Thm nh cung cp"}),r.jsxs("form",{className:"space-y-5",onSubmit:l,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Tn nh cung cp"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_name||"",onChange:u=>i(p=>({...p,supplier_name:u.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"S in thoi"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_phone||"",onChange:u=>i(p=>({...p,supplier_phone:u.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Email"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_email||"",onChange:u=>i(p=>({...p,supplier_email:u.target.value})),type:"email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"a ch"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_address||"",onChange:u=>i(p=>({...p,supplier_address:u.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Loi i tc"}),r.jsxs("select",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_type||"",onChange:u=>i(p=>({...p,supplier_type:u.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Chn loi i tc"}),r.jsx("option",{value:"Nh cung cp",children:"Nh cung cp"}),r.jsx("option",{value:"i l",children:"i l"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[r.jsx("button",{className:"px-5 py-2 bg-white border border-gray-300 hover:bg-gray-100 text-base font-medium",style:{borderRadius:0},type:"button",onClick:t,disabled:o,children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white hover:bg-gray-900 text-base font-medium disabled:opacity-50",style:{borderRadius:0},type:"submit",disabled:o||!s.supplier_name,children:"Lu"})]})]})]})})},t2=({isOpen:e,onClose:t,onSubmit:n,initialData:a})=>{const{updateSupplier:s}=wa(),[i,o]=N.useState(a||{}),[c,l]=N.useState(!1);if(N.useEffect(()=>{o(a||{})},[a,e]),!e)return null;const u=async p=>{p.preventDefault(),l(!0),n?await n(i):i.supplier_id&&await s(i.supplier_id,i),l(!1),t()};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white w-full max-w-lg p-8 border border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Chnh sa nh cung cp"}),r.jsxs("form",{className:"space-y-5",onSubmit:u,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Tn nh cung cp"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_name||"",onChange:p=>o(h=>({...h,supplier_name:p.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"S in thoi"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_phone||"",onChange:p=>o(h=>({...h,supplier_phone:p.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Email"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_email||"",onChange:p=>o(h=>({...h,supplier_email:p.target.value})),type:"email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"a ch"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_address||"",onChange:p=>o(h=>({...h,supplier_address:p.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Loi i tc"}),r.jsxs("select",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_type||"",onChange:p=>o(h=>({...h,supplier_type:p.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Chn loi i tc"}),r.jsx("option",{value:"Nh cung cp",children:"Nh cung cp"}),r.jsx("option",{value:"i l",children:"i l"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[r.jsx("button",{className:"px-5 py-2 bg-white border border-gray-300 hover:bg-gray-100 text-base font-medium",style:{borderRadius:0},type:"button",onClick:t,disabled:c,children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white hover:bg-gray-900 text-base font-medium disabled:opacity-50",style:{borderRadius:0},type:"submit",disabled:c||!i.supplier_name,children:"Lu"})]})]})]})})},r2=({isOpen:e,onClose:t,supplier:n})=>e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white w-full max-w-lg p-8 border border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Chi tit nh cung cp"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tn:"})," ",n.supplier_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.supplier_phone||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",n.supplier_email||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"a ch:"})," ",n.supplier_address||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Trng thi:"})," ",n.is_active?"ang lin kt":" hy"]})]}),r.jsx("div",{className:"flex justify-end gap-3 mt-8",children:r.jsx("button",{className:"px-5 py-2 bg-black text-white hover:bg-gray-900 text-base font-medium",style:{borderRadius:0},type:"button",onClick:t,children:"ng"})})]})}):null,n2=()=>{const{suppliers:e,fetchSuppliers:t,fetchSuppliersPaginated:n,createSupplier:a,updateSupplier:s,setConnectionStatus:i}=wa(),[o,c]=N.useState(!1),[l,u]=N.useState(!1),[p,h]=N.useState(!1),[d,f]=N.useState(null),[y,x]=N.useState([]),[b,g]=N.useState(0),[m,j]=N.useState(1),[v,w]=N.useState(!1),_=10,[k,C]=N.useState(""),[O,S]=N.useState(""),[T,P]=N.useState(""),[L,B]=N.useState("");N.useEffect(()=>{const E=setTimeout(()=>{S(k),j(1)},500);return()=>clearTimeout(E)},[k]),N.useEffect(()=>{j(1)},[T,L]),N.useEffect(()=>{M()},[m,O,T,L]);const M=async()=>{w(!0);try{const E=await n({search:O,supplier_type:T,is_connected:L,limit:_,page:m});if(E.success){const $=E.suppliers.map(A=>({...A,is_active:A.is_connected}));x($),g(E.pagination.total)}}catch(E){console.error("Error fetching paginated suppliers:",E)}finally{w(!1)}};N.useEffect(()=>{t()},[]);const I=e.length,D=e.filter(E=>E.is_active).length,V=I-D,z=Math.ceil(b/_),R=()=>{const E=[];if(z<=5)for(let $=1;$<=z;$++)E.push($);else m<=3?E.push(1,2,3,4,"...",z):m>=z-2?E.push(1,"...",z-3,z-2,z-1,z):E.push(1,"...",m-1,m,m+1,"...",z);return E};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l nh cung cp"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch v thao tc vi nh cung cp"})]}),r.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-colors duration-200 text-lg font-semibold",style:{borderRadius:0},children:[r.jsx(wt,{size:22}),r.jsx("span",{children:"Thm nh cung cp"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-6 flex flex-col items-center",style:{borderRadius:0},children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Tng nh cung cp"}),r.jsx("div",{className:"text-3xl font-bold text-black",children:I})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-6 flex flex-col items-center",style:{borderRadius:0},children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"ang hot ng"}),r.jsx("div",{className:"text-3xl font-bold text-green-600",children:D})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-6 flex flex-col items-center",style:{borderRadius:0},children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase mb-2",children:" hy"}),r.jsx("div",{className:"text-3xl font-bold text-gray-500",children:V})]})]}),r.jsx("div",{className:"bg-white border border-gray-200 p-6 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tm kim"}),r.jsx("input",{type:"text",placeholder:"Tn, email, s in thoi, a ch...",value:k,onChange:E=>C(E.target.value),className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:border-black",style:{borderRadius:0}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi nh cung cp"}),r.jsxs("select",{value:T,onChange:E=>P(E.target.value),className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:border-black",style:{borderRadius:0},children:[r.jsx("option",{value:"",children:"Tt c"}),r.jsx("option",{value:"Manufacturer",children:"Nh sn xut"}),r.jsx("option",{value:"Distributor",children:"Nh phn phi"}),r.jsx("option",{value:"Wholesaler",children:"Nh bn s"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trng thi"}),r.jsxs("select",{value:L,onChange:E=>B(E.target.value),className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:border-black",style:{borderRadius:0},children:[r.jsx("option",{value:"",children:"Tt c"}),r.jsx("option",{value:"true",children:"ang lin kt"}),r.jsx("option",{value:"false",children:" hy"})]})]})]})}),r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",style:{borderRadius:0},children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Tn nh cung cp"}),r.jsx("th",{className:"px-6 py-4",children:"S in thoi"}),r.jsx("th",{className:"px-6 py-4",children:"Email"}),r.jsx("th",{className:"px-6 py-4",children:"a ch"}),r.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:v?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center text-gray-400 py-8",children:"ang ti..."})}):y.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center text-gray-400 py-8",children:"Khng c nh cung cp no"})}):y.map(E=>r.jsxs("tr",{className:`transition-colors duration-200 ${E.is_active?"hover:bg-gray-50":"bg-gray-50 text-gray-400"}`,children:[r.jsx("td",{className:"px-6 py-4 text-base font-medium text-black",children:E.supplier_name}),r.jsx("td",{className:"px-6 py-4 text-base",children:E.supplier_phone||"-"}),r.jsx("td",{className:"px-6 py-4 text-base",children:E.supplier_email||"-"}),r.jsx("td",{className:"px-6 py-4 text-base",children:E.supplier_address||"-"}),r.jsx("td",{className:"px-6 py-4",children:E.is_active?r.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800",style:{borderRadius:0},children:"ang lin kt"}):r.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-gray-100 text-gray-600",style:{borderRadius:0},children:" hy"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{f(E),h(!0)},className:"p-2 hover:bg-blue-50 transition-colors",style:{borderRadius:0},title:"Xem chi tit",children:r.jsx(Vt,{size:18,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>{f(E),u(!0)},className:`p-2 hover:bg-gray-100 transition-colors ${E.is_active?"":"opacity-50 cursor-not-allowed"}`,style:{borderRadius:0},title:"Chnh sa",disabled:!E.is_active,children:r.jsx(Gt,{size:18,className:"text-gray-600"})}),E.is_active?r.jsx("button",{type:"button",onClick:async()=>{window.confirm("Bn chc chn mun hy lin kt nh cung cp ny? Sau khi hy s khng th m li.")&&(await i(E.supplier_id,!1),M(),ee(" hy lin kt nh cung cp!","success"))},className:"p-2 hover:bg-red-50 transition-colors",style:{borderRadius:0},title:"Hy lin kt",children:r.jsx(Do,{size:18,className:"text-red-600"})}):r.jsx("button",{type:"button",onClick:async()=>{await i(E.supplier_id,!0),M(),ee(" khi phc lin kt nh cung cp!","success")},className:"p-2 hover:bg-green-50 transition-colors",style:{borderRadius:0},title:"Khi phc lin kt",children:r.jsx(Io,{size:18,className:"text-green-600"})})]})})]},E.supplier_id))})]})}),z>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2",children:[r.jsx("button",{onClick:()=>j(E=>Math.max(E-1,1)),disabled:m===1,className:"px-4 py-2 text-sm text-gray-700 disabled:text-gray-300 hover:text-black disabled:cursor-not-allowed",children:"Trc"}),R().map((E,$)=>E==="..."?r.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${$}`):r.jsx("button",{onClick:()=>j(E),className:`px-4 py-2 text-sm ${m===E?"text-black font-bold underline":"text-gray-600 hover:text-black"}`,children:E},E)),r.jsx("button",{onClick:()=>j(E=>Math.min(E+1,z)),disabled:m===z,className:"px-4 py-2 text-sm text-gray-700 disabled:text-gray-300 hover:text-black disabled:cursor-not-allowed",children:"Sau"})]}),o&&r.jsx(e2,{isOpen:o,onClose:()=>c(!1),onSubmit:async E=>{await a(E),c(!1),M(),ee("Thm nh cung cp thnh cng!","success")}}),l&&d&&r.jsx(t2,{isOpen:l,onClose:()=>{u(!1),f(null)},onSubmit:async E=>{await s(d.supplier_id,E),u(!1),f(null),M(),ee("Cp nht nh cung cp thnh cng!","success")},initialData:d}),p&&d&&r.jsx(r2,{isOpen:p,onClose:()=>{h(!1),f(null)},supplier:d})]})},dn="/api",Jg=N.createContext(void 0),Dn=()=>{const e=localStorage.getItem("token"),t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},a2=({children:e})=>{const[t,n]=N.useState([]),[a,s]=N.useState(!1),i=N.useCallback(async()=>{s(!0);try{const d=await fetch(`${dn}/admin/product-images`,{method:"GET",headers:Dn(),credentials:"include"});if(!d.ok)throw new Error("Failed to fetch product images");const f=await d.json();n(Array.isArray(f.data)?f.data:[])}catch(d){throw n([]),d}finally{s(!1)}},[]),o=async d=>{const f=await fetch(`${dn}/admin/product-images/${d}`,{method:"GET",headers:Dn(),credentials:"include"});if(!f.ok)throw new Error("Failed to fetch product images by product id");const y=await f.json();return Array.isArray(y.data)?y.data:[]},c=async(d,f,y)=>{const x=new URLSearchParams;d&&x.append("search",d),x.append("limit",f.toString()),x.append("page",y.toString());const b=await fetch(`${dn}/admin/product-images/paginated?${x}`,{method:"GET",headers:Dn(),credentials:"include"});if(!b.ok)throw new Error("Failed to fetch paginated product images");const g=await b.json();return{data:g.data||[],total:g.total||0,page:g.page||1,totalPages:g.totalPages||1}},l=async d=>{var g;const f=new FormData;f.append("image",d);const y=localStorage.getItem("token"),x=await fetch(`${dn}/admin/upload-gallery-image`,{method:"POST",headers:y?{Authorization:`Bearer ${y}`}:{},body:f,credentials:"include"});if(!x.ok)throw new Error("Upload gallery image failed");const b=await x.json();return b.url||b.imageUrl||((g=b.data)==null?void 0:g.url)},u=async d=>{const f=await fetch(`${dn}/admin/product-images`,{method:"POST",headers:Dn(),body:JSON.stringify(d),credentials:"include"});if(!f.ok)throw new Error("Create product image failed");return f.json()},p=async(d,f)=>{const y=await fetch(`${dn}/admin/product-images/${d}`,{method:"PUT",headers:Dn(),body:JSON.stringify(f),credentials:"include"});if(!y.ok)throw new Error("Update product image failed");return y.json()},h=async d=>{const f=await fetch(`${dn}/admin/product-images/${d}`,{method:"DELETE",headers:Dn(),credentials:"include"});if(!f.ok)throw new Error("Delete product image failed");return f.json()};return r.jsx(Jg.Provider,{value:{images:t,loading:a,fetchAllImages:i,fetchImagesByProductId:o,getProductImagesPaginated:c,uploadGalleryImage:l,createProductImage:u,updateProductImage:p,deleteProductImage:h},children:e})},qo=()=>{const e=N.useContext(Jg);if(!e)throw new Error("useProductImageContext must be used within ProductImageProvider");return e},Zg=({productId:e,open:t,onClose:n,onSuccess:a})=>{const{uploadGalleryImage:s,createProductImage:i,fetchAllImages:o}=qo(),[c,l]=N.useState([]),[u,p]=N.useState(!1),h=N.useRef(null),d=b=>{if(b.target.files){const g=Array.from(b.target.files).map((m,j)=>({file:m,order:j+1}));l(g)}},f=(b,g)=>{l(m=>m.map((j,v)=>v===b?{...j,order:g}:j))},y=b=>{l(g=>g.filter((m,j)=>j!==b))},x=async()=>{if(c.length){p(!0);try{for(const{file:b,order:g}of c){const m=await s(b);await i({product_id:e,image_url:m,order:g})}await o(),l([]),a&&a(),n()}catch{alert("C li khi upload nh!")}finally{p(!1)}}};return t?r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-0 shadow-lg w-full max-w-xl",style:{borderRadius:0},children:[r.jsxs("div",{className:"p-8 border-b border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-extrabold mb-2 tracking-tight uppercase",children:"Thm nh sn phm"}),r.jsx("p",{className:"text-gray-500 mb-4 text-sm",children:"Chn nhiu nh, t th t hin th cho tng nh."}),r.jsx("input",{ref:h,type:"file",multiple:!0,accept:"image/*",onChange:d,className:"mb-4",style:{borderRadius:0}})]}),r.jsxs("div",{className:"p-8",children:[c.length>0&&r.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:c.map((b,g)=>r.jsxs("div",{className:"flex flex-col items-center bg-gray-50 border border-gray-200 p-3 mr-2",style:{borderRadius:0,minWidth:160,maxWidth:180},children:[r.jsx("img",{src:URL.createObjectURL(b.file),alt:"preview",className:"w-32 h-32 object-cover mb-2",style:{borderRadius:0,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}),r.jsxs("div",{className:"flex items-center gap-1 mb-2 w-full",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Th t:"}),r.jsx("input",{type:"number",min:1,value:b.order,onChange:m=>f(g,Number(m.target.value)),className:"w-14 px-2 py-1 border border-gray-300 text-sm",style:{borderRadius:0}})]}),r.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>y(g),type:"button",children:"Xa"})]},g))}),c.length===0&&r.jsx("div",{className:"text-gray-400 text-center py-8 text-sm",children:"Cha chn nh no."})]}),r.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-200 p-6",style:{borderRadius:0},children:[r.jsx("button",{className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold uppercase",onClick:n,disabled:u,style:{borderRadius:0},children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white font-semibold uppercase",onClick:x,disabled:u||!c.length,style:{borderRadius:0},children:u?"ang ti...":"Ti ln"})]})]})}):null},s2=({image:e,open:t,onClose:n,onSuccess:a})=>{const{updateProductImage:s,uploadGalleryImage:i,fetchAllImages:o}=qo(),[c,l]=N.useState((e==null?void 0:e.order)||0),[u,p]=N.useState(null),[h,d]=N.useState((e==null?void 0:e.image_url)||""),[f,y]=N.useState(!1);Ie.useEffect(()=>{l((e==null?void 0:e.order)||0),d((e==null?void 0:e.image_url)||""),p(null)},[e,t]);const x=g=>{g.target.files&&g.target.files[0]&&(p(g.target.files[0]),d(URL.createObjectURL(g.target.files[0])))},b=async()=>{if(e){y(!0);try{let g={order:c};if(u){const m=await i(u);g.image_url=m}await s(e.product_image_id,g),await o(),a&&a(),n()}catch{alert("C li khi cp nht nh!")}finally{y(!1)}}};return!t||!e?null:r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-0 shadow-lg w-full max-w-md",style:{borderRadius:0},children:[r.jsx("div",{className:"p-8 border-b border-gray-200",style:{borderRadius:0},children:r.jsx("h2",{className:"text-2xl font-extrabold mb-2 tracking-tight uppercase",children:"Sa nh sn phm"})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[r.jsx("img",{src:h,alt:"preview",className:"w-40 h-40 object-cover mb-4",style:{borderRadius:0,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}),r.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"mb-2",style:{borderRadius:0}})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Th t hin th:"}),r.jsx("input",{type:"number",value:c,onChange:g=>l(Number(g.target.value)),className:"w-20 px-2 py-1 border border-gray-300 text-sm",style:{borderRadius:0}})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-200 p-6",style:{borderRadius:0},children:[r.jsx("button",{className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold uppercase",onClick:n,disabled:f,style:{borderRadius:0},children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white font-semibold uppercase",onClick:b,disabled:f,style:{borderRadius:0},children:f?"ang lu...":"Lu"})]})]})})},i2=({productId:e,open:t,onClose:n,onSuccess:a})=>{const{fetchImagesByProductId:s,updateProductImage:i,deleteProductImage:o,uploadGalleryImage:c,fetchAllImages:l}=qo(),[u,p]=N.useState([]),[h,d]=N.useState(!1),[f,y]=N.useState({}),[x,b]=N.useState(!1);N.useEffect(()=>{t&&e&&(d(!0),s(e).then(w=>{p(w);const _={};w.forEach(k=>{_[k.product_image_id]={file:null,order:k.order}}),y(_)}).finally(()=>d(!1)))},[t,e,s]);const g=(w,_)=>{y(k=>({...k,[w]:{...k[w],file:_}}))},m=(w,_)=>{y(k=>({...k,[w]:{...k[w],order:_}}))},j=async w=>{if(window.confirm("Bn c chc mun xa nh ny?")){await o(w.product_image_id);const _=await s(e);p(_)}},v=async()=>{d(!0);try{for(const w of u){const _=f[w.product_image_id];let k={order:_.order};if(_.file){const C=await c(_.file);k.image_url=C}await i(w.product_image_id,k)}await l(),a&&a(),n()}catch{alert("C li khi cp nht nh!")}finally{d(!1)}};return!t||!e?null:r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-0 shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-8 border-b border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-extrabold mb-2 tracking-tight uppercase",children:"Sa ton b nh gallery sn phm"}),r.jsx("button",{className:"mb-4 px-5 py-2 bg-black text-white font-semibold uppercase",style:{borderRadius:0},onClick:()=>b(!0),children:"Thm nh mi"})]}),r.jsxs("div",{className:"p-8",children:[h?r.jsx("div",{children:"ang ti..."}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:u.map(w=>{var _,k;return r.jsxs("div",{className:"border border-gray-200 p-0 relative flex flex-col items-stretch",style:{borderRadius:0,background:"#fff"},children:[r.jsx("img",{src:(_=f[w.product_image_id])!=null&&_.file?URL.createObjectURL(f[w.product_image_id].file):w.image_url,alt:"",className:"w-full h-44 object-cover",style:{borderRadius:0}}),r.jsx("input",{type:"file",accept:"image/*",className:"mt-3",style:{borderRadius:0},onChange:C=>g(w.product_image_id,C.target.files&&C.target.files[0]?C.target.files[0]:null)}),r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Th t:"}),r.jsx("input",{type:"number",value:((k=f[w.product_image_id])==null?void 0:k.order)??w.order,onChange:C=>m(w.product_image_id,Number(C.target.value)),className:"w-14 px-2 py-1 border border-gray-300 text-sm",style:{borderRadius:0}})]}),r.jsx("button",{className:"absolute top-2 right-2 bg-white p-1 border border-gray-200 text-red-600 text-xs hover:bg-red-100",style:{borderRadius:0},onClick:()=>j(w),children:"Xa"})]},w.product_image_id)})}),r.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-200 p-6 mt-8",style:{borderRadius:0},children:[r.jsx("button",{className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold uppercase",onClick:n,disabled:h,style:{borderRadius:0},children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white font-semibold uppercase",onClick:v,disabled:h,style:{borderRadius:0},children:"Lu tt c"})]})]}),r.jsx(Zg,{productId:e,open:x,onClose:async()=>{b(!1);const w=await s(e);p(w)},onSuccess:void 0})]})})},o2=()=>{const{getProductImagesPaginated:e,deleteProductImage:t}=qo(),[n,a]=N.useState(null),[s,i]=N.useState(null),[o,c]=N.useState(""),[l,u]=N.useState(""),[p,h]=N.useState(1),[d,f]=N.useState(1),[y,x]=N.useState([]),[b,g]=N.useState(!1),[m,j]=N.useState(!1),[v,w]=N.useState(!1),[_,k]=N.useState(!1),[C,O]=N.useState(null),[S,T]=N.useState(null),P=N.useRef(null),L=10;N.useEffect(()=>{const A=setTimeout(()=>{u(o),h(1)},500);return()=>clearTimeout(A)},[o]);const B=N.useCallback(async()=>{g(!0);try{const A=await e(l,L,p);x(A.data||[]),f(A.totalPages||1)}catch(A){console.error("Error fetching images:",A),x([])}finally{g(!1)}},[l,p,e,L]);N.useEffect(()=>{B()},[B]),N.useEffect(()=>{if(s===null)return;const A=U=>{P.current&&!P.current.contains(U.target)&&i(null)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[s]);const M=Ie.useMemo(()=>{const A=new Map;return y.forEach(U=>{U.Product&&!A.has(U.Product.product_id)&&A.set(U.Product.product_id,U.Product)}),Array.from(A.values())},[y]),I=Ie.useMemo(()=>o.trim()?M.filter(A=>A.product_name.toLowerCase().includes(o.toLowerCase())):M,[M,o]),D=A=>{const U=y.filter(H=>H.product_id===A);return console.log("gallery for product",A,U),U},V=A=>{O(A),j(!0),i(null)},z=A=>{T(A),w(!0)},R=A=>{O(A),k(!0),i(null)},E=async A=>{window.confirm("Bn c chc mun xa nh ny?")&&(await t(A.product_image_id),B())},$=()=>{if(d<=7)return Array.from({length:d},(F,q)=>q+1);const A=[1];p>3&&A.push("...");const U=Math.max(2,p-1),H=Math.min(d-1,p+1);for(let F=U;F<=H;F++)A.push(F);return p<d-2&&A.push("..."),A.push(d),A};return r.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto py-10",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l th vin nh"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l nh gallery cho tng sn phm"})]})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ot,{className:"text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim sn phm theo tn...",value:o,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})]})}),r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-4 py-4"}),r.jsx("th",{className:"px-4 py-4",children:"Sn phm"}),r.jsx("th",{className:"px-4 py-4",children:"S nh"}),r.jsx("th",{className:"px-4 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:b?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center py-10 text-gray-400 text-lg",children:"ang ti..."})}):I.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center py-10 text-gray-400 text-lg",children:"Khng tm thy sn phm no."})}):I.map(A=>{const U=D(A.product_id);return r.jsxs(Ie.Fragment,{children:[r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-4 py-4 align-top",children:r.jsx("button",{className:"p-1",onClick:()=>a(n===A.product_id?null:A.product_id),title:"Xem nh",children:n===A.product_id?r.jsx(Ds,{size:20}):r.jsx(En,{size:20})})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[A.product_image?r.jsx("img",{src:A.product_image,alt:A.product_name,className:"w-12 h-12 object-cover border border-gray-200",style:{borderRadius:0}}):r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center",style:{borderRadius:0},children:r.jsx(Eb,{className:"w-6 h-6 text-gray-400"})}),r.jsx("div",{className:"max-w-xs",children:r.jsx("p",{className:"text-sm font-medium text-black line-clamp-1",children:A.product_name})})]})}),r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:"text-sm font-medium text-black",children:U.length})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("button",{className:"p-2 hover:bg-gray-100",onClick:()=>i(s===A.product_id?null:A.product_id),title:"Thao tc",children:r.jsx(Rb,{size:20})}),s===A.product_id&&r.jsxs("div",{ref:P,className:"absolute z-10 right-0 mt-2 w-44 bg-white border border-gray-200 shadow",children:[r.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",onClick:()=>V(A.product_id),children:[r.jsx(wt,{size:16,className:"inline mr-2"}),"Thm nh"]}),r.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",onClick:()=>R(A.product_id),children:[r.jsx(Gt,{size:16,className:"inline mr-2"}),"Chnh sa gallery"]})]})]})})]}),n===A.product_id&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"bg-gray-50 px-8 py-6",children:U.length===0?r.jsx("div",{className:"text-gray-400 text-sm",children:"Sn phm ny cha c nh gallery no."}):r.jsx("div",{className:"w-full max-w-4xl flex gap-6 overflow-x-auto pb-2 px-2",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6",minHeight:220},children:U.map(H=>r.jsxs("div",{className:"relative border border-gray-200 min-w-[180px] max-w-[220px] flex-shrink-0 group",children:[r.jsx("img",{src:H.image_url,alt:"nh sn phm",className:"object-cover w-full h-44"}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[r.jsx("button",{className:"bg-white p-1 hover:bg-gray-200 border border-gray-200",onClick:()=>z(H),title:"Sa",children:r.jsx(Gt,{size:16,className:"text-gray-700"})}),r.jsx("button",{className:"bg-white p-1 hover:bg-red-100 border border-gray-200",onClick:()=>E(H),title:"Xa",children:r.jsx(Kt,{size:16,className:"text-red-500"})})]}),r.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1",children:["Th t: ",H.order]})]},H.product_image_id))})})})]},A.product_id)})})]})}),d>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 py-6",children:[r.jsx("button",{onClick:()=>h(A=>Math.max(1,A-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:""}),$().map((A,U)=>A==="..."?r.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${U}`):r.jsx("button",{onClick:()=>h(A),className:`px-3 py-1 border ${p===A?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:A},A)),r.jsx("button",{onClick:()=>h(A=>Math.min(d,A+1)),disabled:p===d,className:"px-3 py-1 border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:""})]}),r.jsx(Zg,{productId:C||0,open:m,onClose:()=>j(!1),onSuccess:B}),r.jsx(s2,{image:S,open:v,onClose:()=>w(!1),onSuccess:B}),r.jsx(i2,{productId:C,open:_,onClose:()=>k(!1),onSuccess:B})]})},l2=({isOpen:e,onClose:t,onSuccess:n})=>{const{createVoucher:a}=Ho(),[s,i]=N.useState({voucher_code:"",discount_type:"percentage",discount_value:0,min_order_value:0,start_date:"",end_date:"",usage_limit:1,voucher_status:"active"}),[o,c]=N.useState(!1),l=h=>{const{name:d,value:f,type:y}=h.target;i(x=>({...x,[d]:y==="number"?parseFloat(f):f}))},u=async h=>{h.preventDefault(),c(!0);try{await a(s),ee("To voucher thnh cng!","success"),n(),t(),p()}catch(d){console.error("Error creating voucher:",d),ee(d.message||"C li xy ra khi to voucher","error")}finally{c(!1)}},p=()=>{i({voucher_code:"",discount_type:"percentage",discount_value:0,min_order_value:0,start_date:"",end_date:"",usage_limit:1,voucher_status:"active"})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO VOUCHER MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm m gim gi mi cho h thng"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:u,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M VOUCHER *"}),r.jsx("input",{type:"text",name:"voucher_code",value:s.voucher_code,onChange:l,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 uppercase",placeholder:"SUMMER2024",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"LOI GIM GI *"}),r.jsxs("select",{name:"discount_type",value:s.discount_type,onChange:l,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"percentage",children:"Phn trm (%)"}),r.jsx("option",{value:"fixed",children:"S tin c nh ()"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR GIM *"}),r.jsx("input",{type:"number",name:"discount_value",value:s.discount_value,onChange:l,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"10",min:"0",step:"0.01",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR N HNG TI THIU ()"}),r.jsx("input",{type:"number",name:"min_order_value",value:s.min_order_value,onChange:l,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"0",min:"0"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" 0 nu khng yu cu gi tr n hng ti thiu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY BT U *"}),r.jsx("input",{type:"date",name:"start_date",value:s.start_date,onChange:l,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY KT THC *"}),r.jsx("input",{type:"date",name:"end_date",value:s.end_date,onChange:l,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII HN S DNG *"}),r.jsx("input",{type:"number",name:"usage_limit",value:s.usage_limit,onChange:l,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"1",min:"1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TRNG THI *"}),r.jsxs("select",{name:"voucher_status",value:s.voucher_status,onChange:l,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"active",children:"Hot ng"}),r.jsx("option",{value:"inactive",children:"Tm dng"})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:o?"ang to...":"To voucher"})]})]})]})}):null},c2=({isOpen:e,onClose:t,onSuccess:n,voucher:a})=>{const{updateVoucher:s}=Ho(),[i,o]=N.useState({voucher_code:"",discount_type:"percentage",discount_value:0,min_order_value:0,start_date:"",end_date:"",usage_limit:1,voucher_status:"active"}),[c,l]=N.useState(!1);N.useEffect(()=>{a&&o({voucher_code:a.voucher_code,discount_type:a.discount_type,discount_value:a.discount_value,min_order_value:a.min_order_value||0,start_date:a.start_date.split("T")[0],end_date:a.end_date.split("T")[0],usage_limit:a.usage_limit,voucher_status:a.voucher_status})},[a]);const u=h=>{const{name:d,value:f,type:y}=h.target;o(x=>({...x,[d]:y==="number"?parseFloat(f):f}))},p=async h=>{h.preventDefault(),l(!0);try{await s(a.voucher_id,i),ee("Cp nht voucher thnh cng!","success"),n(),t()}catch(d){console.error("Error updating voucher:",d),ee(d.message||"C li xy ra khi cp nht voucher","error")}finally{l(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHNH SA VOUCHER"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cp nht thng tin m gim gi"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:p,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M VOUCHER *"}),r.jsx("input",{type:"text",name:"voucher_code",value:i.voucher_code,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 uppercase",placeholder:"SUMMER2024",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"LOI GIM GI *"}),r.jsxs("select",{name:"discount_type",value:i.discount_type,onChange:u,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"percentage",children:"Phn trm (%)"}),r.jsx("option",{value:"fixed",children:"S tin c nh ()"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR GIM *"}),r.jsx("input",{type:"number",name:"discount_value",value:i.discount_value,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"10",min:"0",step:"0.01",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR N HNG TI THIU ()"}),r.jsx("input",{type:"number",name:"min_order_value",value:i.min_order_value,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"0",min:"0"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" 0 nu khng yu cu gi tr n hng ti thiu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY BT U *"}),r.jsx("input",{type:"date",name:"start_date",value:i.start_date,onChange:u,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY KT THC *"}),r.jsx("input",{type:"date",name:"end_date",value:i.end_date,onChange:u,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII HN S DNG *"}),r.jsx("input",{type:"number",name:"usage_limit",value:i.usage_limit,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"1",min:"1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:" S DNG"}),r.jsx("input",{type:"text",value:a.used_count,className:"w-full px-4 py-3 border-b-2 border-gray-300 bg-gray-50 text-gray-500",disabled:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TRNG THI *"}),r.jsxs("select",{name:"voucher_status",value:i.voucher_status,onChange:u,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"active",children:"Hot ng"}),r.jsx("option",{value:"inactive",children:"Tm dng"})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:c?"ang cp nht...":"Cp nht voucher"})]})]})]})}):null},u2=()=>{const{getVouchersPaginated:e}=Ho(),[t,n]=N.useState(""),[a,s]=N.useState("all"),[i,o]=N.useState("all"),[c,l]=N.useState(!1),[u,p]=N.useState(null),[h,d]=N.useState([]),[f,y]=N.useState(0),[x,b]=N.useState(1),[g,m]=N.useState(!1),j=9,[v,w]=N.useState("");N.useEffect(()=>{const I=setTimeout(()=>{w(t),b(1)},500);return()=>clearTimeout(I)},[t]),N.useEffect(()=>{b(1)},[a,i]),N.useEffect(()=>{_()},[x,v,a,i]);const _=async()=>{m(!0);try{const I=await e({search:v,discount_type:i==="all"?"":i,voucher_status:a==="all"?"":a,limit:j,page:x});I.success&&(d(I.vouchers),y(I.pagination.total))}catch(I){console.error("Error fetching paginated vouchers:",I)}finally{m(!1)}},k=()=>{_(),l(!1)},C=()=>{_(),p(null)},O=Math.ceil(f/j),S=()=>{const I=[];if(O<=5)for(let D=1;D<=O;D++)I.push(D);else x<=3?I.push(1,2,3,4,"...",O):x>=O-2?I.push(1,"...",O-3,O-2,O-1,O):I.push(1,"...",x-1,x,x+1,"...",O);return I},T=I=>new Date(I).toLocaleDateString("vi-VN"),P=I=>I.discount_type==="percentage"?`${I.discount_value}%`:tt(I.discount_value),L=I=>new Date(I)<new Date,B=I=>new Date(I)>new Date,M=(I,D)=>Math.min(I/D*100,100);return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"QUN L VOUCHER"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l m gim gi cho ca hng"})]}),r.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:[r.jsx(wt,{size:20}),"To Voucher"]})]}),r.jsx("div",{className:"bg-white p-6 border border-gray-200 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim theo m voucher...",value:t,onChange:I=>n(I.target.value),className:"w-full pl-12 pr-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200"})]}),r.jsx("div",{children:r.jsxs("select",{value:i,onChange:I=>o(I.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"all",children:"Tt c loi"}),r.jsx("option",{value:"percentage",children:"Phn trm (%)"}),r.jsx("option",{value:"fixed",children:"S tin c nh"})]})}),r.jsx("div",{children:r.jsxs("select",{value:a,onChange:I=>s(I.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"all",children:"Tt c trng thi"}),r.jsx("option",{value:"active",children:"ang hot ng"}),r.jsx("option",{value:"inactive",children:"Tm dng"})]})})]})})]}),g&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-300 border-t-black rounded-full animate-spin"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti vouchers..."})]}),!g&&h.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(I=>{const D=L(I.end_date),V=B(I.start_date),z=M(I.used_count,I.usage_limit),R=I.used_count>=I.usage_limit;return r.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-black transition-all duration-300 p-6 relative group",children:[r.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[D&&r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 text-xs font-bold uppercase tracking-wider",children:"HT HN"}),!D&&R&&r.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-xs font-bold uppercase tracking-wider",children:"HT LT"}),!D&&!R&&I.voucher_status==="inactive"&&r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-bold uppercase tracking-wider",children:" NGNG"}),!D&&!R&&V&&I.voucher_status&&r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider",children:"CHA N NGY"}),!D&&!R&&!V&&I.voucher_status==="active"&&r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold uppercase tracking-wider",children:"HOT NG"})]}),r.jsxs("div",{className:"mb-4 pr-20",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Pr,{className:"text-gray-600",size:20}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"M voucher"})]}),r.jsx("h3",{className:"text-2xl font-bold tracking-tight break-all",children:I.voucher_code})]}),r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ng,{className:"text-gray-600",size:18}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Gim gi"})]}),r.jsx("p",{className:"text-xl font-bold text-green-600",children:P(I)}),I.min_order_value>0&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["n ti thiu: ",tt(I.min_order_value)]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Cs,{className:"text-gray-600",size:18}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Thi gian"})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:[T(I.start_date)," -"," ",T(I.end_date)]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:" s dng"}),r.jsxs("span",{className:"text-sm font-semibold",children:[I.used_count," / ",I.usage_limit]})]}),r.jsx("div",{className:"w-full bg-gray-200 h-2",children:r.jsx("div",{className:`h-2 transition-all duration-300 ${z>=100?"bg-red-500":z>=80?"bg-orange-500":"bg-green-500"}`,style:{width:`${z}%`}})})]}),r.jsx("button",{onClick:()=>p(I),className:"absolute bottom-6 right-6 p-2 bg-black text-white opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-gray-800",children:r.jsx(so,{size:18})})]},I.voucher_id)})}),!g&&h.length===0&&r.jsxs("div",{className:"text-center py-16 bg-white border-2 border-dashed border-gray-300",children:[r.jsx(Pr,{className:"mx-auto mb-4 text-gray-400",size:48}),r.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Khng tm thy voucher"}),r.jsx("p",{className:"text-gray-500 mb-6",children:t||a!=="all"||i!=="all"?"Th thay i b lc hoc to voucher mi":"Cha c voucher no. To voucher u tin ngay!"}),!t&&a==="all"&&i==="all"&&r.jsx("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:"To Voucher u Tin"})]}),O>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx("button",{onClick:()=>b(I=>Math.max(I-1,1)),disabled:x===1,className:"px-4 py-2 text-sm text-gray-700 disabled:text-gray-300 hover:text-black disabled:cursor-not-allowed",children:"Trc"}),S().map((I,D)=>I==="..."?r.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${D}`):r.jsx("button",{onClick:()=>b(I),className:`px-4 py-2 text-sm ${x===I?"text-black font-bold underline":"text-gray-600 hover:text-black"}`,children:I},I)),r.jsx("button",{onClick:()=>b(I=>Math.min(I+1,O)),disabled:x===O,className:"px-4 py-2 text-sm text-gray-700 disabled:text-gray-300 hover:text-black disabled:cursor-not-allowed",children:"Sau"})]}),r.jsx(l2,{isOpen:c,onClose:()=>l(!1),onSuccess:k}),u&&r.jsx(c2,{isOpen:!!u,onClose:()=>p(null),onSuccess:C,voucher:u})]})};function d2(){this.__data__=[],this.size=0}var h2=d2;function f2(e,t){return e===t||e!==e&&t!==t}var ex=f2,p2=ex;function m2(e,t){for(var n=e.length;n--;)if(p2(e[n][0],t))return n;return-1}var Go=m2,g2=Go,x2=Array.prototype,y2=x2.splice;function v2(e){var t=this.__data__,n=g2(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():y2.call(t,n,1),--this.size,!0}var b2=v2,j2=Go;function w2(e){var t=this.__data__,n=j2(t,e);return n<0?void 0:t[n][1]}var N2=w2,_2=Go;function k2(e){return _2(this.__data__,e)>-1}var S2=k2,T2=Go;function C2(e,t){var n=this.__data__,a=T2(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}var E2=C2,P2=h2,O2=b2,A2=N2,L2=S2,I2=E2;function Na(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Na.prototype.clear=P2;Na.prototype.delete=O2;Na.prototype.get=A2;Na.prototype.has=L2;Na.prototype.set=I2;var Ko=Na,M2=Ko;function R2(){this.__data__=new M2,this.size=0}var D2=R2;function $2(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var z2=$2;function B2(e){return this.__data__.get(e)}var F2=B2;function V2(e){return this.__data__.has(e)}var H2=V2,U2=typeof Tt=="object"&&Tt&&Tt.Object===Object&&Tt,tx=U2,q2=tx,G2=typeof self=="object"&&self&&self.Object===Object&&self,K2=q2||G2||Function("return this")(),Dr=K2,W2=Dr,X2=W2.Symbol,cd=X2,Uh=cd,rx=Object.prototype,Q2=rx.hasOwnProperty,Y2=rx.toString,qa=Uh?Uh.toStringTag:void 0;function J2(e){var t=Q2.call(e,qa),n=e[qa];try{e[qa]=void 0;var a=!0}catch{}var s=Y2.call(e);return a&&(t?e[qa]=n:delete e[qa]),s}var Z2=J2,e_=Object.prototype,t_=e_.toString;function r_(e){return t_.call(e)}var n_=r_,qh=cd,a_=Z2,s_=n_,i_="[object Null]",o_="[object Undefined]",Gh=qh?qh.toStringTag:void 0;function l_(e){return e==null?e===void 0?o_:i_:Gh&&Gh in Object(e)?a_(e):s_(e)}var Wo=l_;function c_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nx=c_,u_=Wo,d_=nx,h_="[object AsyncFunction]",f_="[object Function]",p_="[object GeneratorFunction]",m_="[object Proxy]";function g_(e){if(!d_(e))return!1;var t=u_(e);return t==f_||t==p_||t==h_||t==m_}var ax=g_,x_=Dr,y_=x_["__core-js_shared__"],v_=y_,zl=v_,Kh=function(){var e=/[^.]+$/.exec(zl&&zl.keys&&zl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function b_(e){return!!Kh&&Kh in e}var j_=b_,w_=Function.prototype,N_=w_.toString;function __(e){if(e!=null){try{return N_.call(e)}catch{}try{return e+""}catch{}}return""}var sx=__,k_=ax,S_=j_,T_=nx,C_=sx,E_=/[\\^$.*+?()[\]{}|]/g,P_=/^\[object .+?Constructor\]$/,O_=Function.prototype,A_=Object.prototype,L_=O_.toString,I_=A_.hasOwnProperty,M_=RegExp("^"+L_.call(I_).replace(E_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R_(e){if(!T_(e)||S_(e))return!1;var t=k_(e)?M_:P_;return t.test(C_(e))}var D_=R_;function $_(e,t){return e==null?void 0:e[t]}var z_=$_,B_=D_,F_=z_;function V_(e,t){var n=F_(e,t);return B_(n)?n:void 0}var _a=V_,H_=_a,U_=Dr,q_=H_(U_,"Map"),ud=q_,G_=_a,K_=G_(Object,"create"),Xo=K_,Wh=Xo;function W_(){this.__data__=Wh?Wh(null):{},this.size=0}var X_=W_;function Q_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Y_=Q_,J_=Xo,Z_="__lodash_hash_undefined__",ek=Object.prototype,tk=ek.hasOwnProperty;function rk(e){var t=this.__data__;if(J_){var n=t[e];return n===Z_?void 0:n}return tk.call(t,e)?t[e]:void 0}var nk=rk,ak=Xo,sk=Object.prototype,ik=sk.hasOwnProperty;function ok(e){var t=this.__data__;return ak?t[e]!==void 0:ik.call(t,e)}var lk=ok,ck=Xo,uk="__lodash_hash_undefined__";function dk(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ck&&t===void 0?uk:t,this}var hk=dk,fk=X_,pk=Y_,mk=nk,gk=lk,xk=hk;function ka(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}ka.prototype.clear=fk;ka.prototype.delete=pk;ka.prototype.get=mk;ka.prototype.has=gk;ka.prototype.set=xk;var yk=ka,Xh=yk,vk=Ko,bk=ud;function jk(){this.size=0,this.__data__={hash:new Xh,map:new(bk||vk),string:new Xh}}var wk=jk;function Nk(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _k=Nk,kk=_k;function Sk(e,t){var n=e.__data__;return kk(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Qo=Sk,Tk=Qo;function Ck(e){var t=Tk(this,e).delete(e);return this.size-=t?1:0,t}var Ek=Ck,Pk=Qo;function Ok(e){return Pk(this,e).get(e)}var Ak=Ok,Lk=Qo;function Ik(e){return Lk(this,e).has(e)}var Mk=Ik,Rk=Qo;function Dk(e,t){var n=Rk(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}var $k=Dk,zk=wk,Bk=Ek,Fk=Ak,Vk=Mk,Hk=$k;function Sa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Sa.prototype.clear=zk;Sa.prototype.delete=Bk;Sa.prototype.get=Fk;Sa.prototype.has=Vk;Sa.prototype.set=Hk;var ix=Sa,Uk=Ko,qk=ud,Gk=ix,Kk=200;function Wk(e,t){var n=this.__data__;if(n instanceof Uk){var a=n.__data__;if(!qk||a.length<Kk-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gk(a)}return n.set(e,t),this.size=n.size,this}var Xk=Wk,Qk=Ko,Yk=D2,Jk=z2,Zk=F2,eS=H2,tS=Xk;function Ta(e){var t=this.__data__=new Qk(e);this.size=t.size}Ta.prototype.clear=Yk;Ta.prototype.delete=Jk;Ta.prototype.get=Zk;Ta.prototype.has=eS;Ta.prototype.set=tS;var rS=Ta,nS="__lodash_hash_undefined__";function aS(e){return this.__data__.set(e,nS),this}var sS=aS;function iS(e){return this.__data__.has(e)}var oS=iS,lS=ix,cS=sS,uS=oS;function uo(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new lS;++t<n;)this.add(e[t])}uo.prototype.add=uo.prototype.push=cS;uo.prototype.has=uS;var dS=uo;function hS(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}var fS=hS;function pS(e,t){return e.has(t)}var mS=pS,gS=dS,xS=fS,yS=mS,vS=1,bS=2;function jS(e,t,n,a,s,i){var o=n&vS,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=i.get(e),p=i.get(t);if(u&&p)return u==t&&p==e;var h=-1,d=!0,f=n&bS?new gS:void 0;for(i.set(e,t),i.set(t,e);++h<c;){var y=e[h],x=t[h];if(a)var b=o?a(x,y,h,t,e,i):a(y,x,h,e,t,i);if(b!==void 0){if(b)continue;d=!1;break}if(f){if(!xS(t,function(g,m){if(!yS(f,m)&&(y===g||s(y,g,n,a,i)))return f.push(m)})){d=!1;break}}else if(!(y===x||s(y,x,n,a,i))){d=!1;break}}return i.delete(e),i.delete(t),d}var ox=jS,wS=Dr,NS=wS.Uint8Array,_S=NS;function kS(e){var t=-1,n=Array(e.size);return e.forEach(function(a,s){n[++t]=[s,a]}),n}var SS=kS;function TS(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}var CS=TS,Qh=cd,Yh=_S,ES=ex,PS=ox,OS=SS,AS=CS,LS=1,IS=2,MS="[object Boolean]",RS="[object Date]",DS="[object Error]",$S="[object Map]",zS="[object Number]",BS="[object RegExp]",FS="[object Set]",VS="[object String]",HS="[object Symbol]",US="[object ArrayBuffer]",qS="[object DataView]",Jh=Qh?Qh.prototype:void 0,Bl=Jh?Jh.valueOf:void 0;function GS(e,t,n,a,s,i,o){switch(n){case qS:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case US:return!(e.byteLength!=t.byteLength||!i(new Yh(e),new Yh(t)));case MS:case RS:case zS:return ES(+e,+t);case DS:return e.name==t.name&&e.message==t.message;case BS:case VS:return e==t+"";case $S:var c=OS;case FS:var l=a&LS;if(c||(c=AS),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;a|=IS,o.set(e,t);var p=PS(c(e),c(t),a,s,i,o);return o.delete(e),p;case HS:if(Bl)return Bl.call(e)==Bl.call(t)}return!1}var KS=GS;function WS(e,t){for(var n=-1,a=t.length,s=e.length;++n<a;)e[s+n]=t[n];return e}var XS=WS,QS=Array.isArray,dd=QS,YS=XS,JS=dd;function ZS(e,t,n){var a=t(e);return JS(e)?a:YS(a,n(e))}var e4=ZS;function t4(e,t){for(var n=-1,a=e==null?0:e.length,s=0,i=[];++n<a;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}var r4=t4;function n4(){return[]}var a4=n4,s4=r4,i4=a4,o4=Object.prototype,l4=o4.propertyIsEnumerable,Zh=Object.getOwnPropertySymbols,c4=Zh?function(e){return e==null?[]:(e=Object(e),s4(Zh(e),function(t){return l4.call(e,t)}))}:i4,u4=c4;function d4(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}var h4=d4;function f4(e){return e!=null&&typeof e=="object"}var Yo=f4,p4=Wo,m4=Yo,g4="[object Arguments]";function x4(e){return m4(e)&&p4(e)==g4}var y4=x4,ef=y4,v4=Yo,lx=Object.prototype,b4=lx.hasOwnProperty,j4=lx.propertyIsEnumerable,w4=ef(function(){return arguments}())?ef:function(e){return v4(e)&&b4.call(e,"callee")&&!j4.call(e,"callee")},N4=w4,ho={exports:{}};function _4(){return!1}var k4=_4;ho.exports;(function(e,t){var n=Dr,a=k4,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,c=o?n.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||a;e.exports=u})(ho,ho.exports);var cx=ho.exports,S4=9007199254740991,T4=/^(?:0|[1-9]\d*)$/;function C4(e,t){var n=typeof e;return t=t??S4,!!t&&(n=="number"||n!="symbol"&&T4.test(e))&&e>-1&&e%1==0&&e<t}var E4=C4,P4=9007199254740991;function O4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=P4}var ux=O4,A4=Wo,L4=ux,I4=Yo,M4="[object Arguments]",R4="[object Array]",D4="[object Boolean]",$4="[object Date]",z4="[object Error]",B4="[object Function]",F4="[object Map]",V4="[object Number]",H4="[object Object]",U4="[object RegExp]",q4="[object Set]",G4="[object String]",K4="[object WeakMap]",W4="[object ArrayBuffer]",X4="[object DataView]",Q4="[object Float32Array]",Y4="[object Float64Array]",J4="[object Int8Array]",Z4="[object Int16Array]",eT="[object Int32Array]",tT="[object Uint8Array]",rT="[object Uint8ClampedArray]",nT="[object Uint16Array]",aT="[object Uint32Array]",Le={};Le[Q4]=Le[Y4]=Le[J4]=Le[Z4]=Le[eT]=Le[tT]=Le[rT]=Le[nT]=Le[aT]=!0;Le[M4]=Le[R4]=Le[W4]=Le[D4]=Le[X4]=Le[$4]=Le[z4]=Le[B4]=Le[F4]=Le[V4]=Le[H4]=Le[U4]=Le[q4]=Le[G4]=Le[K4]=!1;function sT(e){return I4(e)&&L4(e.length)&&!!Le[A4(e)]}var iT=sT;function oT(e){return function(t){return e(t)}}var lT=oT,fo={exports:{}};fo.exports;(function(e,t){var n=tx,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&n.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(fo,fo.exports);var cT=fo.exports,uT=iT,dT=lT,tf=cT,rf=tf&&tf.isTypedArray,hT=rf?dT(rf):uT,dx=hT,fT=h4,pT=N4,mT=dd,gT=cx,xT=E4,yT=dx,vT=Object.prototype,bT=vT.hasOwnProperty;function jT(e,t){var n=mT(e),a=!n&&pT(e),s=!n&&!a&&gT(e),i=!n&&!a&&!s&&yT(e),o=n||a||s||i,c=o?fT(e.length,String):[],l=c.length;for(var u in e)(t||bT.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xT(u,l)))&&c.push(u);return c}var wT=jT,NT=Object.prototype;function _T(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||NT;return e===n}var kT=_T;function ST(e,t){return function(n){return e(t(n))}}var TT=ST,CT=TT,ET=CT(Object.keys,Object),PT=ET,OT=kT,AT=PT,LT=Object.prototype,IT=LT.hasOwnProperty;function MT(e){if(!OT(e))return AT(e);var t=[];for(var n in Object(e))IT.call(e,n)&&n!="constructor"&&t.push(n);return t}var RT=MT,DT=ax,$T=ux;function zT(e){return e!=null&&$T(e.length)&&!DT(e)}var BT=zT,FT=wT,VT=RT,HT=BT;function UT(e){return HT(e)?FT(e):VT(e)}var qT=UT,GT=e4,KT=u4,WT=qT;function XT(e){return GT(e,WT,KT)}var QT=XT,nf=QT,YT=1,JT=Object.prototype,ZT=JT.hasOwnProperty;function eC(e,t,n,a,s,i){var o=n&YT,c=nf(e),l=c.length,u=nf(t),p=u.length;if(l!=p&&!o)return!1;for(var h=l;h--;){var d=c[h];if(!(o?d in t:ZT.call(t,d)))return!1}var f=i.get(e),y=i.get(t);if(f&&y)return f==t&&y==e;var x=!0;i.set(e,t),i.set(t,e);for(var b=o;++h<l;){d=c[h];var g=e[d],m=t[d];if(a)var j=o?a(m,g,d,t,e,i):a(g,m,d,e,t,i);if(!(j===void 0?g===m||s(g,m,n,a,i):j)){x=!1;break}b||(b=d=="constructor")}if(x&&!b){var v=e.constructor,w=t.constructor;v!=w&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof w=="function"&&w instanceof w)&&(x=!1)}return i.delete(e),i.delete(t),x}var tC=eC,rC=_a,nC=Dr,aC=rC(nC,"DataView"),sC=aC,iC=_a,oC=Dr,lC=iC(oC,"Promise"),cC=lC,uC=_a,dC=Dr,hC=uC(dC,"Set"),fC=hC,pC=_a,mC=Dr,gC=pC(mC,"WeakMap"),xC=gC,Hc=sC,Uc=ud,qc=cC,Gc=fC,Kc=xC,hx=Wo,Ca=sx,af="[object Map]",yC="[object Object]",sf="[object Promise]",of="[object Set]",lf="[object WeakMap]",cf="[object DataView]",vC=Ca(Hc),bC=Ca(Uc),jC=Ca(qc),wC=Ca(Gc),NC=Ca(Kc),pn=hx;(Hc&&pn(new Hc(new ArrayBuffer(1)))!=cf||Uc&&pn(new Uc)!=af||qc&&pn(qc.resolve())!=sf||Gc&&pn(new Gc)!=of||Kc&&pn(new Kc)!=lf)&&(pn=function(e){var t=hx(e),n=t==yC?e.constructor:void 0,a=n?Ca(n):"";if(a)switch(a){case vC:return cf;case bC:return af;case jC:return sf;case wC:return of;case NC:return lf}return t});var _C=pn,Fl=rS,kC=ox,SC=KS,TC=tC,uf=_C,df=dd,hf=cx,CC=dx,EC=1,ff="[object Arguments]",pf="[object Array]",mi="[object Object]",PC=Object.prototype,mf=PC.hasOwnProperty;function OC(e,t,n,a,s,i){var o=df(e),c=df(t),l=o?pf:uf(e),u=c?pf:uf(t);l=l==ff?mi:l,u=u==ff?mi:u;var p=l==mi,h=u==mi,d=l==u;if(d&&hf(e)){if(!hf(t))return!1;o=!0,p=!1}if(d&&!p)return i||(i=new Fl),o||CC(e)?kC(e,t,n,a,s,i):SC(e,t,l,n,a,s,i);if(!(n&EC)){var f=p&&mf.call(e,"__wrapped__"),y=h&&mf.call(t,"__wrapped__");if(f||y){var x=f?e.value():e,b=y?t.value():t;return i||(i=new Fl),s(x,b,n,a,i)}}return d?(i||(i=new Fl),TC(e,t,n,a,s,i)):!1}var AC=OC,LC=AC,gf=Yo;function fx(e,t,n,a,s){return e===t?!0:e==null||t==null||!gf(e)&&!gf(t)?e!==e&&t!==t:LC(e,t,n,a,fx,s)}var IC=fx,MC=IC;function RC(e,t){return MC(e,t)}var DC=RC,px={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(a,s){e.exports=s()})(typeof self<"u"?self:Tt,function(){return function(n){var a={};function s(i){if(a[i])return a[i].exports;var o=a[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=a,s.d=function(i,o,c){s.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:c})},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s=109)}([function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(17),o=s(18),c=s(19),l=s(45),u=s(46),p=s(47),h=s(48),d=s(49),f=s(12),y=s(32),x=s(33),b=s(31),g=s(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:i.default,Format:o.default,Leaf:c.default,Embed:h.default,Scroll:l.default,Block:p.default,Inline:u.default,Text:d.default,Attributor:{Attribute:f.default,Class:y.default,Style:x.default,Store:b.default}};a.default=m},function(n,a,s){var i=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var j in m)m.hasOwnProperty(j)&&(g[j]=m[j])};return function(g,m){b(g,m);function j(){this.constructor=g}g.prototype=m===null?Object.create(m):(j.prototype=m.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=function(b){i(g,b);function g(m){var j=this;return m="[Parchment] "+m,j=b.call(this,m)||this,j.message=m,j.name=j.constructor.name,j}return g}(Error);a.ParchmentError=o;var c={},l={},u={},p={};a.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=a.Scope||(a.Scope={}));function d(b,g){var m=y(b);if(m==null)throw new o("Unable to create "+b+" blot");var j=m,v=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:j.create(g);return new j(v,g)}a.create=d;function f(b,g){return g===void 0&&(g=!1),b==null?null:b[a.DATA_KEY]!=null?b[a.DATA_KEY].blot:g?f(b.parentNode,g):null}a.find=f;function y(b,g){g===void 0&&(g=h.ANY);var m;if(typeof b=="string")m=p[b]||c[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)m=p.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?m=p.block:b&h.LEVEL&h.INLINE&&(m=p.inline);else if(b instanceof HTMLElement){var j=(b.getAttribute("class")||"").split(/\s+/);for(var v in j)if(m=l[j[v]],m)break;m=m||u[b.tagName]}return m==null?null:g&h.LEVEL&m.scope&&g&h.TYPE&m.scope?m:null}a.query=y;function x(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];if(b.length>1)return b.map(function(v){return x(v)});var m=b[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(p[m.blotName||m.attrName]=m,typeof m.keyName=="string")c[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(v){return v.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var j=Array.isArray(m.tagName)?m.tagName:[m.tagName];j.forEach(function(v){(u[v]==null||m.className==null)&&(u[v]=m)})}return m}a.register=x},function(n,a,s){var i=s(51),o=s(11),c=s(3),l=s(20),u="\0",p=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};p.prototype.insert=function(h,d){var f={};return h.length===0?this:(f.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f))},p.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},p.prototype.retain=function(h,d){if(h<=0)return this;var f={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f)},p.prototype.push=function(h){var d=this.ops.length,f=this.ops[d-1];if(h=c(!0,{},h),typeof f=="object"){if(typeof h.delete=="number"&&typeof f.delete=="number")return this.ops[d-1]={delete:f.delete+h.delete},this;if(typeof f.delete=="number"&&h.insert!=null&&(d-=1,f=this.ops[d-1],typeof f!="object"))return this.ops.unshift(h),this;if(o(h.attributes,f.attributes)){if(typeof h.insert=="string"&&typeof f.insert=="string")return this.ops[d-1]={insert:f.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof f.retain=="number")return this.ops[d-1]={retain:f.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},p.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},p.prototype.filter=function(h){return this.ops.filter(h)},p.prototype.forEach=function(h){this.ops.forEach(h)},p.prototype.map=function(h){return this.ops.map(h)},p.prototype.partition=function(h){var d=[],f=[];return this.forEach(function(y){var x=h(y)?d:f;x.push(y)}),[d,f]},p.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},p.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},p.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},p.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var f=[],y=l.iterator(this.ops),x=0;x<d&&y.hasNext();){var b;x<h?b=y.next(h-x):(b=y.next(d-x),f.push(b)),x+=l.length(b)}return new p(f)},p.prototype.compose=function(h){var d=l.iterator(this.ops),f=l.iterator(h.ops),y=[],x=f.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){for(var b=x.retain;d.peekType()==="insert"&&d.peekLength()<=b;)b-=d.peekLength(),y.push(d.next());x.retain-b>0&&f.next(x.retain-b)}for(var g=new p(y);d.hasNext()||f.hasNext();)if(f.peekType()==="insert")g.push(f.next());else if(d.peekType()==="delete")g.push(d.next());else{var m=Math.min(d.peekLength(),f.peekLength()),j=d.next(m),v=f.next(m);if(typeof v.retain=="number"){var w={};typeof j.retain=="number"?w.retain=m:w.insert=j.insert;var _=l.attributes.compose(j.attributes,v.attributes,typeof j.retain=="number");if(_&&(w.attributes=_),g.push(w),!f.hasNext()&&o(g.ops[g.ops.length-1],w)){var k=new p(d.rest());return g.concat(k).chop()}}else typeof v.delete=="number"&&typeof j.retain=="number"&&g.push(v)}return g.chop()},p.prototype.concat=function(h){var d=new p(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},p.prototype.diff=function(h,d){if(this.ops===h.ops)return new p;var f=[this,h].map(function(m){return m.map(function(j){if(j.insert!=null)return typeof j.insert=="string"?j.insert:u;var v=m===h?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),y=new p,x=i(f[0],f[1],d),b=l.iterator(this.ops),g=l.iterator(h.ops);return x.forEach(function(m){for(var j=m[1].length;j>0;){var v=0;switch(m[0]){case i.INSERT:v=Math.min(g.peekLength(),j),y.push(g.next(v));break;case i.DELETE:v=Math.min(j,b.peekLength()),b.next(v),y.delete(v);break;case i.EQUAL:v=Math.min(b.peekLength(),g.peekLength(),j);var w=b.next(v),_=g.next(v);o(w.insert,_.insert)?y.retain(v,l.attributes.diff(w.attributes,_.attributes)):y.push(_).delete(v);break}j-=v}}),y.chop()},p.prototype.eachLine=function(h,d){d=d||`
`;for(var f=l.iterator(this.ops),y=new p,x=0;f.hasNext();){if(f.peekType()!=="insert")return;var b=f.peek(),g=l.length(b)-f.peekLength(),m=typeof b.insert=="string"?b.insert.indexOf(d,g)-g:-1;if(m<0)y.push(f.next());else if(m>0)y.push(f.next(m));else{if(h(y,f.next(1).attributes||{},x)===!1)return;x+=1,y=new p}}y.length()>0&&h(y,{},x)},p.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var f=l.iterator(this.ops),y=l.iterator(h.ops),x=new p;f.hasNext()||y.hasNext();)if(f.peekType()==="insert"&&(d||y.peekType()!=="insert"))x.retain(l.length(f.next()));else if(y.peekType()==="insert")x.push(y.next());else{var b=Math.min(f.peekLength(),y.peekLength()),g=f.next(b),m=y.next(b);if(g.delete)continue;m.delete?x.push(m):x.retain(b,l.attributes.transform(g.attributes,m.attributes,d))}return x.chop()},p.prototype.transformPosition=function(h,d){d=!!d;for(var f=l.iterator(this.ops),y=0;f.hasNext()&&y<=h;){var x=f.peekLength(),b=f.peekType();if(f.next(),b==="delete"){h-=Math.min(x,h-y);continue}else b==="insert"&&(y<h||!d)&&(h+=x);y+=x}return h},n.exports=p},function(n,a){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):i.call(f)==="[object Array]"},u=function(f){if(!f||i.call(f)!=="[object Object]")return!1;var y=s.call(f,"constructor"),x=f.constructor&&f.constructor.prototype&&s.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!y&&!x)return!1;var b;for(b in f);return typeof b>"u"||s.call(f,b)},p=function(f,y){o&&y.name==="__proto__"?o(f,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):f[y.name]=y.newValue},h=function(f,y){if(y==="__proto__")if(s.call(f,y)){if(c)return c(f,y).value}else return;return f[y]};n.exports=function d(){var f,y,x,b,g,m,j=arguments[0],v=1,w=arguments.length,_=!1;for(typeof j=="boolean"&&(_=j,j=arguments[1]||{},v=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});v<w;++v)if(f=arguments[v],f!=null)for(y in f)x=h(j,y),b=h(f,y),j!==b&&(_&&b&&(u(b)||(g=l(b)))?(g?(g=!1,m=x&&l(x)?x:[]):m=x&&u(x)?x:{},p(j,{name:y,newValue:d(_,m,b)})):typeof b<"u"&&p(j,{name:y,newValue:b}));return j}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var i=function(){function T(P,L){for(var B=0;B<L.length;B++){var M=L[B];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,L,B){return L&&T(P.prototype,L),B&&T(P,B),P}}(),o=function T(P,L,B){P===null&&(P=Function.prototype);var M=Object.getOwnPropertyDescriptor(P,L);if(M===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:T(I,L,B)}else{if("value"in M)return M.value;var D=M.get;return D===void 0?void 0:D.call(B)}},c=s(3),l=j(c),u=s(2),p=j(u),h=s(0),d=j(h),f=s(16),y=j(f),x=s(6),b=j(x),g=s(7),m=j(g);function j(T){return T&&T.__esModule?T:{default:T}}function v(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function w(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function _(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var k=1,C=function(T){_(P,T);function P(){return v(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return i(P,[{key:"attach",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(B,M){var I=d.default.query(B,d.default.Scope.BLOCK_ATTRIBUTE);I!=null&&this.attributes.attribute(I,M)}},{key:"formatAt",value:function(B,M,I,D){this.format(I,D)}},{key:"insertAt",value:function(B,M,I){if(typeof M=="string"&&M.endsWith(`
`)){var D=d.default.create(O.blotName);this.parent.insertBefore(D,B===0?this:this.next),D.insertAt(0,M.slice(0,-1))}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,B,M,I)}}]),P}(d.default.Embed);C.scope=d.default.Scope.BLOCK_BLOT;var O=function(T){_(P,T);function P(L){v(this,P);var B=w(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,L));return B.cache={},B}return i(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(B,M){return M.length()===0?B:B.insert(M.value(),S(M))},new p.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(B,M){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,B,M),this.cache={}}},{key:"formatAt",value:function(B,M,I,D){M<=0||(d.default.query(I,d.default.Scope.BLOCK)?B+M===this.length()&&this.format(I,D):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,B,Math.min(M,this.length()-B-1),I,D),this.cache={})}},{key:"insertAt",value:function(B,M,I){if(I!=null)return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,B,M,I);if(M.length!==0){var D=M.split(`
`),V=D.shift();V.length>0&&(B<this.length()-1||this.children.tail==null?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(B,this.length()-1),V):this.children.tail.insertAt(this.children.tail.length(),V),this.cache={});var z=this;D.reduce(function(R,E){return z=z.split(R,!0),z.insertAt(0,E),E.length},B+V.length)}}},{key:"insertBefore",value:function(B,M){var I=this.children.head;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,B,M),I instanceof y.default&&I.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(B,M){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,B,M),this.cache={}}},{key:"optimize",value:function(B){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,B),this.cache={}}},{key:"path",value:function(B){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,B,!0)}},{key:"removeChild",value:function(B){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,B),this.cache={}}},{key:"split",value:function(B){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(B===0||B>=this.length()-k)){var I=this.clone();return B===0?(this.parent.insertBefore(I,this),this):(this.parent.insertBefore(I,this.next),I)}else{var D=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,B,M);return this.cache={},D}}}]),P}(d.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[b.default,d.default.Embed,m.default];function S(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(P=(0,l.default)(P,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?P:S(T.parent,P)}a.bubbleFormats=S,a.BlockEmbed=C,a.default=O},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(R,E){var $=[],A=!0,U=!1,H=void 0;try{for(var F=R[Symbol.iterator](),q;!(A=(q=F.next()).done)&&($.push(q.value),!(E&&$.length===E));A=!0);}catch(X){U=!0,H=X}finally{try{!A&&F.return&&F.return()}finally{if(U)throw H}}return $}return function(R,E){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return z(R,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function z(R,E){for(var $=0;$<E.length;$++){var A=E[$];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}return function(R,E,$){return E&&z(R.prototype,E),$&&z(R,$),R}}();s(50);var l=s(2),u=S(l),p=s(14),h=S(p),d=s(8),f=S(d),y=s(9),x=S(y),b=s(0),g=S(b),m=s(15),j=S(m),v=s(3),w=S(v),_=s(10),k=S(_),C=s(34),O=S(C);function S(z){return z&&z.__esModule?z:{default:z}}function T(z,R,E){return R in z?Object.defineProperty(z,R,{value:E,enumerable:!0,configurable:!0,writable:!0}):z[R]=E,z}function P(z,R){if(!(z instanceof R))throw new TypeError("Cannot call a class as a function")}var L=(0,k.default)("quill"),B=function(){c(z,null,[{key:"debug",value:function(E){E===!0&&(E="log"),k.default.level(E)}},{key:"find",value:function(E){return E.__quill||g.default.find(E)}},{key:"import",value:function(E){return this.imports[E]==null&&L.error("Cannot import "+E+". Are you sure it was registered?"),this.imports[E]}},{key:"register",value:function(E,$){var A=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof E!="string"){var H=E.attrName||E.blotName;typeof H=="string"?this.register("formats/"+H,E,$):Object.keys(E).forEach(function(F){A.register(F,E[F],$)})}else this.imports[E]!=null&&!U&&L.warn("Overwriting "+E+" with",$),this.imports[E]=$,(E.startsWith("blots/")||E.startsWith("formats/"))&&$.blotName!=="abstract"?g.default.register($):E.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function z(R){var E=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,z),this.options=M(R,$),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",R);this.options.debug&&z.debug(this.options.debug);var A=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new j.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(H){H===f.default.events.TEXT_CHANGE&&E.root.classList.toggle("ql-blank",E.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(H,F){var q=E.selection.lastRange,X=q&&q.length===0?q.index:void 0;I.call(E,function(){return E.editor.update(null,F,X)},H)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+A+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(z,[{key:"addContainer",value:function(E){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof E=="string"){var A=E;E=document.createElement("div"),E.classList.add(A)}return this.container.insertBefore(E,$),E}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(E,$,A){var U=this,H=D(E,$,A),F=o(H,4);return E=F[0],$=F[1],A=F[3],I.call(this,function(){return U.editor.deleteText(E,$)},A,E,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(E),this.container.classList.toggle("ql-disabled",!E)}},{key:"focus",value:function(){var E=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=E,this.scrollIntoView()}},{key:"format",value:function(E,$){var A=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return I.call(this,function(){var H=A.getSelection(!0),F=new u.default;if(H==null)return F;if(g.default.query(E,g.default.Scope.BLOCK))F=A.editor.formatLine(H.index,H.length,T({},E,$));else{if(H.length===0)return A.selection.format(E,$),F;F=A.editor.formatText(H.index,H.length,T({},E,$))}return A.setSelection(H,f.default.sources.SILENT),F},U)}},{key:"formatLine",value:function(E,$,A,U,H){var F=this,q=void 0,X=D(E,$,A,U,H),G=o(X,4);return E=G[0],$=G[1],q=G[2],H=G[3],I.call(this,function(){return F.editor.formatLine(E,$,q)},H,E,0)}},{key:"formatText",value:function(E,$,A,U,H){var F=this,q=void 0,X=D(E,$,A,U,H),G=o(X,4);return E=G[0],$=G[1],q=G[2],H=G[3],I.call(this,function(){return F.editor.formatText(E,$,q)},H,E,0)}},{key:"getBounds",value:function(E){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=void 0;typeof E=="number"?A=this.selection.getBounds(E,$):A=this.selection.getBounds(E.index,E.length);var U=this.container.getBoundingClientRect();return{bottom:A.bottom-U.top,height:A.height,left:A.left-U.left,right:A.right-U.left,top:A.top-U.top,width:A.width}}},{key:"getContents",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-E,A=D(E,$),U=o(A,2);return E=U[0],$=U[1],this.editor.getContents(E,$)}},{key:"getFormat",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof E=="number"?this.editor.getFormat(E,$):this.editor.getFormat(E.index,E.length)}},{key:"getIndex",value:function(E){return E.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(E){return this.scroll.leaf(E)}},{key:"getLine",value:function(E){return this.scroll.line(E)}},{key:"getLines",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof E!="number"?this.scroll.lines(E.index,E.length):this.scroll.lines(E,$)}},{key:"getModule",value:function(E){return this.theme.modules[E]}},{key:"getSelection",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return E&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-E,A=D(E,$),U=o(A,2);return E=U[0],$=U[1],this.editor.getText(E,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(E,$,A){var U=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return I.call(this,function(){return U.editor.insertEmbed(E,$,A)},H,E)}},{key:"insertText",value:function(E,$,A,U,H){var F=this,q=void 0,X=D(E,0,A,U,H),G=o(X,4);return E=G[0],q=G[2],H=G[3],I.call(this,function(){return F.editor.insertText(E,$,q)},H,E,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(E,$,A){this.clipboard.dangerouslyPasteHTML(E,$,A)}},{key:"removeFormat",value:function(E,$,A){var U=this,H=D(E,$,A),F=o(H,4);return E=F[0],$=F[1],A=F[3],I.call(this,function(){return U.editor.removeFormat(E,$)},A,E)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(E){var $=this,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return I.call(this,function(){E=new u.default(E);var U=$.getLength(),H=$.editor.deleteText(0,U),F=$.editor.applyDelta(E),q=F.ops[F.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),F.delete(1));var X=H.compose(F);return X},A)}},{key:"setSelection",value:function(E,$,A){if(E==null)this.selection.setRange(null,$||z.sources.API);else{var U=D(E,$,A),H=o(U,4);E=H[0],$=H[1],A=H[3],this.selection.setRange(new m.Range(E,$),A),A!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(E){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,A=new u.default().insert(E);return this.setContents(A,$)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,$=this.scroll.update(E);return this.selection.update(E),$}},{key:"updateContents",value:function(E){var $=this,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return I.call(this,function(){return E=new u.default(E),$.editor.applyDelta(E,A)},A,!0)}}]),z}();B.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},B.events=f.default.events,B.sources=f.default.sources,B.version="1.3.7",B.imports={delta:u.default,parchment:g.default,"core/module":x.default,"core/theme":O.default};function M(z,R){if(R=(0,w.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},R),!R.theme||R.theme===B.DEFAULTS.theme)R.theme=O.default;else if(R.theme=B.import("themes/"+R.theme),R.theme==null)throw new Error("Invalid theme "+R.theme+". Did you register it?");var E=(0,w.default)(!0,{},R.theme.DEFAULTS);[E,R].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(H){U.modules[H]===!0&&(U.modules[H]={})})});var $=Object.keys(E.modules).concat(Object.keys(R.modules)),A=$.reduce(function(U,H){var F=B.import("modules/"+H);return F==null?L.error("Cannot load "+H+" module. Are you sure you registered it?"):U[H]=F.DEFAULTS||{},U},{});return R.modules!=null&&R.modules.toolbar&&R.modules.toolbar.constructor!==Object&&(R.modules.toolbar={container:R.modules.toolbar}),R=(0,w.default)(!0,{},B.DEFAULTS,{modules:A},E,R),["bounds","container","scrollingContainer"].forEach(function(U){typeof R[U]=="string"&&(R[U]=document.querySelector(R[U]))}),R.modules=Object.keys(R.modules).reduce(function(U,H){return R.modules[H]&&(U[H]=R.modules[H]),U},{}),R}function I(z,R,E,$){if(this.options.strict&&!this.isEnabled()&&R===f.default.sources.USER)return new u.default;var A=E==null?null:this.getSelection(),U=this.editor.delta,H=z();if(A!=null&&(E===!0&&(E=A.index),$==null?A=V(A,H,R):$!==0&&(A=V(A,E,$,R)),this.setSelection(A,f.default.sources.SILENT)),H.length()>0){var F,q=[f.default.events.TEXT_CHANGE,H,U,R];if((F=this.emitter).emit.apply(F,[f.default.events.EDITOR_CHANGE].concat(q)),R!==f.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,q)}}return H}function D(z,R,E,$,A){var U={};return typeof z.index=="number"&&typeof z.length=="number"?typeof R!="number"?(A=$,$=E,E=R,R=z.length,z=z.index):(R=z.length,z=z.index):typeof R!="number"&&(A=$,$=E,E=R,R=0),(typeof E>"u"?"undefined":i(E))==="object"?(U=E,A=$):typeof E=="string"&&($!=null?U[E]=$:A=E),A=A||f.default.sources.API,[z,R,U,A]}function V(z,R,E,$){if(z==null)return null;var A=void 0,U=void 0;if(R instanceof u.default){var H=[z.index,z.index+z.length].map(function(G){return R.transformPosition(G,$!==f.default.sources.USER)}),F=o(H,2);A=F[0],U=F[1]}else{var q=[z.index,z.index+z.length].map(function(G){return G<R||G===R&&$===f.default.sources.USER?G:E>=0?G+E:Math.max(R,G+E)}),X=o(q,2);A=X[0],U=X[1]}return new m.Range(A,U-A)}a.expandConfig=M,a.overload=D,a.default=B},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function b(g,m){for(var j=0;j<m.length;j++){var v=m[j];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,j){return m&&b(g.prototype,m),j&&b(g,j),g}}(),o=function b(g,m,j){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:b(w,m,j)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(j)}},c=s(7),l=h(c),u=s(0),p=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function f(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function y(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var x=function(b){y(g,b);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"formatAt",value:function(j,v,w,_){if(g.compare(this.statics.blotName,w)<0&&p.default.query(w,p.default.Scope.BLOT)){var k=this.isolate(j,v);_&&k.wrap(w,_)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,j,v,w,_)}},{key:"optimize",value:function(j){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,j),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(j,v){var w=g.order.indexOf(j),_=g.order.indexOf(v);return w>=0||_>=0?w-_:j===v?0:j<v?-1:1}}]),g}(p.default.Inline);x.allowedChildren=[x,p.default.Embed,l.default],x.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(0),o=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function p(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){p(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default.Text);a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function m(j,v){for(var w=0;w<v.length;w++){var _=v[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,v,w){return v&&m(j.prototype,v),w&&m(j,w),j}}(),o=function m(j,v,w){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,v);if(_===void 0){var k=Object.getPrototypeOf(j);return k===null?void 0:m(k,v,w)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(w)}},c=s(54),l=h(c),u=s(10),p=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function d(m,j){if(!(m instanceof j))throw new TypeError("Cannot call a class as a function")}function f(m,j){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:m}function y(m,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);m.prototype=Object.create(j&&j.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(m,j):m.__proto__=j)}var x=(0,p.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(m){document.addEventListener(m,function(){for(var j=arguments.length,v=Array(j),w=0;w<j;w++)v[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(_){if(_.__quill&&_.__quill.emitter){var k;(k=_.__quill.emitter).handleDOM.apply(k,v)}})})});var g=function(m){y(j,m);function j(){d(this,j);var v=f(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return v.listeners={},v.on("error",x.error),v}return i(j,[{key:"emit",value:function(){x.log.apply(x,arguments),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var _=arguments.length,k=Array(_>1?_-1:0),C=1;C<_;C++)k[C-1]=arguments[C];(this.listeners[w.type]||[]).forEach(function(O){var S=O.node,T=O.handler;(w.target===S||S.contains(w.target))&&T.apply(void 0,[w].concat(k))})}},{key:"listenDOM",value:function(w,_,k){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:_,handler:k})}}]),j}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},a.default=g},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});function i(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function c(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,c),this.quill=l,this.options=u};o.DEFAULTS={},a.default=o},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function c(u){if(i.indexOf(u)<=i.indexOf(o)){for(var p,h=arguments.length,d=Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];(p=console)[u].apply(p,d)}}function l(u){return i.reduce(function(p,h){return p[h]=c.bind(console,h,u),p},{})}c.level=l.level=function(u){o=u},a.default=l},function(n,a,s){var i=Array.prototype.slice,o=s(52),c=s(53),l=n.exports=function(d,f,y){return y||(y={}),d===f?!0:d instanceof Date&&f instanceof Date?d.getTime()===f.getTime():!d||!f||typeof d!="object"&&typeof f!="object"?y.strict?d===f:d==f:h(d,f,y)};function u(d){return d==null}function p(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,f,y){var x,b;if(u(d)||u(f)||d.prototype!==f.prototype)return!1;if(c(d))return c(f)?(d=i.call(d),f=i.call(f),l(d,f,y)):!1;if(p(d)){if(!p(f)||d.length!==f.length)return!1;for(x=0;x<d.length;x++)if(d[x]!==f[x])return!1;return!0}try{var g=o(d),m=o(f)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),x=g.length-1;x>=0;x--)if(g[x]!=m[x])return!1;for(x=g.length-1;x>=0;x--)if(b=g[x],!l(d[b],f[b],y))return!1;return typeof d==typeof f}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(1),o=function(){function c(l,u,p){p===void 0&&(p={}),this.attrName=l,this.keyName=u;var h=i.Scope.TYPE&i.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&i.Scope.LEVEL|h:this.scope=i.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return c.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},c.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},c.prototype.canAdd=function(l,u){var p=i.query(l,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},c.prototype.remove=function(l){l.removeAttribute(this.keyName)},c.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},c}();a.default=o},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var i=function(){function C(O,S){var T=[],P=!0,L=!1,B=void 0;try{for(var M=O[Symbol.iterator](),I;!(P=(I=M.next()).done)&&(T.push(I.value),!(S&&T.length===S));P=!0);}catch(D){L=!0,B=D}finally{try{!P&&M.return&&M.return()}finally{if(L)throw B}}return T}return function(O,S){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return C(O,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(O,S){for(var T=0;T<S.length;T++){var P=S[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,S,T){return S&&C(O.prototype,S),T&&C(O,T),O}}(),c=function C(O,S,T){O===null&&(O=Function.prototype);var P=Object.getOwnPropertyDescriptor(O,S);if(P===void 0){var L=Object.getPrototypeOf(O);return L===null?void 0:C(L,S,T)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(T)}},l=s(2),u=m(l),p=s(0),h=m(p),d=s(4),f=m(d),y=s(6),x=m(y),b=s(7),g=m(b);function m(C){return C&&C.__esModule?C:{default:C}}function j(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function v(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:C}function w(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}var _=function(C){w(O,C);function O(){return j(this,O),v(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(x.default);_.blotName="code",_.tagName="CODE";var k=function(C){w(O,C);function O(){return j(this,O),v(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"delta",value:function(){var T=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(L,B){return L.insert(B).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,P){if(!(T===this.statics.blotName&&P)){var L=this.descendant(g.default,this.length()-1),B=i(L,1),M=B[0];M!=null&&M.deleteAt(M.length()-1,1),c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,T,P)}}},{key:"formatAt",value:function(T,P,L,B){if(P!==0&&!(h.default.query(L,h.default.Scope.BLOCK)==null||L===this.statics.blotName&&B===this.statics.formats(this.domNode))){var M=this.newlineIndex(T);if(!(M<0||M>=T+P)){var I=this.newlineIndex(T,!0)+1,D=M-I+1,V=this.isolate(I,D),z=V.next;V.format(L,B),z instanceof O&&z.formatAt(0,T-I+P-D,L,B)}}}},{key:"insertAt",value:function(T,P,L){if(L==null){var B=this.descendant(g.default,T),M=i(B,2),I=M[0],D=M[1];I.insertAt(D,P)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var L=this.domNode.textContent.slice(T).indexOf(`
`);return L>-1?T+L:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,T);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(T),P.moveChildren(this),P.remove())}},{key:"replace",value:function(T){c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var L=h.default.find(P);L==null?P.parentNode.removeChild(P):L instanceof h.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(T){var P=c(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,T);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),O}(f.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",a.Code=_,a.default=k},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(R,E){var $=[],A=!0,U=!1,H=void 0;try{for(var F=R[Symbol.iterator](),q;!(A=(q=F.next()).done)&&($.push(q.value),!(E&&$.length===E));A=!0);}catch(X){U=!0,H=X}finally{try{!A&&F.return&&F.return()}finally{if(U)throw H}}return $}return function(R,E){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return z(R,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function z(R,E){for(var $=0;$<E.length;$++){var A=E[$];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}return function(R,E,$){return E&&z(R.prototype,E),$&&z(R,$),R}}(),l=s(2),u=P(l),p=s(20),h=P(p),d=s(0),f=P(d),y=s(13),x=P(y),b=s(24),g=P(b),m=s(4),j=P(m),v=s(16),w=P(v),_=s(21),k=P(_),C=s(11),O=P(C),S=s(3),T=P(S);function P(z){return z&&z.__esModule?z:{default:z}}function L(z,R,E){return R in z?Object.defineProperty(z,R,{value:E,enumerable:!0,configurable:!0,writable:!0}):z[R]=E,z}function B(z,R){if(!(z instanceof R))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,I=function(){function z(R){B(this,z),this.scroll=R,this.delta=this.getDelta()}return c(z,[{key:"applyDelta",value:function(E){var $=this,A=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),E=V(E),E.reduce(function(H,F){var q=F.retain||F.delete||F.insert.length||1,X=F.attributes||{};if(F.insert!=null){if(typeof F.insert=="string"){var G=F.insert;G.endsWith(`
`)&&A&&(A=!1,G=G.slice(0,-1)),H>=U&&!G.endsWith(`
`)&&(A=!0),$.scroll.insertAt(H,G);var K=$.scroll.line(H),W=o(K,2),Q=W[0],ne=W[1],le=(0,T.default)({},(0,m.bubbleFormats)(Q));if(Q instanceof j.default){var pe=Q.descendant(f.default.Leaf,ne),ve=o(pe,1),te=ve[0];le=(0,T.default)(le,(0,m.bubbleFormats)(te))}X=h.default.attributes.diff(le,X)||{}}else if(i(F.insert)==="object"){var Y=Object.keys(F.insert)[0];if(Y==null)return H;$.scroll.insertAt(H,Y,F.insert[Y])}U+=q}return Object.keys(X).forEach(function(Z){$.scroll.formatAt(H,q,Z,X[Z])}),H+q},0),E.reduce(function(H,F){return typeof F.delete=="number"?($.scroll.deleteAt(H,F.delete),H):H+(F.retain||F.insert.length||1)},0),this.scroll.batchEnd(),this.update(E)}},{key:"deleteText",value:function(E,$){return this.scroll.deleteAt(E,$),this.update(new u.default().retain(E).delete($))}},{key:"formatLine",value:function(E,$){var A=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(H){if(!(A.scroll.whitelist!=null&&!A.scroll.whitelist[H])){var F=A.scroll.lines(E,Math.max($,1)),q=$;F.forEach(function(X){var G=X.length();if(!(X instanceof x.default))X.format(H,U[H]);else{var K=E-X.offset(A.scroll),W=X.newlineIndex(K+q)-K+1;X.formatAt(K,W,H,U[H])}q-=G})}}),this.scroll.optimize(),this.update(new u.default().retain(E).retain($,(0,k.default)(U)))}},{key:"formatText",value:function(E,$){var A=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(H){A.scroll.formatAt(E,$,H,U[H])}),this.update(new u.default().retain(E).retain($,(0,k.default)(U)))}},{key:"getContents",value:function(E,$){return this.delta.slice(E,E+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(E,$){return E.concat($.delta())},new u.default)}},{key:"getFormat",value:function(E){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=[],U=[];$===0?this.scroll.path(E).forEach(function(F){var q=o(F,1),X=q[0];X instanceof j.default?A.push(X):X instanceof f.default.Leaf&&U.push(X)}):(A=this.scroll.lines(E,$),U=this.scroll.descendants(f.default.Leaf,E,$));var H=[A,U].map(function(F){if(F.length===0)return{};for(var q=(0,m.bubbleFormats)(F.shift());Object.keys(q).length>0;){var X=F.shift();if(X==null)return q;q=D((0,m.bubbleFormats)(X),q)}return q});return T.default.apply(T.default,H)}},{key:"getText",value:function(E,$){return this.getContents(E,$).filter(function(A){return typeof A.insert=="string"}).map(function(A){return A.insert}).join("")}},{key:"insertEmbed",value:function(E,$,A){return this.scroll.insertAt(E,$,A),this.update(new u.default().retain(E).insert(L({},$,A)))}},{key:"insertText",value:function(E,$){var A=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(E,$),Object.keys(U).forEach(function(H){A.scroll.formatAt(E,$.length,H,U[H])}),this.update(new u.default().retain(E).insert($,(0,k.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var E=this.scroll.children.head;return E.statics.blotName!==j.default.blotName||E.children.length>1?!1:E.children.head instanceof w.default}},{key:"removeFormat",value:function(E,$){var A=this.getText(E,$),U=this.scroll.line(E+$),H=o(U,2),F=H[0],q=H[1],X=0,G=new u.default;F!=null&&(F instanceof x.default?X=F.newlineIndex(q)-q+1:X=F.length()-q,G=F.delta().slice(q,q+X-1).insert(`
`));var K=this.getContents(E,$+X),W=K.diff(new u.default().insert(A).concat(G)),Q=new u.default().retain(E).concat(W);return this.applyDelta(Q)}},{key:"update",value:function(E){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(M)&&f.default.find($[0].target)){var H=f.default.find($[0].target),F=(0,m.bubbleFormats)(H),q=H.offset(this.scroll),X=$[0].oldValue.replace(g.default.CONTENTS,""),G=new u.default().insert(X),K=new u.default().insert(H.value()),W=new u.default().retain(q).concat(G.diff(K,A));E=W.reduce(function(Q,ne){return ne.insert?Q.insert(ne.insert,F):Q.push(ne)},new u.default),this.delta=U.compose(E)}else this.delta=this.getDelta(),(!E||!(0,O.default)(U.compose(E),this.delta))&&(E=U.diff(this.delta,A));return E}}]),z}();function D(z,R){return Object.keys(R).reduce(function(E,$){return z[$]==null||(R[$]===z[$]?E[$]=R[$]:Array.isArray(R[$])?R[$].indexOf(z[$])<0&&(E[$]=R[$].concat([z[$]])):E[$]=[R[$],z[$]]),E},{})}function V(z){return z.reduce(function(R,E){if(E.insert===1){var $=(0,k.default)(E.attributes);return delete $.image,R.insert({image:E.attributes.image},$)}if(E.attributes!=null&&(E.attributes.list===!0||E.attributes.bullet===!0)&&(E=(0,k.default)(E),E.attributes.list?E.attributes.list="ordered":(E.attributes.list="bullet",delete E.attributes.bullet)),typeof E.insert=="string"){var A=E.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return R.insert(A,E.attributes)}return R.push(E)},new u.default)}a.default=I},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var i=function(){function C(O,S){var T=[],P=!0,L=!1,B=void 0;try{for(var M=O[Symbol.iterator](),I;!(P=(I=M.next()).done)&&(T.push(I.value),!(S&&T.length===S));P=!0);}catch(D){L=!0,B=D}finally{try{!P&&M.return&&M.return()}finally{if(L)throw B}}return T}return function(O,S){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return C(O,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(O,S){for(var T=0;T<S.length;T++){var P=S[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,S,T){return S&&C(O.prototype,S),T&&C(O,T),O}}(),c=s(0),l=g(c),u=s(21),p=g(u),h=s(11),d=g(h),f=s(8),y=g(f),x=s(10),b=g(x);function g(C){return C&&C.__esModule?C:{default:C}}function m(C){if(Array.isArray(C)){for(var O=0,S=Array(C.length);O<C.length;O++)S[O]=C[O];return S}else return Array.from(C)}function j(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}var v=(0,b.default)("quill:selection"),w=function C(O){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;j(this,C),this.index=O,this.length=S},_=function(){function C(O,S){var T=this;j(this,C),this.emitter=S,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(P,L){P===y.default.events.TEXT_CHANGE&&L.length()>0&&T.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var P=T.getNativeRange();P!=null&&P.start.node!==T.cursor.textNode&&T.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(P,L){if(L.range){var B=L.range,M=B.startNode,I=B.startOffset,D=B.endNode,V=B.endOffset;T.setNativeRange(M,I,D,V)}}),this.update(y.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var T=S.cursor.restore();if(!T)return;setTimeout(function(){S.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||l.default.query(S,l.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var L=l.default.find(P.start.node,!1);if(L==null)return;if(L instanceof l.default.Leaf){var B=L.split(P.start.offset);L.parent.insertBefore(this.cursor,B)}else L.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(S,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();S=Math.min(S,P-1),T=Math.min(S+T,P-1)-S;var L=void 0,B=this.scroll.leaf(S),M=i(B,2),I=M[0],D=M[1];if(I==null)return null;var V=I.position(D,!0),z=i(V,2);L=z[0],D=z[1];var R=document.createRange();if(T>0){R.setStart(L,D);var E=this.scroll.leaf(S+T),$=i(E,2);if(I=$[0],D=$[1],I==null)return null;var A=I.position(D,!0),U=i(A,2);return L=U[0],D=U[1],R.setEnd(L,D),R.getBoundingClientRect()}else{var H="left",F=void 0;return L instanceof Text?(D<L.data.length?(R.setStart(L,D),R.setEnd(L,D+1)):(R.setStart(L,D-1),R.setEnd(L,D),H="right"),F=R.getBoundingClientRect()):(F=I.domNode.getBoundingClientRect(),D>0&&(H="right")),{bottom:F.top+F.height,height:F.height,left:F[H],right:F[H],top:F.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var T=S.getRangeAt(0);if(T==null)return null;var P=this.normalizeNative(T);return v.info("getNativeRange",P),P}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var T=this.normalizedToRange(S);return[T,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var T=this,P=[[S.start.node,S.start.offset]];S.native.collapsed||P.push([S.end.node,S.end.offset]);var L=P.map(function(I){var D=i(I,2),V=D[0],z=D[1],R=l.default.find(V,!0),E=R.offset(T.scroll);return z===0?E:R instanceof l.default.Container?E+R.length():E+R.index(V,z)}),B=Math.min(Math.max.apply(Math,m(L)),this.scroll.length()-1),M=Math.min.apply(Math,[B].concat(m(L)));return new w(M,B-M)}},{key:"normalizeNative",value:function(S){if(!k(this.root,S.startContainer)||!S.collapsed&&!k(this.root,S.endContainer))return null;var T={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[T.start,T.end].forEach(function(P){for(var L=P.node,B=P.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>B)L=L.childNodes[B],B=0;else if(L.childNodes.length===B)L=L.lastChild,B=L instanceof Text?L.data.length:L.childNodes.length+1;else break;P.node=L,P.offset=B}),T}},{key:"rangeToNative",value:function(S){var T=this,P=S.collapsed?[S.index]:[S.index,S.index+S.length],L=[],B=this.scroll.length();return P.forEach(function(M,I){M=Math.min(B-1,M);var D=void 0,V=T.scroll.leaf(M),z=i(V,2),R=z[0],E=z[1],$=R.position(E,I!==0),A=i($,2);D=A[0],E=A[1],L.push(D,E)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(S){var T=this.lastRange;if(T!=null){var P=this.getBounds(T.index,T.length);if(P!=null){var L=this.scroll.length()-1,B=this.scroll.line(Math.min(T.index,L)),M=i(B,1),I=M[0],D=I;if(T.length>0){var V=this.scroll.line(Math.min(T.index+T.length,L)),z=i(V,1);D=z[0]}if(!(I==null||D==null)){var R=S.getBoundingClientRect();P.top<R.top?S.scrollTop-=R.top-P.top:P.bottom>R.bottom&&(S.scrollTop+=P.bottom-R.bottom)}}}}},{key:"setNativeRange",value:function(S,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",S,T,P,L),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||P.parentNode==null))){var M=document.getSelection();if(M!=null)if(S!=null){this.hasFocus()||this.root.focus();var I=(this.getNativeRange()||{}).native;if(I==null||B||S!==I.startContainer||T!==I.startOffset||P!==I.endContainer||L!==I.endOffset){S.tagName=="BR"&&(T=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),P.tagName=="BR"&&(L=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var D=document.createRange();D.setStart(S,T),D.setEnd(P,L),M.removeAllRanges(),M.addRange(D)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof T=="string"&&(P=T,T=!1),v.info("setRange",S),S!=null){var L=this.rangeToNative(S);this.setNativeRange.apply(this,m(L).concat([T]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,T=this.lastRange,P=this.getRange(),L=i(P,2),B=L[0],M=L[1];if(this.lastRange=B,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(T,this.lastRange)){var I;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var D=[y.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(T),S];if((I=this.emitter).emit.apply(I,[y.default.events.EDITOR_CHANGE].concat(D)),S!==y.default.sources.SILENT){var V;(V=this.emitter).emit.apply(V,D)}}}}]),C}();function k(C,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),C.contains(O)}a.Range=w,a.default=_},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function y(x,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,b,g){return b&&y(x.prototype,b),g&&y(x,g),x}}(),o=function y(x,b,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,b);if(m===void 0){var j=Object.getPrototypeOf(x);return j===null?void 0:y(j,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},c=s(0),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function d(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var f=function(y){d(x,y);function x(){return p(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"insertInto",value:function(g,m){g.children.length===0?o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),x}(l.default.Embed);f.blotName="break",f.tagName="BR",a.default=f},function(n,a,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(44),c=s(30),l=s(1),u=function(h){i(d,h);function d(f){var y=h.call(this,f)||this;return y.build(),y}return d.prototype.appendChild=function(f){this.insertBefore(f)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},d.prototype.build=function(){var f=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var x=p(y);f.insertBefore(x,f.children.head||void 0)}catch(b){if(b instanceof l.ParchmentError)return;throw b}})},d.prototype.deleteAt=function(f,y){if(f===0&&y===this.length())return this.remove();this.children.forEachAt(f,y,function(x,b,g){x.deleteAt(b,g)})},d.prototype.descendant=function(f,y){var x=this.children.find(y),b=x[0],g=x[1];return f.blotName==null&&f(b)||f.blotName!=null&&b instanceof f?[b,g]:b instanceof d?b.descendant(f,g):[null,-1]},d.prototype.descendants=function(f,y,x){y===void 0&&(y=0),x===void 0&&(x=Number.MAX_VALUE);var b=[],g=x;return this.children.forEachAt(y,x,function(m,j,v){(f.blotName==null&&f(m)||f.blotName!=null&&m instanceof f)&&b.push(m),m instanceof d&&(b=b.concat(m.descendants(f,j,g))),g-=v}),b},d.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(f,y,x,b){this.children.forEachAt(f,y,function(g,m,j){g.formatAt(m,j,x,b)})},d.prototype.insertAt=function(f,y,x){var b=this.children.find(f),g=b[0],m=b[1];if(g)g.insertAt(m,y,x);else{var j=x==null?l.create("text",y):l.create(y,x);this.appendChild(j)}},d.prototype.insertBefore=function(f,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(x){return f instanceof x}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,y)},d.prototype.length=function(){return this.children.reduce(function(f,y){return f+y.length()},0)},d.prototype.moveChildren=function(f,y){this.children.forEach(function(x){f.insertBefore(x,y)})},d.prototype.optimize=function(f){if(h.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(f)}else this.remove()},d.prototype.path=function(f,y){y===void 0&&(y=!1);var x=this.children.find(f,y),b=x[0],g=x[1],m=[[this,f]];return b instanceof d?m.concat(b.path(g,y)):(b!=null&&m.push([b,g]),m)},d.prototype.removeChild=function(f){this.children.remove(f)},d.prototype.replace=function(f){f instanceof d&&f.moveChildren(this),h.prototype.replace.call(this,f)},d.prototype.split=function(f,y){if(y===void 0&&(y=!1),!y){if(f===0)return this;if(f===this.length())return this.next}var x=this.clone();return this.parent.insertBefore(x,this.next),this.children.forEachAt(f,this.length(),function(b,g,m){b=b.split(g,y),x.appendChild(b)}),x},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(f,y){var x=this,b=[],g=[];f.forEach(function(m){m.target===x.domNode&&m.type==="childList"&&(b.push.apply(b,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var j=l.find(m);j!=null&&(j.domNode.parentNode==null||j.domNode.parentNode===x.domNode)&&j.detach()}}),b.filter(function(m){return m.parentNode==x.domNode}).sort(function(m,j){return m===j?0:m.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var j=null;m.nextSibling!=null&&(j=l.find(m.nextSibling));var v=p(m);(v.next!=j||v.next==null)&&(v.parent!=null&&v.parent.removeChild(x),x.insertBefore(v,j||void 0))})},d}(c.default);function p(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){d.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}a.default=u},function(n,a,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(12),c=s(31),l=s(17),u=s(1),p=function(h){i(d,h);function d(f){var y=h.call(this,f)||this;return y.attributes=new c.default(y.domNode),y}return d.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},d.prototype.format=function(f,y){var x=u.query(f);x instanceof o.default?this.attributes.attribute(x,y):y&&x!=null&&(f!==this.statics.blotName||this.formats()[f]!==y)&&this.replaceWith(f,y)},d.prototype.formats=function(){var f=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(f[this.statics.blotName]=y),f},d.prototype.replaceWith=function(f,y){var x=h.prototype.replaceWith.call(this,f,y);return this.attributes.copy(x),x},d.prototype.update=function(f,y){var x=this;h.prototype.update.call(this,f,y),f.some(function(b){return b.target===x.domNode&&b.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(f,y){var x=h.prototype.wrap.call(this,f,y);return x instanceof d&&x.statics.scope===this.statics.scope&&this.attributes.move(x),x},d}(l.default);a.default=p},function(n,a,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var d in h)h.hasOwnProperty(d)&&(p[d]=h[d])};return function(p,h){u(p,h);function d(){this.constructor=p}p.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(30),c=s(1),l=function(u){i(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.value=function(h){return!0},p.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},p.prototype.position=function(h,d){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(f+=1),[this.parent.domNode,f]},p.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},p.scope=c.Scope.INLINE_BLOT,p}(o.default);a.default=l},function(n,a,s){var i=s(11),o=s(3),c={attributes:{compose:function(u,p,h){typeof u!="object"&&(u={}),typeof p!="object"&&(p={});var d=o(!0,{},p);h||(d=Object.keys(d).reduce(function(y,x){return d[x]!=null&&(y[x]=d[x]),y},{}));for(var f in u)u[f]!==void 0&&p[f]===void 0&&(d[f]=u[f]);return Object.keys(d).length>0?d:void 0},diff:function(u,p){typeof u!="object"&&(u={}),typeof p!="object"&&(p={});var h=Object.keys(u).concat(Object.keys(p)).reduce(function(d,f){return i(u[f],p[f])||(d[f]=p[f]===void 0?null:p[f]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(u,p,h){if(typeof u!="object")return p;if(typeof p=="object"){if(!h)return p;var d=Object.keys(p).reduce(function(f,y){return u[y]===void 0&&(f[y]=p[y]),f},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var p=this.ops[this.index];if(p){var h=this.offset,d=c.length(p);if(u>=d-h?(u=d-h,this.index+=1,this.offset=0):this.offset+=u,typeof p.delete=="number")return{delete:u};var f={};return p.attributes&&(f.attributes=p.attributes),typeof p.retain=="number"?f.retain=u:typeof p.insert=="string"?f.insert=p.insert.substr(h,u):f.insert=p.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,p=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=p,[h].concat(d)}else return[]},n.exports=c},function(n,a){var s=function(){function i(x,b){return b!=null&&x instanceof b}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(x,b,g,m,j){typeof b=="object"&&(g=b.depth,m=b.prototype,j=b.includeNonEnumerable,b=b.circular);var v=[],w=[],_=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof g>"u"&&(g=1/0);function k(C,O){if(C===null)return null;if(O===0)return C;var S,T;if(typeof C!="object")return C;if(i(C,o))S=new o;else if(i(C,c))S=new c;else if(i(C,l))S=new l(function(R,E){C.then(function($){R(k($,O-1))},function($){E(k($,O-1))})});else if(u.__isArray(C))S=[];else if(u.__isRegExp(C))S=new RegExp(C.source,y(C)),C.lastIndex&&(S.lastIndex=C.lastIndex);else if(u.__isDate(C))S=new Date(C.getTime());else{if(_&&Buffer.isBuffer(C))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(C.length):S=new Buffer(C.length),C.copy(S),S;i(C,Error)?S=Object.create(C):typeof m>"u"?(T=Object.getPrototypeOf(C),S=Object.create(T)):(S=Object.create(m),T=m)}if(b){var P=v.indexOf(C);if(P!=-1)return w[P];v.push(C),w.push(S)}i(C,o)&&C.forEach(function(R,E){var $=k(E,O-1),A=k(R,O-1);S.set($,A)}),i(C,c)&&C.forEach(function(R){var E=k(R,O-1);S.add(E)});for(var L in C){var B;T&&(B=Object.getOwnPropertyDescriptor(T,L)),!(B&&B.set==null)&&(S[L]=k(C[L],O-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(C),L=0;L<M.length;L++){var I=M[L],D=Object.getOwnPropertyDescriptor(C,I);D&&!D.enumerable&&!j||(S[I]=k(C[I],O-1),D.enumerable||Object.defineProperty(S,I,{enumerable:!1}))}if(j)for(var V=Object.getOwnPropertyNames(C),L=0;L<V.length;L++){var z=V[L],D=Object.getOwnPropertyDescriptor(C,z);D&&D.enumerable||(S[z]=k(C[z],O-1),Object.defineProperty(S,z,{enumerable:!1}))}return S}return k(x,g)}u.clonePrototype=function(b){if(b===null)return null;var g=function(){};return g.prototype=b,new g};function p(x){return Object.prototype.toString.call(x)}u.__objToStr=p;function h(x){return typeof x=="object"&&p(x)==="[object Date]"}u.__isDate=h;function d(x){return typeof x=="object"&&p(x)==="[object Array]"}u.__isArray=d;function f(x){return typeof x=="object"&&p(x)==="[object RegExp]"}u.__isRegExp=f;function y(x){var b="";return x.global&&(b+="g"),x.ignoreCase&&(b+="i"),x.multiline&&(b+="m"),b}return u.__getRegExpFlags=y,u}();typeof n=="object"&&n.exports&&(n.exports=s)},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function S(T,P){var L=[],B=!0,M=!1,I=void 0;try{for(var D=T[Symbol.iterator](),V;!(B=(V=D.next()).done)&&(L.push(V.value),!(P&&L.length===P));B=!0);}catch(z){M=!0,I=z}finally{try{!B&&D.return&&D.return()}finally{if(M)throw I}}return L}return function(T,P){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(T,P){for(var L=0;L<P.length;L++){var B=P[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,B.key,B)}}return function(T,P,L){return P&&S(T.prototype,P),L&&S(T,L),T}}(),c=function S(T,P,L){T===null&&(T=Function.prototype);var B=Object.getOwnPropertyDescriptor(T,P);if(B===void 0){var M=Object.getPrototypeOf(T);return M===null?void 0:S(M,P,L)}else{if("value"in B)return B.value;var I=B.get;return I===void 0?void 0:I.call(L)}},l=s(0),u=v(l),p=s(8),h=v(p),d=s(4),f=v(d),y=s(16),x=v(y),b=s(13),g=v(b),m=s(25),j=v(m);function v(S){return S&&S.__esModule?S:{default:S}}function w(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function _(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function k(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}function C(S){return S instanceof f.default||S instanceof d.BlockEmbed}var O=function(S){k(T,S);function T(P,L){w(this,T);var B=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P));return B.emitter=L.emitter,Array.isArray(L.whitelist)&&(B.whitelist=L.whitelist.reduce(function(M,I){return M[I]=!0,M},{})),B.domNode.addEventListener("DOMNodeInserted",function(){}),B.optimize(),B.enable(),B}return o(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,B){var M=this.line(L),I=i(M,2),D=I[0],V=I[1],z=this.line(L+B),R=i(z,1),E=R[0];if(c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,L,B),E!=null&&D!==E&&V>0){if(D instanceof d.BlockEmbed||E instanceof d.BlockEmbed){this.optimize();return}if(D instanceof g.default){var $=D.newlineIndex(D.length(),!0);if($>-1&&(D=D.split($+1),D===E)){this.optimize();return}}else if(E instanceof g.default){var A=E.newlineIndex(0);A>-1&&E.split(A+1)}var U=E.children.head instanceof x.default?null:E.children.head;D.moveChildren(E,U),D.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,B,M,I){this.whitelist!=null&&!this.whitelist[M]||(c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,L,B,M,I),this.optimize())}},{key:"insertAt",value:function(L,B,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[B])){if(L>=this.length())if(M==null||u.default.query(B,u.default.Scope.BLOCK)==null){var I=u.default.create(this.statics.defaultChild);this.appendChild(I),M==null&&B.endsWith(`
`)&&(B=B.slice(0,-1)),I.insertAt(0,B,M)}else{var D=u.default.create(B,M);this.appendChild(D)}else c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,L,B,M);this.optimize()}}},{key:"insertBefore",value:function(L,B){if(L.statics.scope===u.default.Scope.INLINE_BLOT){var M=u.default.create(this.statics.defaultChild);M.appendChild(L),L=M}c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,L,B)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(C,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function I(D,V,z){var R=[],E=z;return D.children.forEachAt(V,z,function($,A,U){C($)?R.push($):$ instanceof u.default.Container&&(R=R.concat(I($,A,E))),E-=U}),R};return M(this,L,B)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,L,B),L.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,L,B))}},{key:"path",value:function(L){return c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var B=h.default.sources.USER;typeof L=="string"&&(B=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,B,L),c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,B,L)}}}]),T}(u.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[f.default,d.BlockEmbed,j.default],a.default=O},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(q,X){var G=[],K=!0,W=!1,Q=void 0;try{for(var ne=q[Symbol.iterator](),le;!(K=(le=ne.next()).done)&&(G.push(le.value),!(X&&G.length===X));K=!0);}catch(pe){W=!0,Q=pe}finally{try{!K&&ne.return&&ne.return()}finally{if(W)throw Q}}return G}return function(q,X){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return F(q,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function F(q,X){for(var G=0;G<X.length;G++){var K=X[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(q,K.key,K)}}return function(q,X,G){return X&&F(q.prototype,X),G&&F(q,G),q}}(),l=s(21),u=S(l),p=s(11),h=S(p),d=s(3),f=S(d),y=s(2),x=S(y),b=s(20),g=S(b),m=s(0),j=S(m),v=s(5),w=S(v),_=s(10),k=S(_),C=s(9),O=S(C);function S(F){return F&&F.__esModule?F:{default:F}}function T(F,q,X){return q in F?Object.defineProperty(F,q,{value:X,enumerable:!0,configurable:!0,writable:!0}):F[q]=X,F}function P(F,q){if(!(F instanceof q))throw new TypeError("Cannot call a class as a function")}function L(F,q){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:F}function B(F,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);F.prototype=Object.create(q&&q.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(F,q):F.__proto__=q)}var M=(0,k.default)("quill:keyboard"),I=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(F){B(q,F),c(q,null,[{key:"match",value:function(G,K){return K=H(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(W){return!!K[W]!==G[W]&&K[W]!==null})?!1:K.key===(G.which||G.keyCode)}}]);function q(X,G){P(this,q);var K=L(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,X,G));return K.bindings={},Object.keys(K.options.bindings).forEach(function(W){W==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||K.options.bindings[W]&&K.addBinding(K.options.bindings[W])}),K.addBinding({key:q.keys.ENTER,shiftKey:null},$),K.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},z),K.addBinding({key:q.keys.DELETE},{collapsed:!0},R)):(K.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),K.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},R)),K.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},E),K.addBinding({key:q.keys.DELETE},{collapsed:!1},E),K.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),K.listen(),K}return c(q,[{key:"addBinding",value:function(G){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=H(G);if(Q==null||Q.key==null)return M.warn("Attempted to add invalid keyboard binding",Q);typeof K=="function"&&(K={handler:K}),typeof W=="function"&&(W={handler:W}),Q=(0,f.default)(Q,K,W),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var W=K.which||K.keyCode,Q=(G.bindings[W]||[]).filter(function(ge){return q.match(K,ge)});if(Q.length!==0){var ne=G.quill.getSelection();if(!(ne==null||!G.quill.hasFocus())){var le=G.quill.getLine(ne.index),pe=o(le,2),ve=pe[0],te=pe[1],Y=G.quill.getLeaf(ne.index),Z=o(Y,2),J=Z[0],se=Z[1],ae=ne.length===0?[J,se]:G.quill.getLeaf(ne.index+ne.length),me=o(ae,2),ce=me[0],ye=me[1],pt=J instanceof j.default.Text?J.value().slice(0,se):"",re=ce instanceof j.default.Text?ce.value().slice(ye):"",fe={collapsed:ne.length===0,empty:ne.length===0&&ve.length()<=1,format:G.quill.getFormat(ne),offset:te,prefix:pt,suffix:re},Ne=Q.some(function(ge){if(ge.collapsed!=null&&ge.collapsed!==fe.collapsed||ge.empty!=null&&ge.empty!==fe.empty||ge.offset!=null&&ge.offset!==fe.offset)return!1;if(Array.isArray(ge.format)){if(ge.format.every(function(we){return fe.format[we]==null}))return!1}else if(i(ge.format)==="object"&&!Object.keys(ge.format).every(function(we){return ge.format[we]===!0?fe.format[we]!=null:ge.format[we]===!1?fe.format[we]==null:(0,h.default)(ge.format[we],fe.format[we])}))return!1;return ge.prefix!=null&&!ge.prefix.test(fe.prefix)||ge.suffix!=null&&!ge.suffix.test(fe.suffix)?!1:ge.handler.call(G,ne,fe)!==!0});Ne&&K.preventDefault()}}}})}}]),q}(O.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(q,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,X){X.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":A(!0),"outdent code-block":A(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,w.default.sources.USER)}},tab:{key:D.keys.TAB,handler:function(q){this.quill.history.cutoff();var X=new x.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(X,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,w.default.sources.SILENT)}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,X){this.quill.format("list",!1,w.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var X=this.quill.getLine(q.index),G=o(X,2),K=G[0],W=G[1],Q=(0,f.default)({},K.formats(),{list:"checked"}),ne=new x.default().retain(q.index).insert(`
`,Q).retain(K.length()-W-1).retain(1,{list:"unchecked"});this.quill.updateContents(ne,w.default.sources.USER),this.quill.setSelection(q.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,X){var G=this.quill.getLine(q.index),K=o(G,2),W=K[0],Q=K[1],ne=new x.default().retain(q.index).insert(`
`,X.format).retain(W.length()-Q-1).retain(1,{header:null});this.quill.updateContents(ne,w.default.sources.USER),this.quill.setSelection(q.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,X){var G=X.prefix.length,K=this.quill.getLine(q.index),W=o(K,2),Q=W[0],ne=W[1];if(ne>G)return!0;var le=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(q.index," ",w.default.sources.USER),this.quill.history.cutoff();var pe=new x.default().retain(q.index-ne).delete(G+1).retain(Q.length()-2-ne).retain(1,{list:le});this.quill.updateContents(pe,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-G,w.default.sources.SILENT)}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var X=this.quill.getLine(q.index),G=o(X,2),K=G[0],W=G[1],Q=new x.default().retain(q.index+K.length()-W-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,w.default.sources.USER)}},"embed left":V(D.keys.LEFT,!1),"embed left shift":V(D.keys.LEFT,!0),"embed right":V(D.keys.RIGHT,!1),"embed right shift":V(D.keys.RIGHT,!0)}};function V(F,q){var X,G=F===D.keys.LEFT?"prefix":"suffix";return X={key:F,shiftKey:q,altKey:null},T(X,G,/^$/),T(X,"handler",function(W){var Q=W.index;F===D.keys.RIGHT&&(Q+=W.length+1);var ne=this.quill.getLeaf(Q),le=o(ne,1),pe=le[0];return pe instanceof j.default.Embed?(F===D.keys.LEFT?q?this.quill.setSelection(W.index-1,W.length+1,w.default.sources.USER):this.quill.setSelection(W.index-1,w.default.sources.USER):q?this.quill.setSelection(W.index,W.length+1,w.default.sources.USER):this.quill.setSelection(W.index+W.length+1,w.default.sources.USER),!1):!0}),X}function z(F,q){if(!(F.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(F.index),G=o(X,1),K=G[0],W={};if(q.offset===0){var Q=this.quill.getLine(F.index-1),ne=o(Q,1),le=ne[0];if(le!=null&&le.length()>1){var pe=K.formats(),ve=this.quill.getFormat(F.index-1,1);W=g.default.attributes.diff(pe,ve)||{}}}var te=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(F.index-te,te,w.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(F.index-te,te,W,w.default.sources.USER),this.quill.focus()}}function R(F,q){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(F.index>=this.quill.getLength()-X)){var G={},K=0,W=this.quill.getLine(F.index),Q=o(W,1),ne=Q[0];if(q.offset>=ne.length()-1){var le=this.quill.getLine(F.index+1),pe=o(le,1),ve=pe[0];if(ve){var te=ne.formats(),Y=this.quill.getFormat(F.index,1);G=g.default.attributes.diff(te,Y)||{},K=ve.length()}}this.quill.deleteText(F.index,X,w.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(F.index+K-1,X,G,w.default.sources.USER)}}function E(F){var q=this.quill.getLines(F),X={};if(q.length>1){var G=q[0].formats(),K=q[q.length-1].formats();X=g.default.attributes.diff(K,G)||{}}this.quill.deleteText(F,w.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(F.index,1,X,w.default.sources.USER),this.quill.setSelection(F.index,w.default.sources.SILENT),this.quill.focus()}function $(F,q){var X=this;F.length>0&&this.quill.scroll.deleteAt(F.index,F.length);var G=Object.keys(q.format).reduce(function(K,W){return j.default.query(W,j.default.Scope.BLOCK)&&!Array.isArray(q.format[W])&&(K[W]=q.format[W]),K},{});this.quill.insertText(F.index,`
`,G,w.default.sources.USER),this.quill.setSelection(F.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(K){G[K]==null&&(Array.isArray(q.format[K])||K!=="link"&&X.quill.format(K,q.format[K],w.default.sources.USER))})}function A(F){return{key:D.keys.TAB,shiftKey:!F,format:{"code-block":!0},handler:function(X){var G=j.default.query("code-block"),K=X.index,W=X.length,Q=this.quill.scroll.descendant(G,K),ne=o(Q,2),le=ne[0],pe=ne[1];if(le!=null){var ve=this.quill.getIndex(le),te=le.newlineIndex(pe,!0)+1,Y=le.newlineIndex(ve+pe+W),Z=le.domNode.textContent.slice(te,Y).split(`
`);pe=0,Z.forEach(function(J,se){F?(le.insertAt(te+pe,G.TAB),pe+=G.TAB.length,se===0?K+=G.TAB.length:W+=G.TAB.length):J.startsWith(G.TAB)&&(le.deleteAt(te+pe,G.TAB.length),pe-=G.TAB.length,se===0?K-=G.TAB.length:W-=G.TAB.length),pe+=J.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(K,W,w.default.sources.SILENT)}}}}function U(F){return{key:F[0].toUpperCase(),shortKey:!0,handler:function(X,G){this.quill.format(F,!G.format[F],w.default.sources.USER)}}}function H(F){if(typeof F=="string"||typeof F=="number")return H({key:F});if((typeof F>"u"?"undefined":i(F))==="object"&&(F=(0,u.default)(F,!1)),typeof F.key=="string")if(D.keys[F.key.toUpperCase()]!=null)F.key=D.keys[F.key.toUpperCase()];else if(F.key.length===1)F.key=F.key.toUpperCase().charCodeAt(0);else return null;return F.shortKey&&(F[I]=F.shortKey,delete F.shortKey),F}a.default=D,a.SHORTKEY=I},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function g(m,j){var v=[],w=!0,_=!1,k=void 0;try{for(var C=m[Symbol.iterator](),O;!(w=(O=C.next()).done)&&(v.push(O.value),!(j&&v.length===j));w=!0);}catch(S){_=!0,k=S}finally{try{!w&&C.return&&C.return()}finally{if(_)throw k}}return v}return function(m,j){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(m,j,v){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,j);if(w===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:g(_,j,v)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(v)}},c=function(){function g(m,j){for(var v=0;v<j.length;v++){var w=j[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,j,v){return j&&g(m.prototype,j),v&&g(m,v),m}}(),l=s(0),u=d(l),p=s(7),h=d(p);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function y(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function x(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var b=function(g){x(m,g),c(m,null,[{key:"value",value:function(){}}]);function m(j,v){f(this,m);var w=y(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,j));return w.selection=v,w.textNode=document.createTextNode(m.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return c(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,w){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,w);for(var _=this,k=0;_!=null&&_.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=_.offset(_.parent),_=_.parent;_!=null&&(this._length=m.CONTENTS.length,_.optimize(),_.formatAt(k,m.CONTENTS.length,v,w),this._length=0)}},{key:"index",value:function(v,w){return v===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,v,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,w=this.selection.getNativeRange(),_=void 0,k=void 0,C=void 0;if(w!=null&&w.start.node===v&&w.end.node===v){var O=[v,w.start.offset,w.end.offset];_=O[0],k=O[1],C=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var S=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(_=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=m.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var T=[k,C].map(function(L){return Math.max(0,Math.min(_.data.length,L-1))}),P=i(T,2);return k=P[0],C=P[1],{startNode:_,startOffset:k,endNode:_,endOffset:C}}}}},{key:"update",value:function(v,w){var _=this;if(v.some(function(C){return C.type==="characterData"&&C.target===_.textNode})){var k=this.restore();k&&(w.range=k)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",a.default=b},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(0),o=u(i),c=s(4),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function d(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var f=function(y){d(x,y);function x(){return p(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(o.default.Container);f.allowedChildren=[l.default,c.BlockEmbed,f],a.default=f},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var i=function(){function b(g,m){for(var j=0;j<m.length;j++){var v=m[j];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,j){return m&&b(g.prototype,m),j&&b(g,j),g}}(),o=function b(g,m,j){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:b(w,m,j)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(j)}},c=s(0),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function p(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function h(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function d(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var f=function(b){d(g,b);function g(){return p(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"value",value:function(j){var v=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,j);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):v}}]),g}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),x=new f("color","color",{scope:l.default.Scope.INLINE});a.ColorAttributor=f,a.ColorClass=y,a.ColorStyle=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var i=function(){function x(b,g){for(var m=0;m<g.length;m++){var j=g[m];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,g,m){return g&&x(b.prototype,g),m&&x(b,m),b}}(),o=function x(b,g,m){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,g);if(j===void 0){var v=Object.getPrototypeOf(b);return v===null?void 0:x(v,g,m)}else{if("value"in j)return j.value;var w=j.get;return w===void 0?void 0:w.call(m)}},c=s(6),l=u(c);function u(x){return x&&x.__esModule?x:{default:x}}function p(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function h(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function d(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var f=function(x){d(b,x);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(m,j){if(m!==this.statics.blotName||!j)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,m,j);j=this.constructor.sanitize(j),this.domNode.setAttribute("href",j)}}],[{key:"create",value:function(m){var j=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,m);return m=this.sanitize(m),j.setAttribute("href",m),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return y(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),b}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(x,b){var g=document.createElement("a");g.href=x;var m=g.href.slice(0,g.href.indexOf(":"));return b.indexOf(m)>-1}a.default=f,a.sanitize=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(g,m){for(var j=0;j<m.length;j++){var v=m[j];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,j){return m&&b(g.prototype,m),j&&b(g,j),g}}(),c=s(23),l=h(c),u=s(107),p=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}var f=0;function y(b,g){b.setAttribute(g,b.getAttribute(g)!=="true")}var x=function(){function b(g){var m=this;d(this,b),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(j){switch(j.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),j.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var j=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),m.hasAttribute("value")&&v.setAttribute("data-value",m.getAttribute("value")),m.textContent&&v.setAttribute("data-label",m.textContent),v.addEventListener("click",function(){j.selectItem(v,!0)}),v.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:j.selectItem(v,!0),w.preventDefault();break;case l.default.keys.ESCAPE:j.escape(),w.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=p.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,j=document.createElement("span");j.classList.add("ql-picker-options"),j.setAttribute("aria-hidden","true"),j.tabIndex="-1",j.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",j.id),this.options=j,[].slice.call(this.select.options).forEach(function(v){var w=m.buildItem(v);j.appendChild(w),v.selected===!0&&m.selectItem(w)}),this.container.appendChild(j)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(j){m.container.setAttribute(j.name,j.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(m!==v&&(v!=null&&v.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),j))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);var v=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),b}();a.default=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(0),o=M(i),c=s(5),l=M(c),u=s(4),p=M(u),h=s(16),d=M(h),f=s(25),y=M(f),x=s(24),b=M(x),g=s(35),m=M(g),j=s(6),v=M(j),w=s(22),_=M(w),k=s(7),C=M(k),O=s(55),S=M(O),T=s(42),P=M(T),L=s(23),B=M(L);function M(I){return I&&I.__esModule?I:{default:I}}l.default.register({"blots/block":p.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":y.default,"blots/cursor":b.default,"blots/embed":m.default,"blots/inline":v.default,"blots/scroll":_.default,"blots/text":C.default,"modules/clipboard":S.default,"modules/history":P.default,"modules/keyboard":B.default}),o.default.register(p.default,d.default,b.default,v.default,_.default,C.default),a.default=l.default},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(1),o=function(){function c(l){this.domNode=l,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(l){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return i.create(l)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},c.prototype.deleteAt=function(l,u){var p=this.isolate(l,u);p.remove()},c.prototype.formatAt=function(l,u,p,h){var d=this.isolate(l,u);if(i.query(p,i.Scope.BLOT)!=null&&h)d.wrap(p,h);else if(i.query(p,i.Scope.ATTRIBUTE)!=null){var f=i.create(this.statics.scope);d.wrap(f),f.format(p,h)}},c.prototype.insertAt=function(l,u,p){var h=p==null?i.create("text",u):i.create(u,p),d=this.split(l);this.parent.insertBefore(h,d)},c.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var p=null;l.children.insertBefore(this,u),u!=null&&(p=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=p)&&l.domNode.insertBefore(this.domNode,p),this.parent=l,this.attach()},c.prototype.isolate=function(l,u){var p=this.split(l);return p.split(u),p},c.prototype.length=function(){return 1},c.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},c.prototype.optimize=function(l){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},c.prototype.replaceWith=function(l,u){var p=typeof l=="string"?i.create(l,u):l;return p.replace(this),p},c.prototype.split=function(l,u){return l===0?this:this.next},c.prototype.update=function(l,u){},c.prototype.wrap=function(l,u){var p=typeof l=="string"?i.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},c.blotName="abstract",c}();a.default=o},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(12),o=s(32),c=s(33),l=s(1),u=function(){function p(h){this.attributes={},this.domNode=h,this.build()}return p.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},p.prototype.build=function(){var h=this;this.attributes={};var d=i.default.keys(this.domNode),f=o.default.keys(this.domNode),y=c.default.keys(this.domNode);d.concat(f).concat(y).forEach(function(x){var b=l.query(x,l.Scope.ATTRIBUTE);b instanceof i.default&&(h.attributes[b.attrName]=b)})},p.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(f){var y=d.attributes[f].value(d.domNode);h.format(f,y)})},p.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(f){d.attributes[f].remove(d.domNode)}),this.attributes={}},p.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,f){return d[f]=h.attributes[f].value(h.domNode),d},{})},p}();a.default=u},function(n,a,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var d in h)h.hasOwnProperty(d)&&(p[d]=h[d])};return function(p,h){u(p,h);function d(){this.constructor=p}p.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(12);function c(u,p){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(p+"-")===0})}var l=function(u){i(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},p.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},p.prototype.remove=function(h){var d=c(h,this.keyName);d.forEach(function(f){h.classList.remove(f)}),h.classList.length===0&&h.removeAttribute("class")},p.prototype.value=function(h){var d=c(h,this.keyName)[0]||"",f=d.slice(this.keyName.length+1);return this.canAdd(h,f)?f:""},p}(o.default);a.default=l},function(n,a,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var d in h)h.hasOwnProperty(d)&&(p[d]=h[d])};return function(p,h){u(p,h);function d(){this.constructor=p}p.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(12);function c(u){var p=u.split("-"),h=p.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return p[0]+h}var l=function(u){i(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var f=d.split(":");return f[0].trim()})},p.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[c(this.keyName)]=d,!0):!1},p.prototype.remove=function(h){h.style[c(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},p.prototype.value=function(h){var d=h.style[c(this.keyName)];return this.canAdd(h,d)?d:""},p}(o.default);a.default=l},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function l(u,p){for(var h=0;h<p.length;h++){var d=p[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,p,h){return p&&l(u.prototype,p),h&&l(u,h),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,p){o(this,l),this.quill=u,this.options=p,this.modules={}}return i(l,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(h){p.modules[h]==null&&p.addModule(h)})}},{key:"addModule",value:function(p){var h=this.quill.constructor.import("modules/"+p);return this.modules[p]=new h(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),l}();c.DEFAULTS={modules:{}},c.themes={default:c},a.default=c},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function g(m,j){for(var v=0;v<j.length;v++){var w=j[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,j,v){return j&&g(m.prototype,j),v&&g(m,v),m}}(),o=function g(m,j,v){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,j);if(w===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:g(_,j,v)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(v)}},c=s(0),l=h(c),u=s(7),p=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function d(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function f(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function y(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var x="\uFEFF",b=function(g){y(m,g);function m(j){d(this,m);var v=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,j));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(w){v.contentNode.appendChild(w)}),v.leftGuard=document.createTextNode(x),v.rightGuard=document.createTextNode(x),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return i(m,[{key:"index",value:function(v,w){return v===this.leftGuard?0:v===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,v,w)}},{key:"restore",value:function(v){var w=void 0,_=void 0,k=v.data.split(x).join("");if(v===this.leftGuard)if(this.prev instanceof p.default){var C=this.prev.length();this.prev.insertAt(C,k),w={startNode:this.prev.domNode,startOffset:C+k.length}}else _=document.createTextNode(k),this.parent.insertBefore(l.default.create(_),this),w={startNode:_,startOffset:k.length};else v===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,k),w={startNode:this.next.domNode,startOffset:k.length}):(_=document.createTextNode(k),this.parent.insertBefore(l.default.create(_),this.next),w={startNode:_,startOffset:k.length}));return v.data=x,w}},{key:"update",value:function(v,w){var _=this;v.forEach(function(k){if(k.type==="characterData"&&(k.target===_.leftGuard||k.target===_.rightGuard)){var C=_.restore(k.target);C&&(w.range=C)}})}}]),m}(l.default.Embed);a.default=b},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var i=s(0),o=c(i);function c(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),p=new o.default.Attributor.Class("align","ql-align",l),h=new o.default.Attributor.Style("align","text-align",l);a.AlignAttribute=u,a.AlignClass=p,a.AlignStyle=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var i=s(0),o=l(i),c=s(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),p=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});a.BackgroundClass=u,a.BackgroundStyle=p},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var i=s(0),o=c(i);function c(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),p=new o.default.Attributor.Class("direction","ql-direction",l),h=new o.default.Attributor.Style("direction","direction",l);a.DirectionAttribute=u,a.DirectionClass=p,a.DirectionStyle=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var i=function(){function g(m,j){for(var v=0;v<j.length;v++){var w=j[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,j,v){return j&&g(m.prototype,j),v&&g(m,v),m}}(),o=function g(m,j,v){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,j);if(w===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:g(_,j,v)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(v)}},c=s(0),l=u(c);function u(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function h(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function d(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",f),x=function(g){d(m,g);function m(){return p(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"value",value:function(v){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),b=new x("font","font-family",f);a.FontStyle=b,a.FontClass=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var i=s(0),o=c(i);function c(p){return p&&p.__esModule?p:{default:p}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=l,a.SizeStyle=u},function(n,a,s){n.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var i=function(){function j(v,w){for(var _=0;_<w.length;_++){var k=w[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,w,_){return w&&j(v.prototype,w),_&&j(v,_),v}}(),o=s(0),c=d(o),l=s(5),u=d(l),p=s(9),h=d(p);function d(j){return j&&j.__esModule?j:{default:j}}function f(j,v){if(!(j instanceof v))throw new TypeError("Cannot call a class as a function")}function y(j,v){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:j}function x(j,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);j.prototype=Object.create(v&&v.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(j,v):j.__proto__=v)}var b=function(j){x(v,j);function v(w,_){f(this,v);var k=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,_));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(C,O,S,T){C!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||T===u.default.sources.USER?k.record(O,S):k.transform(O))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return i(v,[{key:"change",value:function(_,k){if(this.stack[_].length!==0){var C=this.stack[_].pop();this.stack[k].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[_],u.default.sources.USER),this.ignoreChange=!1;var O=m(C[_]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(_,k){if(_.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(k),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var S=this.stack.undo.pop();C=C.compose(S.undo),_=S.redo.compose(_)}else this.lastRecorded=O;this.stack.undo.push({redo:_,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(_){this.stack.undo.forEach(function(k){k.undo=_.transform(k.undo,!0),k.redo=_.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=_.transform(k.undo,!0),k.redo=_.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(j){var v=j.ops[j.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(w){return c.default.query(w,c.default.Scope.BLOCK)!=null}):!1}function m(j){var v=j.reduce(function(_,k){return _+=k.delete||0,_},0),w=j.length()-v;return g(j)&&(w-=1),w}a.default=b,a.getLastChangeIndex=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var i=function(){function $(A,U){for(var H=0;H<U.length;H++){var F=U[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,U,H){return U&&$(A.prototype,U),H&&$(A,H),A}}(),o=function $(A,U,H){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,U);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:$(q,U,H)}else{if("value"in F)return F.value;var X=F.get;return X===void 0?void 0:X.call(H)}},c=s(3),l=O(c),u=s(2),p=O(u),h=s(8),d=O(h),f=s(23),y=O(f),x=s(34),b=O(x),g=s(59),m=O(g),j=s(60),v=O(j),w=s(28),_=O(w),k=s(61),C=O(k);function O($){return $&&$.__esModule?$:{default:$}}function S($,A){if(!($ instanceof A))throw new TypeError("Cannot call a class as a function")}function T($,A){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:$}function P($,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);$.prototype=Object.create(A&&A.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf($,A):$.__proto__=A)}var L=[!1,"center","right","justify"],B=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],I=["1","2","3",!1],D=["small",!1,"large","huge"],V=function($){P(A,$);function A(U,H){S(this,A);var F=T(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,U,H)),q=function X(G){if(!document.body.contains(U.root))return document.body.removeEventListener("click",X);F.tooltip!=null&&!F.tooltip.root.contains(G.target)&&document.activeElement!==F.tooltip.textbox&&!F.quill.hasFocus()&&F.tooltip.hide(),F.pickers!=null&&F.pickers.forEach(function(K){K.container.contains(G.target)||K.close()})};return U.emitter.listenDOM("click",document.body,q),F}return i(A,[{key:"addModule",value:function(H){var F=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(H,F){H.forEach(function(q){var X=q.getAttribute("class")||"";X.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),F[G]!=null))if(G==="direction")q.innerHTML=F[G][""]+F[G].rtl;else if(typeof F[G]=="string")q.innerHTML=F[G];else{var K=q.value||"";K!=null&&F[G][K]&&(q.innerHTML=F[G][K])}})})}},{key:"buildPickers",value:function(H,F){var q=this;this.pickers=H.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&E(G,L),new v.default(G,F.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var K=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&E(G,B,K==="background"?"#ffffff":"#000000"),new m.default(G,F[K])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?E(G,M):G.classList.contains("ql-header")?E(G,I):G.classList.contains("ql-size")&&E(G,D)),new _.default(G)});var X=function(){q.pickers.forEach(function(K){K.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,X)}}]),A}(b.default);V.DEFAULTS=(0,l.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var A=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var H=new FileReader;H.onload=function(F){var q=A.quill.getSelection(!0);A.quill.updateContents(new p.default().retain(q.index).delete(q.length).insert({image:F.target.result}),d.default.sources.USER),A.quill.setSelection(q.index+1,d.default.sources.SILENT),U.value=""},H.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function($){P(A,$);function A(U,H){S(this,A);var F=T(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,U,H));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return i(A,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(F){y.default.match(F,"enter")?(H.save(),F.preventDefault()):y.default.match(F,"escape")&&(H.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),F!=null?this.textbox.value=F:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var F=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,d.default.sources.USER)),this.quill.root.scrollTop=F;break}case"video":H=R(H);case"formula":{if(!H)break;var q=this.quill.getSelection(!0);if(q!=null){var X=q.index+q.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),H,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",d.default.sources.USER),this.quill.setSelection(X+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),A}(C.default);function R($){var A=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return A?(A[1]||"https")+"://www.youtube.com/embed/"+A[2]+"?showinfo=0":(A=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(A[1]||"https")+"://player.vimeo.com/video/"+A[2]+"/":$}function E($,A){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;A.forEach(function(H){var F=document.createElement("option");H===U?F.setAttribute("selected","selected"):F.setAttribute("value",H),$.appendChild(F)})}a.BaseTooltip=z,a.default=V},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var l,u=this.iterator();l=u();)if(l===c)return!0;return!1},o.prototype.insertBefore=function(c,l){c&&(c.next=l,l!=null?(c.prev=l.prev,l.prev!=null&&(l.prev.next=c),l.prev=c,l===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var l=0,u=this.head;u!=null;){if(u===c)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var l=c;return c!=null&&(c=c.next),l}},o.prototype.find=function(c,l){l===void 0&&(l=!1);for(var u,p=this.iterator();u=p();){var h=u.length();if(c<h||l&&c===h&&(u.next==null||u.next.length()!==0))return[u,c];c-=h}return[null,0]},o.prototype.forEach=function(c){for(var l,u=this.iterator();l=u();)c(l)},o.prototype.forEachAt=function(c,l,u){if(!(l<=0))for(var p=this.find(c),h=p[0],d=p[1],f,y=c-d,x=this.iterator(h);(f=x())&&y<c+l;){var b=f.length();c>y?u(f,c-y,Math.min(l,y+b-c)):u(f,0,Math.min(b,c+l-y)),y+=b}},o.prototype.map=function(c){return this.reduce(function(l,u){return l.push(c(u)),l},[])},o.prototype.reduce=function(c,l){for(var u,p=this.iterator();u=p();)l=c(l,u);return l},o}();a.default=i},function(n,a,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(17),c=s(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,p=function(h){i(d,h);function d(f){var y=h.call(this,f)||this;return y.scroll=y,y.observer=new MutationObserver(function(x){y.update(x)}),y.observer.observe(y.domNode,l),y.attach(),y}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(f,y){this.update(),f===0&&y===this.length()?this.children.forEach(function(x){x.remove()}):h.prototype.deleteAt.call(this,f,y)},d.prototype.formatAt=function(f,y,x,b){this.update(),h.prototype.formatAt.call(this,f,y,x,b)},d.prototype.insertAt=function(f,y,x){this.update(),h.prototype.insertAt.call(this,f,y,x)},d.prototype.optimize=function(f,y){var x=this;f===void 0&&(f=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)f.push(b.pop());for(var g=function(w,_){_===void 0&&(_=!0),!(w==null||w===x)&&w.domNode.parentNode!=null&&(w.domNode[c.DATA_KEY].mutations==null&&(w.domNode[c.DATA_KEY].mutations=[]),_&&g(w.parent))},m=function(w){w.domNode[c.DATA_KEY]==null||w.domNode[c.DATA_KEY].mutations==null||(w instanceof o.default&&w.children.forEach(m),w.optimize(y))},j=f,v=0;j.length>0;v+=1){if(v>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(w){var _=c.find(w.target,!0);_!=null&&(_.domNode===w.target&&(w.type==="childList"?(g(c.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(k){var C=c.find(k,!1);g(C,!1),C instanceof o.default&&C.children.forEach(function(O){g(O,!1)})})):w.type==="attributes"&&g(_.prev)),g(_))}),this.children.forEach(m),j=[].slice.call(this.observer.takeRecords()),b=j.slice();b.length>0;)f.push(b.pop())}},d.prototype.update=function(f,y){var x=this;y===void 0&&(y={}),f=f||this.observer.takeRecords(),f.map(function(b){var g=c.find(b.target,!0);return g==null?null:g.domNode[c.DATA_KEY].mutations==null?(g.domNode[c.DATA_KEY].mutations=[b],g):(g.domNode[c.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===x||b.domNode[c.DATA_KEY]==null||b.update(b.domNode[c.DATA_KEY].mutations||[],y)}),this.domNode[c.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,y),this.optimize(f,y)},d.blotName="scroll",d.defaultChild="block",d.scope=c.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);a.default=p},function(n,a,s){var i=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){p(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(18),c=s(1);function l(p,h){if(Object.keys(p).length!==Object.keys(h).length)return!1;for(var d in p)if(p[d]!==h[d])return!1;return!0}var u=function(p){i(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return p.formats.call(this,d)},h.prototype.format=function(d,f){var y=this;d===this.statics.blotName&&!f?(this.children.forEach(function(x){x instanceof o.default||(x=x.wrap(h.blotName,!0)),y.attributes.copy(x)}),this.unwrap()):p.prototype.format.call(this,d,f)},h.prototype.formatAt=function(d,f,y,x){if(this.formats()[y]!=null||c.query(y,c.Scope.ATTRIBUTE)){var b=this.isolate(d,f);b.format(y,x)}else p.prototype.formatAt.call(this,d,f,y,x)},h.prototype.optimize=function(d){p.prototype.optimize.call(this,d);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&l(f,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=c.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);a.default=u},function(n,a,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var d in h)h.hasOwnProperty(d)&&(p[d]=h[d])};return function(p,h){u(p,h);function d(){this.constructor=p}p.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(18),c=s(1),l=function(u){i(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.formats=function(h){var d=c.query(p.blotName).tagName;if(h.tagName!==d)return u.formats.call(this,h)},p.prototype.format=function(h,d){c.query(h,c.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(p.blotName):u.prototype.format.call(this,h,d))},p.prototype.formatAt=function(h,d,f,y){c.query(f,c.Scope.BLOCK)!=null?this.format(f,y):u.prototype.formatAt.call(this,h,d,f,y)},p.prototype.insertAt=function(h,d,f){if(f==null||c.query(d,c.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,d,f);else{var y=this.split(h),x=c.create(d,f);y.parent.insertBefore(x,y)}},p.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,d)},p.blotName="block",p.scope=c.Scope.BLOCK_BLOT,p.tagName="P",p}(o.default);a.default=l},function(n,a,s){var i=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)p.hasOwnProperty(h)&&(u[h]=p[h])};return function(u,p){l(u,p);function h(){this.constructor=u}u.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(19),c=function(l){i(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(p){},u.prototype.format=function(p,h){l.prototype.formatAt.call(this,0,this.length(),p,h)},u.prototype.formatAt=function(p,h,d,f){p===0&&h===this.length()?this.format(d,f):l.prototype.formatAt.call(this,p,h,d,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);a.default=c},function(n,a,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var d in h)h.hasOwnProperty(d)&&(p[d]=h[d])};return function(p,h){u(p,h);function d(){this.constructor=p}p.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});var o=s(19),c=s(1),l=function(u){i(p,u);function p(h){var d=u.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return p.create=function(h){return document.createTextNode(h)},p.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},p.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},p.prototype.index=function(h,d){return this.domNode===h?d:-1},p.prototype.insertAt=function(h,d,f){f==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,d,f)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(h,d){return[this.domNode,h]},p.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var f=c.create(this.domNode.splitText(h));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},p.prototype.update=function(h,d){var f=this;h.some(function(y){return y.type==="characterData"&&y.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=c.Scope.INLINE_BLOT,p}(o.default);a.default=l},function(n,a,s){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,l){return arguments.length>1&&!this.contains(c)==!l?l:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,l){return l=l||0,this.substr(l,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=c.length;var p=u.indexOf(c,l);return p!==-1&&p===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),p=u.length>>>0,h=arguments[1],d,f=0;f<p;f++)if(d=u[f],l.call(h,d,f,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,a){var s=-1,i=1,o=0;function c(v,w,_){if(v==w)return v?[[o,v]]:[];(_<0||v.length<_)&&(_=null);var k=h(v,w),C=v.substring(0,k);v=v.substring(k),w=w.substring(k),k=d(v,w);var O=v.substring(v.length-k);v=v.substring(0,v.length-k),w=w.substring(0,w.length-k);var S=l(v,w);return C&&S.unshift([o,C]),O&&S.push([o,O]),y(S),_!=null&&(S=g(S,_)),S=m(S),S}function l(v,w){var _;if(!v)return[[i,w]];if(!w)return[[s,v]];var k=v.length>w.length?v:w,C=v.length>w.length?w:v,O=k.indexOf(C);if(O!=-1)return _=[[i,k.substring(0,O)],[o,C],[i,k.substring(O+C.length)]],v.length>w.length&&(_[0][0]=_[2][0]=s),_;if(C.length==1)return[[s,v],[i,w]];var S=f(v,w);if(S){var T=S[0],P=S[1],L=S[2],B=S[3],M=S[4],I=c(T,L),D=c(P,B);return I.concat([[o,M]],D)}return u(v,w)}function u(v,w){for(var _=v.length,k=w.length,C=Math.ceil((_+k)/2),O=C,S=2*C,T=new Array(S),P=new Array(S),L=0;L<S;L++)T[L]=-1,P[L]=-1;T[O+1]=0,P[O+1]=0;for(var B=_-k,M=B%2!=0,I=0,D=0,V=0,z=0,R=0;R<C;R++){for(var E=-R+I;E<=R-D;E+=2){var $=O+E,A;E==-R||E!=R&&T[$-1]<T[$+1]?A=T[$+1]:A=T[$-1]+1;for(var U=A-E;A<_&&U<k&&v.charAt(A)==w.charAt(U);)A++,U++;if(T[$]=A,A>_)D+=2;else if(U>k)I+=2;else if(M){var H=O+B-E;if(H>=0&&H<S&&P[H]!=-1){var F=_-P[H];if(A>=F)return p(v,w,A,U)}}}for(var q=-R+V;q<=R-z;q+=2){var H=O+q,F;q==-R||q!=R&&P[H-1]<P[H+1]?F=P[H+1]:F=P[H-1]+1;for(var X=F-q;F<_&&X<k&&v.charAt(_-F-1)==w.charAt(k-X-1);)F++,X++;if(P[H]=F,F>_)z+=2;else if(X>k)V+=2;else if(!M){var $=O+B-q;if($>=0&&$<S&&T[$]!=-1){var A=T[$],U=O+A-$;if(F=_-F,A>=F)return p(v,w,A,U)}}}}return[[s,v],[i,w]]}function p(v,w,_,k){var C=v.substring(0,_),O=w.substring(0,k),S=v.substring(_),T=w.substring(k),P=c(C,O),L=c(S,T);return P.concat(L)}function h(v,w){if(!v||!w||v.charAt(0)!=w.charAt(0))return 0;for(var _=0,k=Math.min(v.length,w.length),C=k,O=0;_<C;)v.substring(O,C)==w.substring(O,C)?(_=C,O=_):k=C,C=Math.floor((k-_)/2+_);return C}function d(v,w){if(!v||!w||v.charAt(v.length-1)!=w.charAt(w.length-1))return 0;for(var _=0,k=Math.min(v.length,w.length),C=k,O=0;_<C;)v.substring(v.length-C,v.length-O)==w.substring(w.length-C,w.length-O)?(_=C,O=_):k=C,C=Math.floor((k-_)/2+_);return C}function f(v,w){var _=v.length>w.length?v:w,k=v.length>w.length?w:v;if(_.length<4||k.length*2<_.length)return null;function C(D,V,z){for(var R=D.substring(z,z+Math.floor(D.length/4)),E=-1,$="",A,U,H,F;(E=V.indexOf(R,E+1))!=-1;){var q=h(D.substring(z),V.substring(E)),X=d(D.substring(0,z),V.substring(0,E));$.length<X+q&&($=V.substring(E-X,E)+V.substring(E,E+q),A=D.substring(0,z-X),U=D.substring(z+q),H=V.substring(0,E-X),F=V.substring(E+q))}return $.length*2>=D.length?[A,U,H,F,$]:null}var O=C(_,k,Math.ceil(_.length/4)),S=C(_,k,Math.ceil(_.length/2)),T;if(!O&&!S)return null;S?O?T=O[4].length>S[4].length?O:S:T=S:T=O;var P,L,B,M;v.length>w.length?(P=T[0],L=T[1],B=T[2],M=T[3]):(B=T[0],M=T[1],P=T[2],L=T[3]);var I=T[4];return[P,L,B,M,I]}function y(v){v.push([o,""]);for(var w=0,_=0,k=0,C="",O="",S;w<v.length;)switch(v[w][0]){case i:k++,O+=v[w][1],w++;break;case s:_++,C+=v[w][1],w++;break;case o:_+k>1?(_!==0&&k!==0&&(S=h(O,C),S!==0&&(w-_-k>0&&v[w-_-k-1][0]==o?v[w-_-k-1][1]+=O.substring(0,S):(v.splice(0,0,[o,O.substring(0,S)]),w++),O=O.substring(S),C=C.substring(S)),S=d(O,C),S!==0&&(v[w][1]=O.substring(O.length-S)+v[w][1],O=O.substring(0,O.length-S),C=C.substring(0,C.length-S))),_===0?v.splice(w-k,_+k,[i,O]):k===0?v.splice(w-_,_+k,[s,C]):v.splice(w-_-k,_+k,[s,C],[i,O]),w=w-_-k+(_?1:0)+(k?1:0)+1):w!==0&&v[w-1][0]==o?(v[w-1][1]+=v[w][1],v.splice(w,1)):w++,k=0,_=0,C="",O="";break}v[v.length-1][1]===""&&v.pop();var T=!1;for(w=1;w<v.length-1;)v[w-1][0]==o&&v[w+1][0]==o&&(v[w][1].substring(v[w][1].length-v[w-1][1].length)==v[w-1][1]?(v[w][1]=v[w-1][1]+v[w][1].substring(0,v[w][1].length-v[w-1][1].length),v[w+1][1]=v[w-1][1]+v[w+1][1],v.splice(w-1,1),T=!0):v[w][1].substring(0,v[w+1][1].length)==v[w+1][1]&&(v[w-1][1]+=v[w+1][1],v[w][1]=v[w][1].substring(v[w+1][1].length)+v[w+1][1],v.splice(w+1,1),T=!0)),w++;T&&y(v)}var x=c;x.INSERT=i,x.DELETE=s,x.EQUAL=o,n.exports=x;function b(v,w){if(w===0)return[o,v];for(var _=0,k=0;k<v.length;k++){var C=v[k];if(C[0]===s||C[0]===o){var O=_+C[1].length;if(w===O)return[k+1,v];if(w<O){v=v.slice();var S=w-_,T=[C[0],C[1].slice(0,S)],P=[C[0],C[1].slice(S)];return v.splice(k,1,T,P),[k+1,v]}else _=O}}throw new Error("cursor_pos is out of bounds!")}function g(v,w){var _=b(v,w),k=_[1],C=_[0],O=k[C],S=k[C+1];if(O==null)return v;if(O[0]!==o)return v;if(S!=null&&O[1]+S[1]===S[1]+O[1])return k.splice(C,2,S,O),j(k,C,2);if(S!=null&&S[1].indexOf(O[1])===0){k.splice(C,2,[S[0],O[1]],[0,O[1]]);var T=S[1].slice(O[1].length);return T.length>0&&k.splice(C+2,0,[S[0],T]),j(k,C,3)}else return v}function m(v){for(var w=!1,_=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},k=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},C=2;C<v.length;C+=1)v[C-2][0]===o&&k(v[C-2][1])&&v[C-1][0]===s&&_(v[C-1][1])&&v[C][0]===i&&_(v[C][1])&&(w=!0,v[C-1][1]=v[C-2][1].slice(-1)+v[C-1][1],v[C][1]=v[C-2][1].slice(-1)+v[C][1],v[C-2][1]=v[C-2][1].slice(0,-1));if(!w)return v;for(var O=[],C=0;C<v.length;C+=1)v[C][1].length>0&&O.push(v[C]);return O}function j(v,w,_){for(var k=w+_-1;k>=0&&k>=w-1;k--)if(k+1<v.length){var C=v[k],O=v[k+1];C[0]===O[1]&&v.splice(k,2,[C[0],C[1]+O[1]])}return v}},function(n,a){a=n.exports=typeof Object.keys=="function"?Object.keys:s,a.shim=s;function s(i){var o=[];for(var c in i)o.push(c);return o}},function(n,a){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=n.exports=s?i:o,a.supported=i;function i(c){return Object.prototype.toString.call(c)=="[object Arguments]"}a.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(n,a){var s=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function c(u,p,h){this.fn=u,this.context=p,this.once=h||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var p=[],h,d;if(this._eventsCount===0)return p;for(d in h=this._events)s.call(h,d)&&p.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},l.prototype.listeners=function(p,h){var d=i?i+p:p,f=this._events[d];if(h)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var y=0,x=f.length,b=new Array(x);y<x;y++)b[y]=f[y].fn;return b},l.prototype.emit=function(p,h,d,f,y,x){var b=i?i+p:p;if(!this._events[b])return!1;var g=this._events[b],m=arguments.length,j,v;if(g.fn){switch(g.once&&this.removeListener(p,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,d),!0;case 4:return g.fn.call(g.context,h,d,f),!0;case 5:return g.fn.call(g.context,h,d,f,y),!0;case 6:return g.fn.call(g.context,h,d,f,y,x),!0}for(v=1,j=new Array(m-1);v<m;v++)j[v-1]=arguments[v];g.fn.apply(g.context,j)}else{var w=g.length,_;for(v=0;v<w;v++)switch(g[v].once&&this.removeListener(p,g[v].fn,void 0,!0),m){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,h);break;case 3:g[v].fn.call(g[v].context,h,d);break;case 4:g[v].fn.call(g[v].context,h,d,f);break;default:if(!j)for(_=1,j=new Array(m-1);_<m;_++)j[_-1]=arguments[_];g[v].fn.apply(g[v].context,j)}}return!0},l.prototype.on=function(p,h,d){var f=new c(h,d||this),y=i?i+p:p;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],f]:this._events[y].push(f):(this._events[y]=f,this._eventsCount++),this},l.prototype.once=function(p,h,d){var f=new c(h,d||this,!0),y=i?i+p:p;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],f]:this._events[y].push(f):(this._events[y]=f,this._eventsCount++),this},l.prototype.removeListener=function(p,h,d,f){var y=i?i+p:p;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[y],this;var x=this._events[y];if(x.fn)x.fn===h&&(!f||x.once)&&(!d||x.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[y]);else{for(var b=0,g=[],m=x.length;b<m;b++)(x[b].fn!==h||f&&!x[b].once||d&&x[b].context!==d)&&g.push(x[b]);g.length?this._events[y]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[y]}return this},l.prototype.removeAllListeners=function(p){var h;return p?(h=i?i+p:p,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=i,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},o=function(){function Y(Z,J){var se=[],ae=!0,me=!1,ce=void 0;try{for(var ye=Z[Symbol.iterator](),pt;!(ae=(pt=ye.next()).done)&&(se.push(pt.value),!(J&&se.length===J));ae=!0);}catch(re){me=!0,ce=re}finally{try{!ae&&ye.return&&ye.return()}finally{if(me)throw ce}}return se}return function(Z,J){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return Y(Z,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function Y(Z,J){for(var se=0;se<J.length;se++){var ae=J[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Z,ae.key,ae)}}return function(Z,J,se){return J&&Y(Z.prototype,J),se&&Y(Z,se),Z}}(),l=s(3),u=P(l),p=s(2),h=P(p),d=s(0),f=P(d),y=s(5),x=P(y),b=s(10),g=P(b),m=s(9),j=P(m),v=s(36),w=s(37),_=s(13),k=P(_),C=s(26),O=s(38),S=s(39),T=s(40);function P(Y){return Y&&Y.__esModule?Y:{default:Y}}function L(Y,Z,J){return Z in Y?Object.defineProperty(Y,Z,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[Z]=J,Y}function B(Y,Z){if(!(Y instanceof Z))throw new TypeError("Cannot call a class as a function")}function M(Y,Z){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:Y}function I(Y,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);Y.prototype=Object.create(Z&&Z.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,Z):Y.__proto__=Z)}var D=(0,g.default)("quill:clipboard"),V="__ql-matcher",z=[[Node.TEXT_NODE,te],[Node.TEXT_NODE,le],["br",W],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,ve],["li",ne],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",Q]],R=[v.AlignAttribute,O.DirectionAttribute].reduce(function(Y,Z){return Y[Z.keyName]=Z,Y},{}),E=[v.AlignStyle,w.BackgroundStyle,C.ColorStyle,O.DirectionStyle,S.FontStyle,T.SizeStyle].reduce(function(Y,Z){return Y[Z.keyName]=Z,Y},{}),$=function(Y){I(Z,Y);function Z(J,se){B(this,Z);var ae=M(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,J,se));return ae.quill.root.addEventListener("paste",ae.onPaste.bind(ae)),ae.container=ae.quill.addContainer("ql-clipboard"),ae.container.setAttribute("contenteditable",!0),ae.container.setAttribute("tabindex",-1),ae.matchers=[],z.concat(ae.options.matchers).forEach(function(me){var ce=o(me,2),ye=ce[0],pt=ce[1];!se.matchVisual&&pt===pe||ae.addMatcher(ye,pt)}),ae}return c(Z,[{key:"addMatcher",value:function(se,ae){this.matchers.push([se,ae])}},{key:"convert",value:function(se){if(typeof se=="string")return this.container.innerHTML=se.replace(/\>\r?\n +\</g,"><"),this.convert();var ae=this.quill.getFormat(this.quill.selection.savedRange.index);if(ae[k.default.blotName]){var me=this.container.innerText;return this.container.innerHTML="",new h.default().insert(me,L({},k.default.blotName,ae[k.default.blotName]))}var ce=this.prepareMatching(),ye=o(ce,2),pt=ye[0],re=ye[1],fe=q(this.container,pt,re);return H(fe,`
`)&&fe.ops[fe.ops.length-1].attributes==null&&(fe=fe.compose(new h.default().retain(fe.length()-1).delete(1))),D.log("convert",this.container.innerHTML,fe),this.container.innerHTML="",fe}},{key:"dangerouslyPasteHTML",value:function(se,ae){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof se=="string")this.quill.setContents(this.convert(se),ae),this.quill.setSelection(0,x.default.sources.SILENT);else{var ce=this.convert(ae);this.quill.updateContents(new h.default().retain(se).concat(ce),me),this.quill.setSelection(se+ce.length(),x.default.sources.SILENT)}}},{key:"onPaste",value:function(se){var ae=this;if(!(se.defaultPrevented||!this.quill.isEnabled())){var me=this.quill.getSelection(),ce=new h.default().retain(me.index),ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(x.default.sources.SILENT),setTimeout(function(){ce=ce.concat(ae.convert()).delete(me.length),ae.quill.updateContents(ce,x.default.sources.USER),ae.quill.setSelection(ce.length()-me.length,x.default.sources.SILENT),ae.quill.scrollingContainer.scrollTop=ye,ae.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var se=this,ae=[],me=[];return this.matchers.forEach(function(ce){var ye=o(ce,2),pt=ye[0],re=ye[1];switch(pt){case Node.TEXT_NODE:me.push(re);break;case Node.ELEMENT_NODE:ae.push(re);break;default:[].forEach.call(se.container.querySelectorAll(pt),function(fe){fe[V]=fe[V]||[],fe[V].push(re)});break}}),[ae,me]}}]),Z}(j.default);$.DEFAULTS={matchers:[],matchVisual:!0};function A(Y,Z,J){return(typeof Z>"u"?"undefined":i(Z))==="object"?Object.keys(Z).reduce(function(se,ae){return A(se,ae,Z[ae])},Y):Y.reduce(function(se,ae){return ae.attributes&&ae.attributes[Z]?se.push(ae):se.insert(ae.insert,(0,u.default)({},L({},Z,J),ae.attributes))},new h.default)}function U(Y){if(Y.nodeType!==Node.ELEMENT_NODE)return{};var Z="__ql-computed-style";return Y[Z]||(Y[Z]=window.getComputedStyle(Y))}function H(Y,Z){for(var J="",se=Y.ops.length-1;se>=0&&J.length<Z.length;--se){var ae=Y.ops[se];if(typeof ae.insert!="string")break;J=ae.insert+J}return J.slice(-1*Z.length)===Z}function F(Y){if(Y.childNodes.length===0)return!1;var Z=U(Y);return["block","list-item"].indexOf(Z.display)>-1}function q(Y,Z,J){return Y.nodeType===Y.TEXT_NODE?J.reduce(function(se,ae){return ae(Y,se)},new h.default):Y.nodeType===Y.ELEMENT_NODE?[].reduce.call(Y.childNodes||[],function(se,ae){var me=q(ae,Z,J);return ae.nodeType===Y.ELEMENT_NODE&&(me=Z.reduce(function(ce,ye){return ye(ae,ce)},me),me=(ae[V]||[]).reduce(function(ce,ye){return ye(ae,ce)},me)),se.concat(me)},new h.default):new h.default}function X(Y,Z,J){return A(J,Y,!0)}function G(Y,Z){var J=f.default.Attributor.Attribute.keys(Y),se=f.default.Attributor.Class.keys(Y),ae=f.default.Attributor.Style.keys(Y),me={};return J.concat(se).concat(ae).forEach(function(ce){var ye=f.default.query(ce,f.default.Scope.ATTRIBUTE);ye!=null&&(me[ye.attrName]=ye.value(Y),me[ye.attrName])||(ye=R[ce],ye!=null&&(ye.attrName===ce||ye.keyName===ce)&&(me[ye.attrName]=ye.value(Y)||void 0),ye=E[ce],ye!=null&&(ye.attrName===ce||ye.keyName===ce)&&(ye=E[ce],me[ye.attrName]=ye.value(Y)||void 0))}),Object.keys(me).length>0&&(Z=A(Z,me)),Z}function K(Y,Z){var J=f.default.query(Y);if(J==null)return Z;if(J.prototype instanceof f.default.Embed){var se={},ae=J.value(Y);ae!=null&&(se[J.blotName]=ae,Z=new h.default().insert(se,J.formats(Y)))}else typeof J.formats=="function"&&(Z=A(Z,J.blotName,J.formats(Y)));return Z}function W(Y,Z){return H(Z,`
`)||Z.insert(`
`),Z}function Q(){return new h.default}function ne(Y,Z){var J=f.default.query(Y);if(J==null||J.blotName!=="list-item"||!H(Z,`
`))return Z;for(var se=-1,ae=Y.parentNode;!ae.classList.contains("ql-clipboard");)(f.default.query(ae)||{}).blotName==="list"&&(se+=1),ae=ae.parentNode;return se<=0?Z:Z.compose(new h.default().retain(Z.length()-1).retain(1,{indent:se}))}function le(Y,Z){return H(Z,`
`)||(F(Y)||Z.length()>0&&Y.nextSibling&&F(Y.nextSibling))&&Z.insert(`
`),Z}function pe(Y,Z){if(F(Y)&&Y.nextElementSibling!=null&&!H(Z,`

`)){var J=Y.offsetHeight+parseFloat(U(Y).marginTop)+parseFloat(U(Y).marginBottom);Y.nextElementSibling.offsetTop>Y.offsetTop+J*1.5&&Z.insert(`
`)}return Z}function ve(Y,Z){var J={},se=Y.style||{};return se.fontStyle&&U(Y).fontStyle==="italic"&&(J.italic=!0),se.fontWeight&&(U(Y).fontWeight.startsWith("bold")||parseInt(U(Y).fontWeight)>=700)&&(J.bold=!0),Object.keys(J).length>0&&(Z=A(Z,J)),parseFloat(se.textIndent||0)>0&&(Z=new h.default().insert("	").concat(Z)),Z}function te(Y,Z){var J=Y.data;if(Y.parentNode.tagName==="O:P")return Z.insert(J.trim());if(J.trim().length===0&&Y.parentNode.classList.contains("ql-clipboard"))return Z;if(!U(Y.parentNode).whiteSpace.startsWith("pre")){var se=function(me,ce){return ce=ce.replace(/[^\u00a0]/g,""),ce.length<1&&me?" ":ce};J=J.replace(/\r\n/g," ").replace(/\n/g," "),J=J.replace(/\s\s+/g,se.bind(se,!0)),(Y.previousSibling==null&&F(Y.parentNode)||Y.previousSibling!=null&&F(Y.previousSibling))&&(J=J.replace(/^\s+/,se.bind(se,!1))),(Y.nextSibling==null&&F(Y.parentNode)||Y.nextSibling!=null&&F(Y.nextSibling))&&(J=J.replace(/\s+$/,se.bind(se,!1)))}return Z.insert(J)}a.default=$,a.matchAttributor=G,a.matchBlot=K,a.matchNewline=le,a.matchSpacing=pe,a.matchText=te},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function y(x,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,b,g){return b&&y(x.prototype,b),g&&y(x,g),x}}(),o=function y(x,b,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,b);if(m===void 0){var j=Object.getPrototypeOf(x);return j===null?void 0:y(j,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},c=s(6),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function d(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var f=function(y){d(x,y);function x(){return p(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"optimize",value:function(g){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),x}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],a.default=f},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var i=function(){function T(P,L){var B=[],M=!0,I=!1,D=void 0;try{for(var V=P[Symbol.iterator](),z;!(M=(z=V.next()).done)&&(B.push(z.value),!(L&&B.length===L));M=!0);}catch(R){I=!0,D=R}finally{try{!M&&V.return&&V.return()}finally{if(I)throw D}}return B}return function(P,L){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return T(P,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(P,L){for(var B=0;B<L.length;B++){var M=L[B];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,L,B){return L&&T(P.prototype,L),B&&T(P,B),P}}(),c=s(2),l=g(c),u=s(0),p=g(u),h=s(5),d=g(h),f=s(10),y=g(f),x=s(9),b=g(x);function g(T){return T&&T.__esModule?T:{default:T}}function m(T,P,L){return P in T?Object.defineProperty(T,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):T[P]=L,T}function j(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function v(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function w(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var _=(0,y.default)("quill:toolbar"),k=function(T){w(P,T);function P(L,B){j(this,P);var M=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,L,B));if(Array.isArray(M.options.container)){var I=document.createElement("div");O(I,M.options.container),L.container.parentNode.insertBefore(I,L.container),M.container=I}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var D;return D=_.error("Container required for toolbar",M.options),v(M,D)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(V){M.addHandler(V,M.options.handlers[V])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(V){M.attach(V)}),M.quill.on(d.default.events.EDITOR_CHANGE,function(V,z){V===d.default.events.SELECTION_CHANGE&&M.update(z)}),M.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var V=M.quill.selection.getRange(),z=i(V,1),R=z[0];M.update(R)}),M}return o(P,[{key:"addHandler",value:function(B,M){this.handlers[B]=M}},{key:"attach",value:function(B){var M=this,I=[].find.call(B.classList,function(V){return V.indexOf("ql-")===0});if(I){if(I=I.slice(3),B.tagName==="BUTTON"&&B.setAttribute("type","button"),this.handlers[I]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[I]==null){_.warn("ignoring attaching to disabled format",I,B);return}if(p.default.query(I)==null){_.warn("ignoring attaching to nonexistent format",I,B);return}}var D=B.tagName==="SELECT"?"change":"click";B.addEventListener(D,function(V){var z=void 0;if(B.tagName==="SELECT"){if(B.selectedIndex<0)return;var R=B.options[B.selectedIndex];R.hasAttribute("selected")?z=!1:z=R.value||!1}else B.classList.contains("ql-active")?z=!1:z=B.value||!B.hasAttribute("value"),V.preventDefault();M.quill.focus();var E=M.quill.selection.getRange(),$=i(E,1),A=$[0];if(M.handlers[I]!=null)M.handlers[I].call(M,z);else if(p.default.query(I).prototype instanceof p.default.Embed){if(z=prompt("Enter "+I),!z)return;M.quill.updateContents(new l.default().retain(A.index).delete(A.length).insert(m({},I,z)),d.default.sources.USER)}else M.quill.format(I,z,d.default.sources.USER);M.update(A)}),this.controls.push([I,B])}}},{key:"update",value:function(B){var M=B==null?{}:this.quill.getFormat(B);this.controls.forEach(function(I){var D=i(I,2),V=D[0],z=D[1];if(z.tagName==="SELECT"){var R=void 0;if(B==null)R=null;else if(M[V]==null)R=z.querySelector("option[selected]");else if(!Array.isArray(M[V])){var E=M[V];typeof E=="string"&&(E=E.replace(/\"/g,'\\"')),R=z.querySelector('option[value="'+E+'"]')}R==null?(z.value="",z.selectedIndex=-1):R.selected=!0}else if(B==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var $=M[V]===z.getAttribute("value")||M[V]!=null&&M[V].toString()===z.getAttribute("value")||M[V]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",$)}else z.classList.toggle("ql-active",M[V]!=null)})}}]),P}(b.default);k.DEFAULTS={};function C(T,P,L){var B=document.createElement("button");B.setAttribute("type","button"),B.classList.add("ql-"+P),L!=null&&(B.value=L),T.appendChild(B)}function O(T,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(L){var B=document.createElement("span");B.classList.add("ql-formats"),L.forEach(function(M){if(typeof M=="string")C(B,M);else{var I=Object.keys(M)[0],D=M[I];Array.isArray(D)?S(B,I,D):C(B,I,D)}}),T.appendChild(B)})}function S(T,P,L){var B=document.createElement("select");B.classList.add("ql-"+P),L.forEach(function(M){var I=document.createElement("option");M!==!1?I.setAttribute("value",M):I.setAttribute("selected","selected"),B.appendChild(I)}),T.appendChild(B)}k.DEFAULTS={container:null,handlers:{clean:function(){var P=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var B=this.quill.getFormat();Object.keys(B).forEach(function(M){p.default.query(M,p.default.Scope.INLINE)!=null&&P.quill.format(M,!1)})}else this.quill.removeFormat(L,d.default.sources.USER)},direction:function(P){var L=this.quill.getFormat().align;P==="rtl"&&L==null?this.quill.format("align","right",d.default.sources.USER):!P&&L==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",P,d.default.sources.USER)},indent:function(P){var L=this.quill.getSelection(),B=this.quill.getFormat(L),M=parseInt(B.indent||0);if(P==="+1"||P==="-1"){var I=P==="+1"?1:-1;B.direction==="rtl"&&(I*=-1),this.quill.format("indent",M+I,d.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,d.default.sources.USER)},list:function(P){var L=this.quill.getSelection(),B=this.quill.getFormat(L);P==="check"?B.list==="checked"||B.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",P,d.default.sources.USER)}}},a.default=k,a.addControls=O},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function y(x,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,b,g){return b&&y(x.prototype,b),g&&y(x,g),x}}(),o=function y(x,b,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,b);if(m===void 0){var j=Object.getPrototypeOf(x);return j===null?void 0:y(j,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},c=s(28),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function d(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var f=function(y){d(x,y);function x(b,g){p(this,x);var m=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(j){j.classList.add("ql-primary")}),m}return i(x,[{key:"buildItem",value:function(g){var m=o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,g,m);var j=this.label.querySelector(".ql-color-label"),v=g&&g.getAttribute("data-value")||"";j&&(j.tagName==="line"?j.style.stroke=v:j.style.fill=v)}}]),x}(l.default);a.default=f},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function y(x,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,b,g){return b&&y(x.prototype,b),g&&y(x,g),x}}(),o=function y(x,b,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,b);if(m===void 0){var j=Object.getPrototypeOf(x);return j===null?void 0:y(j,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},c=s(28),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function d(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var f=function(y){d(x,y);function x(b,g){p(this,x);var m=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(j){j.innerHTML=g[j.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return i(x,[{key:"selectItem",value:function(g,m){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),x}(l.default);a.default=f},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function l(u,p){for(var h=0;h<p.length;h++){var d=p[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,p,h){return p&&l(u.prototype,p),h&&l(u,h),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,p){var h=this;o(this,l),this.quill=u,this.boundsContainer=p||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return i(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var h=p.left+p.width/2-this.root.offsetWidth/2,d=p.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),x=0;if(y.right>f.right&&(x=f.right-y.right,this.root.style.left=h+x+"px"),y.left<f.left&&(x=f.left-y.left,this.root.style.left=h+x+"px"),y.bottom>f.bottom){var b=y.bottom-y.top,g=p.bottom-p.top+b;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return x}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();a.default=c},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function S(T,P){var L=[],B=!0,M=!1,I=void 0;try{for(var D=T[Symbol.iterator](),V;!(B=(V=D.next()).done)&&(L.push(V.value),!(P&&L.length===P));B=!0);}catch(z){M=!0,I=z}finally{try{!B&&D.return&&D.return()}finally{if(M)throw I}}return L}return function(T,P){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function S(T,P,L){T===null&&(T=Function.prototype);var B=Object.getOwnPropertyDescriptor(T,P);if(B===void 0){var M=Object.getPrototypeOf(T);return M===null?void 0:S(M,P,L)}else{if("value"in B)return B.value;var I=B.get;return I===void 0?void 0:I.call(L)}},c=function(){function S(T,P){for(var L=0;L<P.length;L++){var B=P[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,B.key,B)}}return function(T,P,L){return P&&S(T.prototype,P),L&&S(T,L),T}}(),l=s(3),u=j(l),p=s(8),h=j(p),d=s(43),f=j(d),y=s(27),x=j(y),b=s(15),g=s(41),m=j(g);function j(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function w(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function _(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(S){_(T,S);function T(P,L){v(this,T),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=k);var B=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P,L));return B.quill.container.classList.add("ql-snow"),B}return c(T,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),m.default),this.tooltip=new O(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,M){L.handlers.link.call(L,!M.format.link)})}}]),T}(f.default);C.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var P=this.quill.getSelection();if(P==null||P.length==0)return;var L=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var B=this.quill.theme.tooltip;B.edit("link",L)}else this.quill.format("link",!1)}}}}});var O=function(S){_(T,S);function T(P,L){v(this,T);var B=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P,L));return B.preview=B.root.querySelector("a.ql-preview"),B}return c(T,[{key:"listen",value:function(){var L=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(L.linkRange!=null){var M=L.linkRange;L.restoreFocus(),L.quill.formatText(M,"link",!1,h.default.sources.USER),delete L.linkRange}B.preventDefault(),L.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(B,M,I){if(B!=null){if(B.length===0&&I===h.default.sources.USER){var D=L.quill.scroll.descendant(x.default,B.index),V=i(D,2),z=V[0],R=V[1];if(z!=null){L.linkRange=new b.Range(B.index-R,z.length());var E=x.default.formats(z.domNode);L.preview.textContent=E,L.preview.setAttribute("href",E),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(d.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=C},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(29),o=ae(i),c=s(36),l=s(38),u=s(64),p=s(65),h=ae(p),d=s(66),f=ae(d),y=s(67),x=ae(y),b=s(37),g=s(26),m=s(39),j=s(40),v=s(56),w=ae(v),_=s(68),k=ae(_),C=s(27),O=ae(C),S=s(69),T=ae(S),P=s(70),L=ae(P),B=s(71),M=ae(B),I=s(72),D=ae(I),V=s(73),z=ae(V),R=s(13),E=ae(R),$=s(74),A=ae($),U=s(75),H=ae(U),F=s(57),q=ae(F),X=s(41),G=ae(X),K=s(28),W=ae(K),Q=s(59),ne=ae(Q),le=s(60),pe=ae(le),ve=s(61),te=ae(ve),Y=s(108),Z=ae(Y),J=s(62),se=ae(J);function ae(me){return me&&me.__esModule?me:{default:me}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":j.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":j.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":j.SizeClass,"formats/blockquote":h.default,"formats/code-block":E.default,"formats/header":f.default,"formats/list":x.default,"formats/bold":w.default,"formats/code":R.Code,"formats/italic":k.default,"formats/link":O.default,"formats/script":T.default,"formats/strike":L.default,"formats/underline":M.default,"formats/image":D.default,"formats/video":z.default,"formats/list/item":y.ListItem,"modules/formula":A.default,"modules/syntax":H.default,"modules/toolbar":q.default,"themes/bubble":Z.default,"themes/snow":se.default,"ui/icons":G.default,"ui/picker":W.default,"ui/icon-picker":pe.default,"ui/color-picker":ne.default,"ui/tooltip":te.default},!0),a.default=o.default},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var i=function(){function x(b,g){for(var m=0;m<g.length;m++){var j=g[m];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,g,m){return g&&x(b.prototype,g),m&&x(b,m),b}}(),o=function x(b,g,m){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,g);if(j===void 0){var v=Object.getPrototypeOf(b);return v===null?void 0:x(v,g,m)}else{if("value"in j)return j.value;var w=j.get;return w===void 0?void 0:w.call(m)}},c=s(0),l=u(c);function u(x){return x&&x.__esModule?x:{default:x}}function p(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function h(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function d(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var f=function(x){d(b,x);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"add",value:function(m,j){if(j==="+1"||j==="-1"){var v=this.value(m)||0;j=j==="+1"?v+1:v-1}return j===0?(this.remove(m),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,m,j)}},{key:"canAdd",value:function(m,j){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,j)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,parseInt(j))}},{key:"value",value:function(m){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,m))||void 0}}]),b}(l.default.Attributor.Class),y=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(4),o=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function p(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){p(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="blockquote",h.tagName="blockquote",a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function f(y,x){for(var b=0;b<x.length;b++){var g=x[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,x,b){return x&&f(y.prototype,x),b&&f(y,b),y}}(),o=s(4),c=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function p(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function h(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var d=function(f){h(y,f);function y(){return u(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),y}(c.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],a.default=d},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var i=function(){function v(w,_){for(var k=0;k<_.length;k++){var C=_[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,_,k){return _&&v(w.prototype,_),k&&v(w,k),w}}(),o=function v(w,_,k){w===null&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,_);if(C===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:v(O,_,k)}else{if("value"in C)return C.value;var S=C.get;return S===void 0?void 0:S.call(k)}},c=s(0),l=f(c),u=s(4),p=f(u),h=s(25),d=f(h);function f(v){return v&&v.__esModule?v:{default:v}}function y(v,w,_){return w in v?Object.defineProperty(v,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[w]=_,v}function x(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function b(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function g(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var m=function(v){g(w,v);function w(){return x(this,w),b(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"format",value:function(k,C){k===j.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,C){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,C),this):(this.parent.unwrap(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,k,C))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:o(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,k)}}]),w}(p.default);m.blotName="list-item",m.tagName="LI";var j=function(v){g(w,v),i(w,null,[{key:"create",value:function(k){var C=k==="ordered"?"OL":"UL",O=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,C);return(k==="checked"||k==="unchecked")&&O.setAttribute("data-checked",k==="checked"),O}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(_){x(this,w);var k=b(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_)),C=function(S){if(S.target.parentNode===_){var T=k.statics.formats(_),P=l.default.find(S.target);T==="checked"?P.format("list","unchecked"):T==="unchecked"&&P.format("list","checked")}};return _.addEventListener("touchstart",C),_.addEventListener("mousedown",C),k}return i(w,[{key:"format",value:function(k,C){this.children.length>0&&this.children.tail.format(k,C)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,C){if(k instanceof m)o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,k,C);else{var O=C==null?this.length():C.offset(this),S=this.split(O);S.parent.insertBefore(k,S)}}},{key:"optimize",value:function(k){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,k);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);k.moveChildren(C),this.appendChild(C)}o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,k)}}]),w}(d.default);j.blotName="list",j.scope=l.default.Scope.BLOCK_BLOT,j.tagName=["OL","UL"],j.defaultChild="list-item",j.allowedChildren=[m],a.ListItem=m,a.default=j},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(56),o=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function p(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){p(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="italic",h.tagName=["EM","I"],a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function y(x,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,b,g){return b&&y(x.prototype,b),g&&y(x,g),x}}(),o=function y(x,b,g){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,b);if(m===void 0){var j=Object.getPrototypeOf(x);return j===null?void 0:y(j,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},c=s(6),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function d(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var f=function(y){d(x,y);function x(){return p(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),x}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],a.default=f},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(6),o=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function p(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){p(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="strike",h.tagName="S",a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(6),o=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function p(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){p(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="underline",h.tagName="U",a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function b(g,m){for(var j=0;j<m.length;j++){var v=m[j];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,j){return m&&b(g.prototype,m),j&&b(g,j),g}}(),o=function b(g,m,j){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:b(w,m,j)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(j)}},c=s(0),l=p(c),u=s(27);function p(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function d(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function f(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=["alt","height","width"],x=function(b){f(g,b);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(j,v){y.indexOf(j)>-1?v?this.domNode.setAttribute(j,v):this.domNode.removeAttribute(j):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,j,v)}}],[{key:"create",value:function(j){var v=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,j);return typeof j=="string"&&v.setAttribute("src",this.sanitize(j)),v}},{key:"formats",value:function(j){return y.reduce(function(v,w){return j.hasAttribute(w)&&(v[w]=j.getAttribute(w)),v},{})}},{key:"match",value:function(j){return/\.(jpe?g|gif|png)$/.test(j)||/^data:image\/.+;base64/.test(j)}},{key:"sanitize",value:function(j){return(0,u.sanitize)(j,["http","https","data"])?j:"//:0"}},{key:"value",value:function(j){return j.getAttribute("src")}}]),g}(l.default.Embed);x.blotName="image",x.tagName="IMG",a.default=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function b(g,m){for(var j=0;j<m.length;j++){var v=m[j];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,j){return m&&b(g.prototype,m),j&&b(g,j),g}}(),o=function b(g,m,j){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:b(w,m,j)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(j)}},c=s(4),l=s(27),u=p(l);function p(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function d(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function f(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=["height","width"],x=function(b){f(g,b);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(j,v){y.indexOf(j)>-1?v?this.domNode.setAttribute(j,v):this.domNode.removeAttribute(j):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,j,v)}}],[{key:"create",value:function(j){var v=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,j);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(j)),v}},{key:"formats",value:function(j){return y.reduce(function(v,w){return j.hasAttribute(w)&&(v[w]=j.getAttribute(w)),v},{})}},{key:"sanitize",value:function(j){return u.default.sanitize(j)}},{key:"value",value:function(j){return j.getAttribute("src")}}]),g}(c.BlockEmbed);x.blotName="video",x.className="ql-video",x.tagName="IFRAME",a.default=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var i=function(){function j(v,w){for(var _=0;_<w.length;_++){var k=w[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,w,_){return w&&j(v.prototype,w),_&&j(v,_),v}}(),o=function j(v,w,_){v===null&&(v=Function.prototype);var k=Object.getOwnPropertyDescriptor(v,w);if(k===void 0){var C=Object.getPrototypeOf(v);return C===null?void 0:j(C,w,_)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(_)}},c=s(35),l=f(c),u=s(5),p=f(u),h=s(9),d=f(h);function f(j){return j&&j.__esModule?j:{default:j}}function y(j,v){if(!(j instanceof v))throw new TypeError("Cannot call a class as a function")}function x(j,v){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:j}function b(j,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);j.prototype=Object.create(v&&v.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(j,v):j.__proto__=v)}var g=function(j){b(v,j);function v(){return y(this,v),x(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(_){var k=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,_);return typeof _=="string"&&(window.katex.render(_,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",_)),k}},{key:"value",value:function(_){return _.getAttribute("data-value")}}]),v}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(j){b(v,j),i(v,null,[{key:"register",value:function(){p.default.register(g,!0)}}]);function v(){y(this,v);var w=x(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return v}(d.default);a.FormulaBlot=g,a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var i=function(){function _(k,C){for(var O=0;O<C.length;O++){var S=C[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(k,S.key,S)}}return function(k,C,O){return C&&_(k.prototype,C),O&&_(k,O),k}}(),o=function _(k,C,O){k===null&&(k=Function.prototype);var S=Object.getOwnPropertyDescriptor(k,C);if(S===void 0){var T=Object.getPrototypeOf(k);return T===null?void 0:_(T,C,O)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(O)}},c=s(0),l=x(c),u=s(5),p=x(u),h=s(9),d=x(h),f=s(13),y=x(f);function x(_){return _&&_.__esModule?_:{default:_}}function b(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function g(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:_}function m(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(_,k):_.__proto__=k)}var j=function(_){m(k,_);function k(){return b(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return i(k,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),k}(y.default);j.className="ql-syntax";var v=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(_){m(k,_),i(k,null,[{key:"register",value:function(){p.default.register(v,!0),p.default.register(j,!0)}}]);function k(C,O){b(this,k);var S=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C,O));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return S.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){S.highlight(),T=null},S.options.interval)}),S.highlight(),S}return i(k,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(j).forEach(function(T){T.highlight(O.options.highlight)}),this.quill.update(p.default.sources.SILENT),S!=null&&this.quill.setSelection(S,p.default.sources.SILENT)}}}]),k}(d.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(_){var k=window.hljs.highlightAuto(_);return k.value}}(),interval:1e3},a.CodeBlock=j,a.CodeToken=v,a.default=w},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,a){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,a){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,a){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,a){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var i=function k(C,O,S){C===null&&(C=Function.prototype);var T=Object.getOwnPropertyDescriptor(C,O);if(T===void 0){var P=Object.getPrototypeOf(C);return P===null?void 0:k(P,O,S)}else{if("value"in T)return T.value;var L=T.get;return L===void 0?void 0:L.call(S)}},o=function(){function k(C,O){for(var S=0;S<O.length;S++){var T=O[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}}return function(C,O,S){return O&&k(C.prototype,O),S&&k(C,S),C}}(),c=s(3),l=b(c),u=s(8),p=b(u),h=s(43),d=b(h),f=s(15),y=s(41),x=b(y);function b(k){return k&&k.__esModule?k:{default:k}}function g(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")}function m(k,C){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:k}function j(k,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);k.prototype=Object.create(C&&C.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(k,C):k.__proto__=C)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(k){j(C,k);function C(O,S){g(this,C),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=v);var T=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O,S));return T.quill.container.classList.add("ql-bubble"),T}return o(C,[{key:"extendToolbar",value:function(S){this.tooltip=new _(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),x.default)}}]),C}(d.default);w.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var _=function(k){j(C,k);function C(O,S){g(this,C);var T=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O,S));return T.quill.on(p.default.events.EDITOR_CHANGE,function(P,L,B,M){if(P===p.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&M===p.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var I=T.quill.getLines(L.index,L.length);if(I.length===1)T.position(T.quill.getBounds(L));else{var D=I[I.length-1],V=T.quill.getIndex(D),z=Math.min(D.length()-1,L.index+L.length-V),R=T.quill.getBounds(new f.Range(V,z));T.position(R)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return o(C,[{key:"listen",value:function(){var S=this;i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var T=S.quill.getSelection();T!=null&&S.position(S.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var T=i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,S),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",T===0)return T;P.style.marginLeft=-1*T-P.offsetWidth/2+"px"}}]),C}(h.BaseTooltip);_.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=_,a.default=w},function(n,a,s){n.exports=s(63)}]).default})})(px);var $C=px.exports,zC=Tt&&Tt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},e(t,n)};return function(t,n){e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),po=Tt&&Tt.__assign||function(){return po=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},po.apply(this,arguments)},BC=Tt&&Tt.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,s++)a[s]=i[o];return a},Jo=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},lr=Jo(N),FC=Jo(Lm),Ga=Jo(DC),xf=Jo($C),VC=function(e){zC(t,e);function t(n){var a=e.call(this,n)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(i,o,c,l){var u,p,h,d;i==="text-change"?(p=(u=a).onEditorChangeText)===null||p===void 0||p.call(u,a.editor.root.innerHTML,o,l,a.unprivilegedEditor):i==="selection-change"&&((d=(h=a).onEditorChangeSelection)===null||d===void 0||d.call(h,o,l,a.unprivilegedEditor))};var s=a.isControlled()?n.value:n.defaultValue;return a.value=s??"",a}return t.prototype.validateProps=function(n){var a;if(lr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(lr.default.Children.count(n.children)){var s=lr.default.Children.only(n.children);if(((a=s)===null||a===void 0?void 0:a.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,a){var s=this,i;if(this.validateProps(n),!this.editor||this.state.generation!==a.generation)return!0;if("value"in n){var o=this.getEditorContents(),c=(i=n.value,i??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),BC(this.cleanProps,this.dirtyProps).some(function(l){return!Ga.default(n[l],s.props[l])})},t.prototype.shouldComponentRegenerate=function(n){var a=this;return this.dirtyProps.some(function(s){return!Ga.default(n[s],a.props[s])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,a){var s=this;if(this.editor&&this.shouldComponentRegenerate(n)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==a.generation){var c=this.regenerationSnapshot,i=c.delta,l=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(i),yf(function(){return s.setEditorSelection(u,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,a){var s=new xf.default(n,a);return a.tabIndex!=null&&this.setEditorTabIndex(s,a.tabIndex),this.hookEditor(s),s},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,a){return this.isDelta(n)&&this.isDelta(a)?Ga.default(n.ops,a.ops):Ga.default(n,a)},t.prototype.setEditorContents=function(n,a){var s=this;this.value=a;var i=this.getEditorSelection();typeof a=="string"?n.setContents(n.clipboard.convert(a)):n.setContents(a),yf(function(){return s.setEditorSelection(n,i)})},t.prototype.setEditorSelection=function(n,a){if(this.selection=a,a){var s=n.getLength();a.index=Math.max(0,Math.min(a.index,s-1)),a.length=Math.max(0,Math.min(a.length,s-1-a.index)),n.setSelection(a)}},t.prototype.setEditorTabIndex=function(n,a){var s,i;!((i=(s=n)===null||s===void 0?void 0:s.scroll)===null||i===void 0)&&i.domNode&&(n.scroll.domNode.tabIndex=a)},t.prototype.setEditorReadOnly=function(n,a){a?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var a=n;return{getHTML:function(){return a.root.innerHTML},getLength:a.getLength.bind(a),getText:a.getText.bind(a),getContents:a.getContents.bind(a),getSelection:a.getSelection.bind(a),getBounds:a.getBounds.bind(a)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=FC.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,a=this.props,s=a.children,i=a.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(l){n.editingArea=l}};return lr.default.Children.count(s)?lr.default.cloneElement(lr.default.Children.only(s),c):i?lr.default.createElement("pre",po({},c)):lr.default.createElement("div",po({},c))},t.prototype.render=function(){var n;return lr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,a,s,i){var o,c;if(this.editor){var l=this.isDelta(this.value)?i.getContents():i.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=a,this.value=l,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,n,a,s,i))}},t.prototype.onEditorChangeSelection=function(n,a,s){var i,o,c,l,u,p;if(this.editor){var h=this.getEditorSelection(),d=!h&&n,f=h&&!n;Ga.default(n,h)||(this.selection=n,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,n,a,s),d?(l=(c=this.props).onFocus)===null||l===void 0||l.call(c,n,a,s):f&&((p=(u=this.props).onBlur)===null||p===void 0||p.call(u,h,a,s)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=xf.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(lr.default.Component);function yf(e){Promise.resolve().then(e)}var HC=VC;const mx=bf(HC),UC="/api",qC=({isOpen:e,onClose:t,onSuccess:n})=>{const{createBlog:a}=Uo(),{getAllSports:s,getTournamentsBySport:i,getTeamsByTournament:o,getAllCategories:c}=Xt(),[l,u]=N.useState({blog_title:"",blog_content:"",blog_thumbnail:"",sport_id:"",team_id:"",category_id:"",tournament_id:""}),[p,h]=N.useState(!1),[d,f]=N.useState([]),[y,x]=N.useState([]),[b,g]=N.useState([]),[m,j]=N.useState([]),[v,w]=N.useState(null),[_,k]=N.useState("");N.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{const[M,I]=await Promise.all([s(),c()]);f(M),j(I)}catch{ee("Khng th ti d liu","error")}};N.useEffect(()=>{l.sport_id?i(Number(l.sport_id)).then(x):x([]),u(M=>({...M,tournament_id:"",team_id:""}))},[l.sport_id]),N.useEffect(()=>{l.tournament_id?o(Number(l.tournament_id)).then(g):g([]),u(M=>({...M,team_id:""}))},[l.tournament_id]);const O=M=>{var D;const I=(D=M.target.files)==null?void 0:D[0];if(I){if(I.size>5*1024*1024){ee("Kch thc nh khng c vt qu 5MB","error");return}w(I);const V=new FileReader;V.onloadend=()=>{k(V.result)},V.readAsDataURL(I)}},S=async M=>{const I=new FormData;I.append("image",M);const D=localStorage.getItem("token"),V=await fetch(`${UC}/admin/upload-blog-image`,{method:"POST",headers:{Authorization:`Bearer ${D}`},body:I});if(!V.ok)throw new Error("Upload nh tht bi");return(await V.json()).imageUrl},T=M=>{const{name:I,value:D}=M.target;u(V=>({...V,[I]:D}))},P=M=>{u(I=>({...I,blog_content:M}))},L=async M=>{M.preventDefault(),h(!0);try{let I=l.blog_thumbnail;v&&(I=await S(v));const D={...l,blog_thumbnail:I,sport_id:l.sport_id?Number(l.sport_id):void 0,team_id:l.team_id?Number(l.team_id):void 0,category_id:l.category_id?Number(l.category_id):void 0,tournament_id:l.tournament_id?Number(l.tournament_id):void 0};await a(D),ee("To blog thnh cng!","success"),n(),t(),B()}catch(I){ee(I.message||"C li xy ra khi to blog","error")}finally{h(!1)}},B=()=>{u({blog_title:"",blog_content:"",blog_thumbnail:"",sport_id:"",team_id:"",category_id:"",tournament_id:""}),w(null),k("")};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO BLOG MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm bi vit mi cho h thng"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:L,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TIU  *"}),r.jsx("input",{type:"text",name:"blog_title",value:l.blog_title,onChange:T,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"Nhp tiu  blog",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH THUMBNAIL *"}),r.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!_}),_&&r.jsx("img",{src:_,alt:"Thumbnail preview",className:"mt-3 w-32 h-32 object-cover border-2 border-gray-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NI DUNG *"}),r.jsx(mx,{theme:"snow",value:l.blog_content,onChange:P,className:"bg-white",style:{minHeight:"300px"}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Mn th thao"}),r.jsxs("select",{name:"sport_id",value:l.sport_id,onChange:T,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),d.map(M=>r.jsx("option",{value:M.sport_id,children:M.sport_name},M.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Gii u"}),r.jsxs("select",{name:"tournament_id",value:l.tournament_id,onChange:T,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn gii u"}),y.map(M=>r.jsx("option",{value:M.tournament_id,children:M.tournament_name},M.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"i bng"}),r.jsxs("select",{name:"team_id",value:l.team_id,onChange:T,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn i bng"}),b.map(M=>r.jsx("option",{value:M.team_id,children:M.team_name},M.team_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Danh mc"}),r.jsxs("select",{name:"category_id",value:l.category_id,onChange:T,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn danh mc"}),m.map(M=>r.jsx("option",{value:M.category_id,children:M.category_name},M.category_id))]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:p,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:p?"ang to...":"To blog"})]})]})]})}):null},GC="/api",KC=({isOpen:e,onClose:t,onSuccess:n,blog:a})=>{const{updateBlog:s}=Uo(),{getAllSports:i,getTournamentsBySport:o,getTeamsByTournament:c,getAllCategories:l}=Xt(),[u,p]=N.useState({blog_title:"",blog_content:"",blog_thumbnail:"",sport_id:"",team_id:"",category_id:"",tournament_id:""}),[h,d]=N.useState(!1),[f,y]=N.useState([]),[x,b]=N.useState([]),[g,m]=N.useState([]),[j,v]=N.useState([]),[w,_]=N.useState(null),[k,C]=N.useState("");N.useEffect(()=>{e&&O()},[e]),N.useEffect(()=>{a&&(p({blog_title:a.blog_title,blog_content:a.blog_content,blog_thumbnail:a.blog_thumbnail,sport_id:a.sport_id?String(a.sport_id):"",team_id:a.team_id?String(a.team_id):"",category_id:a.category_id?String(a.category_id):"",tournament_id:a.tournament_id?String(a.tournament_id):""}),C(a.blog_thumbnail||""))},[a]);const O=async()=>{try{const[I,D]=await Promise.all([i(),l()]);y(I),v(D)}catch{ee("Khng th ti d liu","error")}};N.useEffect(()=>{u.sport_id?o(Number(u.sport_id)).then(b):b([]),p(I=>({...I,tournament_id:"",team_id:""}))},[u.sport_id]),N.useEffect(()=>{u.tournament_id?c(Number(u.tournament_id)).then(m):m([]),p(I=>({...I,team_id:""}))},[u.tournament_id]);const S=I=>{var V;const D=(V=I.target.files)==null?void 0:V[0];if(D){if(D.size>5*1024*1024){ee("Kch thc nh khng c vt qu 5MB","error");return}_(D);const z=new FileReader;z.onloadend=()=>{C(z.result)},z.readAsDataURL(D)}},T=async I=>{const D=new FormData;D.append("image",I);const V=localStorage.getItem("token"),z=await fetch(`${GC}/admin/upload-blog-image`,{method:"POST",headers:{Authorization:`Bearer ${V}`},body:D});if(!z.ok)throw new Error("Upload nh tht bi");return(await z.json()).imageUrl},P=I=>{const{name:D,value:V}=I.target;p(z=>({...z,[D]:V}))},L=I=>{p(D=>({...D,blog_content:I}))},B=async I=>{I.preventDefault(),d(!0);try{let D=u.blog_thumbnail;w&&(D=await T(w));const V={...u,blog_thumbnail:D,sport_id:u.sport_id?Number(u.sport_id):void 0,team_id:u.team_id?Number(u.team_id):void 0,category_id:u.category_id?Number(u.category_id):void 0,tournament_id:u.tournament_id?Number(u.tournament_id):void 0};await s(a.blog_id,V),ee("Cp nht blog thnh cng!","success"),n(),t()}catch(D){ee(D.message||"C li xy ra khi cp nht blog","error")}finally{d(!1)}},M={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"],["clean"]]};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHNH SA BLOG"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cp nht thng tin bi vit"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("form",{onSubmit:B,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TIU  *"}),r.jsx("input",{type:"text",name:"blog_title",value:u.blog_title,onChange:P,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"Nhp tiu  blog",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH THUMBNAIL *"}),r.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!k}),k&&r.jsx("img",{src:k,alt:"Thumbnail preview",className:"mt-3 w-32 h-32 object-cover border-2 border-gray-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NI DUNG *"}),r.jsx(mx,{theme:"snow",value:u.blog_content,onChange:L,modules:M,className:"bg-white",style:{minHeight:"300px"}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Mn th thao"}),r.jsxs("select",{name:"sport_id",value:u.sport_id,onChange:P,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),f.map(I=>r.jsx("option",{value:I.sport_id,children:I.sport_name},I.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Gii u"}),r.jsxs("select",{name:"tournament_id",value:u.tournament_id,onChange:P,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn gii u"}),x.map(I=>r.jsx("option",{value:I.tournament_id,children:I.tournament_name},I.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"i bng"}),r.jsxs("select",{name:"team_id",value:u.team_id,onChange:P,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn i bng"}),g.map(I=>r.jsx("option",{value:I.team_id,children:I.team_name},I.team_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Danh mc"}),r.jsxs("select",{name:"category_id",value:u.category_id,onChange:P,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn danh mc"}),j.map(I=>r.jsx("option",{value:I.category_id,children:I.category_name},I.category_id))]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:h?"ang cp nht...":"Cp nht blog"})]})]})]})}):null},WC=({isOpen:e,onClose:t,blog:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHI TIT BLOG"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Xem thng tin chi tit bi vit"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(Re,{size:24})})]}),r.jsxs("div",{className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"TIU "}),r.jsx("h3",{className:"text-2xl font-bold",children:n.blog_title})]}),n.blog_thumbnail&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"NH THUMBNAIL"}),r.jsx("img",{src:n.blog_thumbnail,alt:n.blog_title,className:"w-full max-w-md h-auto object-cover border-2 border-gray-300"})]}),n.User&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"TC GI"}),r.jsx("p",{className:"text-gray-700",children:n.User.user_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"NI DUNG"}),r.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:n.blog_content}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t",children:[n.Sport&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"MN TH THAO"}),r.jsx("p",{className:"text-gray-700",children:n.Sport.sport_name})]}),n.Team&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"I BNG"}),r.jsx("p",{className:"text-gray-700",children:n.Team.team_name})]}),n.Category&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"DANH MC"}),r.jsx("p",{className:"text-gray-700",children:n.Category.category_name})]}),n.Tournament&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"GII U"}),r.jsx("p",{className:"text-gray-700",children:n.Tournament.tournament_name})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t",children:[n.created_at&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"NGY TO"}),r.jsx("p",{className:"text-gray-700",children:new Date(n.created_at).toLocaleDateString("vi-VN")})]}),n.updated_at&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"CP NHT LN CUI"}),r.jsx("p",{className:"text-gray-700",children:new Date(n.updated_at).toLocaleDateString("vi-VN")})]})]}),r.jsx("div",{className:"sticky bottom-0 bg-white pt-8 border-t mt-8",children:r.jsx("button",{onClick:t,className:"w-full px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-medium uppercase tracking-wider",children:"ng"})})]})]})}):null,XC=()=>{const{getBlogsPaginated:e,deleteBlog:t}=Uo(),{getAllSports:n}=Xt(),[a,s]=N.useState(""),[i,o]=N.useState("all"),[c,l]=N.useState([]),[u,p]=N.useState(!1),[h,d]=N.useState(null),[f,y]=N.useState(null),[x,b]=N.useState(null),[g,m]=N.useState([]),[j,v]=N.useState(0),[w,_]=N.useState(1),[k,C]=N.useState(!1),O=9,[S,T]=N.useState("");N.useEffect(()=>{const E=setTimeout(()=>{T(a),_(1)},500);return()=>clearTimeout(E)},[a]),N.useEffect(()=>{_(1)},[i]),N.useEffect(()=>{P()},[w,S,i]);const P=async()=>{C(!0);try{const E=await e({search:S,sport_id:i==="all"?"":i,limit:O,page:w});E.success&&(m(E.blogs),v(E.pagination.total))}catch(E){console.error("Error fetching paginated blogs:",E)}finally{C(!1)}};N.useEffect(()=>{L()},[]);const L=async()=>{try{const E=await n();l(E||[])}catch(E){console.error("Error loading sports:",E)}},B=()=>{P(),p(!1)},M=()=>{P(),d(null)},I=async E=>{try{await t(E),ee("Xa blog thnh cng!","success"),P(),b(null)}catch($){console.error("Error deleting blog:",$),ee($.message||"C li xy ra khi xa blog","error")}},D=Math.ceil(j/O),V=()=>{const E=[];if(D<=5)for(let $=1;$<=D;$++)E.push($);else w<=3?E.push(1,2,3,4,"...",D):w>=D-2?E.push(1,"...",D-3,D-2,D-1,D):E.push(1,"...",w-1,w,w+1,"...",D);return E},z=E=>new Date(E).toLocaleDateString("vi-VN"),R=E=>{const $=document.createElement("DIV");return $.innerHTML=E,$.textContent||$.innerText||""};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"QUN L BLOG"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l bi vit cho h thng"})]}),r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:[r.jsx(wt,{size:20}),"To Blog"]})]}),r.jsx("div",{className:"bg-white p-6 border border-gray-200 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim theo tiu ...",value:a,onChange:E=>s(E.target.value),className:"w-full pl-12 pr-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200"})]}),r.jsx("div",{children:r.jsxs("select",{value:i,onChange:E=>o(E.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"all",children:"Tt c mn th thao"}),c.map(E=>r.jsx("option",{value:E.sport_id,children:E.sport_name},E.sport_id))]})})]})})]}),k&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-300 border-t-black rounded-full animate-spin"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti blogs..."})]}),!k&&g.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(E=>r.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-black transition-all duration-300 overflow-hidden group",children:[E.blog_thumbnail&&r.jsx("div",{className:"relative h-48 overflow-hidden",children:r.jsx("img",{src:E.blog_thumbnail,alt:E.blog_title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold tracking-tight mb-2 line-clamp-2",children:E.blog_title}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[E.User&&r.jsx("span",{children:E.User.user_name}),E.created_at&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:z(E.created_at)})]})]}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:R(E.blog_content)}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[E.Sport&&r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-semibold",children:E.Sport.sport_name}),E.Team&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold",children:E.Team.team_name}),E.Category&&r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-semibold",children:E.Category.category_name})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>y(E),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 transition-colors text-sm font-semibold",title:"Xem chi tit",children:[r.jsx(Vt,{size:16}),"Xem"]}),r.jsxs("button",{onClick:()=>d(E),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors text-sm font-semibold",title:"Chnh sa",children:[r.jsx(so,{size:16}),"Sa"]}),r.jsxs("button",{onClick:()=>b(E),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white hover:bg-red-700 transition-colors text-sm font-semibold",title:"Xa",children:[r.jsx(Kt,{size:16}),"Xa"]})]})]})]},E.blog_id))}),!k&&g.length===0&&r.jsxs("div",{className:"text-center py-16 bg-white border-2 border-dashed border-gray-300",children:[r.jsx(tg,{className:"mx-auto mb-4 text-gray-400",size:48}),r.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Khng tm thy blog"}),r.jsx("p",{className:"text-gray-500 mb-6",children:a?"Th thay i t kha tm kim hoc to blog mi":"Cha c blog no. To blog u tin ngay!"}),!a&&r.jsx("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:"To Blog u Tin"})]}),D>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx("button",{onClick:()=>_(E=>Math.max(E-1,1)),disabled:w===1,className:"px-4 py-2 text-sm text-gray-700 disabled:text-gray-300 hover:text-black disabled:cursor-not-allowed",children:"Trc"}),V().map((E,$)=>E==="..."?r.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${$}`):r.jsx("button",{onClick:()=>_(E),className:`px-4 py-2 text-sm ${w===E?"text-black font-bold underline":"text-gray-600 hover:text-black"}`,children:E},E)),r.jsx("button",{onClick:()=>_(E=>Math.min(E+1,D)),disabled:w===D,className:"px-4 py-2 text-sm text-gray-700 disabled:text-gray-300 hover:text-black disabled:cursor-not-allowed",children:"Sau"})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-md w-full p-8",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"XC NHN XA"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:['Bn c chc chn mun xa blog "',x.blog_title,'"? Hnh ng ny khng th hon tc.']}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>b(null),className:"flex-1 px-6 py-3 border-2 border-black text-black hover:bg-black hover:text-white transition-all duration-200 font-semibold uppercase",children:"Hy"}),r.jsx("button",{onClick:()=>I(x.blog_id),className:"flex-1 px-6 py-3 bg-red-600 text-white hover:bg-red-700 transition-all duration-200 font-semibold uppercase",children:"Xa"})]})]})}),r.jsx(qC,{isOpen:u,onClose:()=>p(!1),onSuccess:B}),h&&r.jsx(KC,{isOpen:!!h,onClose:()=>d(null),onSuccess:M,blog:h}),f&&r.jsx(WC,{isOpen:!!f,onClose:()=>y(null),blog:f})]})},QC=()=>{const{loading:e,error:t,createReport:n,deleteReport:a,getReportById:s,getReportsPaginated:i,exportReportToExcel:o}=JN(),{getAllOrders:c}=ld(),{getAllUsers:l}=Fo(),{vouchers:u,getAllVouchers:p}=Ho(),{blogs:h,getAllBlogs:d}=Uo(),{getAllProducts:f}=ja(),{products:y,fetchProducts:x}=Vo(),[b,g]=N.useState([]),[m,j]=N.useState(0),[v,w]=N.useState(1),[_,k]=N.useState(!1),C=5,[O,S]=N.useState(""),[T,P]=N.useState(""),[L,B]=N.useState(""),[M,I]=N.useState("revenue"),[D,V]=N.useState(""),[z,R]=N.useState(""),[E,$]=N.useState({}),[A,U]=N.useState(null),[H,F]=N.useState(!1),[q,X]=N.useState(null);N.useEffect(()=>{const re=setTimeout(()=>{P(O),w(1)},500);return()=>clearTimeout(re)},[O]);const G=async()=>{k(!0);try{const re=await i(T,L,C,v);g(re.data),j(re.total)}catch(re){console.error("Error fetching paginated reports:",re)}finally{k(!1)}};N.useEffect(()=>{G()},[T,L,v]),N.useEffect(()=>{const re=new Date,fe=new Date;fe.setDate(re.getDate()-30),R(re.toISOString().split("T")[0]),V(fe.toISOString().split("T")[0])},[]);const K=async()=>{if(!D||!z){alert("Vui lng chn khong thi gian");return}let re=null;if(M==="revenue"){const Ne=(await(c==null?void 0:c())??[]).filter(xe=>{var Xe,ir;const De=new Date(xe.order_date);return De>=new Date(D)&&De<=new Date(z)&&xe.order_status===" giao"&&(!E.payment_method||((Xe=xe.payment_method)==null?void 0:Xe.toLowerCase())===((ir=E.payment_method)==null?void 0:ir.toLowerCase()))}),ge=Ne.reduce((xe,De)=>xe+(Number(De.total_amount)||0),0),we=Ne.length,de={};Ne.forEach(xe=>{(xe.orderProducts??[]).forEach(De=>{const Xe=De.product_id;de[Xe]||(de[Xe]={product_name:De.product_name,total_quantity:0,total_revenue:0}),de[Xe].total_quantity+=De.quantity||0,de[Xe].total_revenue+=De.total_price||0})});const je=Object.values(de).sort((xe,De)=>De.total_quantity-xe.total_quantity).slice(0,10),ke=Ne.map(xe=>{var De,Xe,ir;return{order_id:xe.order_id,user_name:xe.recipient_name||((De=xe.User)==null?void 0:De.user_name)||"",total_amount:Number(xe.total_amount)||0,order_status:xe.order_status,order_date:xe.order_date,payment_method:((Xe=xe.Payment)==null?void 0:Xe.payment_method)||"",payment_status:((ir=xe.Payment)==null?void 0:ir.payment_status)||"",recipient_address:xe.recipient_address,recipient_phone:xe.recipient_phone,voucher_id:xe.voucher_id,orderProducts:xe.orderProducts??[],notes:xe.notes}});re={report_type:"revenue",from_date:D,to_date:z,total_value:ge,details:{orders:ke,total_revenue:ge,order_count:we,top_products:je}}}if(M==="orders"){const Ne=(await(c==null?void 0:c())??[]).filter(de=>{var ke,xe;const je=new Date(de.order_date);return je>=new Date(D)&&je<=new Date(z)&&(!E.order_status||de.order_status===E.order_status)&&(!E.payment_method||((xe=(ke=de.Payment)==null?void 0:ke.payment_method)==null?void 0:xe.toLowerCase())===E.payment_method.toLowerCase())}),ge={};Ne.forEach(de=>{const je=de.order_status||"Khc";ge[je]||(ge[je]={count:0,total:0}),ge[je].count+=1,ge[je].total+=Number(de.total_amount)||0});const we=Ne.map(de=>{var je,ke,xe;return{order_id:de.order_id,user_name:de.recipient_name||((je=de.User)==null?void 0:je.user_name)||"",total_amount:Number(de.total_amount)||0,order_status:de.order_status,order_date:de.order_date,payment_method:((ke=de.Payment)==null?void 0:ke.payment_method)||"",payment_status:((xe=de.Payment)==null?void 0:xe.payment_status)||"",recipient_address:de.recipient_address,recipient_phone:de.recipient_phone,voucher_id:de.voucher_id,orderProducts:de.orderProducts??[],notes:de.notes}});re={report_type:"orders",from_date:D,to_date:z,total_value:Ne.length,details:{total_orders:Ne.length,status_breakdown:ge,orders:we}}}if(M==="products"){const fe=await(f==null?void 0:f());re={report_type:"products",from_date:D,to_date:z,total_value:(fe??[]).length,details:{products:fe??[]}}}if(M==="users"){const fe=await(l==null?void 0:l()),Ne=await(c==null?void 0:c()),we=(fe??[]).filter(de=>{const je=new Date(de.created_at||"");return je>=new Date(D)&&je<=new Date(z)&&(!E.user_status||de.user_status===E.user_status)}).map(de=>{const je=(Ne??[]).filter(xe=>xe.user_id===de.user_id&&xe.order_status===" giao"),ke=je.reduce((xe,De)=>{const Xe=Number(De.total_amount);return xe+(isNaN(Xe)?0:Xe)},0);return{user_id:de.user_id,user_name:de.user_name,email:de.user_email,phone:de.user_phone,user_status:de.user_status,registration_date:de.created_at,total_orders:je.length,total_spent:ke}});re={report_type:"users",from_date:D,to_date:z,total_value:we.length,details:{total_users:we.length,active_users:we.filter(de=>de.user_status).length,inactive_users:we.filter(de=>!de.user_status).length,users:we}}}if(M==="vouchers"){u.length===0&&await p();const Ne=(u??[]).filter(ke=>{const xe=ke.created_at?new Date(ke.created_at):null,De=new Date(D),Xe=new Date(z),ir=xe?xe>=De&&xe<=Xe:!1,Fs=!E.voucher_status||ke.voucher_status===E.voucher_status;return ir&&Fs}),ge=Ne.length,we=Ne.filter(ke=>ke.voucher_status==="active").length,de=Ne.filter(ke=>ke.voucher_status==="inactive").length,je=Ne.reduce((ke,xe)=>ke+(Number(xe.discount_value)||0),0);re={report_type:"vouchers",from_date:D,to_date:z,total_value:ge,details:{vouchers:Ne,total_vouchers:ge,active_vouchers:we,inactive_vouchers:de,total_discount_given:je}}}if(M==="blogs"){h.length===0&&await d();const Ne=(h??[]).filter(we=>{const de=we.created_at?new Date(we.created_at):null,je=new Date(D),ke=new Date(z);return de?de>=je&&de<=ke:!1}),ge={};Ne.forEach(we=>{var je;const de=((je=we.Sport)==null?void 0:je.sport_name)||"Khc";ge[de]=(ge[de]||0)+1}),re={report_type:"blogs",from_date:D,to_date:z,total_value:Ne.length,details:{blogs:Ne,total_blogs:Ne.length,blogs_by_sport:ge}}}if(M==="inventory"){y.length===0&&await x();const fe=new Date(D),Ne=new Date(z),we=y.flatMap(de=>Array.isArray(de.Variant)?de.Variant:[]).filter(de=>{if(!de.updated_at)return!1;const je=new Date(de.updated_at);return je>=fe&&je<=Ne});re={report_type:"inventory",from_date:D,to_date:z,total_value:we.length,details:{variants:we,total_variants:we.length}}}if(M==="warehouse"){y.length===0&&await x();const fe=y.flatMap(de=>Array.isArray(de.Variant)?de.Variant:[]),Ne=await(c==null?void 0:c()),ge={};(Ne??[]).forEach(de=>{(de.orderProducts??[]).forEach(je=>{var De;const ke=je.Variant,xe=`${ke.variant_id}`;ge[xe]||(ge[xe]={product_name:((De=ke.Product)==null?void 0:De.product_name)||ke.product_name||"",variant_id:ke.variant_id,variant_size:ke.variant_size,variant_color:ke.variant_color,total_exported:0,last_exported_at:de.order_date}),ge[xe].total_exported+=Number(je.quantity)||0,(!ge[xe].last_exported_at||new Date(de.order_date)>new Date(ge[xe].last_exported_at))&&(ge[xe].last_exported_at=de.order_date)})});const we=Object.values(ge).reduce((de,je)=>de+(Number(je.total_exported)||0),0);re={report_type:"warehouse",from_date:D,to_date:z,total_value:E.warehouse_type==="export"?we:fe.length,details:{imported_variants:fe,exported_variants:Object.values(ge),total_exported_quantity:we,warehouse_type:E.warehouse_type||"import"}}}U(re),F(!0)},W=(re,fe)=>{switch(re){case"revenue":return"Doanh thu";case"orders":return"n hng";case"products":return"Sn phm";case"users":return"Ngi dng";case"vouchers":return"Voucher";case"blogs":return"Blog";case"inventory":return"Nhp kho";case"warehouse":return fe==="import"?"Kho - Nhp":fe==="export"?"Kho - Xut":"Kho";default:return re}},Q=async()=>{var ge;if(!A)return;let re=A.details,fe=W(A.report_type,re.warehouse_type);A.report_type==="warehouse"&&(re.warehouse_type==="import"?re={warehouse_type:"import",imported_variants:re.imported_variants,total_imported:((ge=re.imported_variants)==null?void 0:ge.length)||0}:re.warehouse_type==="export"&&(re={warehouse_type:"export",exported_variants:re.exported_variants,total_exported_quantity:re.total_exported_quantity||0})),await n(fe,A.from_date,A.to_date,E,A.total_value,re)&&(alert("Lu bo co thnh cng!"),F(!1),U(null),G())},ne=async re=>{window.confirm("Bn c chc chn mun xa bo co ny?")&&await a(re)&&G()},le=async re=>{await o(re)},pe=async re=>{const fe=await s(re);console.log("Report details received:",fe),fe&&X(fe)},ve=()=>{X(null)},te=()=>{var Ne;if(!q)return null;let re=q.details,fe=0;for(;typeof re=="string"&&fe<5;)try{re=JSON.parse(re),fe++}catch{break}return console.log("Parsed details for report:",re),(Ne=q.report_type)!=null&&Ne.toLowerCase().includes("xut")&&(!re.exported_variants||!Array.isArray(re.exported_variants))?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white border-4 border-black p-8 max-w-5xl w-full relative",children:[r.jsx("button",{onClick:ve,className:"absolute top-4 right-4 px-4 py-2 border-2 border-black font-bold hover:bg-gray-100",children:"NG"}),r.jsx("h2",{className:"text-2xl font-black uppercase mb-6",children:"CHI TIT BO CO"}),r.jsx("div",{className:"mb-4",children:"Khng c d liu chi tit xut kho."})]})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white border-4 border-black p-8 max-w-5xl w-full relative",style:{maxHeight:"90vh",overflow:"auto"},children:[r.jsx("button",{onClick:ve,className:"absolute top-4 right-4 px-4 py-2 border-2 border-black font-bold hover:bg-gray-100",children:"NG"}),r.jsx("h2",{className:"text-2xl font-black uppercase mb-6",children:"CHI TIT BO CO"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"font-bold",children:"Loi bo co:"}),r.jsx("div",{children:q.report_type})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"font-bold",children:"Thi gian:"}),r.jsxs("div",{children:[q.from_date," - ",q.to_date]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"font-bold",children:"Gi tr tng:"}),r.jsx("div",{children:q.total_value})]}),r.jsxs("div",{className:"border-2 border-black p-4",style:{maxHeight:"60vh",overflowY:"auto"},children:[r.jsx("h3",{className:"font-black mb-3",children:"Chi tit"}),me(re,q.report_type)]})]})})},Y=()=>r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"LOI BO CO"}),r.jsxs("select",{value:M,onChange:re=>I(re.target.value),className:"w-full px-4 py-3 border-2 border-black bg-white text-black font-medium focus:outline-none focus:ring-2 focus:ring-black",children:[r.jsx("option",{value:"revenue",children:"BO CO DOANH THU"}),r.jsx("option",{value:"orders",children:"BO CO N HNG"}),r.jsx("option",{value:"products",children:"BO CO SN PHM"}),r.jsx("option",{value:"users",children:"BO CO NGI DNG"}),r.jsx("option",{value:"vouchers",children:"BO CO VOUCHER"}),r.jsx("option",{value:"blogs",children:"BO CO BLOG"}),r.jsx("option",{value:"inventory",children:"BO CO NHP KHO"}),r.jsx("option",{value:"warehouse",children:"BO CO XUT NHP KHO"})]})]}),Z=()=>r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"T NGY"}),r.jsx("input",{type:"date",value:D,onChange:re=>V(re.target.value),className:"w-full px-4 py-3 border-2 border-black bg-white text-black font-medium focus:outline-none focus:ring-2 focus:ring-black"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"N NGY"}),r.jsx("input",{type:"date",value:z,onChange:re=>R(re.target.value),className:"w-full px-4 py-3 border-2 border-black bg-white text-black font-medium focus:outline-none focus:ring-2 focus:ring-black"})]})]}),J=()=>{switch(M){case"revenue":case"orders":return r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"PHNG THC THANH TON"}),r.jsxs("select",{value:E.payment_method||"",onChange:re=>$({...E,payment_method:re.target.value||void 0}),className:"w-full px-4 py-3 border-2 border-black bg-white text-black font-medium focus:outline-none focus:ring-2 focus:ring-black",children:[r.jsx("option",{value:"",children:"TT C"}),r.jsx("option",{value:"COD",children:"COD"}),r.jsx("option",{value:"banking",children:"MOMO"})]})]});case"vouchers":return r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"TRNG THI VOUCHER"}),r.jsxs("select",{value:E.voucher_status||"",onChange:re=>$({...E,voucher_status:re.target.value||void 0}),className:"w-full px-4 py-3 border-2 border-black bg-white text-black font-medium focus:outline-none focus:ring-2 focus:ring-black",children:[r.jsx("option",{value:"",children:"TT C"}),r.jsx("option",{value:"active",children:"HOT NG"}),r.jsx("option",{value:"inactive",children:"NGNG HOT NG"})]})]});case"warehouse":return r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"CHN LOI XUT/NHP KHO"}),r.jsxs("select",{value:E.warehouse_type||"import",onChange:re=>$({...E,warehouse_type:re.target.value}),className:"w-full px-4 py-3 border-2 border-black bg-white text-black font-medium focus:outline-none focus:ring-2 focus:ring-black",children:[r.jsx("option",{value:"import",children:"NHP KHO"}),r.jsx("option",{value:"export",children:"XUT KHO"})]})]});default:return null}},se=()=>{if(!A)return null;const re=A.details;return r.jsxs("div",{className:"bg-white border-4 border-black p-8 mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-black uppercase",children:"PREVIEW BO CO"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:Q,disabled:e,className:"px-6 py-3 bg-black text-white font-bold hover:bg-gray-800 disabled:bg-gray-400",children:"LU BO CO"}),r.jsx("button",{onClick:()=>F(!1),className:"px-6 py-3 border-2 border-black font-bold hover:bg-gray-100",children:"NG"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"LOI BO CO"}),r.jsx("div",{className:"text-xl font-black uppercase",children:M})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"KHONG THI GIAN"}),r.jsxs("div",{className:"text-lg font-bold",children:[D," - ",z]})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"GI TR TNG"}),r.jsx("div",{className:"text-xl font-black",children:M==="revenue"||M==="products"?tt(A.total_value):A.total_value})]})]}),r.jsxs("div",{className:"border-2 border-black p-6",children:[r.jsx("h3",{className:"text-xl font-black mb-4",children:"CHI TIT"}),me(re)]})]})},ae=re=>{switch(re){case"Doanh thu":return"revenue";case"n hng":return"orders";case"Sn phm":return"products";case"Ngi dng":return"users";case"Voucher":return"vouchers";case"Blog":return"blogs";case"Nhp kho":return"inventory";case"Kho - Nhp":return"warehouse";case"Kho - Xut":return"warehouse";default:return re}},me=(re,fe)=>{var ge,we,de,je,ke,xe,De,Xe,ir,Fs;switch(ae(fe||M)){case"revenue":return r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG DOANH THU"}),r.jsx("div",{className:"text-2xl font-black",children:tt(re.total_revenue)})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"S N HNG"}),r.jsx("div",{className:"text-2xl font-black",children:re.order_count})]})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT N HNG"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"M n"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Khch"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Tng Tin"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Trng Thi"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy To"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Thanh Ton"})]})}),r.jsx("tbody",{children:(ge=re.orders)==null?void 0:ge.map(oe=>r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.order_id}),r.jsx("td",{className:"py-2",children:oe.user_name}),r.jsx("td",{className:"text-right py-2 font-bold",children:tt(oe.total_amount)}),r.jsx("td",{className:"text-right py-2",children:oe.order_status}),r.jsx("td",{className:"text-right py-2",children:oe.order_date?new Date(oe.order_date).toLocaleDateString("vi-VN"):""}),r.jsx("td",{className:"text-right py-2",children:oe.payment_method})]},oe.order_id))})]})]})]});case"orders":return r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG N HNG"}),r.jsx("div",{className:"text-2xl font-black",children:re.total_orders})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600 mb-2",children:"THEO TRNG THI"}),Object.entries(re.status_breakdown||{}).map(([oe,Nt])=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"font-bold uppercase",children:[oe,":"]}),r.jsxs("span",{children:[Nt.count," (",tt(Nt.total),")"]})]},oe))]})]}),r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT N HNG"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"M n"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Khch"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Tng Tin"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Trng Thi"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy To"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Thanh Ton"})]})}),r.jsx("tbody",{children:(we=re.orders)==null?void 0:we.map(oe=>r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.order_id}),r.jsx("td",{className:"py-2",children:oe.user_name}),r.jsx("td",{className:"text-right py-2 font-bold",children:tt(oe.total_amount)}),r.jsx("td",{className:"text-right py-2",children:oe.order_status}),r.jsx("td",{className:"text-right py-2",children:oe.order_date?new Date(oe.order_date).toLocaleDateString("vi-VN"):""}),r.jsx("td",{className:"text-right py-2",children:oe.payment_method})]},oe.order_id))})]})]})]});case"products":return r.jsxs("div",{children:[r.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG SN PHM"}),r.jsx("div",{className:"text-2xl font-black",children:((de=re.products)==null?void 0:de.length)??0})]})}),r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT SN PHM"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"Tn sn phm"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Danh mc"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Gi bn"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Tn kho"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy to"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Trng thi"})]})}),r.jsx("tbody",{children:(je=re.products)==null?void 0:je.map(oe=>{var Nt;return r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.product_name}),r.jsx("td",{className:"py-2",children:((Nt=oe.Category)==null?void 0:Nt.category_name)||""}),r.jsx("td",{className:"text-right py-2 font-bold",children:tt(oe.product_price)}),r.jsx("td",{className:"text-right py-2",children:oe.stock}),r.jsx("td",{className:"text-right py-2",children:oe.created_at?new Date(oe.created_at).toLocaleDateString("vi-VN"):""}),r.jsx("td",{className:"text-right py-2",children:oe.is_active?"Hot ng":"Ngng"})]},oe.product_id)})})]})]})]});case"users":return r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG NGI DNG"}),r.jsx("div",{className:"text-2xl font-black",children:re.total_users})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"ANG HOT NG"}),r.jsx("div",{className:"text-2xl font-black",children:re.active_users})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"NGNG HOT NG"}),r.jsx("div",{className:"text-2xl font-black",children:re.inactive_users})]})]}),r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT NGI DNG"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"Tn"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Email"}),r.jsx("th",{className:"text-right py-2 font-black",children:"n  giao"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Tng Chi Tiu"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy ng K"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Trng Thi"})]})}),r.jsx("tbody",{children:(ke=re.users)==null?void 0:ke.map(oe=>r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.user_name}),r.jsx("td",{className:"py-2",children:oe.email}),r.jsx("td",{className:"text-right py-2",children:oe.total_orders}),r.jsx("td",{className:"text-right py-2 font-bold",children:tt(oe.total_spent)}),r.jsx("td",{className:"text-right py-2",children:oe.registration_date?new Date(oe.registration_date).toLocaleDateString("vi-VN"):""}),r.jsx("td",{className:"text-right py-2",children:oe.user_status?"Hot ng":"Ngng"})]},oe.user_id))})]})]})]});case"vouchers":return r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG VOUCHER"}),r.jsx("div",{className:"text-2xl font-black",children:re.total_vouchers})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"ANG HOT NG"}),r.jsx("div",{className:"text-2xl font-black",children:re.active_vouchers})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG GIM GI"}),r.jsx("div",{className:"text-2xl font-black",children:tt(re.total_discount_given)})]})]}),r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT VOUCHER"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"M Voucher"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Loi"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Gi tr gim"}),r.jsx("th",{className:"text-right py-2 font-black",children:"n ti thiu"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy bt u"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy kt thc"}),r.jsx("th",{className:"text-right py-2 font-black",children:"S lt dng"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Gii hn"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Trng thi"})]})}),r.jsx("tbody",{children:(xe=re.vouchers)==null?void 0:xe.map(oe=>r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.voucher_code}),r.jsx("td",{className:"py-2",children:oe.discount_type}),r.jsx("td",{className:"text-right py-2 font-bold",children:tt(oe.discount_value)}),r.jsx("td",{className:"text-right py-2",children:tt(oe.min_order_value)}),r.jsx("td",{className:"text-right py-2",children:oe.start_date?new Date(oe.start_date).toLocaleDateString("vi-VN"):""}),r.jsx("td",{className:"text-right py-2",children:oe.end_date?new Date(oe.end_date).toLocaleDateString("vi-VN"):""}),r.jsx("td",{className:"text-right py-2",children:oe.used_count}),r.jsx("td",{className:"text-right py-2",children:oe.usage_limit}),r.jsx("td",{className:"text-right py-2",children:oe.voucher_status==="active"?"Hot ng":"Ngng"})]},oe.voucher_id))})]})]})]});case"blogs":return r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG BLOG"}),r.jsx("div",{className:"text-2xl font-black",children:re.total_blogs})]}),r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600 mb-2",children:"THEO TH THAO"}),Object.entries(re.blogs_by_sport||{}).map(([oe,Nt])=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"font-bold",children:[oe,":"]}),r.jsx("span",{children:Nt})]},oe))]})]}),r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT BLOG"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"Tiu "}),r.jsx("th",{className:"text-left py-2 font-black",children:"Ngi vit"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Th thao"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Ngy to"})]})}),r.jsx("tbody",{children:(De=re.blogs)==null?void 0:De.map(oe=>{var Nt,hd;return r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.blog_title}),r.jsx("td",{className:"py-2",children:((Nt=oe.User)==null?void 0:Nt.user_name)||""}),r.jsx("td",{className:"py-2",children:((hd=oe.Sport)==null?void 0:hd.sport_name)||"Khc"}),r.jsx("td",{className:"py-2",children:oe.created_at?new Date(oe.created_at).toLocaleDateString("vi-VN"):""})]},oe.blog_id)})})]})]})]});case"inventory":return r.jsxs("div",{children:[r.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:r.jsxs("div",{className:"border-2 border-black p-4",children:[r.jsx("div",{className:"text-sm font-bold text-gray-600",children:"TNG BIN TH NHP KHO"}),r.jsx("div",{className:"text-2xl font-black",children:re.total_variants})]})}),r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT NHP KHO"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"Tn sn phm"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Mu"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Size"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Tn kho"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy cp nht"})]})}),r.jsx("tbody",{children:(Xe=re.variants)==null?void 0:Xe.map(oe=>r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.product_name}),r.jsx("td",{className:"py-2",children:oe.variant_color}),r.jsx("td",{className:"py-2",children:oe.variant_size}),r.jsx("td",{className:"text-right py-2",children:oe.variant_stock}),r.jsx("td",{className:"text-right py-2",children:oe.updated_at?new Date(oe.updated_at).toLocaleDateString("vi-VN"):""})]},oe.variant_id))})]})]})]});case"warehouse":return r.jsxs("div",{children:[re.warehouse_type==="export"&&r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT XUT KHO"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"Tn sn phm"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Mu"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Size"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Tng xut"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy xut gn nht"})]})}),r.jsx("tbody",{children:(ir=re.exported_variants)==null?void 0:ir.map(oe=>r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:oe.product_name}),r.jsx("td",{className:"py-2",children:oe.variant_color}),r.jsx("td",{className:"py-2",children:oe.variant_size}),r.jsx("td",{className:"text-right py-2",children:oe.total_exported}),r.jsx("td",{className:"text-right py-2",children:oe.last_exported_at?new Date(oe.last_exported_at).toLocaleDateString("vi-VN"):""})]},oe.variant_id))})]})]}),(re.warehouse_type==="import"||!re.warehouse_type)&&r.jsxs("div",{className:"border-2 border-black p-4 mt-4",children:[r.jsx("h4",{className:"font-black mb-3",children:"CHI TIT NHP KHO"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b-2 border-black",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 font-black",children:"Tn sn phm"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Mu"}),r.jsx("th",{className:"text-left py-2 font-black",children:"Size"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Tn kho"}),r.jsx("th",{className:"text-right py-2 font-black",children:"Ngy nhp"})]})}),r.jsx("tbody",{children:(Fs=re.imported_variants)==null?void 0:Fs.map(oe=>{var Nt;return r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-2",children:((Nt=oe.Product)==null?void 0:Nt.product_name)||oe.product_name||""}),r.jsx("td",{className:"py-2",children:oe.variant_color}),r.jsx("td",{className:"py-2",children:oe.variant_size}),r.jsx("td",{className:"text-right py-2",children:oe.variant_stock}),r.jsx("td",{className:"text-right py-2",children:oe.created_at?new Date(oe.created_at).toLocaleDateString("vi-VN"):""})]},oe.variant_id)})})]})]})]});default:return r.jsx("div",{children:"Khng c d liu"})}},ce=Math.ceil(m/C),ye=()=>{const re=[];if(ce<=5)for(let fe=1;fe<=ce;fe++)re.push(fe);else v<=3?re.push(1,2,3,"...",ce):v>=ce-2?re.push(1,"...",ce-2,ce-1,ce):re.push(1,"...",v-1,v,v+1,"...",ce);return re},pt=()=>r.jsxs("div",{className:"bg-white border-4 border-black p-8",children:[r.jsx("h2",{className:"text-2xl font-black mb-6 uppercase",children:"BO CO  LU"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"TM KIM"}),r.jsx("input",{type:"text",placeholder:"Tm theo loi bo co, m t, ngi to...",value:O,onChange:re=>S(re.target.value),className:"w-full border-2 border-black p-3 focus:outline-none focus:ring-2 focus:ring-black"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"LOI BO CO"}),r.jsxs("select",{value:L,onChange:re=>{B(re.target.value),w(1)},className:"w-full border-2 border-black p-3 focus:outline-none focus:ring-2 focus:ring-black",children:[r.jsx("option",{value:"",children:"Tt c"}),r.jsx("option",{value:"Doanh thu",children:"Doanh thu"}),r.jsx("option",{value:"n hng",children:"n hng"}),r.jsx("option",{value:"Sn phm",children:"Sn phm"}),r.jsx("option",{value:"Ngi dng",children:"Ngi dng"}),r.jsx("option",{value:"Voucher",children:"Voucher"}),r.jsx("option",{value:"Blog",children:"Blog"}),r.jsx("option",{value:"Kho - Nhp",children:"Kho - Nhp"}),r.jsx("option",{value:"Kho - Xut",children:"Kho - Xut"})]})]})]}),_?r.jsx("div",{className:"text-center py-8",children:"ang ti..."}):b.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:O||L?"Khng tm thy bo co no":"Cha c bo co no c lu"}):r.jsx("div",{className:"grid gap-4",children:b.map(re=>r.jsx("div",{className:"border-2 border-black p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-black uppercase mb-2",children:re.report_type}),r.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(re.from_date).toLocaleDateString("vi-VN")," -"," ",new Date(re.to_date).toLocaleDateString("vi-VN")]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["To:"," ",new Date(re.created_at).toLocaleDateString("vi-VN")," ","bi ",re.created_by]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-black mb-2",children:re.report_type==="revenue"||re.report_type==="products"?tt(re.total_value):re.total_value}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>le(re.report_id),className:"px-4 py-2 bg-green-600 text-white text-sm font-bold hover:bg-green-700",children:"EXCEL"}),r.jsx("button",{onClick:()=>ne(re.report_id),className:"px-4 py-2 bg-black text-white text-sm font-bold hover:bg-gray-800",children:"XA"}),r.jsx("button",{onClick:()=>pe(re.report_id),className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold hover:bg-blue-700",children:"XEM CHI TIT"})]})]})]})},re.report_id))}),!_&&ce>0&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[r.jsx("button",{onClick:()=>w(re=>Math.max(re-1,1)),disabled:v===1,className:"px-4 py-2 text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Trc"}),ye().map((re,fe)=>r.jsx("button",{onClick:()=>typeof re=="number"&&w(re),disabled:re==="...",className:`px-3 py-2 text-sm font-bold ${v===re?"bg-black text-white":re==="..."?"cursor-default":"hover:bg-gray-100"}`,children:re},fe)),r.jsx("button",{onClick:()=>w(re=>Math.min(re+1,ce)),disabled:v===ce,className:"px-4 py-2 text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Sau"})]}),te()]});return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-black mb-10 uppercase text-center tracking-tight",children:"BO CO QUN TR"}),t&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 text-center font-semibold",children:t}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-8 mb-10",children:[r.jsx("h2",{className:"text-2xl font-black mb-6 uppercase text-gray-900",children:"TO BO CO MI"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Y(),Z()]}),J(),r.jsx("button",{onClick:K,disabled:e,className:"w-full px-6 py-4 bg-black text-white font-black text-lg rounded-lg hover:bg-gray-800 disabled:bg-gray-400 transition-colors mt-4",children:e?"ANG X L...":"XEM TRC BO CO"})]}),H&&r.jsx("div",{className:"mb-10",children:se()}),r.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-8",children:pt()})]})})};function vf({children:e}){const{isAuthenticated:t,loading:n}=jt();return n?r.jsx(Bo,{}):t?e:r.jsx(Ss,{to:"/login",replace:!0})}function YC({children:e}){const{isAuthenticated:t,user:n,loading:a}=jt();return a?r.jsx(Bo,{}):t?(n==null?void 0:n.role_id)!==0?r.jsx(Ss,{to:"/",replace:!0}):e:r.jsx(Ss,{to:"/login",replace:!0})}function JC(){const{user:e,logout:t,loading:n}=jt(),a=Ce();return n?r.jsx(Bo,{}):r.jsxs(r.Fragment,{children:[r.jsx(t1,{user:e,onLogout:t}),r.jsx("main",{className:"flex-1 min-h-screen",children:r.jsxs(Wu,{children:[r.jsx(Se,{path:"/",element:r.jsx(zj,{})}),r.jsx(Se,{path:"/products",element:r.jsx(Uj,{})}),r.jsx(Se,{path:"/product/:id",element:r.jsx(Yj,{})}),r.jsx(Se,{path:"/blog",element:r.jsx(qw,{})}),r.jsx(Se,{path:"/blog/:blog_id",element:r.jsx(Fh,{})})," ",r.jsx(Se,{path:"/login",element:r.jsx(Gw,{})}),r.jsx(Se,{path:"/profile",element:r.jsx(vf,{children:r.jsx(Kw,{})})}),r.jsx(Se,{path:"/cart",element:r.jsx(Zj,{onNavigate:a})}),r.jsx(Se,{path:"/order-history",element:r.jsx(vf,{children:r.jsx(sN,{})})}),r.jsx(Se,{path:"/order-info",element:r.jsx(Uw,{})}),r.jsx(Se,{path:"/blog/:id",element:r.jsx(Fh,{})}),r.jsx(Se,{path:"/wishlist",element:r.jsx(iN,{})}),r.jsx(Se,{path:"/order-detail/:orderId",element:r.jsx(lN,{})}),r.jsx(Se,{path:"*",element:r.jsx(Ss,{to:"/",replace:!0})})]})}),r.jsx(r1,{})]})}function ZC(){return r.jsx("div",{className:"flex flex-col min-h-screen",children:r.jsx(ub,{children:r.jsx(Zv,{children:r.jsx(db,{children:r.jsx(hb,{children:r.jsx(fb,{children:r.jsx(Yb,{children:r.jsx(Jb,{children:r.jsxs(Qw,{children:[r.jsx(Qb,{})," ",r.jsxs(Wu,{children:[r.jsx(Se,{path:"/admin/*",element:r.jsx(YC,{children:r.jsx(eE,{})})}),r.jsx(Se,{path:"/*",element:r.jsx(JC,{})})]})]})})})})})})})})})}function eE(){const{logout:e,user:t}=jt();return r.jsx(yN,{children:r.jsx(NN,{children:r.jsx(zN,{children:r.jsx(_N,{children:r.jsx(a2,{children:r.jsx(ON,{children:r.jsx(QN,{children:r.jsx(YN,{children:r.jsx(ZN,{children:r.jsx(fN,{onLogout:e,adminName:t==null?void 0:t.user_name,children:r.jsxs(Wu,{children:[r.jsx(Se,{path:"/",element:r.jsx(gN,{children:r.jsx(xN,{})})}),r.jsx(Se,{path:"/users",element:r.jsx(wN,{})}),r.jsx(Se,{path:"/products",element:r.jsx(PN,{})}),r.jsx(Se,{path:"/categories",element:r.jsx(XN,{})}),r.jsx(Se,{path:"/orders",element:r.jsx(IN,{})}),r.jsx(Se,{path:"/orders/:orderId",element:r.jsx(DN,{})}),r.jsx(Se,{path:"/inventory",element:r.jsx(UN,{})}),r.jsx(Se,{path:"/suppliers",element:r.jsx(n2,{})}),r.jsx(Se,{path:"/product-images",element:r.jsx(o2,{})}),r.jsx(Se,{path:"/vouchers",element:r.jsx(u2,{})}),r.jsx(Se,{path:"/blogs",element:r.jsx(XC,{})}),r.jsx(Se,{path:"/reports",element:r.jsx(QC,{})}),r.jsx(Se,{path:"*",element:r.jsx(Ss,{to:"/admin",replace:!0})})]})})})})})})})})})})})}Im(document.getElementById("root")).render(r.jsx(N.StrictMode,{children:r.jsx(ZC,{})}));
