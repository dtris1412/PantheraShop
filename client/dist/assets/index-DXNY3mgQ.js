(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ah={exports:{}},Ji={},sh={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),Jg=Symbol.for("react.portal"),Zg=Symbol.for("react.fragment"),ex=Symbol.for("react.strict_mode"),tx=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ix=Symbol.for("react.memo"),lx=Symbol.for("react.lazy"),Yu=Symbol.iterator;function ox(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var ih={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lh=Object.assign,oh={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=oh,this.updater=n||ih}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ch(){}ch.prototype=Xn.prototype;function Ec(e,t,n){this.props=e,this.context=t,this.refs=oh,this.updater=n||ih}var Pc=Ec.prototype=new ch;Pc.constructor=Ec;lh(Pc,Xn.prototype);Pc.isPureReactComponent=!0;var Ju=Array.isArray,uh=Object.prototype.hasOwnProperty,Oc={current:null},dh={key:!0,ref:!0,__self:!0,__source:!0};function fh(e,t,n){var a,s={},i=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)uh.call(t,a)&&!dh.hasOwnProperty(a)&&(s[a]=t[a]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)s[a]===void 0&&(s[a]=c[a]);return{$$typeof:hs,type:e,key:i,ref:l,props:s,_owner:Oc.current}}function cx(e,t){return{$$typeof:hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===hs}function ux(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zu=/\/+/g;function Al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ux(""+e.key):t.toString(36)}function ei(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case hs:case Jg:l=!0}}if(l)return l=e,s=s(l),e=a===""?"."+Al(l,0):a,Ju(s)?(n="",e!=null&&(n=e.replace(Zu,"$&/")+"/"),ei(s,t,n,"",function(d){return d})):s!=null&&(Ac(s)&&(s=cx(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Zu,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=a===""?".":a+":",Ju(e))for(var c=0;c<e.length;c++){i=e[c];var o=a+Al(i,c);l+=ei(i,t,n,o,s)}else if(o=ox(e),typeof o=="function")for(e=o.call(e),c=0;!(i=e.next()).done;)i=i.value,o=a+Al(i,c++),l+=ei(i,t,n,o,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ks(e,t,n){if(e==null)return e;var a=[],s=0;return ei(e,a,"","",function(i){return t.call(n,i,s++)}),a}function dx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},ti={transition:null},fx={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ti,ReactCurrentOwner:Oc};function hh(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:ks,forEach:function(e,t,n){ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ks(e,function(){t++}),t},toArray:function(e){return ks(e,function(t){return t})||[]},only:function(e){if(!Ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Xn;he.Fragment=Zg;he.Profiler=tx;he.PureComponent=Ec;he.StrictMode=ex;he.Suspense=sx;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fx;he.act=hh;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=lh({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Oc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)uh.call(t,o)&&!dh.hasOwnProperty(o)&&(a[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:hs,type:e.type,key:s,ref:i,props:a,_owner:l}};he.createContext=function(e){return e={$$typeof:nx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rx,_context:e},e.Consumer=e};he.createElement=fh;he.createFactory=function(e){var t=fh.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:ax,render:e}};he.isValidElement=Ac;he.lazy=function(e){return{$$typeof:lx,_payload:{_status:-1,_result:e},_init:dx}};he.memo=function(e,t){return{$$typeof:ix,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=ti.transition;ti.transition={};try{e()}finally{ti.transition=t}};he.unstable_act=hh;he.useCallback=function(e,t){return et.current.useCallback(e,t)};he.useContext=function(e){return et.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return et.current.useDeferredValue(e)};he.useEffect=function(e,t){return et.current.useEffect(e,t)};he.useId=function(){return et.current.useId()};he.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return et.current.useMemo(e,t)};he.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};he.useRef=function(e){return et.current.useRef(e)};he.useState=function(e){return et.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return et.current.useTransition()};he.version="18.3.1";sh.exports=he;var E=sh.exports;const Ne=nh(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=E,mx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,xx=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function mh(e,t,n){var a,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)gx.call(t,a)&&!yx.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:mx,type:e,key:i,ref:l,props:s,_owner:xx.current}}Ji.Fragment=px;Ji.jsx=mh;Ji.jsxs=mh;ah.exports=Ji;var r=ah.exports,ph={exports:{}},xt={},gh={exports:{}},xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,$){var M=z.length;z.push($);e:for(;0<M;){var I=M-1>>>1,V=z[I];if(0<s(V,$))z[I]=$,z[M]=V,M=I;else break e}}function n(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var $=z[0],M=z.pop();if(M!==$){z[0]=M;e:for(var I=0,V=z.length,F=V>>>1;I<F;){var H=2*(I+1)-1,D=z[H],R=H+1,U=z[R];if(0>s(D,M))R<V&&0>s(U,D)?(z[I]=U,z[R]=M,I=R):(z[I]=D,z[H]=M,I=H);else if(R<V&&0>s(U,M))z[I]=U,z[R]=M,I=R;else break e}}return $}function s(z,$){var M=z.sortIndex-$.sortIndex;return M!==0?M:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],d=[],f=1,m=null,u=3,h=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var $=n(d);$!==null;){if($.callback===null)a(d);else if($.startTime<=z)a(d),$.sortIndex=$.expirationTime,t(o,$);else break;$=n(d)}}function v(z){if(y=!1,w(z),!x)if(n(o)!==null)x=!0,B(j);else{var $=n(d);$!==null&&q(v,$.startTime-z)}}function j(z,$){x=!1,y&&(y=!1,p(T),T=-1),h=!0;var M=u;try{for(w($),m=n(o);m!==null&&(!(m.expirationTime>$)||z&&!N());){var I=m.callback;if(typeof I=="function"){m.callback=null,u=m.priorityLevel;var V=I(m.expirationTime<=$);$=e.unstable_now(),typeof V=="function"?m.callback=V:m===n(o)&&a(o),w($)}else a(o);m=n(o)}if(m!==null)var F=!0;else{var H=n(d);H!==null&&q(v,H.startTime-$),F=!1}return F}finally{m=null,u=M,h=!1}}var k=!1,S=null,T=-1,O=5,C=-1;function N(){return!(e.unstable_now()-C<O)}function _(){if(S!==null){var z=e.unstable_now();C=z;var $=!0;try{$=S(!0,z)}finally{$?P():(k=!1,S=null)}}else k=!1}var P;if(typeof g=="function")P=function(){g(_)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=_,P=function(){L.postMessage(null)}}else P=function(){b(_,0)};function B(z){S=z,k||(k=!0,P())}function q(z,$){T=b(function(){z(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,B(j))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(z){switch(u){case 1:case 2:case 3:var $=3;break;default:$=u}var M=u;u=$;try{return z()}finally{u=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=u;u=z;try{return $()}finally{u=M}},e.unstable_scheduleCallback=function(z,$,M){var I=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=M+V,z={id:f++,callback:$,priorityLevel:z,startTime:M,expirationTime:V,sortIndex:-1},M>I?(z.sortIndex=M,t(d,z),n(o)===null&&z===n(d)&&(y?(p(T),T=-1):y=!0,q(v,M-I))):(z.sortIndex=V,t(o,z),x||h||(x=!0,B(j))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var $=u;return function(){var M=u;u=$;try{return z.apply(this,arguments)}finally{u=M}}}})(xh);gh.exports=xh;var vx=gh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=E,gt=vx;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yh=new Set,Ga={};function hn(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(Ga[e]=t,e=0;e<t.length;e++)yh.add(t[e])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=Object.prototype.hasOwnProperty,wx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function jx(e){return No.call(td,e)?!0:No.call(ed,e)?!1:wx.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Nx(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _x(e,t,n,a){if(t===null||typeof t>"u"||Nx(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,a,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;function Ic(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lc,Ic);Ke[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lc,Ic);Ke[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lc,Ic);Ke[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mc(e,t,n,a){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_x(t,n,s,a)&&(n=null),a||s===null?jx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var _r=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),jn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),_o=Symbol.for("react.profiler"),vh=Symbol.for("react.provider"),bh=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),ko=Symbol.for("react.suspense"),So=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),wh=Symbol.for("react.offscreen"),rd=Symbol.iterator;function fa(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Ll;function Oa(e){if(Ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||""}return`
`+Ll+e}var Il=!1;function Ml(e,t){if(!e||Il)return"";Il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=a.stack.split(`
`),l=s.length-1,c=i.length-1;1<=l&&0<=c&&s[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==i[c]){var o=`
`+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{Il=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oa(e):""}function kx(e){switch(e.tag){case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return e=Ml(e.type,!1),e;case 11:return e=Ml(e.type.render,!1),e;case 1:return e=Ml(e.type,!0),e;default:return""}}function To(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case jn:return"Portal";case _o:return"Profiler";case Rc:return"StrictMode";case ko:return"Suspense";case So:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bh:return(e.displayName||"Context")+".Consumer";case vh:return(e._context.displayName||"Context")+".Provider";case Dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zc:return t=e.displayName||null,t!==null?t:To(e.type)||"Memo";case Er:t=e._payload,e=e._init;try{return To(e(t))}catch{}}return null}function Sx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return To(t);case 8:return t===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tx(e){var t=jh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ts(e){e._valueTracker||(e._valueTracker=Tx(e))}function Nh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=jh(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Co(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nd(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _h(e,t){t=t.checked,t!=null&&Mc(e,"checked",t,!1)}function Eo(e,t){_h(e,t);var n=Ur(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Po(e,t.type,n):t.hasOwnProperty("defaultValue")&&Po(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ad(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Po(e,t,n){(t!=="number"||gi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Aa=Array.isArray;function In(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(Aa(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function kh(e,t){var n=Ur(t.value),a=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function id(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cs,Th=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cx=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(e){Cx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ra[t]=Ra[e]})});function Ch(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ra.hasOwnProperty(e)&&Ra[e]?(""+t).trim():t+"px"}function Eh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=Ch(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var Ex=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lo(e,t){if(t){if(Ex[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ro=null,Mn=null,Rn=null;function ld(e){if(e=gs(e)){if(typeof Ro!="function")throw Error(te(280));var t=e.stateNode;t&&(t=nl(t),Ro(e.stateNode,e.type,t))}}function Ph(e){Mn?Rn?Rn.push(e):Rn=[e]:Mn=e}function Oh(){if(Mn){var e=Mn,t=Rn;if(Rn=Mn=null,ld(e),t)for(e=0;e<t.length;e++)ld(t[e])}}function Ah(e,t){return e(t)}function Lh(){}var Rl=!1;function Ih(e,t,n){if(Rl)return e(t,n);Rl=!0;try{return Ah(e,t,n)}finally{Rl=!1,(Mn!==null||Rn!==null)&&(Lh(),Oh())}}function Wa(e,t){var n=e.stateNode;if(n===null)return null;var a=nl(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Do=!1;if(vr)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){Do=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{Do=!1}function Px(e,t,n,a,s,i,l,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Da=!1,xi=null,yi=!1,zo=null,Ox={onError:function(e){Da=!0,xi=e}};function Ax(e,t,n,a,s,i,l,c,o){Da=!1,xi=null,Px.apply(Ox,arguments)}function Lx(e,t,n,a,s,i,l,c,o){if(Ax.apply(this,arguments),Da){if(Da){var d=xi;Da=!1,xi=null}else throw Error(te(198));yi||(yi=!0,zo=d)}}function mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function od(e){if(mn(e)!==e)throw Error(te(188))}function Ix(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return od(s),e;if(i===a)return od(s),t;i=i.sibling}throw Error(te(188))}if(n.return!==a.return)n=s,a=i;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,a=i;break}if(c===a){l=!0,a=s,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,a=s;break}if(c===a){l=!0,a=i,n=s;break}c=c.sibling}if(!l)throw Error(te(189))}}if(n.alternate!==a)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function Rh(e){return e=Ix(e),e!==null?Dh(e):null}function Dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dh(e);if(t!==null)return t;e=e.sibling}return null}var zh=gt.unstable_scheduleCallback,cd=gt.unstable_cancelCallback,Mx=gt.unstable_shouldYield,Rx=gt.unstable_requestPaint,Ie=gt.unstable_now,Dx=gt.unstable_getCurrentPriorityLevel,Bc=gt.unstable_ImmediatePriority,$h=gt.unstable_UserBlockingPriority,vi=gt.unstable_NormalPriority,zx=gt.unstable_LowPriority,Bh=gt.unstable_IdlePriority,Zi=null,tr=null;function $x(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Vx,Bx=Math.log,Fx=Math.LN2;function Vx(e){return e>>>=0,e===0?32:31-(Bx(e)/Fx|0)|0}var Es=64,Ps=4194304;function La(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bi(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?a=La(c):(i&=l,i!==0&&(a=La(i)))}else l=n&~s,l!==0?a=La(l):i!==0&&(a=La(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-Vt(t),s=1<<n,a|=e[n],t&=~s;return a}function qx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ux(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Vt(i),c=1<<l,o=s[l];o===-1?(!(c&n)||c&a)&&(s[l]=qx(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fh(){var e=Es;return Es<<=1,!(Es&4194240)&&(Es=64),e}function Dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ms(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function Hx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Vt(n),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,n&=~i}}function Fc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Vt(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}var ge=0;function Vh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qh,Vc,Uh,Hh,Gh,Bo=!1,Os=[],Rr=null,Dr=null,zr=null,Qa=new Map,Xa=new Map,Or=[],Gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(t.pointerId)}}function ma(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=gs(t),t!==null&&Vc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Kx(e,t,n,a,s){switch(t){case"focusin":return Rr=ma(Rr,e,t,n,a,s),!0;case"dragenter":return Dr=ma(Dr,e,t,n,a,s),!0;case"mouseover":return zr=ma(zr,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return Qa.set(i,ma(Qa.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Xa.set(i,ma(Xa.get(i)||null,e,t,n,a,s)),!0}return!1}function Kh(e){var t=en(e.target);if(t!==null){var n=mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mh(n),t!==null){e.blockedOn=t,Gh(e.priority,function(){Uh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Mo=a,n.target.dispatchEvent(a),Mo=null}else return t=gs(n),t!==null&&Vc(t),e.blockedOn=n,!1;t.shift()}return!0}function dd(e,t,n){ri(e)&&n.delete(t)}function Wx(){Bo=!1,Rr!==null&&ri(Rr)&&(Rr=null),Dr!==null&&ri(Dr)&&(Dr=null),zr!==null&&ri(zr)&&(zr=null),Qa.forEach(dd),Xa.forEach(dd)}function pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Bo||(Bo=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Wx)))}function Ya(e){function t(s){return pa(s,e)}if(0<Os.length){pa(Os[0],e);for(var n=1;n<Os.length;n++){var a=Os[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Rr!==null&&pa(Rr,e),Dr!==null&&pa(Dr,e),zr!==null&&pa(zr,e),Qa.forEach(t),Xa.forEach(t),n=0;n<Or.length;n++)a=Or[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)Kh(n),n.blockedOn===null&&Or.shift()}var Dn=_r.ReactCurrentBatchConfig,wi=!0;function Qx(e,t,n,a){var s=ge,i=Dn.transition;Dn.transition=null;try{ge=1,qc(e,t,n,a)}finally{ge=s,Dn.transition=i}}function Xx(e,t,n,a){var s=ge,i=Dn.transition;Dn.transition=null;try{ge=4,qc(e,t,n,a)}finally{ge=s,Dn.transition=i}}function qc(e,t,n,a){if(wi){var s=Fo(e,t,n,a);if(s===null)Kl(e,t,a,ji,n),ud(e,a);else if(Kx(s,e,t,n,a))a.stopPropagation();else if(ud(e,a),t&4&&-1<Gx.indexOf(e)){for(;s!==null;){var i=gs(s);if(i!==null&&qh(i),i=Fo(e,t,n,a),i===null&&Kl(e,t,a,ji,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else Kl(e,t,a,null,n)}}var ji=null;function Fo(e,t,n,a){if(ji=null,e=$c(a),e=en(e),e!==null)if(t=mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ji=e,null}function Wh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case Bc:return 1;case $h:return 4;case vi:case zx:return 16;case Bh:return 536870912;default:return 16}default:return 16}}var Lr=null,Uc=null,ni=null;function Qh(){if(ni)return ni;var e,t=Uc,n=t.length,a,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(a=1;a<=l&&t[n-a]===s[i-a];a++);return ni=s.slice(e,1<a?1-a:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function fd(){return!1}function yt(e){function t(n,a,s,i,l){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?As:fd,this.isPropagationStopped=fd,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=yt(Yn),ps=Ae({},Yn,{view:0,detail:0}),Yx=yt(ps),zl,$l,ga,el=Ae({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&e.type==="mousemove"?(zl=e.screenX-ga.screenX,$l=e.screenY-ga.screenY):$l=zl=0,ga=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:$l}}),hd=yt(el),Jx=Ae({},el,{dataTransfer:0}),Zx=yt(Jx),ey=Ae({},ps,{relatedTarget:0}),Bl=yt(ey),ty=Ae({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=yt(ty),ny=Ae({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ay=yt(ny),sy=Ae({},Yn,{data:0}),md=yt(sy),iy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oy[e])?!!t[e]:!1}function Gc(){return cy}var uy=Ae({},ps,{key:function(e){if(e.key){var t=iy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ly[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dy=yt(uy),fy=Ae({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=yt(fy),hy=Ae({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),my=yt(hy),py=Ae({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=yt(py),xy=Ae({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=yt(xy),vy=[9,13,27,32],Kc=vr&&"CompositionEvent"in window,za=null;vr&&"documentMode"in document&&(za=document.documentMode);var by=vr&&"TextEvent"in window&&!za,Xh=vr&&(!Kc||za&&8<za&&11>=za),gd=" ",xd=!1;function Yh(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function wy(e,t){switch(e){case"compositionend":return Jh(t);case"keypress":return t.which!==32?null:(xd=!0,gd);case"textInput":return e=t.data,e===gd&&xd?null:e;default:return null}}function jy(e,t){if(_n)return e==="compositionend"||!Kc&&Yh(e,t)?(e=Qh(),ni=Uc=Lr=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xh&&t.locale!=="ko"?null:t.data;default:return null}}var Ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ny[e.type]:t==="textarea"}function Zh(e,t,n,a){Ph(a),t=Ni(t,"onChange"),0<t.length&&(n=new Hc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $a=null,Ja=null;function _y(e){um(e,0)}function tl(e){var t=Tn(e);if(Nh(t))return e}function ky(e,t){if(e==="change")return t}var em=!1;if(vr){var Fl;if(vr){var Vl="oninput"in document;if(!Vl){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Vl=typeof vd.oninput=="function"}Fl=Vl}else Fl=!1;em=Fl&&(!document.documentMode||9<document.documentMode)}function bd(){$a&&($a.detachEvent("onpropertychange",tm),Ja=$a=null)}function tm(e){if(e.propertyName==="value"&&tl(Ja)){var t=[];Zh(t,Ja,e,$c(e)),Ih(_y,t)}}function Sy(e,t,n){e==="focusin"?(bd(),$a=t,Ja=n,$a.attachEvent("onpropertychange",tm)):e==="focusout"&&bd()}function Ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Ja)}function Cy(e,t){if(e==="click")return tl(t)}function Ey(e,t){if(e==="input"||e==="change")return tl(t)}function Py(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Py;function Za(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!No.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var n=wd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wd(n)}}function rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nm(){for(var e=window,t=gi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gi(e.document)}return t}function Wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Oy(e){var t=nm(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rm(n.ownerDocument.documentElement,n)){if(a!==null&&Wc(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=jd(n,i);var l=jd(n,a);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ay=vr&&"documentMode"in document&&11>=document.documentMode,kn=null,Vo=null,Ba=null,qo=!1;function Nd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qo||kn==null||kn!==gi(a)||(a=kn,"selectionStart"in a&&Wc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ba&&Za(Ba,a)||(Ba=a,a=Ni(Vo,"onSelect"),0<a.length&&(t=new Hc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=kn)))}function Ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sn={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},ql={},am={};vr&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function rl(e){if(ql[e])return ql[e];if(!Sn[e])return e;var t=Sn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in am)return ql[e]=t[n];return e}var sm=rl("animationend"),im=rl("animationiteration"),lm=rl("animationstart"),om=rl("transitionend"),cm=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,t){cm.set(e,t),hn(t,[e])}for(var Ul=0;Ul<_d.length;Ul++){var Hl=_d[Ul],Ly=Hl.toLowerCase(),Iy=Hl[0].toUpperCase()+Hl.slice(1);Gr(Ly,"on"+Iy)}Gr(sm,"onAnimationEnd");Gr(im,"onAnimationIteration");Gr(lm,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(om,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function kd(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Lx(a,t,void 0,e),e.currentTarget=null}function um(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var c=a[l],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==i&&s.isPropagationStopped())break e;kd(s,c,d),i=o}else for(l=0;l<a.length;l++){if(c=a[l],o=c.instance,d=c.currentTarget,c=c.listener,o!==i&&s.isPropagationStopped())break e;kd(s,c,d),i=o}}}if(yi)throw e=zo,yi=!1,zo=null,e}function we(e,t){var n=t[Wo];n===void 0&&(n=t[Wo]=new Set);var a=e+"__bubble";n.has(a)||(dm(t,e,2,!1),n.add(a))}function Gl(e,t,n){var a=0;t&&(a|=4),dm(n,e,a,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[Is]){e[Is]=!0,yh.forEach(function(n){n!=="selectionchange"&&(My.has(n)||Gl(n,!1,e),Gl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Gl("selectionchange",!1,t))}}function dm(e,t,n,a){switch(Wh(t)){case 1:var s=Qx;break;case 4:s=Xx;break;default:s=qc}n=s.bind(null,t,n,e),s=void 0,!Do||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Kl(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var c=a.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=a.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;l=l.return}for(;c!==null;){if(l=en(c),l===null)return;if(o=l.tag,o===5||o===6){a=i=l;continue e}c=c.parentNode}}a=a.return}Ih(function(){var d=i,f=$c(n),m=[];e:{var u=cm.get(e);if(u!==void 0){var h=Hc,x=e;switch(e){case"keypress":if(ai(n)===0)break e;case"keydown":case"keyup":h=dy;break;case"focusin":x="focus",h=Bl;break;case"focusout":x="blur",h=Bl;break;case"beforeblur":case"afterblur":h=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=my;break;case sm:case im:case lm:h=ry;break;case om:h=gy;break;case"scroll":h=Yx;break;case"wheel":h=yy;break;case"copy":case"cut":case"paste":h=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=pd}var y=(t&4)!==0,b=!y&&e==="scroll",p=y?u!==null?u+"Capture":null:u;y=[];for(var g=d,w;g!==null;){w=g;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,p!==null&&(v=Wa(g,p),v!=null&&y.push(ts(g,v,w)))),b)break;g=g.return}0<y.length&&(u=new h(u,x,null,n,f),m.push({event:u,listeners:y}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",u&&n!==Mo&&(x=n.relatedTarget||n.fromElement)&&(en(x)||x[br]))break e;if((h||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,h?(x=n.relatedTarget||n.toElement,h=d,x=x?en(x):null,x!==null&&(b=mn(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(y=hd,v="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=pd,v="onPointerLeave",p="onPointerEnter",g="pointer"),b=h==null?u:Tn(h),w=x==null?u:Tn(x),u=new y(v,g+"leave",h,n,f),u.target=b,u.relatedTarget=w,v=null,en(f)===d&&(y=new y(p,g+"enter",x,n,f),y.target=w,y.relatedTarget=b,v=y),b=v,h&&x)t:{for(y=h,p=x,g=0,w=y;w;w=xn(w))g++;for(w=0,v=p;v;v=xn(v))w++;for(;0<g-w;)y=xn(y),g--;for(;0<w-g;)p=xn(p),w--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=xn(y),p=xn(p)}y=null}else y=null;h!==null&&Sd(m,u,h,y,!1),x!==null&&b!==null&&Sd(m,b,x,y,!0)}}e:{if(u=d?Tn(d):window,h=u.nodeName&&u.nodeName.toLowerCase(),h==="select"||h==="input"&&u.type==="file")var j=ky;else if(yd(u))if(em)j=Ey;else{j=Ty;var k=Sy}else(h=u.nodeName)&&h.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(j=Cy);if(j&&(j=j(e,d))){Zh(m,j,n,f);break e}k&&k(e,u,d),e==="focusout"&&(k=u._wrapperState)&&k.controlled&&u.type==="number"&&Po(u,"number",u.value)}switch(k=d?Tn(d):window,e){case"focusin":(yd(k)||k.contentEditable==="true")&&(kn=k,Vo=d,Ba=null);break;case"focusout":Ba=Vo=kn=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,Nd(m,n,f);break;case"selectionchange":if(Ay)break;case"keydown":case"keyup":Nd(m,n,f)}var S;if(Kc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _n?Yh(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Xh&&n.locale!=="ko"&&(_n||T!=="onCompositionStart"?T==="onCompositionEnd"&&_n&&(S=Qh()):(Lr=f,Uc="value"in Lr?Lr.value:Lr.textContent,_n=!0)),k=Ni(d,T),0<k.length&&(T=new md(T,e,null,n,f),m.push({event:T,listeners:k}),S?T.data=S:(S=Jh(n),S!==null&&(T.data=S)))),(S=by?wy(e,n):jy(e,n))&&(d=Ni(d,"onBeforeInput"),0<d.length&&(f=new md("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=S))}um(m,t)})}function ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ni(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wa(e,n),i!=null&&a.unshift(ts(e,i,s)),i=Wa(e,t),i!=null&&a.push(ts(e,i,s))),e=e.return}return a}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sd(e,t,n,a,s){for(var i=t._reactName,l=[];n!==null&&n!==a;){var c=n,o=c.alternate,d=c.stateNode;if(o!==null&&o===a)break;c.tag===5&&d!==null&&(c=d,s?(o=Wa(n,i),o!=null&&l.unshift(ts(n,o,c))):s||(o=Wa(n,i),o!=null&&l.push(ts(n,o,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Ry=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function Td(e){return(typeof e=="string"?e:""+e).replace(Ry,`
`).replace(Dy,"")}function Ms(e,t,n){if(t=Td(t),Td(e)!==t&&n)throw Error(te(425))}function _i(){}var Uo=null,Ho=null;function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,zy=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(By)}:Ko;function By(e){setTimeout(function(){throw e})}function Wl(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),Ya(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);Ya(t)}function $r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ed(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Jn,rs="__reactProps$"+Jn,br="__reactContainer$"+Jn,Wo="__reactEvents$"+Jn,Fy="__reactListeners$"+Jn,Vy="__reactHandles$"+Jn;function en(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[br]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ed(e);e!==null;){if(n=e[Yt])return n;e=Ed(e)}return t}e=n,n=e.parentNode}return null}function gs(e){return e=e[Yt]||e[br],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function nl(e){return e[rs]||null}var Qo=[],Cn=-1;function Kr(e){return{current:e}}function _e(e){0>Cn||(e.current=Qo[Cn],Qo[Cn]=null,Cn--)}function ve(e,t){Cn++,Qo[Cn]=e.current,e.current=t}var Hr={},Ye=Kr(Hr),it=Kr(!1),ln=Hr;function Un(e,t){var n=e.type.contextTypes;if(!n)return Hr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function ki(){_e(it),_e(Ye)}function Pd(e,t,n){if(Ye.current!==Hr)throw Error(te(168));ve(Ye,t),ve(it,n)}function fm(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(te(108,Sx(e)||"Unknown",s));return Ae({},n,a)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,ln=Ye.current,ve(Ye,e),ve(it,it.current),!0}function Od(e,t,n){var a=e.stateNode;if(!a)throw Error(te(169));n?(e=fm(e,t,ln),a.__reactInternalMemoizedMergedChildContext=e,_e(it),_e(Ye),ve(Ye,e)):_e(it),ve(it,n)}var dr=null,al=!1,Ql=!1;function hm(e){dr===null?dr=[e]:dr.push(e)}function qy(e){al=!0,hm(e)}function Wr(){if(!Ql&&dr!==null){Ql=!0;var e=0,t=ge;try{var n=dr;for(ge=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}dr=null,al=!1}catch(s){throw dr!==null&&(dr=dr.slice(e+1)),zh(Bc,Wr),s}finally{ge=t,Ql=!1}}return null}var En=[],Pn=0,Ti=null,Ci=0,_t=[],kt=0,on=null,fr=1,hr="";function Yr(e,t){En[Pn++]=Ci,En[Pn++]=Ti,Ti=e,Ci=t}function mm(e,t,n){_t[kt++]=fr,_t[kt++]=hr,_t[kt++]=on,on=e;var a=fr;e=hr;var s=32-Vt(a)-1;a&=~(1<<s),n+=1;var i=32-Vt(t)+s;if(30<i){var l=s-s%5;i=(a&(1<<l)-1).toString(32),a>>=l,s-=l,fr=1<<32-Vt(t)+s|n<<s|a,hr=i+e}else fr=1<<i|n<<s|a,hr=e}function Qc(e){e.return!==null&&(Yr(e,1),mm(e,1,0))}function Xc(e){for(;e===Ti;)Ti=En[--Pn],En[Pn]=null,Ci=En[--Pn],En[Pn]=null;for(;e===on;)on=_t[--kt],_t[kt]=null,hr=_t[--kt],_t[kt]=null,fr=_t[--kt],_t[kt]=null}var pt=null,mt=null,ke=!1,Bt=null;function pm(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ad(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,mt=$r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=on!==null?{id:fr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,mt=null,!0):!1;default:return!1}}function Xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yo(e){if(ke){var t=mt;if(t){var n=t;if(!Ad(e,t)){if(Xo(e))throw Error(te(418));t=$r(n.nextSibling);var a=pt;t&&Ad(e,t)?pm(a,n):(e.flags=e.flags&-4097|2,ke=!1,pt=e)}}else{if(Xo(e))throw Error(te(418));e.flags=e.flags&-4097|2,ke=!1,pt=e}}}function Ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Rs(e){if(e!==pt)return!1;if(!ke)return Ld(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Go(e.type,e.memoizedProps)),t&&(t=mt)){if(Xo(e))throw gm(),Error(te(418));for(;t;)pm(e,t),t=$r(t.nextSibling)}if(Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=$r(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=pt?$r(e.stateNode.nextSibling):null;return!0}function gm(){for(var e=mt;e;)e=$r(e.nextSibling)}function Hn(){mt=pt=null,ke=!1}function Yc(e){Bt===null?Bt=[e]:Bt.push(e)}var Uy=_r.ReactCurrentBatchConfig;function xa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var a=n.stateNode}if(!a)throw Error(te(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var c=s.refs;l===null?delete c[i]:c[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function Ds(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Id(e){var t=e._init;return t(e._payload)}function xm(e){function t(p,g){if(e){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function a(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=qr(p,g),p.index=0,p.sibling=null,p}function i(p,g,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,g,w,v){return g===null||g.tag!==6?(g=ro(w,p.mode,v),g.return=p,g):(g=s(g,w),g.return=p,g)}function o(p,g,w,v){var j=w.type;return j===Nn?f(p,g,w.props.children,v,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Er&&Id(j)===g.type)?(v=s(g,w.props),v.ref=xa(p,g,w),v.return=p,v):(v=di(w.type,w.key,w.props,null,p.mode,v),v.ref=xa(p,g,w),v.return=p,v)}function d(p,g,w,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=no(w,p.mode,v),g.return=p,g):(g=s(g,w.children||[]),g.return=p,g)}function f(p,g,w,v,j){return g===null||g.tag!==7?(g=an(w,p.mode,v,j),g.return=p,g):(g=s(g,w),g.return=p,g)}function m(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ro(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:return w=di(g.type,g.key,g.props,null,p.mode,w),w.ref=xa(p,null,g),w.return=p,w;case jn:return g=no(g,p.mode,w),g.return=p,g;case Er:var v=g._init;return m(p,v(g._payload),w)}if(Aa(g)||fa(g))return g=an(g,p.mode,w,null),g.return=p,g;Ds(p,g)}return null}function u(p,g,w,v){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:c(p,g,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ss:return w.key===j?o(p,g,w,v):null;case jn:return w.key===j?d(p,g,w,v):null;case Er:return j=w._init,u(p,g,j(w._payload),v)}if(Aa(w)||fa(w))return j!==null?null:f(p,g,w,v,null);Ds(p,w)}return null}function h(p,g,w,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(w)||null,c(g,p,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ss:return p=p.get(v.key===null?w:v.key)||null,o(g,p,v,j);case jn:return p=p.get(v.key===null?w:v.key)||null,d(g,p,v,j);case Er:var k=v._init;return h(p,g,w,k(v._payload),j)}if(Aa(v)||fa(v))return p=p.get(w)||null,f(g,p,v,j,null);Ds(g,v)}return null}function x(p,g,w,v){for(var j=null,k=null,S=g,T=g=0,O=null;S!==null&&T<w.length;T++){S.index>T?(O=S,S=null):O=S.sibling;var C=u(p,S,w[T],v);if(C===null){S===null&&(S=O);break}e&&S&&C.alternate===null&&t(p,S),g=i(C,g,T),k===null?j=C:k.sibling=C,k=C,S=O}if(T===w.length)return n(p,S),ke&&Yr(p,T),j;if(S===null){for(;T<w.length;T++)S=m(p,w[T],v),S!==null&&(g=i(S,g,T),k===null?j=S:k.sibling=S,k=S);return ke&&Yr(p,T),j}for(S=a(p,S);T<w.length;T++)O=h(S,p,T,w[T],v),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?T:O.key),g=i(O,g,T),k===null?j=O:k.sibling=O,k=O);return e&&S.forEach(function(N){return t(p,N)}),ke&&Yr(p,T),j}function y(p,g,w,v){var j=fa(w);if(typeof j!="function")throw Error(te(150));if(w=j.call(w),w==null)throw Error(te(151));for(var k=j=null,S=g,T=g=0,O=null,C=w.next();S!==null&&!C.done;T++,C=w.next()){S.index>T?(O=S,S=null):O=S.sibling;var N=u(p,S,C.value,v);if(N===null){S===null&&(S=O);break}e&&S&&N.alternate===null&&t(p,S),g=i(N,g,T),k===null?j=N:k.sibling=N,k=N,S=O}if(C.done)return n(p,S),ke&&Yr(p,T),j;if(S===null){for(;!C.done;T++,C=w.next())C=m(p,C.value,v),C!==null&&(g=i(C,g,T),k===null?j=C:k.sibling=C,k=C);return ke&&Yr(p,T),j}for(S=a(p,S);!C.done;T++,C=w.next())C=h(S,p,T,C.value,v),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?T:C.key),g=i(C,g,T),k===null?j=C:k.sibling=C,k=C);return e&&S.forEach(function(_){return t(p,_)}),ke&&Yr(p,T),j}function b(p,g,w,v){if(typeof w=="object"&&w!==null&&w.type===Nn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ss:e:{for(var j=w.key,k=g;k!==null;){if(k.key===j){if(j=w.type,j===Nn){if(k.tag===7){n(p,k.sibling),g=s(k,w.props.children),g.return=p,p=g;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Er&&Id(j)===k.type){n(p,k.sibling),g=s(k,w.props),g.ref=xa(p,k,w),g.return=p,p=g;break e}n(p,k);break}else t(p,k);k=k.sibling}w.type===Nn?(g=an(w.props.children,p.mode,v,w.key),g.return=p,p=g):(v=di(w.type,w.key,w.props,null,p.mode,v),v.ref=xa(p,g,w),v.return=p,p=v)}return l(p);case jn:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(p,g.sibling),g=s(g,w.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=no(w,p.mode,v),g.return=p,p=g}return l(p);case Er:return k=w._init,b(p,g,k(w._payload),v)}if(Aa(w))return x(p,g,w,v);if(fa(w))return y(p,g,w,v);Ds(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,w),g.return=p,p=g):(n(p,g),g=ro(w,p.mode,v),g.return=p,p=g),l(p)):n(p,g)}return b}var Gn=xm(!0),ym=xm(!1),Ei=Kr(null),Pi=null,On=null,Jc=null;function Zc(){Jc=On=Pi=null}function eu(e){var t=Ei.current;_e(Ei),e._currentValue=t}function Jo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){Pi=e,Jc=On=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Jc!==e)if(e={context:e,memoizedValue:t,next:null},On===null){if(Pi===null)throw Error(te(308));On=e,Pi.dependencies={lanes:0,firstContext:e}}else On=On.next=e;return t}var tn=null;function tu(e){tn===null?tn=[e]:tn.push(e)}function vm(e,t,n,a){var s=t.interleaved;return s===null?(n.next=n,tu(t)):(n.next=s.next,s.next=n),t.interleaved=n,wr(e,a)}function wr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pr=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,me&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,wr(e,n)}return s=a.interleaved,s===null?(t.next=t,tu(a)):(t.next=s.next,s.next=t),a.interleaved=t,wr(e,n)}function si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Fc(e,n)}}function Md(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oi(e,t,n,a){var s=e.updateQueue;Pr=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,d=o.next;o.next=null,l===null?i=d:l.next=d,l=o;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==l&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=o))}if(i!==null){var m=s.baseState;l=0,f=d=o=null,c=i;do{var u=c.lane,h=c.eventTime;if((a&u)===u){f!==null&&(f=f.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=e,y=c;switch(u=t,h=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){m=x.call(h,m,u);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,u=typeof x=="function"?x.call(h,m,u):x,u==null)break e;m=Ae({},m,u);break e;case 2:Pr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,u=s.effects,u===null?s.effects=[c]:u.push(c))}else h={eventTime:h,lane:u,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=h,o=m):f=f.next=h,l|=u;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;u=c,c=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(!0);if(f===null&&(o=m),s.baseState=o,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);un|=l,e.lanes=l,e.memoizedState=m}}function Rd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(te(191,s));s.call(a)}}}var xs={},rr=Kr(xs),ns=Kr(xs),as=Kr(xs);function rn(e){if(e===xs)throw Error(te(174));return e}function nu(e,t){switch(ve(as,t),ve(ns,e),ve(rr,xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ao(t,e)}_e(rr),ve(rr,t)}function Kn(){_e(rr),_e(ns),_e(as)}function wm(e){rn(as.current);var t=rn(rr.current),n=Ao(t,e.type);t!==n&&(ve(ns,e),ve(rr,n))}function au(e){ns.current===e&&(_e(rr),_e(ns))}var Pe=Kr(0);function Ai(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xl=[];function su(){for(var e=0;e<Xl.length;e++)Xl[e]._workInProgressVersionPrimary=null;Xl.length=0}var ii=_r.ReactCurrentDispatcher,Yl=_r.ReactCurrentBatchConfig,cn=0,Oe=null,ze=null,Be=null,Li=!1,Fa=!1,ss=0,Hy=0;function We(){throw Error(te(321))}function iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function lu(e,t,n,a,s,i){if(cn=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ii.current=e===null||e.memoizedState===null?Qy:Xy,e=n(a,s),Fa){i=0;do{if(Fa=!1,ss=0,25<=i)throw Error(te(301));i+=1,Be=ze=null,t.updateQueue=null,ii.current=Yy,e=n(a,s)}while(Fa)}if(ii.current=Ii,t=ze!==null&&ze.next!==null,cn=0,Be=ze=Oe=null,Li=!1,t)throw Error(te(300));return e}function ou(){var e=ss!==0;return ss=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Oe.memoizedState=Be=e:Be=Be.next=e,Be}function Ot(){if(ze===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?Oe.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(te(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?Oe.memoizedState=Be=e:Be=Be.next=e}return Be}function is(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=Ot(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var a=ze,s=a.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}a.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,a=a.baseState;var c=l=null,o=null,d=i;do{var f=d.lane;if((cn&f)===f)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=m,l=a):o=o.next=m,Oe.lanes|=f,un|=f}d=d.next}while(d!==null&&d!==i);o===null?l=a:o.next=c,Ut(a,t.memoizedState)||(st=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=o,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Oe.lanes|=i,un|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zl(e){var t=Ot(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Ut(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function jm(){}function Nm(e,t){var n=Oe,a=Ot(),s=t(),i=!Ut(a.memoizedState,s);if(i&&(a.memoizedState=s,st=!0),a=a.queue,cu(Sm.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,ls(9,km.bind(null,n,a,s,t),void 0,null),Fe===null)throw Error(te(349));cn&30||_m(n,t,s)}return s}function _m(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function km(e,t,n,a){t.value=n,t.getSnapshot=a,Tm(t)&&Cm(e)}function Sm(e,t,n){return n(function(){Tm(t)&&Cm(e)})}function Tm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Cm(e){var t=wr(e,1);t!==null&&qt(t,e,1,-1)}function Dd(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=Wy.bind(null,Oe,e),[t.memoizedState,e]}function ls(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Em(){return Ot().memoizedState}function li(e,t,n,a){var s=Xt();Oe.flags|=e,s.memoizedState=ls(1|t,n,void 0,a===void 0?null:a)}function sl(e,t,n,a){var s=Ot();a=a===void 0?null:a;var i=void 0;if(ze!==null){var l=ze.memoizedState;if(i=l.destroy,a!==null&&iu(a,l.deps)){s.memoizedState=ls(t,n,i,a);return}}Oe.flags|=e,s.memoizedState=ls(1|t,n,i,a)}function zd(e,t){return li(8390656,8,e,t)}function cu(e,t){return sl(2048,8,e,t)}function Pm(e,t){return sl(4,2,e,t)}function Om(e,t){return sl(4,4,e,t)}function Am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lm(e,t,n){return n=n!=null?n.concat([e]):null,sl(4,4,Am.bind(null,t,e),n)}function uu(){}function Im(e,t){var n=Ot();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&iu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Mm(e,t){var n=Ot();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&iu(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Rm(e,t,n){return cn&21?(Ut(n,t)||(n=Fh(),Oe.lanes|=n,un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function Gy(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var a=Yl.transition;Yl.transition={};try{e(!1),t()}finally{ge=n,Yl.transition=a}}function Dm(){return Ot().memoizedState}function Ky(e,t,n){var a=Vr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},zm(e))$m(t,n);else if(n=vm(e,t,n,a),n!==null){var s=Ze();qt(n,e,a,s),Bm(n,t,a)}}function Wy(e,t,n){var a=Vr(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(zm(e))$m(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,n);if(s.hasEagerState=!0,s.eagerState=c,Ut(c,l)){var o=t.interleaved;o===null?(s.next=s,tu(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}n=vm(e,t,s,a),n!==null&&(s=Ze(),qt(n,e,a,s),Bm(n,t,a))}}function zm(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function $m(e,t){Fa=Li=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bm(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Fc(e,n)}}var Ii={readContext:Pt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Qy={readContext:Pt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:zd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,li(4194308,4,Am.bind(null,t,e),n)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Xt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ky.bind(null,Oe,e),[a.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Dd,useDebugValue:uu,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Dd(!1),t=e[0];return e=Gy.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Oe,s=Xt();if(ke){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Fe===null)throw Error(te(349));cn&30||_m(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,zd(Sm.bind(null,a,i,e),[e]),a.flags|=2048,ls(9,km.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Fe.identifierPrefix;if(ke){var n=hr,a=fr;n=(a&~(1<<32-Vt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=ss++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xy={readContext:Pt,useCallback:Im,useContext:Pt,useEffect:cu,useImperativeHandle:Lm,useInsertionEffect:Pm,useLayoutEffect:Om,useMemo:Mm,useReducer:Jl,useRef:Em,useState:function(){return Jl(is)},useDebugValue:uu,useDeferredValue:function(e){var t=Ot();return Rm(t,ze.memoizedState,e)},useTransition:function(){var e=Jl(is)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:Nm,useId:Dm,unstable_isNewReconciler:!1},Yy={readContext:Pt,useCallback:Im,useContext:Pt,useEffect:cu,useImperativeHandle:Lm,useInsertionEffect:Pm,useLayoutEffect:Om,useMemo:Mm,useReducer:Zl,useRef:Em,useState:function(){return Zl(is)},useDebugValue:uu,useDeferredValue:function(e){var t=Ot();return ze===null?t.memoizedState=e:Rm(t,ze.memoizedState,e)},useTransition:function(){var e=Zl(is)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:Nm,useId:Dm,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ze(),s=Vr(e),i=mr(a,s);i.payload=t,n!=null&&(i.callback=n),t=Br(e,i,s),t!==null&&(qt(t,e,s,a),si(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ze(),s=Vr(e),i=mr(a,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Br(e,i,s),t!==null&&(qt(t,e,s,a),si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),a=Vr(e),s=mr(n,a);s.tag=2,t!=null&&(s.callback=t),t=Br(e,s,a),t!==null&&(qt(t,e,a,n),si(t,e,a))}};function $d(e,t,n,a,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!Za(n,a)||!Za(s,i):!0}function Fm(e,t,n){var a=!1,s=Hr,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(s=lt(t)?ln:Ye.current,a=t.contextTypes,i=(a=a!=null)?Un(e,s):Hr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function ec(e,t,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ru(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pt(i):(i=lt(t)?ln:Ye.current,s.context=Un(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&il.enqueueReplaceState(s,s.state,null),Oi(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",a=t;do n+=kx(a),a=a.return;while(a);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function eo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jy=typeof WeakMap=="function"?WeakMap:Map;function Vm(e,t,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ri||(Ri=!0,dc=a),tc(e,t)},n}function qm(e,t,n){n=mr(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;n.payload=function(){return a(s)},n.callback=function(){tc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tc(e,t),typeof a!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Fd(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Jy;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(s.add(n),e=f0.bind(null,e,t,n),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mr(-1,1),t.tag=2,Br(n,t,1))),n.lanes|=1),e)}var Zy=_r.ReactCurrentOwner,st=!1;function Je(e,t,n,a){t.child=e===null?ym(t,null,n,a):Gn(t,e.child,n,a)}function Ud(e,t,n,a,s){n=n.render;var i=t.ref;return zn(t,s),a=lu(e,t,n,a,i,s),n=ou(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(ke&&n&&Qc(t),t.flags|=1,Je(e,t,a,s),t.child)}function Hd(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!yu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Um(e,t,i,a,s)):(e=di(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Za,n(l,a)&&e.ref===t.ref)return jr(e,t,s)}return t.flags|=1,e=qr(i,a),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(Za(i,a)&&e.ref===t.ref)if(st=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,jr(e,t,s)}return rc(e,t,n,a,s)}function Hm(e,t,n){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Ln,dt),dt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Ln,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,ve(Ln,dt),dt|=a}else i!==null?(a=i.baseLanes|n,t.memoizedState=null):a=n,ve(Ln,dt),dt|=a;return Je(e,t,s,n),t.child}function Gm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rc(e,t,n,a,s){var i=lt(n)?ln:Ye.current;return i=Un(t,i),zn(t,s),n=lu(e,t,n,a,i,s),a=ou(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(ke&&a&&Qc(t),t.flags|=1,Je(e,t,n,s),t.child)}function Gd(e,t,n,a,s){if(lt(n)){var i=!0;Si(t)}else i=!1;if(zn(t,s),t.stateNode===null)oi(e,t),Fm(t,n,a),ec(t,n,a,s),a=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Pt(d):(d=lt(n)?ln:Ye.current,d=Un(t,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==a||o!==d)&&Bd(t,l,a,d),Pr=!1;var u=t.memoizedState;l.state=u,Oi(t,a,l,s),o=t.memoizedState,c!==a||u!==o||it.current||Pr?(typeof f=="function"&&(Zo(t,n,f,a),o=t.memoizedState),(c=Pr||$d(t,n,c,a,u,o,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),l.props=a,l.state=o,l.context=d,a=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,bm(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:zt(t.type,c),l.props=d,m=t.pendingProps,u=l.context,o=n.contextType,typeof o=="object"&&o!==null?o=Pt(o):(o=lt(n)?ln:Ye.current,o=Un(t,o));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||u!==o)&&Bd(t,l,a,o),Pr=!1,u=t.memoizedState,l.state=u,Oi(t,a,l,s);var x=t.memoizedState;c!==m||u!==x||it.current||Pr?(typeof h=="function"&&(Zo(t,n,h,a),x=t.memoizedState),(d=Pr||$d(t,n,d,a,u,x,o)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,x,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,x,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),l.props=a,l.state=x,l.context=o,a=d):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),a=!1)}return nc(e,t,n,a,i,s)}function nc(e,t,n,a,s,i){Gm(e,t);var l=(t.flags&128)!==0;if(!a&&!l)return s&&Od(t,n,!1),jr(e,t,i);a=t.stateNode,Zy.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&l?(t.child=Gn(t,e.child,null,i),t.child=Gn(t,null,c,i)):Je(e,t,c,i),t.memoizedState=a.state,s&&Od(t,n,!0),t.child}function Km(e){var t=e.stateNode;t.pendingContext?Pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pd(e,t.context,!1),nu(e,t.containerInfo)}function Kd(e,t,n,a,s){return Hn(),Yc(s),t.flags|=256,Je(e,t,n,a),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wm(e,t,n){var a=t.pendingProps,s=Pe.current,i=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ve(Pe,s&1),e===null)return Yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=cl(l,a,0,null),e=an(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=sc(n),t.memoizedState=ac,e):du(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return e0(e,t,l,a,c,s,n);if(i){i=a.fallback,l=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:a.children};return!(l&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=o,t.deletions=null):(a=qr(s,o),a.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=qr(c,i):(i=an(i,l,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=e.child.memoizedState,l=l===null?sc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=ac,a}return i=e.child,e=i.sibling,a=qr(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function du(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zs(e,t,n,a){return a!==null&&Yc(a),Gn(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e0(e,t,n,a,s,i,l){if(n)return t.flags&256?(t.flags&=-257,a=eo(Error(te(422))),zs(e,t,l,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=cl({mode:"visible",children:a.children},s,0,null),i=an(i,s,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Gn(t,e.child,null,l),t.child.memoizedState=sc(l),t.memoizedState=ac,i);if(!(t.mode&1))return zs(e,t,l,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;return a=c,i=Error(te(419)),a=eo(i,a,void 0),zs(e,t,l,a)}if(c=(l&e.childLanes)!==0,st||c){if(a=Fe,a!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wr(e,s),qt(a,e,s,-1))}return xu(),a=eo(Error(te(421))),zs(e,t,l,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mt=$r(s.nextSibling),pt=t,ke=!0,Bt=null,e!==null&&(_t[kt++]=fr,_t[kt++]=hr,_t[kt++]=on,fr=e.id,hr=e.overflow,on=t),t=du(t,a.children),t.flags|=4096,t)}function Wd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Jo(e.return,t,n)}function to(e,t,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function Qm(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(Je(e,t,a.children,n),a=Pe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,n,t);else if(e.tag===19)Wd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ve(Pe,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ai(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),to(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ai(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}to(t,!0,n,null,i);break;case"together":to(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=qr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function t0(e,t,n){switch(t.tag){case 3:Km(t),Hn();break;case 5:wm(t);break;case 1:lt(t.type)&&Si(t);break;case 4:nu(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;ve(Ei,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ve(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?Wm(e,t,n):(ve(Pe,Pe.current&1),e=jr(e,t,n),e!==null?e.sibling:null);ve(Pe,Pe.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return Qm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Pe,Pe.current),a)break;return null;case 22:case 23:return t.lanes=0,Hm(e,t,n)}return jr(e,t,n)}var Xm,ic,Ym,Jm;Xm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ic=function(){};Ym=function(e,t,n,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,rn(rr.current);var i=null;switch(n){case"input":s=Co(e,s),a=Co(e,a),i=[];break;case"select":s=Ae({},s,{value:void 0}),a=Ae({},a,{value:void 0}),i=[];break;case"textarea":s=Oo(e,s),a=Oo(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=_i)}Lo(n,a);var l;n=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ga.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var o=a[d];if(c=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(n||(n={}),n[l]=o[l])}else n||(i||(i=[]),i.push(d,n)),n=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(i=i||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&we("scroll",e),i||c===o||(i=[])):(i=i||[]).push(d,o))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Jm=function(e,t,n,a){n!==a&&(t.flags|=4)};function ya(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function r0(e,t,n){var a=t.pendingProps;switch(Xc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return lt(t.type)&&ki(),Qe(t),null;case 3:return a=t.stateNode,Kn(),_e(it),_e(Ye),su(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(mc(Bt),Bt=null))),ic(e,t),Qe(t),null;case 5:au(t);var s=rn(as.current);if(n=t.type,e!==null&&t.stateNode!=null)Ym(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(te(166));return Qe(t),null}if(e=rn(rr.current),Rs(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[Yt]=t,a[rs]=i,e=(t.mode&1)!==0,n){case"dialog":we("cancel",a),we("close",a);break;case"iframe":case"object":case"embed":we("load",a);break;case"video":case"audio":for(s=0;s<Ia.length;s++)we(Ia[s],a);break;case"source":we("error",a);break;case"img":case"image":case"link":we("error",a),we("load",a);break;case"details":we("toggle",a);break;case"input":nd(a,i),we("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},we("invalid",a);break;case"textarea":sd(a,i),we("invalid",a)}Lo(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?a.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ms(a.textContent,c,e),s=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ms(a.textContent,c,e),s=["children",""+c]):Ga.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&we("scroll",a)}switch(n){case"input":Ts(a),ad(a,i,!0);break;case"textarea":Ts(a),id(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=_i)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),n==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[Yt]=t,e[rs]=a,Xm(e,t,!1,!1),t.stateNode=e;e:{switch(l=Io(n,a),n){case"dialog":we("cancel",e),we("close",e),s=a;break;case"iframe":case"object":case"embed":we("load",e),s=a;break;case"video":case"audio":for(s=0;s<Ia.length;s++)we(Ia[s],e);s=a;break;case"source":we("error",e),s=a;break;case"img":case"image":case"link":we("error",e),we("load",e),s=a;break;case"details":we("toggle",e),s=a;break;case"input":nd(e,a),s=Co(e,a),we("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=Ae({},a,{value:void 0}),we("invalid",e);break;case"textarea":sd(e,a),s=Oo(e,a),we("invalid",e);break;default:s=a}Lo(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var o=c[i];i==="style"?Eh(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Th(e,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Ka(e,o):typeof o=="number"&&Ka(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ga.hasOwnProperty(i)?o!=null&&i==="onScroll"&&we("scroll",e):o!=null&&Mc(e,i,o,l))}switch(n){case"input":Ts(e),ad(e,a,!1);break;case"textarea":Ts(e),id(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ur(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?In(e,!!a.multiple,i,!1):a.defaultValue!=null&&In(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_i)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Jm(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(te(166));if(n=rn(as.current),rn(rr.current),Rs(t)){if(a=t.stateNode,n=t.memoizedProps,a[Yt]=t,(i=a.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Ms(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(a.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Yt]=t,t.stateNode=a}return Qe(t),null;case 13:if(_e(Pe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&mt!==null&&t.mode&1&&!(t.flags&128))gm(),Hn(),t.flags|=98560,i=!1;else if(i=Rs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Yt]=t}else Hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else Bt!==null&&(mc(Bt),Bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?$e===0&&($e=3):xu())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Kn(),ic(e,t),e===null&&es(t.stateNode.containerInfo),Qe(t),null;case 10:return eu(t.type._context),Qe(t),null;case 17:return lt(t.type)&&ki(),Qe(t),null;case 19:if(_e(Pe),i=t.memoizedState,i===null)return Qe(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)ya(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ai(e),l!==null){for(t.flags|=128,ya(i,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)i=n,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Pe,Pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>Qn&&(t.flags|=128,a=!0,ya(i,!1),t.lanes=4194304)}else{if(!a)if(e=Ai(l),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ke)return Qe(t),null}else 2*Ie()-i.renderingStartTime>Qn&&n!==1073741824&&(t.flags|=128,a=!0,ya(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=Pe.current,ve(Pe,a?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return gu(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?dt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function n0(e,t){switch(Xc(t),t.tag){case 1:return lt(t.type)&&ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(),_e(it),_e(Ye),su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return au(t),null;case 13:if(_e(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Pe),null;case 4:return Kn(),null;case 10:return eu(t.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var $s=!1,Xe=!1,a0=typeof WeakSet=="function"?WeakSet:Set,ie=null;function An(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Le(e,t,a)}else n.current=null}function lc(e,t,n){try{n()}catch(a){Le(e,t,a)}}var Qd=!1;function s0(e,t){if(Uo=wi,e=nm(),Wc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,c=-1,o=-1,d=0,f=0,m=e,u=null;t:for(;;){for(var h;m!==n||s!==0&&m.nodeType!==3||(c=l+s),m!==i||a!==0&&m.nodeType!==3||(o=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)u=m,m=h;for(;;){if(m===e)break t;if(u===n&&++d===s&&(c=l),u===i&&++f===a&&(o=l),(h=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=h}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ho={focusedElem:e,selectionRange:n},wi=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:zt(t.type,y),b);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(v){Le(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return x=Qd,Qd=!1,x}function Va(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lc(t,n,i)}s=s.next}while(s!==a)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zm(e){var t=e.alternate;t!==null&&(e.alternate=null,Zm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[rs],delete t[Wo],delete t[Fy],delete t[Vy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ep(e){return e.tag===5||e.tag===3||e.tag===4}function Xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_i));else if(a!==4&&(e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(uc(e,t,n),e=e.sibling;e!==null;)uc(e,t,n),e=e.sibling}var Ue=null,$t=!1;function Tr(e,t,n){for(n=n.child;n!==null;)tp(e,t,n),n=n.sibling}function tp(e,t,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Zi,n)}catch{}switch(n.tag){case 5:Xe||An(n,t);case 6:var a=Ue,s=$t;Ue=null,Tr(e,t,n),Ue=a,$t=s,Ue!==null&&($t?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&($t?(e=Ue,n=n.stateNode,e.nodeType===8?Wl(e.parentNode,n):e.nodeType===1&&Wl(e,n),Ya(e)):Wl(Ue,n.stateNode));break;case 4:a=Ue,s=$t,Ue=n.stateNode.containerInfo,$t=!0,Tr(e,t,n),Ue=a,$t=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&lc(n,t,l),s=s.next}while(s!==a)}Tr(e,t,n);break;case 1:if(!Xe&&(An(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(c){Le(n,t,c)}Tr(e,t,n);break;case 21:Tr(e,t,n);break;case 22:n.mode&1?(Xe=(a=Xe)||n.memoizedState!==null,Tr(e,t,n),Xe=a):Tr(e,t,n);break;default:Tr(e,t,n)}}function Yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new a0),t.forEach(function(a){var s=m0.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ue=c.stateNode,$t=!1;break e;case 3:Ue=c.stateNode.containerInfo,$t=!0;break e;case 4:Ue=c.stateNode.containerInfo,$t=!0;break e}c=c.return}if(Ue===null)throw Error(te(160));tp(i,l,s),Ue=null,$t=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(d){Le(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rp(t,e),t=t.sibling}function rp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Wt(e),a&4){try{Va(3,e,e.return),ll(3,e)}catch(y){Le(e,e.return,y)}try{Va(5,e,e.return)}catch(y){Le(e,e.return,y)}}break;case 1:Dt(t,e),Wt(e),a&512&&n!==null&&An(n,n.return);break;case 5:if(Dt(t,e),Wt(e),a&512&&n!==null&&An(n,n.return),e.flags&32){var s=e.stateNode;try{Ka(s,"")}catch(y){Le(e,e.return,y)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&_h(s,i),Io(c,l);var d=Io(c,i);for(l=0;l<o.length;l+=2){var f=o[l],m=o[l+1];f==="style"?Eh(s,m):f==="dangerouslySetInnerHTML"?Th(s,m):f==="children"?Ka(s,m):Mc(s,f,m,d)}switch(c){case"input":Eo(s,i);break;case"textarea":kh(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?In(s,!!i.multiple,h,!1):u!==!!i.multiple&&(i.defaultValue!=null?In(s,!!i.multiple,i.defaultValue,!0):In(s,!!i.multiple,i.multiple?[]:"",!1))}s[rs]=i}catch(y){Le(e,e.return,y)}}break;case 6:if(Dt(t,e),Wt(e),a&4){if(e.stateNode===null)throw Error(te(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Le(e,e.return,y)}}break;case 3:if(Dt(t,e),Wt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(t.containerInfo)}catch(y){Le(e,e.return,y)}break;case 4:Dt(t,e),Wt(e);break;case 13:Dt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mu=Ie())),a&4&&Yd(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(d=Xe)||f,Dt(t,e),Xe=d):Dt(t,e),Wt(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(ie=e,f=e.child;f!==null;){for(m=ie=f;ie!==null;){switch(u=ie,h=u.child,u.tag){case 0:case 11:case 14:case 15:Va(4,u,u.return);break;case 1:An(u,u.return);var x=u.stateNode;if(typeof x.componentWillUnmount=="function"){a=u,n=u.return;try{t=a,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Le(a,n,y)}}break;case 5:An(u,u.return);break;case 22:if(u.memoizedState!==null){Zd(m);continue}}h!==null?(h.return=u,ie=h):Zd(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=m.stateNode,o=m.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Ch("display",l))}catch(y){Le(e,e.return,y)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(y){Le(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Dt(t,e),Wt(e),a&4&&Yd(e);break;case 21:break;default:Dt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ep(n)){var a=n;break e}n=n.return}throw Error(te(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Ka(s,""),a.flags&=-33);var i=Xd(e);uc(e,i,s);break;case 3:case 4:var l=a.stateNode.containerInfo,c=Xd(e);cc(e,c,l);break;default:throw Error(te(161))}}catch(o){Le(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i0(e,t,n){ie=e,np(e)}function np(e,t,n){for(var a=(e.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&a){var l=s.memoizedState!==null||$s;if(!l){var c=s.alternate,o=c!==null&&c.memoizedState!==null||Xe;c=$s;var d=Xe;if($s=l,(Xe=o)&&!d)for(ie=s;ie!==null;)l=ie,o=l.child,l.tag===22&&l.memoizedState!==null?ef(s):o!==null?(o.return=l,ie=o):ef(s);for(;i!==null;)ie=i,np(i),i=i.sibling;ie=s,$s=c,Xe=d}Jd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):Jd(e)}}function Jd(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||ll(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Xe)if(n===null)a.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rd(t,i,a);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rd(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Ya(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Xe||t.flags&512&&oc(t)}catch(u){Le(t,t.return,u)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Zd(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function ef(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(o){Le(t,n,o)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(o){Le(t,s,o)}}var i=t.return;try{oc(t)}catch(o){Le(t,i,o)}break;case 5:var l=t.return;try{oc(t)}catch(o){Le(t,l,o)}}}catch(o){Le(t,t.return,o)}if(t===e){ie=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ie=c;break}ie=t.return}}var l0=Math.ceil,Mi=_r.ReactCurrentDispatcher,fu=_r.ReactCurrentOwner,Ct=_r.ReactCurrentBatchConfig,me=0,Fe=null,De=null,Ge=0,dt=0,Ln=Kr(0),$e=0,os=null,un=0,ol=0,hu=0,qa=null,at=null,mu=0,Qn=1/0,ur=null,Ri=!1,dc=null,Fr=null,Bs=!1,Ir=null,Di=0,Ua=0,fc=null,ci=-1,ui=0;function Ze(){return me&6?Ie():ci!==-1?ci:ci=Ie()}function Vr(e){return e.mode&1?me&2&&Ge!==0?Ge&-Ge:Uy.transition!==null?(ui===0&&(ui=Fh()),ui):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Wh(e.type)),e):1}function qt(e,t,n,a){if(50<Ua)throw Ua=0,fc=null,Error(te(185));ms(e,n,a),(!(me&2)||e!==Fe)&&(e===Fe&&(!(me&2)&&(ol|=n),$e===4&&Ar(e,Ge)),ot(e,a),n===1&&me===0&&!(t.mode&1)&&(Qn=Ie()+500,al&&Wr()))}function ot(e,t){var n=e.callbackNode;Ux(e,t);var a=bi(e,e===Fe?Ge:0);if(a===0)n!==null&&cd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&cd(n),t===1)e.tag===0?qy(tf.bind(null,e)):hm(tf.bind(null,e)),$y(function(){!(me&6)&&Wr()}),n=null;else{switch(Vh(a)){case 1:n=Bc;break;case 4:n=$h;break;case 16:n=vi;break;case 536870912:n=Bh;break;default:n=vi}n=dp(n,ap.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ap(e,t){if(ci=-1,ui=0,me&6)throw Error(te(327));var n=e.callbackNode;if($n()&&e.callbackNode!==n)return null;var a=bi(e,e===Fe?Ge:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=zi(e,a);else{t=a;var s=me;me|=2;var i=ip();(Fe!==e||Ge!==t)&&(ur=null,Qn=Ie()+500,nn(e,t));do try{u0();break}catch(c){sp(e,c)}while(!0);Zc(),Mi.current=i,me=s,De!==null?t=0:(Fe=null,Ge=0,t=$e)}if(t!==0){if(t===2&&(s=$o(e),s!==0&&(a=s,t=hc(e,s))),t===1)throw n=os,nn(e,0),Ar(e,a),ot(e,Ie()),n;if(t===6)Ar(e,a);else{if(s=e.current.alternate,!(a&30)&&!o0(s)&&(t=zi(e,a),t===2&&(i=$o(e),i!==0&&(a=i,t=hc(e,i))),t===1))throw n=os,nn(e,0),Ar(e,a),ot(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(te(345));case 2:Jr(e,at,ur);break;case 3:if(Ar(e,a),(a&130023424)===a&&(t=mu+500-Ie(),10<t)){if(bi(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ko(Jr.bind(null,e,at,ur),t);break}Jr(e,at,ur);break;case 4:if(Ar(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var l=31-Vt(a);i=1<<l,l=t[l],l>s&&(s=l),a&=~i}if(a=s,a=Ie()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*l0(a/1960))-a,10<a){e.timeoutHandle=Ko(Jr.bind(null,e,at,ur),a);break}Jr(e,at,ur);break;case 5:Jr(e,at,ur);break;default:throw Error(te(329))}}}return ot(e,Ie()),e.callbackNode===n?ap.bind(null,e):null}function hc(e,t){var n=qa;return e.current.memoizedState.isDehydrated&&(nn(e,t).flags|=256),e=zi(e,t),e!==2&&(t=at,at=n,t!==null&&mc(t)),e}function mc(e){at===null?at=e:at.push.apply(at,e)}function o0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ar(e,t){for(t&=~hu,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),a=1<<n;e[n]=-1,t&=~a}}function tf(e){if(me&6)throw Error(te(327));$n();var t=bi(e,0);if(!(t&1))return ot(e,Ie()),null;var n=zi(e,t);if(e.tag!==0&&n===2){var a=$o(e);a!==0&&(t=a,n=hc(e,a))}if(n===1)throw n=os,nn(e,0),Ar(e,t),ot(e,Ie()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,at,ur),ot(e,Ie()),null}function pu(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Qn=Ie()+500,al&&Wr())}}function dn(e){Ir!==null&&Ir.tag===0&&!(me&6)&&$n();var t=me;me|=1;var n=Ct.transition,a=ge;try{if(Ct.transition=null,ge=1,e)return e()}finally{ge=a,Ct.transition=n,me=t,!(me&6)&&Wr()}}function gu(){dt=Ln.current,_e(Ln)}function nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zy(n)),De!==null)for(n=De.return;n!==null;){var a=n;switch(Xc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ki();break;case 3:Kn(),_e(it),_e(Ye),su();break;case 5:au(a);break;case 4:Kn();break;case 13:_e(Pe);break;case 19:_e(Pe);break;case 10:eu(a.type._context);break;case 22:case 23:gu()}n=n.return}if(Fe=e,De=e=qr(e.current,null),Ge=dt=t,$e=0,os=null,hu=ol=un=0,at=qa=null,tn!==null){for(t=0;t<tn.length;t++)if(n=tn[t],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,a.next=l}n.pending=a}tn=null}return e}function sp(e,t){do{var n=De;try{if(Zc(),ii.current=Ii,Li){for(var a=Oe.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Li=!1}if(cn=0,Be=ze=Oe=null,Fa=!1,ss=0,fu.current=null,n===null||n.return===null){$e=1,os=t,De=null;break}e:{var i=e,l=n.return,c=n,o=t;if(t=Ge,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,f=c,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Vd(l);if(h!==null){h.flags&=-257,qd(h,l,c,i,t),h.mode&1&&Fd(i,d,t),t=h,o=d;var x=t.updateQueue;if(x===null){var y=new Set;y.add(o),t.updateQueue=y}else x.add(o);break e}else{if(!(t&1)){Fd(i,d,t),xu();break e}o=Error(te(426))}}else if(ke&&c.mode&1){var b=Vd(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qd(b,l,c,i,t),Yc(Wn(o,c));break e}}i=o=Wn(o,c),$e!==4&&($e=2),qa===null?qa=[i]:qa.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Vm(i,o,t);Md(i,p);break e;case 1:c=o;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fr===null||!Fr.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=qm(i,c,t);Md(i,v);break e}}i=i.return}while(i!==null)}op(n)}catch(j){t=j,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function ip(){var e=Mi.current;return Mi.current=Ii,e===null?Ii:e}function xu(){($e===0||$e===3||$e===2)&&($e=4),Fe===null||!(un&268435455)&&!(ol&268435455)||Ar(Fe,Ge)}function zi(e,t){var n=me;me|=2;var a=ip();(Fe!==e||Ge!==t)&&(ur=null,nn(e,t));do try{c0();break}catch(s){sp(e,s)}while(!0);if(Zc(),me=n,Mi.current=a,De!==null)throw Error(te(261));return Fe=null,Ge=0,$e}function c0(){for(;De!==null;)lp(De)}function u0(){for(;De!==null&&!Mx();)lp(De)}function lp(e){var t=up(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?op(e):De=t,fu.current=null}function op(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=n0(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,De=null;return}}else if(n=r0(n,t,dt),n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);$e===0&&($e=5)}function Jr(e,t,n){var a=ge,s=Ct.transition;try{Ct.transition=null,ge=1,d0(e,t,n,a)}finally{Ct.transition=s,ge=a}return null}function d0(e,t,n,a){do $n();while(Ir!==null);if(me&6)throw Error(te(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Hx(e,i),e===Fe&&(De=Fe=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bs||(Bs=!0,dp(vi,function(){return $n(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var l=ge;ge=1;var c=me;me|=4,fu.current=null,s0(e,n),rp(n,e),Oy(Ho),wi=!!Uo,Ho=Uo=null,e.current=n,i0(n),Rx(),me=c,ge=l,Ct.transition=i}else e.current=n;if(Bs&&(Bs=!1,Ir=e,Di=s),i=e.pendingLanes,i===0&&(Fr=null),$x(n.stateNode),ot(e,Ie()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Ri)throw Ri=!1,e=dc,dc=null,e;return Di&1&&e.tag!==0&&$n(),i=e.pendingLanes,i&1?e===fc?Ua++:(Ua=0,fc=e):Ua=0,Wr(),null}function $n(){if(Ir!==null){var e=Vh(Di),t=Ct.transition,n=ge;try{if(Ct.transition=null,ge=16>e?16:e,Ir===null)var a=!1;else{if(e=Ir,Ir=null,Di=0,me&6)throw Error(te(331));var s=me;for(me|=4,ie=e.current;ie!==null;){var i=ie,l=i.child;if(ie.flags&16){var c=i.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(ie=d;ie!==null;){var f=ie;switch(f.tag){case 0:case 11:case 15:Va(8,f,i)}var m=f.child;if(m!==null)m.return=f,ie=m;else for(;ie!==null;){f=ie;var u=f.sibling,h=f.return;if(Zm(f),f===d){ie=null;break}if(u!==null){u.return=h,ie=u;break}ie=h}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ie=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ie=l;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Va(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ie=p;break e}ie=i.return}}var g=e.current;for(ie=g;ie!==null;){l=ie;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,ie=w;else e:for(l=g;ie!==null;){if(c=ie,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ll(9,c)}}catch(j){Le(c,c.return,j)}if(c===l){ie=null;break e}var v=c.sibling;if(v!==null){v.return=c.return,ie=v;break e}ie=c.return}}if(me=s,Wr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Zi,e)}catch{}a=!0}return a}finally{ge=n,Ct.transition=t}}return!1}function rf(e,t,n){t=Wn(n,t),t=Vm(e,t,1),e=Br(e,t,1),t=Ze(),e!==null&&(ms(e,1,t),ot(e,t))}function Le(e,t,n){if(e.tag===3)rf(e,e,n);else for(;t!==null;){if(t.tag===3){rf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Fr===null||!Fr.has(a))){e=Wn(n,e),e=qm(t,e,1),t=Br(t,e,1),e=Ze(),t!==null&&(ms(t,1,e),ot(t,e));break}}t=t.return}}function f0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(Ge&n)===n&&($e===4||$e===3&&(Ge&130023424)===Ge&&500>Ie()-mu?nn(e,0):hu|=n),ot(e,t)}function cp(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var n=Ze();e=wr(e,t),e!==null&&(ms(e,t,n),ot(e,n))}function h0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cp(e,n)}function m0(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(te(314))}a!==null&&a.delete(t),cp(e,n)}var up;up=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,t0(e,t,n);st=!!(e.flags&131072)}else st=!1,ke&&t.flags&1048576&&mm(t,Ci,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;oi(e,t),e=t.pendingProps;var s=Un(t,Ye.current);zn(t,n),s=lu(null,t,a,e,s,n);var i=ou();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(a)?(i=!0,Si(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ru(t),s.updater=il,t.stateNode=s,s._reactInternals=t,ec(t,a,e,n),t=nc(null,t,a,!0,i,n)):(t.tag=0,ke&&i&&Qc(t),Je(null,t,s,n),t=t.child),t;case 16:a=t.elementType;e:{switch(oi(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=g0(a),e=zt(a,e),s){case 0:t=rc(null,t,a,e,n);break e;case 1:t=Gd(null,t,a,e,n);break e;case 11:t=Ud(null,t,a,e,n);break e;case 14:t=Hd(null,t,a,zt(a.type,e),n);break e}throw Error(te(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:zt(a,s),rc(e,t,a,s,n);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:zt(a,s),Gd(e,t,a,s,n);case 3:e:{if(Km(t),e===null)throw Error(te(387));a=t.pendingProps,i=t.memoizedState,s=i.element,bm(e,t),Oi(t,a,null,n);var l=t.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wn(Error(te(423)),t),t=Kd(e,t,a,n,s);break e}else if(a!==s){s=Wn(Error(te(424)),t),t=Kd(e,t,a,n,s);break e}else for(mt=$r(t.stateNode.containerInfo.firstChild),pt=t,ke=!0,Bt=null,n=ym(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),a===s){t=jr(e,t,n);break e}Je(e,t,a,n)}t=t.child}return t;case 5:return wm(t),e===null&&Yo(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Go(a,s)?l=null:i!==null&&Go(a,i)&&(t.flags|=32),Gm(e,t),Je(e,t,l,n),t.child;case 6:return e===null&&Yo(t),null;case 13:return Wm(e,t,n);case 4:return nu(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Gn(t,null,a,n):Je(e,t,a,n),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:zt(a,s),Ud(e,t,a,s,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,ve(Ei,a._currentValue),a._currentValue=l,i!==null)if(Ut(i.value,l)){if(i.children===s.children&&!it.current){t=jr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var o=c.firstContext;o!==null;){if(o.context===a){if(i.tag===1){o=mr(-1,n&-n),o.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?o.next=o:(o.next=f.next,f.next=o),d.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Jo(i.return,n,t),c.lanes|=n;break}o=o.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(te(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Jo(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,zn(t,n),s=Pt(s),a=a(s),t.flags|=1,Je(e,t,a,n),t.child;case 14:return a=t.type,s=zt(a,t.pendingProps),s=zt(a.type,s),Hd(e,t,a,s,n);case 15:return Um(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:zt(a,s),oi(e,t),t.tag=1,lt(a)?(e=!0,Si(t)):e=!1,zn(t,n),Fm(t,a,s),ec(t,a,s,n),nc(null,t,a,!0,e,n);case 19:return Qm(e,t,n);case 22:return Hm(e,t,n)}throw Error(te(156,t.tag))};function dp(e,t){return zh(e,t)}function p0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,a){return new p0(e,t,n,a)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g0(e){if(typeof e=="function")return yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dc)return 11;if(e===zc)return 14}return 2}function qr(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function di(e,t,n,a,s,i){var l=2;if(a=e,typeof e=="function")yu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Nn:return an(n.children,s,i,t);case Rc:l=8,s|=8;break;case _o:return e=Tt(12,n,t,s|2),e.elementType=_o,e.lanes=i,e;case ko:return e=Tt(13,n,t,s),e.elementType=ko,e.lanes=i,e;case So:return e=Tt(19,n,t,s),e.elementType=So,e.lanes=i,e;case wh:return cl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vh:l=10;break e;case bh:l=9;break e;case Dc:l=11;break e;case zc:l=14;break e;case Er:l=16,a=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Tt(l,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function an(e,t,n,a){return e=Tt(7,e,a,t),e.lanes=n,e}function cl(e,t,n,a){return e=Tt(22,e,a,t),e.elementType=wh,e.lanes=n,e.stateNode={isHidden:!1},e}function ro(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function no(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0(e,t,n,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vu(e,t,n,a,s,i,l,c,o){return e=new x0(e,t,n,c,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(i),e}function y0(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function fp(e){if(!e)return Hr;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(lt(n))return fm(e,n,t)}return t}function hp(e,t,n,a,s,i,l,c,o){return e=vu(n,a,!0,e,s,i,l,c,o),e.context=fp(null),n=e.current,a=Ze(),s=Vr(n),i=mr(a,s),i.callback=t??null,Br(n,i,s),e.current.lanes=s,ms(e,s,a),ot(e,a),e}function ul(e,t,n,a){var s=t.current,i=Ze(),l=Vr(s);return n=fp(n),t.context===null?t.context=n:t.pendingContext=n,t=mr(i,l),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Br(s,t,l),e!==null&&(qt(e,s,l,i),si(e,s,l)),l}function $i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bu(e,t){nf(e,t),(e=e.alternate)&&nf(e,t)}function v0(){return null}var mp=typeof reportError=="function"?reportError:function(e){console.error(e)};function wu(e){this._internalRoot=e}dl.prototype.render=wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));ul(e,t,null,null)};dl.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dn(function(){ul(null,e,null,null)}),t[br]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Or.length&&t!==0&&t<Or[n].priority;n++);Or.splice(n,0,e),n===0&&Kh(e)}};function ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function af(){}function b0(e,t,n,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var d=$i(l);i.call(d)}}var l=hp(t,a,e,0,null,!1,!1,"",af);return e._reactRootContainer=l,e[br]=l.current,es(e.nodeType===8?e.parentNode:e),dn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var c=a;a=function(){var d=$i(o);c.call(d)}}var o=vu(e,0,!1,null,null,!1,!1,"",af);return e._reactRootContainer=o,e[br]=o.current,es(e.nodeType===8?e.parentNode:e),dn(function(){ul(t,o,n,a)}),o}function hl(e,t,n,a,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var c=s;s=function(){var o=$i(l);c.call(o)}}ul(t,l,e,s)}else l=b0(n,t,e,s,a);return $i(l)}qh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=La(t.pendingLanes);n!==0&&(Fc(t,n|1),ot(t,Ie()),!(me&6)&&(Qn=Ie()+500,Wr()))}break;case 13:dn(function(){var a=wr(e,1);if(a!==null){var s=Ze();qt(a,e,1,s)}}),bu(e,1)}};Vc=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var n=Ze();qt(t,e,134217728,n)}bu(e,134217728)}};Uh=function(e){if(e.tag===13){var t=Vr(e),n=wr(e,t);if(n!==null){var a=Ze();qt(n,e,t,a)}bu(e,t)}};Hh=function(){return ge};Gh=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Ro=function(e,t,n){switch(t){case"input":if(Eo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=nl(a);if(!s)throw Error(te(90));Nh(a),Eo(a,s)}}}break;case"textarea":kh(e,n);break;case"select":t=n.value,t!=null&&In(e,!!n.multiple,t,!1)}};Ah=pu;Lh=dn;var w0={usingClientEntryPoint:!1,Events:[gs,Tn,nl,Ph,Oh,pu]},va={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j0={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rh(e),e===null?null:e.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||v0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{Zi=Fs.inject(j0),tr=Fs}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w0;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(t))throw Error(te(200));return y0(e,t,null,n)};xt.createRoot=function(e,t){if(!ju(e))throw Error(te(299));var n=!1,a="",s=mp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vu(e,1,!1,null,null,n,!1,a,s),e[br]=t.current,es(e.nodeType===8?e.parentNode:e),new wu(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=Rh(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return dn(e)};xt.hydrate=function(e,t,n){if(!fl(t))throw Error(te(200));return hl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!ju(e))throw Error(te(405));var a=n!=null&&n.hydratedSources||null,s=!1,i="",l=mp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=hp(t,null,e,1,n??null,s,!1,i,l),e[br]=t.current,es(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new dl(t)};xt.render=function(e,t,n){if(!fl(t))throw Error(te(200));return hl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!fl(e))throw Error(te(40));return e._reactRootContainer?(dn(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[br]=null})}),!0):!1};xt.unstable_batchedUpdates=pu;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!fl(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return hl(e,t,n,!1,a)};xt.version="18.3.1-next-f1338f8080-20240426";function pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pp)}catch(e){console.error(e)}}pp(),ph.exports=xt;var gp=ph.exports,xp,sf=gp;xp=sf.createRoot,sf.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lf="popstate";function N0(e={}){function t(a,s){let{pathname:i,search:l,hash:c}=a.location;return pc("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:cs(s)}return k0(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function At(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _0(){return Math.random().toString(36).substring(2,10)}function of(e,t){return{usr:e.state,key:e.key,idx:t}}function pc(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zn(t):t,state:n,key:t&&t.key||a||_0()}}function cs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function k0(e,t,n,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,c="POP",o=null,d=f();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function f(){return(l.state||{idx:null}).idx}function m(){c="POP";let b=f(),p=b==null?null:b-d;d=b,o&&o({action:c,location:y.location,delta:p})}function u(b,p){c="PUSH";let g=pc(y.location,b,p);d=f()+1;let w=of(g,d),v=y.createHref(g);try{l.pushState(w,"",v)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(v)}i&&o&&o({action:c,location:y.location,delta:1})}function h(b,p){c="REPLACE";let g=pc(y.location,b,p);d=f();let w=of(g,d),v=y.createHref(g);l.replaceState(w,"",v),i&&o&&o({action:c,location:y.location,delta:0})}function x(b){return S0(b)}let y={get action(){return c},get location(){return e(s,l)},listen(b){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(lf,m),o=b,()=>{s.removeEventListener(lf,m),o=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let p=x(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:u,replace:h,go(b){return l.go(b)}};return y}function S0(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Se(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:cs(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function yp(e,t,n="/"){return T0(e,t,n,!1)}function T0(e,t,n,a){let s=typeof t=="string"?Zn(t):t,i=Nr(s.pathname||"/",n);if(i==null)return null;let l=vp(e);C0(l);let c=null;for(let o=0;c==null&&o<l.length;++o){let d=$0(i);c=D0(l[o],d,a)}return c}function vp(e,t=[],n=[],a="",s=!1){let i=(l,c,o=s,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&o)return;Se(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let m=pr([a,f.relativePath]),u=n.concat(f);l.children&&l.children.length>0&&(Se(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),vp(l.children,t,u,m,o)),!(l.path==null&&!l.index)&&t.push({path:m,score:M0(m,l.index),routesMeta:u})};return e.forEach((l,c)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))i(l,c);else for(let d of bp(l.path))i(l,c,!0,d)}),t}function bp(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=bp(a.join("/")),c=[];return c.push(...l.map(o=>o===""?i:[i,o].join("/"))),s&&c.push(...l),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function C0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:R0(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var E0=/^:[\w-]+$/,P0=3,O0=2,A0=1,L0=10,I0=-2,cf=e=>e==="*";function M0(e,t){let n=e.split("/"),a=n.length;return n.some(cf)&&(a+=I0),t&&(a+=O0),n.filter(s=>!cf(s)).reduce((s,i)=>s+(E0.test(i)?P0:i===""?A0:L0),a)}function R0(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function D0(e,t,n=!1){let{routesMeta:a}=e,s={},i="/",l=[];for(let c=0;c<a.length;++c){let o=a[c],d=c===a.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=Bi({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},f),u=o.route;if(!m&&d&&n&&!a[a.length-1].route.index&&(m=Bi({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:pr([i,m.pathname]),pathnameBase:q0(pr([i,m.pathnameBase])),route:u}),m.pathnameBase!=="/"&&(i=pr([i,m.pathnameBase]))}return l}function Bi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=z0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((d,{paramName:f,isOptional:m},u)=>{if(f==="*"){let x=c[u]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const h=c[u];return m&&!h?d[f]=void 0:d[f]=(h||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function z0(e,t=!1,n=!0){At(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,o)=>(a.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function $0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return At(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function B0(e,t="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Zn(e):e;return{pathname:n?n.startsWith("/")?n:F0(n,t):t,search:U0(a),hash:H0(s)}}function F0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ao(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nu(e){let t=V0(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function _u(e,t,n,a=!1){let s;typeof e=="string"?s=Zn(e):(s={...e},Se(!s.pathname||!s.pathname.includes("?"),ao("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),ao("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),ao("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=n;else{let m=t.length-1;if(!a&&l.startsWith("..")){let u=l.split("/");for(;u[0]==="..";)u.shift(),m-=1;s.pathname=u.join("/")}c=m>=0?t[m]:"/"}let o=B0(s,c),d=l&&l!=="/"&&l.endsWith("/"),f=(i||l===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(d||f)&&(o.pathname+="/"),o}var pr=e=>e.join("/").replace(/\/\/+/g,"/"),q0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function G0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wp=["POST","PUT","PATCH","DELETE"];new Set(wp);var K0=["GET",...wp];new Set(K0);var ea=E.createContext(null);ea.displayName="DataRouter";var ml=E.createContext(null);ml.displayName="DataRouterState";E.createContext(!1);var jp=E.createContext({isTransitioning:!1});jp.displayName="ViewTransition";var W0=E.createContext(new Map);W0.displayName="Fetchers";var Q0=E.createContext(null);Q0.displayName="Await";var Ht=E.createContext(null);Ht.displayName="Navigation";var ys=E.createContext(null);ys.displayName="Location";var Gt=E.createContext({outlet:null,matches:[],isDataRoute:!1});Gt.displayName="Route";var ku=E.createContext(null);ku.displayName="RouteError";function X0(e,{relative:t}={}){Se(ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=E.useContext(Ht),{hash:s,pathname:i,search:l}=vs(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:pr([n,i])),a.createHref({pathname:c,search:l,hash:s})}function ta(){return E.useContext(ys)!=null}function ct(){return Se(ta(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ys).location}var Np="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _p(e){E.useContext(Ht).static||E.useLayoutEffect(e)}function xe(){let{isDataRoute:e}=E.useContext(Gt);return e?cv():Y0()}function Y0(){Se(ta(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(ea),{basename:t,navigator:n}=E.useContext(Ht),{matches:a}=E.useContext(Gt),{pathname:s}=ct(),i=JSON.stringify(Nu(a)),l=E.useRef(!1);return _p(()=>{l.current=!0}),E.useCallback((o,d={})=>{if(At(l.current,Np),!l.current)return;if(typeof o=="number"){n.go(o);return}let f=_u(o,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pr([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}E.createContext(null);function Su(){let{matches:e}=E.useContext(Gt),t=e[e.length-1];return t?t.params:{}}function vs(e,{relative:t}={}){let{matches:n}=E.useContext(Gt),{pathname:a}=ct(),s=JSON.stringify(Nu(n));return E.useMemo(()=>_u(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function J0(e,t){return kp(e,t)}function kp(e,t,n,a,s){var g;Se(ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(Ht),{matches:l}=E.useContext(Gt),c=l[l.length-1],o=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let w=m&&m.path||"";Sp(d,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let u=ct(),h;if(t){let w=typeof t=="string"?Zn(t):t;Se(f==="/"||((g=w.pathname)==null?void 0:g.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=u;let x=h.pathname||"/",y=x;if(f!=="/"){let w=f.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=yp(e,{pathname:y});At(m||b!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),At(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=nv(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:pr([f,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:pr([f,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),l,n,a,s);return t&&p?E.createElement(ys.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},p):p}function Z0(){let e=ov(),t=G0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:s},n):null,l)}var ev=E.createElement(Z0,null),tv=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(Gt.Provider,{value:this.props.routeContext},E.createElement(ku.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rv({routeContext:e,match:t,children:n}){let a=E.useContext(ea);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Gt.Provider,{value:e},n)}function nv(e,t=[],n=null,a=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n==null?void 0:n.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);Se(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,o=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=d),f.route.id){let{loaderData:m,errors:u}=n,h=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!u||u[f.route.id]===void 0);if(f.route.lazy||h){c=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let u,h=!1,x=null,y=null;n&&(u=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||ev,c&&(o<0&&m===0?(Sp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):o===m&&(h=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,m+1)),p=()=>{let g;return u?g=x:h?g=y:f.route.Component?g=E.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,E.createElement(rv,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?E.createElement(tv,{location:n.location,revalidation:n.revalidation,component:x,error:u,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:a}):p()},null)}function Tu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function av(e){let t=E.useContext(ea);return Se(t,Tu(e)),t}function sv(e){let t=E.useContext(ml);return Se(t,Tu(e)),t}function iv(e){let t=E.useContext(Gt);return Se(t,Tu(e)),t}function Cu(e){let t=iv(e),n=t.matches[t.matches.length-1];return Se(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function lv(){return Cu("useRouteId")}function ov(){var a;let e=E.useContext(ku),t=sv("useRouteError"),n=Cu("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function cv(){let{router:e}=av("useNavigate"),t=Cu("useNavigate"),n=E.useRef(!1);return _p(()=>{n.current=!0}),E.useCallback(async(s,i={})=>{At(n.current,Np),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var uf={};function Sp(e,t,n){!t&&!uf[e]&&(uf[e]=!0,At(!1,n))}E.memo(uv);function uv({routes:e,future:t,state:n,unstable_onError:a}){return kp(e,void 0,n,a,t)}function us({to:e,replace:t,state:n,relative:a}){Se(ta(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(Ht);At(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=E.useContext(Gt),{pathname:l}=ct(),c=xe(),o=_u(e,Nu(i),l,a==="path"),d=JSON.stringify(o);return E.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:a})},[c,d,a,t,n]),null}function pe(e){Se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dv({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:s,static:i=!1}){Se(!ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof n=="string"&&(n=Zn(n));let{pathname:o="/",search:d="",hash:f="",state:m=null,key:u="default"}=n,h=E.useMemo(()=>{let x=Nr(o,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:u},navigationType:a}},[l,o,d,f,m,u,a]);return At(h!=null,`<Router basename="${l}"> is not able to match the URL "${o}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:E.createElement(Ht.Provider,{value:c},E.createElement(ys.Provider,{children:t,value:h}))}function Eu({children:e,location:t}){return J0(gc(e),t)}function gc(e,t=[]){let n=[];return E.Children.forEach(e,(a,s)=>{if(!E.isValidElement(a))return;let i=[...t,s];if(a.type===E.Fragment){n.push.apply(n,gc(a.props.children,i));return}Se(a.type===pe,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Se(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=gc(a.props.children,i)),n.push(l)}),n}var fi="get",hi="application/x-www-form-urlencoded";function pl(e){return e!=null&&typeof e.tagName=="string"}function fv(e){return pl(e)&&e.tagName.toLowerCase()==="button"}function hv(e){return pl(e)&&e.tagName.toLowerCase()==="form"}function mv(e){return pl(e)&&e.tagName.toLowerCase()==="input"}function pv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gv(e,t){return e.button===0&&(!t||t==="_self")&&!pv(e)}function xc(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function xv(e,t){let n=xc(e);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Vs=null;function yv(){if(Vs===null)try{new FormData(document.createElement("form"),0),Vs=!1}catch{Vs=!0}return Vs}var vv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function so(e){return e!=null&&!vv.has(e)?(At(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hi}"`),null):e}function bv(e,t){let n,a,s,i,l;if(hv(e)){let c=e.getAttribute("action");a=c?Nr(c,t):null,n=e.getAttribute("method")||fi,s=so(e.getAttribute("enctype"))||hi,i=new FormData(e)}else if(fv(e)||mv(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||c.getAttribute("action");if(a=o?Nr(o,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||fi,s=so(e.getAttribute("formenctype"))||so(c.getAttribute("enctype"))||hi,i=new FormData(c,e),!yv()){let{name:d,type:f,value:m}=e;if(f==="image"){let u=d?`${d}.`:"";i.append(`${u}x`,"0"),i.append(`${u}y`,"0")}else d&&i.append(d,m)}}else{if(pl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fi,a=null,s=hi,l=e}return i&&s==="text/plain"&&(l=i,i=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wv(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&Nr(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function jv(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _v(e,t,n){let a=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let l=await jv(i,n);return l.links?l.links():[]}return[]}));return Cv(a.flat(1).filter(Nv).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function df(e,t,n,a,s,i){let l=(o,d)=>n[d]?o.route.id!==n[d].route.id:!0,c=(o,d)=>{var f;return n[d].pathname!==o.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==o.params["*"]};return i==="assets"?t.filter((o,d)=>l(o,d)||c(o,d)):i==="data"?t.filter((o,d)=>{var m;let f=a.routes[o.route.id];if(!f||!f.hasLoader)return!1;if(l(o,d)||c(o,d))return!0;if(o.route.shouldRevalidate){let u=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function kv(e,t,{includeHydrateFallback:n}={}){return Sv(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Sv(e){return[...new Set(e)]}function Tv(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function Cv(e,t){let n=new Set;return new Set(t),e.reduce((a,s)=>{let i=JSON.stringify(Tv(s));return n.has(i)||(n.add(i),a.push({key:i,link:s})),a},[])}function Tp(){let e=E.useContext(ea);return Pu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ev(){let e=E.useContext(ml);return Pu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ou=E.createContext(void 0);Ou.displayName="FrameworkContext";function Cp(){let e=E.useContext(Ou);return Pu(e,"You must render this element inside a <HydratedRouter> element"),e}function Pv(e,t){let n=E.useContext(Ou),[a,s]=E.useState(!1),[i,l]=E.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,u=E.useRef(null);E.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let y=p=>{p.forEach(g=>{l(g.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return u.current&&b.observe(u.current),()=>{b.disconnect()}}},[e]),E.useEffect(()=>{if(a){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[a]);let h=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?e!=="intent"?[i,u,{}]:[i,u,{onFocus:ba(c,h),onBlur:ba(o,x),onMouseEnter:ba(d,h),onMouseLeave:ba(f,x),onTouchStart:ba(m,h)}]:[!1,u,{}]}function ba(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ov({page:e,...t}){let{router:n}=Tp(),a=E.useMemo(()=>yp(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?E.createElement(Lv,{page:e,matches:a,...t}):null}function Av(e){let{manifest:t,routeModules:n}=Cp(),[a,s]=E.useState([]);return E.useEffect(()=>{let i=!1;return _v(e,t,n).then(l=>{i||s(l)}),()=>{i=!0}},[e,t,n]),a}function Lv({page:e,matches:t,...n}){let a=ct(),{manifest:s,routeModules:i}=Cp(),{basename:l}=Tp(),{loaderData:c,matches:o}=Ev(),d=E.useMemo(()=>df(e,t,o,s,a,"data"),[e,t,o,s,a]),f=E.useMemo(()=>df(e,t,o,s,a,"assets"),[e,t,o,s,a]),m=E.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let x=new Set,y=!1;if(t.forEach(p=>{var w;let g=s.routes[p.route.id];!g||!g.hasLoader||(!d.some(v=>v.route.id===p.route.id)&&p.route.id in c&&((w=i[p.route.id])!=null&&w.shouldRevalidate)||g.hasClientLoader?y=!0:x.add(p.route.id))}),x.size===0)return[];let b=wv(e,l,"data");return y&&x.size>0&&b.searchParams.set("_routes",t.filter(p=>x.has(p.route.id)).map(p=>p.route.id).join(",")),[b.pathname+b.search]},[l,c,a,s,d,t,e,i]),u=E.useMemo(()=>kv(f,s),[f,s]),h=Av(f);return E.createElement(E.Fragment,null,m.map(x=>E.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),u.map(x=>E.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),h.map(({key:x,link:y})=>E.createElement("link",{key:x,nonce:n.nonce,...y})))}function Iv(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ep=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ep&&(window.__reactRouterVersion="7.9.4")}catch{}function Mv({basename:e,children:t,window:n}){let a=E.useRef();a.current==null&&(a.current=N0({window:n,v5Compat:!0}));let s=a.current,[i,l]=E.useState({action:s.action,location:s.location}),c=E.useCallback(o=>{E.startTransition(()=>l(o))},[l]);return E.useLayoutEffect(()=>s.listen(c),[s,c]),E.createElement(dv,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Pp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ds=E.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:s,reloadDocument:i,replace:l,state:c,target:o,to:d,preventScrollReset:f,viewTransition:m,...u},h){let{basename:x}=E.useContext(Ht),y=typeof d=="string"&&Pp.test(d),b,p=!1;if(typeof d=="string"&&y&&(b=d,Ep))try{let O=new URL(window.location.href),C=d.startsWith("//")?new URL(O.protocol+d):new URL(d),N=Nr(C.pathname,x);C.origin===O.origin&&N!=null?d=N+C.search+C.hash:p=!0}catch{At(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=X0(d,{relative:s}),[w,v,j]=Pv(a,u),k=$v(d,{replace:l,state:c,target:o,preventScrollReset:f,relative:s,viewTransition:m});function S(O){t&&t(O),O.defaultPrevented||k(O)}let T=E.createElement("a",{...u,...j,href:b||g,onClick:p||i?t:S,ref:Iv(h,v),target:o,"data-discover":!y&&n==="render"?"true":void 0});return w&&!y?E.createElement(E.Fragment,null,T,E.createElement(Ov,{page:g})):T});ds.displayName="Link";var Rv=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:s=!1,style:i,to:l,viewTransition:c,children:o,...d},f){let m=vs(l,{relative:d.relative}),u=ct(),h=E.useContext(ml),{navigator:x,basename:y}=E.useContext(Ht),b=h!=null&&Hv(m)&&c===!0,p=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,g=u.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(g=g.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&y&&(w=Nr(w,y)||w);const v=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=g===p||!s&&g.startsWith(p)&&g.charAt(v)==="/",k=w!=null&&(w===p||!s&&w.startsWith(p)&&w.charAt(p.length)==="/"),S={isActive:j,isPending:k,isTransitioning:b},T=j?t:void 0,O;typeof a=="function"?O=a(S):O=[a,j?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(S):i;return E.createElement(ds,{...d,"aria-current":T,className:O,ref:f,style:C,to:l,viewTransition:c},typeof o=="function"?o(S):o)});Rv.displayName="NavLink";var Dv=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:s,state:i,method:l=fi,action:c,onSubmit:o,relative:d,preventScrollReset:f,viewTransition:m,...u},h)=>{let x=qv(),y=Uv(c,{relative:d}),b=l.toLowerCase()==="get"?"get":"post",p=typeof c=="string"&&Pp.test(c),g=w=>{if(o&&o(w),w.defaultPrevented)return;w.preventDefault();let v=w.nativeEvent.submitter,j=(v==null?void 0:v.getAttribute("formmethod"))||l;x(v||w.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:m})};return E.createElement("form",{ref:h,method:b,action:y,onSubmit:a?o:g,...u,"data-discover":!p&&e==="render"?"true":void 0})});Dv.displayName="Form";function zv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Op(e){let t=E.useContext(ea);return Se(t,zv(e)),t}function $v(e,{target:t,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}={}){let c=xe(),o=ct(),d=vs(e,{relative:i});return E.useCallback(f=>{if(gv(f,t)){f.preventDefault();let m=n!==void 0?n:cs(o)===cs(d);c(e,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[o,c,d,n,a,t,e,s,i,l])}function Bv(e){At(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(xc(e)),n=E.useRef(!1),a=ct(),s=E.useMemo(()=>xv(a.search,n.current?null:t.current),[a.search]),i=xe(),l=E.useCallback((c,o)=>{const d=xc(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,i("?"+d,o)},[i,s]);return[s,l]}var Fv=0,Vv=()=>`__${String(++Fv)}__`;function qv(){let{router:e}=Op("useSubmit"),{basename:t}=E.useContext(Ht),n=lv();return E.useCallback(async(a,s={})=>{let{action:i,method:l,encType:c,formData:o,body:d}=bv(a,t);if(s.navigate===!1){let f=s.fetcherKey||Vv();await e.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:o,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:o,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Uv(e,{relative:t}={}){let{basename:n}=E.useContext(Ht),a=E.useContext(Gt);Se(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...vs(e||".",{relative:t})},l=ct();if(e==null){i.search=l.search;let c=new URLSearchParams(i.search),o=c.getAll("index");if(o.some(f=>f==="")){c.delete("index"),o.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:pr([n,i.pathname])),cs(i)}function Hv(e,{relative:t}={}){let n=E.useContext(jp);Se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Op("useViewTransitionState"),s=vs(e,{relative:t});if(!n.isTransitioning)return!1;let i=Nr(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=Nr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Bi(s.pathname,l)!=null||Bi(s.pathname,i)!=null}const yn="https://pantherashop.onrender.com",Ap=E.createContext(void 0),Gv=({children:e})=>{const[t,n]=E.useState(null),[a,s]=E.useState(null),[i,l]=E.useState(!0),c=!!a,o=Ne.useRef(null),d=()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},f=w=>{if(d(),!!w)try{const j=JSON.parse(atob(w.split(".")[1])).exp;if(!j)return;const S=j*1e3-Date.now();if(S<=0){m();return}o.current=window.setTimeout(()=>{m()},S+500)}catch{m()}};E.useEffect(()=>{const w=localStorage.getItem("token"),v=localStorage.getItem("user");return w&&v&&(s(w),n(JSON.parse(v)),f(w)),l(!1),()=>d()},[]),E.useEffect(()=>(f(a),()=>d()),[a]);const m=()=>{s(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),d()},u=async w=>{if(w.status===401)throw m(),new Error("Unauthorized");return w},h=async(w,v)=>{const j=await fetch(`${yn}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:w,user_password:v})}),k=await j.json();if(!j.ok||k.mess)throw new Error(k.mess||k.message||"Login failed");s(k.token),n(k.user),localStorage.setItem("token",k.token),localStorage.setItem("user",JSON.stringify(k.user)),f(k.token)},x=async(w,v,j)=>{const k=await fetch(`${yn}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:w,user_email:v,user_password:j})}),S=await k.json();if(!k.ok||!S.success)throw new Error(S.message||"Register failed");s(S.token),n(S.user),localStorage.setItem("token",S.token),localStorage.setItem("user",JSON.stringify(S.user))},y=async()=>{if(!a)return null;const w=await fetch(`${yn}/user/profile`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});if(await u(w),!w.ok)throw new Error("Failed to fetch profile");const v=await w.json();return n(v),localStorage.setItem("user",JSON.stringify(v)),v},b=async w=>{if(!a)return;const v=await fetch(`${yn}/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(w)});if(await u(v),!v.ok)throw new Error("Update failed");const j=await v.json();n(j.user),localStorage.setItem("user",JSON.stringify(j.user))},p=async(w,v)=>{if(!a)return;const j=await fetch(`${yn}/user/password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({current_password:w,new_password:v})});if(await u(j),!j.ok)throw new Error("Update failed");return await j.json()},g=async w=>{if(!a)throw new Error("No token");const v=new FormData;v.append("avatar",w);const j=await fetch(`${yn}/user/avatar`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:v});if(await u(j),!j.ok)throw new Error("Upload failed");const k=await j.json();return n(k.user.user),localStorage.setItem("user",JSON.stringify(k.user.user)),k.user.user.avatar};return r.jsx(Ap.Provider,{value:{user:t,token:a,login:h,register:x,logout:m,fetchProfile:y,updateProfile:b,updatePassword:p,updateAvatar:g,isAuthenticated:c,loading:i},children:e})},rt=()=>{const e=E.useContext(Ap);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},wa="https://pantherashop.onrender.com",Lp=E.createContext(void 0),Kv=({children:e})=>{const[t,n]=E.useState([]),[a,s]=E.useState([]),[i,l]=E.useState([]),c=h=>h.map(x=>({...x,product_price:Number(x.product_price)})),o=async()=>{try{const x=await(await fetch(`${wa}/products`)).json();n(Array.isArray(x)?c(x):[])}catch{n([])}},d=async()=>{try{const x=await(await fetch(`${wa}/products/top-rated`)).json();s(Array.isArray(x)?c(x):[])}catch{s([])}},f=async()=>{try{const x=await(await fetch(`${wa}/sports`)).json();l(Array.isArray(x)?x:[])}catch{l([])}},m=async h=>{try{const y=await(await fetch(`${wa}/products/filter`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();n(Array.isArray(y)?c(y):[])}catch{n([])}},u=async h=>{if(!h)return[];try{const y=await(await fetch(`${wa}/products/search?query=${encodeURIComponent(h)}`)).json();return console.log("Kt qu search:",y),Array.isArray(y)?c(y):[]}catch{return[]}};return E.useEffect(()=>{o(),d(),f()},[]),r.jsx(Lp.Provider,{value:{products:t,topProducts:a,sports:i,fetchProducts:o,fetchTopProducts:d,fetchSports:f,fetchFilteredProducts:m,searchProducts:u},children:e})},bs=()=>{const e=E.useContext(Lp);if(!e)throw new Error("useProduct must be used within ProductProvider");return e},Ip=E.createContext(null),Au=()=>E.useContext(Ip);function Wv({children:e}){const[t,n]=E.useState([]),[a,s]=E.useState("cart");return r.jsx(Ip.Provider,{value:{orderItems:t,setOrderItems:n,orderSource:a,setOrderSource:s},children:e})}const Qv="https://pantherashop.onrender.com",Mp=E.createContext({blogs:[],loading:!1,error:null,refetch:()=>{}}),Lu=()=>E.useContext(Mp);function Xv({children:e}){const[t,n]=E.useState([]),[a,s]=E.useState(!1),[i,l]=E.useState(null),c=async()=>{s(!0),l(null);try{const d=await(await fetch(`${Qv}/blogs`)).json();d.success&&d.data&&Array.isArray(d.data.blogs)?n(d.data.blogs):l("Khng ly c danh sch blog")}catch{l("Li kt ni server")}s(!1)};return E.useEffect(()=>{c()},[]),r.jsx(Mp.Provider,{value:{blogs:t,loading:a,error:i,refetch:c},children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const n=E.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:o,...d},f)=>E.createElement("svg",{ref:f,...Yv,width:s,height:s,stroke:a,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Jv(e)}`,c].join(" "),...d},[...t.map(([m,u])=>E.createElement(m,u)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=se("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=se("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=se("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=se("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=se("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=se("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=se("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=se("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=se("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=se("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=se("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=se("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=se("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=se("Wallet2",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=se("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=se("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function Ab({message:e,type:t,onClose:n,duration:a=3e3}){const[s,i]=E.useState(!0);E.useEffect(()=>{const d=setTimeout(()=>{i(!1),setTimeout(n,300)},a);return()=>clearTimeout(d)},[a,n]);const l={success:r.jsx(xl,{className:"w-5 h-5 text-green-600"}),error:r.jsx(bl,{className:"w-5 h-5 text-red-600"}),info:r.jsx(Zv,{className:"w-5 h-5 text-blue-600"})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200"},o={success:"text-green-800",error:"text-red-800",info:"text-blue-800"};return r.jsx("div",{className:`fixed top-24 right-6 z-50 transition-all duration-500
      ${s?"opacity-100 translate-x-0 scale-100":"opacity-0 translate-x-4 scale-95"}`,style:{transitionProperty:"opacity, transform"},children:r.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 border ${c[t]} shadow-2xl min-w-80`,children:[l[t],r.jsx("p",{className:`flex-1 font-medium ${o[t]}`,children:e}),r.jsx("button",{onClick:()=>{i(!1),setTimeout(n,300)},className:"hover:bg-black hover:bg-opacity-5 p-1 rounded transition-colors",children:r.jsx(be,{className:"w-4 h-4"})})]})})}function Lb(){const[e,t]=E.useState([]);E.useEffect(()=>{const a=s=>{const i={id:Date.now(),message:s.detail.message,type:s.detail.type};t(l=>[...l,i])};return window.addEventListener("showToast",a),()=>window.removeEventListener("showToast",a)},[]);const n=a=>{t(s=>s.filter(i=>i.id!==a))};return r.jsx(r.Fragment,{children:e.map((a,s)=>r.jsx("div",{style:{top:`${6+s*5}rem`},className:"fixed right-6 z-50",children:r.jsx(Ab,{message:a.message,type:a.type,onClose:()=>n(a.id)})},a.id))})}function Y(e,t="info"){const n=new CustomEvent("showToast",{detail:{message:e,type:t}});window.dispatchEvent(n)}const qs="https://pantherashop.onrender.com",Vp=E.createContext(void 0);function Ib({children:e}){const[t,n]=E.useState([]),[a,s]=E.useState(null),[i,l]=E.useState(!0),[c,o]=E.useState(0),{token:d,isAuthenticated:f}=rt(),m=()=>{if(!d)return;let x="";try{x=JSON.parse(atob(d.split(".")[1])).user_id}catch{}x&&fetch(`${qs}/wishlist/${x}`,{headers:{Authorization:`Bearer ${d}`}}).then(y=>y.json()).then(y=>{const b=y==null?void 0:y.wishlist_id;if(!b){l(!1),n([]),s(null),o(0);return}s(b),fetch(`${qs}/wishlist/wishlist-items/${b}`,{headers:{Authorization:`Bearer ${d}`}}).then(p=>p.json()).then(p=>{const w=(Array.isArray(p.items)?p.items:[]).map(v=>{var j,k,S,T,O,C,N,_,P,A,L,B,q,z,$,M;return{wishlist_variant_id:v.wishlist_variant_id,variant_id:v.variant_id,product_id:(k=(j=v.Variant)==null?void 0:j.Product)==null?void 0:k.product_id,product_name:((T=(S=v.Variant)==null?void 0:S.Product)==null?void 0:T.product_name)||"",product_image:((C=(O=v.Variant)==null?void 0:O.Product)==null?void 0:C.product_image)||"",product_price:((_=(N=v.Variant)==null?void 0:N.Product)==null?void 0:_.product_price)||0,product_rating:((A=(P=v.Variant)==null?void 0:P.Product)==null?void 0:A.product_rating)||0,product_description:((B=(L=v.Variant)==null?void 0:L.Product)==null?void 0:B.product_description)||"",sport:((z=(q=v.Variant)==null?void 0:q.Product)==null?void 0:z.sport_name)||"",variant_size:(($=v.Variant)==null?void 0:$.variant_size)||"",variant_color:((M=v.Variant)==null?void 0:M.variant_color)||"",added_at:v.added_at}});n(w),o(w.length),l(!1)})})};E.useEffect(()=>{f&&d?m():(n([]),s(null),o(0),l(!1))},[f,d]);async function u(x,y){if(!a){Y("Khng tm thy wishlist!","error");return}try{(await(await fetch(`${qs}/wishlist/remove/${a}/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`}})).json()).success?(Y(" xa khi danh sch yu thch!","success"),n(g=>g.filter(w=>w.wishlist_variant_id!==x)),o(g=>g-1)):Y("Xa tht bi!","error")}catch{Y("Xa tht bi!","error")}}async function h(x,y,b){if(a)try{const g=await(await fetch(`${qs}/wishlist/change-variant/${a}/${y}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({new_variant_id:b.variant_id})})).json();g.success?(Y(" i phn loi thnh cng!","success"),n(w=>w.map(v=>v.wishlist_variant_id===x?{...v,variant_id:b.variant_id,variant_size:b.variant_size??v.variant_size,variant_color:b.variant_color??v.variant_color}:v))):Y(g.message||"i phn loi tht bi!","error")}catch{Y("i phn loi tht bi!","error")}}return r.jsx(Vp.Provider,{value:{variants:t,wishlistId:a,loading:i,count:c,refresh:m,remove:u,changeVariant:h},children:e})}function Mu(){const e=E.useContext(Vp);if(!e)throw new Error("useWishlist must be used within WishlistProvider");return e}const io="https://pantherashop.onrender.com",qp=E.createContext(void 0);function Mb({children:e}){const{token:t,isAuthenticated:n}=rt(),[a,s]=E.useState(0),[i,l]=E.useState([]),c=()=>{if(n&&t){let u="";try{u=JSON.parse(atob(t.split(".")[1])).user_id}catch{}if(!u)return;fetch(`${io}/cart/${u}`,{headers:{Authorization:`Bearer ${t}`}}).then(h=>h.json()).then(h=>{if(!h.cart_id){s(0),l([]);return}fetch(`${io}/cart/count/${h.cart_id}`,{headers:{Authorization:`Bearer ${t}`}}).then(x=>x.json()).then(x=>{s(x.count||0)}),fetch(`${io}/cart/items/${h.cart_id}`,{headers:{Authorization:`Bearer ${t}`}}).then(x=>x.json()).then(x=>{l(Array.isArray(x)?x:[])})})}else{const u=JSON.parse(localStorage.getItem("cart")||"[]");s(Array.isArray(u)?u.length:0),l(Array.isArray(u)?u:[])}};E.useEffect(()=>{c()},[n,t]);const o=u=>{if(n&&t)c();else{const h=JSON.parse(localStorage.getItem("cart")||"[]");h.push(u),localStorage.setItem("cart",JSON.stringify(h)),c()}},d=u=>{if(n&&t)c();else{const x=JSON.parse(localStorage.getItem("cart")||"[]").filter(y=>String(y.id)!==String(u));localStorage.setItem("cart",JSON.stringify(x)),c()}},f=(u,h)=>{if(n&&t)c();else{const y=JSON.parse(localStorage.getItem("cart")||"[]").map(b=>b.id===u?{...b,quantity:b.quantity+h}:b);localStorage.setItem("cart",JSON.stringify(y)),c()}},m=(u,h)=>{if(n&&t)c();else{const y=JSON.parse(localStorage.getItem("cart")||"[]").map(b=>b.id===u?{...b,...h}:b);localStorage.setItem("cart",JSON.stringify(y)),c()}};return r.jsx(qp.Provider,{value:{cartItemCount:a,refresh:c,cartItems:i,addItem:o,removeItem:d,updateQuantity:f,updateCartVariant:m},children:e})}function Ru(){return E.useContext(qp)}const Rb=["Manchester City","Giy","o u","Chelsea","Nike","Adidas","Bng r","Bng chuyn"];function Db({open:e,value:t,onChange:n,onClose:a}){const s=E.useRef(null),[i,l]=E.useState([]),[c,o]=E.useState(!1),d=xe(),{products:f}=bs();E.useEffect(()=>{e&&setTimeout(()=>{var u;(u=s.current)==null||u.focus()},250)},[e]),E.useEffect(()=>{if(!t){l([]);return}o(!0);const u=f.filter(h=>h.product_name.toLowerCase().includes(t.toLowerCase()));l(u),o(!1)},[t,f]);const m=u=>{a(),d(`/product/${u}`)};return r.jsxs("div",{className:`fixed inset-0 z-[60] transition-all duration-300 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,style:{top:0,left:0,right:0,bottom:0},children:[r.jsx("div",{className:"absolute inset-0 bg-transparent",onClick:a,style:{zIndex:1}}),r.jsxs("div",{className:`absolute left-0 right-0 top-0 w-full h-[160px] bg-white shadow-lg border-b border-gray-200
          transition-transform duration-300 ease-in-out
          ${e?"translate-y-0":"-translate-y-8"}
        `,onClick:u=>u.stopPropagation(),style:{zIndex:2},children:[r.jsxs("div",{className:"flex items-center px-8 pt-4 pb-2",children:[r.jsx("img",{src:"/assets/img/logo/logo_PantheraShop.png",alt:"Logo",className:"w-10 h-10 mr-6"}),r.jsx("div",{className:"flex items-center flex-1 justify-center",children:r.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full px-4 py-2 w-[340px] max-w-full shadow-sm",children:[r.jsx(Rt,{className:"w-5 h-5 text-gray-500 mr-2"}),r.jsx("input",{ref:s,id:"search-popup-input",type:"text",placeholder:"Tm kim sn phm...",value:t,onChange:u=>n(u.target.value),className:"flex-1 bg-transparent outline-none text-base placeholder-gray-500",autoFocus:e})]})}),r.jsx("button",{className:"ml-6 text-base font-semibold text-black hover:text-gray-600 transition-colors",onClick:a,children:"X"})]}),r.jsxs("div",{className:"px-8 pt-2",children:[r.jsx("div",{className:"text-gray-700 font-medium mb-2 text-sm",children:"T kha ph bin"}),r.jsx("div",{className:"flex flex-wrap gap-3 mb-2",children:Rb.map(u=>r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 rounded-full px-4 py-1.5 text-sm font-semibold text-gray-900 transition-colors",onClick:()=>n(u),children:u},u))}),t&&r.jsxs("div",{className:"bg-white rounded shadow mt-2 max-h-56 overflow-y-auto",children:[c&&r.jsx("div",{className:"p-4 text-gray-500 text-sm",children:"ang tm kim..."}),!c&&i.length===0&&r.jsx("div",{className:"p-4 text-gray-500 text-sm ",children:"Khng tm thy sn phm ph hp."}),!c&&i.map(u=>r.jsxs("button",{className:"flex items-center w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors",onClick:()=>m(u.product_id),children:[r.jsx("img",{src:u.product_image,alt:u.product_name,className:"w-10 h-10 object-cover rounded mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:u.product_name}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Number(u.product_price).toLocaleString(),""]})]})]},u.product_id))]})]})]})]})}function zb({user:e,onLogout:t,cartItemCount:n=0}){const[a,s]=E.useState(!1),[i,l]=E.useState(""),[c,o]=E.useState(null),[d,f]=E.useState(!1),{logout:m,isAuthenticated:u}=rt(),{count:h}=Mu(),{cartItemCount:x}=Ru(),y=xe(),b=ct(),p=[{name:"Trang ch",path:"/",key:"home"},{name:"Sn phm",path:"/products",key:"products"},{name:"Tin tc",path:"/blog",key:"blog"}],g=k=>k==="/"?"home":k.startsWith("/products")?"products":k.startsWith("/blog")?"blog":k.startsWith("/wishlist")?"wish":k.startsWith("/cart")?"cart":k.startsWith("/profile")||k.startsWith("/login")?"user":null;E.useEffect(()=>{o(g(b.pathname))},[b.pathname]);const w=(k,S)=>{o(k),s(!1),y(S)},v=(k,S)=>{o(k),y(S)},j=()=>{u?v("user","/profile"):v("user","/login")};return E.useEffect(()=>{d&&setTimeout(()=>{const k=document.getElementById("search-popup-input");k==null||k.focus()},250)},[d]),r.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-white z-50 border-b border-gray-200",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("button",{className:"lg:hidden p-2",onClick:()=>s(!a),children:a?r.jsx(be,{className:"w-6 h-6"}):r.jsx(gb,{className:"w-6 h-6"})}),r.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>w("home","/"),children:r.jsx("img",{src:"/assets/img/logo/logo_PantheraShop.png",alt:"Logo",className:"w-20 h-20"})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-8 flex-1 justify-center",children:p.map(k=>{const S=c===k.key;return r.jsxs("button",{onClick:()=>w(k.key,k.path),className:`relative text-sm font-medium hover:text-black pb-2 transition-colors ${S?"text-black":"text-gray-600"}`,"aria-current":S?"page":void 0,children:[k.name,r.jsx("span",{className:`absolute left-0 right-0 bottom-0 h-[2px] bg-black transform transition-transform duration-300 ease-out origin-left ${S?"scale-x-100":"scale-x-0"}`})]},k.key)})}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 rounded-full px-4 py-2 cursor-pointer transition-all duration-300",onClick:()=>f(!0),style:{boxShadow:d?"0 2px 8px rgba(0,0,0,0.08)":void 0},children:[r.jsx(Rt,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("input",{type:"text",placeholder:"Tm kim",value:i,readOnly:!0,className:"bg-transparent outline-none text-sm w-32 placeholder-gray-500 cursor-pointer"})]}),r.jsx("button",{className:"hidden md:inline-flex p-2 rounded-full",onClick:()=>v("wish","/wishlist"),"aria-pressed":c==="wish",children:r.jsxs("span",{className:`flex items-center justify-center w-9 h-9 rounded-full
      transition-all transition-transform transition-colors duration-300 ease-in-out
      ${c==="wish"?"bg-black scale-110":"bg-transparent scale-100"}
    `,children:[r.jsx(Iu,{className:`w-5 h-5 transition-colors duration-300 ease-in-out
        ${c==="wish"?"text-white":"text-gray-600"}
      `}),h>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:h})]})}),r.jsx("button",{className:"relative p-2 rounded-full",onClick:()=>v("cart","/cart"),"aria-pressed":c==="cart",children:r.jsxs("span",{className:`flex items-center justify-center w-9 h-9 rounded-full
      transition-all transition-transform transition-colors duration-300 ease-in-out
      ${c==="cart"?"bg-black scale-110":"bg-transparent scale-100"}
    `,children:[r.jsx(vc,{className:`w-5 h-5 transition-colors duration-300 ease-in-out
        ${c==="cart"?"text-white":"text-gray-600"}
      `}),x>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:x})]})}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-2 rounded-full",onClick:j,"aria-pressed":c==="user",children:r.jsx("span",{className:`flex items-center justify-center w-9 h-9 rounded-full
        transition-all transition-transform transition-colors duration-300 ease-in-out
        ${c==="user"?"bg-black scale-110":"bg-transparent scale-100"}
      `,children:r.jsx(Mt,{className:`w-5 h-5 transition-colors duration-300 ease-in-out
          ${c==="user"?"text-white":"text-gray-600"}
        `})})}),u&&r.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-md py-2 hidden group-hover:block",children:[r.jsx("p",{className:"px-4 py-2 text-sm text-gray-700",children:e==null?void 0:e.name}),r.jsx("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-gray-100",children:"ng xut"})]})]})]})]})}),r.jsx(Db,{open:d,value:i,onChange:l,onClose:()=>f(!1)})]})}function $b(){const e={"H tr":["Tra cu n hng","Giao hng","i tr","Phng thc thanh ton","Lin h"],"V chng ti":["Tin tc","Tuyn dng","Nh u t","Pht trin bn vng"],"Mua sm":["Th qu tng","Khuyn mi","Tm ca hng","ng k thnh vin"]};return r.jsx("footer",{className:"bg-black text-white mt-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[Object.entries(e).map(([t,n])=>r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm mb-4 uppercase tracking-wider",children:t}),r.jsx("ul",{className:"space-y-2",children:n.map(a=>r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 text-sm hover:text-white transition-colors",children:a})},a))})]},t)),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm mb-4 uppercase tracking-wider",children:"Kt ni vi chng ti"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"https://www.facebook.com/aohuutri.965156",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(cb,{className:"w-5 h-5"})}),r.jsx("a",{href:"https://www.instagram.com/d.tris_58/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(hb,{className:"w-5 h-5"})}),r.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(Tb,{className:"w-5 h-5"})}),r.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:r.jsx(Ob,{className:"w-5 h-5"})})]})]})]}),r.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[r.jsx("p",{children:" 2025 Panthera Shop.  ng k bn quyn."}),r.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Chnh sch bo mt"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"iu khon s dng"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Chnh sch Cookie"})]})]})]})})}const Bb="https://pantherashop.onrender.com";function Fb(){const[e,t]=E.useState([]),[n,a]=E.useState(0),[s,i]=E.useState(!1),l=xe(),c=E.useRef(null);if(E.useEffect(()=>{fetch(`${Bb}/banners`).then(u=>u.json()).then(u=>t(u))},[]),E.useEffect(()=>{if(!(e.length<2))return c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{f()},1e4),()=>{c.current&&clearTimeout(c.current)}},[e,n]),!e.length)return null;const o=e[n],d=()=>{s||(i(!0),setTimeout(()=>{a(u=>(u-1+e.length)%e.length),i(!1)},500))},f=()=>{s||(i(!0),setTimeout(()=>{a(u=>(u+1)%e.length),i(!1)},500))},m=u=>{u===n||s||(i(!0),setTimeout(()=>{a(u),i(!1)},500))};return r.jsxs("section",{className:"relative min-h-[calc(100vh-0px)] w-full bg-gray-100 overflow-hidden select-none",children:[r.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.map((u,h)=>r.jsx("img",{src:u.image_url,alt:u.title,className:`w-full h-full object-cover absolute inset-0 transition-opacity duration-700 ease-in-out
              ${h===n?"opacity-100 z-10":"opacity-0 z-0"}
            `,draggable:!1,style:{transitionProperty:"opacity"}},u.banner_id)),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/30 to-transparent"})]}),r.jsx("div",{className:"relative z-20 flex flex-col justify-end h-full min-h-[500px] pb-10 md:pb-0",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 w-full",children:r.jsxs("div",{className:"max-w-2xl animate-fade-in-up pointer-events-none select-none",children:[r.jsx("h1",{className:"text-2xl md:text-5xl font-bold text-white mb-4 leading-tight drop-shadow-lg transition-all duration-700",children:o.title}),r.jsx("p",{className:"text-base md:text-xl text-white mb-6 leading-relaxed drop-shadow transition-all duration-700",children:o.description}),r.jsxs("button",{onClick:()=>l("/products"),className:"bg-white/90 text-black px-6 py-3 font-semibold hover:bg-gray-200 transition-all duration-300 inline-flex items-center space-x-2 group shadow-lg rounded-xl pointer-events-auto text-base md:text-lg",children:[r.jsx("span",{children:"Mua ngay"}),r.jsx(St,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})}),r.jsx("button",{className:"absolute left-8 top-1/2 -translate-y-1/2 bg-black/30 text-white rounded-full p-2 hover:bg-black/50 transition-all z-30",onClick:d,"aria-label":"Previous banner",disabled:s,style:{pointerEvents:s?"none":"auto"},children:r.jsx(sb,{className:"w-7 h-7"})}),r.jsx("button",{className:"absolute right-8 top-1/2 -translate-y-1/2 bg-black/30 text-white rounded-full p-2 hover:bg-black/50 transition-all z-30",onClick:f,"aria-label":"Next banner",disabled:s,style:{pointerEvents:s?"none":"auto"},children:r.jsx(pn,{className:"w-7 h-7"})}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-8 flex space-x-2 z-30",children:e.map((u,h)=>r.jsx("button",{onClick:()=>m(h),className:`w-8 h-2 rounded-full transition-all duration-300 ${h===n?"bg-white/80 shadow scale-110":"bg-white/40"}`,"aria-label":`Chn banner ${h+1}`,disabled:s,style:{pointerEvents:s?"none":"auto"}},u.banner_id))}),r.jsx("style",{children:`
          .animate-fade-in-up {
            animation: fadeInUp 0.7s cubic-bezier(.4,0,.2,1);
          }
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(40px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})}const lo=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function Du({product:e,onViewDetails:t}){const n=e.discountPrice&&e.discountPrice<e.price,a=n?Math.round((e.price-e.discountPrice)/e.price*100):0,s=e.is_active===!1||e.is_active===0;return r.jsxs("div",{className:`group cursor-pointer relative ${s?"opacity-40 pointer-events-none":""}`,onClick:()=>{s||t(e.id)},children:[r.jsxs("div",{className:"relative bg-gray-100 mb-3 overflow-hidden",children:[r.jsx("img",{src:e.image,alt:e.name,className:"w-full aspect-square object-cover group-hover:scale-105 transition-transform duration-500"}),n&&r.jsxs("span",{className:"absolute top-3 right-3 bg-black text-white text-xs font-semibold px-3 py-1",children:["-",a,"%"]}),s&&r.jsx("span",{className:`absolute top-1/2 left-0 w-full h-12 flex items-center justify-center
            bg-black text-white font-extrabold text-xl shadow-lg opacity-90`,style:{transform:"translateY(-50%) rotate(-15deg)",zIndex:10,pointerEvents:"none",borderRadius:0,letterSpacing:2},children:"NGNG BN"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-xs text-gray-500",children:e.sport}),r.jsx("div",{className:"font-medium text-base truncate",children:e.name}),e.average_rating!==void 0&&r.jsxs("div",{className:"text-yellow-500 text-xs",children:[" ",Number(e.average_rating).toFixed(1)]}),r.jsx("div",{className:"flex items-center space-x-2 pt-1",children:n?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-semibold",children:e.discountPrice!==void 0?lo(e.discountPrice):""}),r.jsx("span",{className:"text-gray-500 line-through text-sm",children:lo(e.price)})]}):r.jsx("span",{className:"font-semibold",children:lo(e.price)})})]})]})}function hf(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function zu(e={},t={}){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:hf(t[a])&&hf(e[a])&&Object.keys(t[a]).length>0&&zu(e[a],t[a])})}const Up={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gn(){const e=typeof document<"u"?document:{};return zu(e,Up),e}const Vb={document:Up,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function nt(){const e=typeof window<"u"?window:{};return zu(e,Vb),e}function qb(e=""){return e.trim().split(" ").filter(t=>!!t.trim())}function Ub(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function Hp(e,t=0){return setTimeout(e,t)}function qi(){return Date.now()}function Hb(e){const t=nt();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function Gb(e,t="x"){const n=nt();let a,s,i;const l=Hb(e);return n.WebKitCSSMatrix?(s=l.transform||l.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=i.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?s=i.m41:a.length===16?s=parseFloat(a[12]):s=parseFloat(a[4])),t==="y"&&(n.WebKitCSSMatrix?s=i.m42:a.length===16?s=parseFloat(a[13]):s=parseFloat(a[5])),s||0}function Us(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function Kb(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function ft(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let a=1;a<e.length;a+=1){const s=e[a];if(s!=null&&!Kb(s)){const i=Object.keys(Object(s)).filter(l=>n.indexOf(l)<0);for(let l=0,c=i.length;l<c;l+=1){const o=i[l],d=Object.getOwnPropertyDescriptor(s,o);d!==void 0&&d.enumerable&&(Us(t[o])&&Us(s[o])?s[o].__swiper__?t[o]=s[o]:ft(t[o],s[o]):!Us(t[o])&&Us(s[o])?(t[o]={},s[o].__swiper__?t[o]=s[o]:ft(t[o],s[o])):t[o]=s[o])}}}return t}function Hs(e,t,n){e.style.setProperty(t,n)}function Gp({swiper:e,targetPosition:t,side:n}){const a=nt(),s=-e.translate;let i=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const o=t>s?"next":"prev",d=(m,u)=>o==="next"&&m>=u||o==="prev"&&m<=u,f=()=>{l=new Date().getTime(),i===null&&(i=l);const m=Math.max(Math.min((l-i)/c,1),0),u=.5-Math.cos(m*Math.PI)/2;let h=s+u*(t-s);if(d(h,t)&&(h=t),e.wrapperEl.scrollTo({[n]:h}),d(h,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:h})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(f)};f()}function Zt(e,t=""){const n=nt(),a=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&a.push(...e.assignedElements()),t?a.filter(s=>s.matches(t)):a}function Wb(e,t){const n=[t];for(;n.length>0;){const a=n.shift();if(e===a)return!0;n.push(...a.children,...a.shadowRoot?a.shadowRoot.children:[],...a.assignedElements?a.assignedElements():[])}}function Qb(e,t){const n=nt();let a=t.contains(e);return!a&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(a=[...t.assignedElements()].includes(e),a||(a=Wb(e,t))),a}function Ui(e){try{console.warn(e);return}catch{}}function Hi(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:qb(t)),n}function Xb(e,t){const n=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&n.push(a):n.push(a),e=a}return n}function Yb(e,t){const n=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&n.push(a):n.push(a),e=a}return n}function Mr(e,t){return nt().getComputedStyle(e,null).getPropertyValue(t)}function mf(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function Jb(e,t){const n=[];let a=e.parentElement;for(;a;)n.push(a),a=a.parentElement;return n}function pf(e,t,n){const a=nt();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function sr(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function bc(e,t=""){typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(t):e.innerHTML=t}let oo;function Zb(){const e=nt(),t=gn();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function Kp(){return oo||(oo=Zb()),oo}let co;function e1({userAgent:e}={}){const t=Kp(),n=nt(),a=n.navigator.platform,s=e||n.navigator.userAgent,i={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,o=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),u=a==="Win32";let h=a==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&h&&t.touch&&x.indexOf(`${l}x${c}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),h=!1),o&&!u&&(i.os="android",i.android=!0),(d||m||f)&&(i.os="ios",i.ios=!0),i}function Wp(e={}){return co||(co=e1(e)),co}let uo;function t1(){const e=nt(),t=Wp();let n=!1;function a(){const c=e.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(a()){const c=String(e.navigator.userAgent);if(c.includes("Version/")){const[o,d]=c.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));n=o<16||o===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=a(),l=i||s&&t.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:l,isWebView:s}}function Qp(){return uo||(uo=t1()),uo}function r1({swiper:e,on:t,emit:n}){const a=nt();let s=null,i=null;const l=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{i=a.requestAnimationFrame(()=>{const{width:m,height:u}=e;let h=m,x=u;f.forEach(({contentBoxSize:y,contentRect:b,target:p})=>{p&&p!==e.el||(h=b?b.width:(y[0]||y).inlineSize,x=b?b.height:(y[0]||y).blockSize)}),(h!==m||x!==u)&&l()})}),s.observe(e.el))},o=()=>{i&&a.cancelAnimationFrame(i),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){c();return}a.addEventListener("resize",l),a.addEventListener("orientationchange",d)}),t("destroy",()=>{o(),a.removeEventListener("resize",l),a.removeEventListener("orientationchange",d)})}function n1({swiper:e,extendParams:t,on:n,emit:a}){const s=[],i=nt(),l=(d,f={})=>{const m=i.MutationObserver||i.WebkitMutationObserver,u=new m(h=>{if(e.__preventObserver__)return;if(h.length===1){a("observerUpdate",h[0]);return}const x=function(){a("observerUpdate",h[0])};i.requestAnimationFrame?i.requestAnimationFrame(x):i.setTimeout(x,0)});u.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(u)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=Jb(e.hostEl);for(let f=0;f<d.length;f+=1)l(d[f])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},o=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",o)}var a1={on(e,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const s=n?"unshift":"push";return e.split(" ").forEach(i=>{a.eventsListeners[i]||(a.eventsListeners[i]=[]),a.eventsListeners[i][s](t)}),a},once(e,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function s(...i){a.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(a,i)}return s.__emitterProxy=t,a.on(e,s,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const a=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[a](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(a=>{typeof t>"u"?n.eventsListeners[a]=[]:n.eventsListeners[a]&&n.eventsListeners[a].forEach((s,i)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&n.eventsListeners[a].splice(i,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,a,s;return typeof e[0]=="string"||Array.isArray(e[0])?(n=e[0],a=e.slice(1,e.length),s=t):(n=e[0].events,a=e[0].data,s=e[0].context||t),a.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...a])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,a)})}),t}};function s1(){const e=this;let t,n;const a=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=a.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=a.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(Mr(a,"padding-left")||0,10)-parseInt(Mr(a,"padding-right")||0,10),n=n-parseInt(Mr(a,"padding-top")||0,10)-parseInt(Mr(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function i1(){const e=this;function t(C,N){return parseFloat(C.getPropertyValue(e.getDirectionLabel(N))||0)}const n=e.params,{wrapperEl:a,slidesEl:s,rtlTranslate:i,wrongRTL:l}=e,c=e.virtual&&n.virtual.enabled,o=c?e.virtual.slides.length:e.slides.length,d=Zt(s,`.${e.params.slideClass}, swiper-slide`),f=c?e.virtual.slides.length:d.length;let m=[];const u=[],h=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(e));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(e));const b=e.snapGrid.length,p=e.slidesGrid.length,g=e.size-x-y;let w=n.spaceBetween,v=-x,j=0,k=0;if(typeof g>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*g:typeof w=="string"&&(w=parseFloat(w)),e.virtualSize=-w-x-y,d.forEach(C=>{i?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Hs(a,"--swiper-centered-offset-before",""),Hs(a,"--swiper-centered-offset-after",""));const S=n.grid&&n.grid.rows>1&&e.grid;S?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();let T;const O=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(C=>typeof n.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<f;C+=1){T=0;const N=d[C];if(!(N&&(S&&e.grid.updateSlide(C,N,d),Mr(N,"display")==="none"))){if(c&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(T=n.virtual.slidesPerViewAutoSlideSize),T&&N&&(n.roundLengths&&(T=Math.floor(T)),N.style[e.getDirectionLabel("width")]=`${T}px`);else if(n.slidesPerView==="auto"){O&&(N.style[e.getDirectionLabel("width")]="");const _=getComputedStyle(N),P=N.style.transform,A=N.style.webkitTransform;if(P&&(N.style.transform="none"),A&&(N.style.webkitTransform="none"),n.roundLengths)T=e.isHorizontal()?pf(N,"width"):pf(N,"height");else{const L=t(_,"width"),B=t(_,"padding-left"),q=t(_,"padding-right"),z=t(_,"margin-left"),$=t(_,"margin-right"),M=_.getPropertyValue("box-sizing");if(M&&M==="border-box")T=L+z+$;else{const{clientWidth:I,offsetWidth:V}=N;T=L+B+q+z+$+(V-I)}}P&&(N.style.transform=P),A&&(N.style.webkitTransform=A),n.roundLengths&&(T=Math.floor(T))}else T=(g-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(T=Math.floor(T)),N&&(N.style[e.getDirectionLabel("width")]=`${T}px`);N&&(N.swiperSlideSize=T),h.push(T),n.centeredSlides?(v=v+T/2+j/2+w,j===0&&C!==0&&(v=v-g/2-w),C===0&&(v=v-g/2-w),Math.abs(v)<1/1e3&&(v=0),n.roundLengths&&(v=Math.floor(v)),k%n.slidesPerGroup===0&&m.push(v),u.push(v)):(n.roundLengths&&(v=Math.floor(v)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup===0&&m.push(v),u.push(v),v=v+T+w),e.virtualSize+=T+w,j=T,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,g)+y,i&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(a.style.width=`${e.virtualSize+w}px`),n.setWrapperSize&&(a.style[e.getDirectionLabel("width")]=`${e.virtualSize+w}px`),S&&e.grid.updateWrapperSize(T,m),!n.centeredSlides){const C=[];for(let N=0;N<m.length;N+=1){let _=m[N];n.roundLengths&&(_=Math.floor(_)),m[N]<=e.virtualSize-g&&C.push(_)}m=C,Math.floor(e.virtualSize-g)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-g)}if(c&&n.loop){const C=h[0]+w;if(n.slidesPerGroup>1){const N=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),_=C*n.slidesPerGroup;for(let P=0;P<N;P+=1)m.push(m[m.length-1]+_)}for(let N=0;N<e.virtual.slidesBefore+e.virtual.slidesAfter;N+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+C),u.push(u[u.length-1]+C),e.virtualSize+=C}if(m.length===0&&(m=[0]),w!==0){const C=e.isHorizontal()&&i?"marginLeft":e.getDirectionLabel("marginRight");d.filter((N,_)=>!n.cssMode||n.loop?!0:_!==d.length-1).forEach(N=>{N.style[C]=`${w}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let C=0;h.forEach(_=>{C+=_+(w||0)}),C-=w;const N=C>g?C-g:0;m=m.map(_=>_<=0?-x:_>N?N+y:_)}if(n.centerInsufficientSlides){let C=0;h.forEach(_=>{C+=_+(w||0)}),C-=w;const N=(x||0)+(y||0);if(C+N<g){const _=(g-C-N)/2;m.forEach((P,A)=>{m[A]=P-_}),u.forEach((P,A)=>{u[A]=P+_})}}if(Object.assign(e,{slides:d,snapGrid:m,slidesGrid:u,slidesSizesGrid:h}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Hs(a,"--swiper-centered-offset-before",`${-m[0]}px`),Hs(a,"--swiper-centered-offset-after",`${e.size/2-h[h.length-1]/2}px`);const C=-e.snapGrid[0],N=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(_=>_+C),e.slidesGrid=e.slidesGrid.map(_=>_+N)}if(f!==o&&e.emit("slidesLengthChange"),m.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),u.length!==p&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const C=`${n.containerModifierClass}backface-hidden`,N=e.el.classList.contains(C);f<=n.maxBackfaceHiddenSlides?N||e.el.classList.add(C):N&&e.el.classList.remove(C)}}function l1(e){const t=this,n=[],a=t.virtual&&t.params.virtual.enabled;let s=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const l=c=>a?t.slides[t.getSlideIndexByData(c)]:t.slides[c];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(c=>{n.push(c)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const c=t.activeIndex+i;if(c>t.slides.length&&!a)break;n.push(l(c))}else n.push(l(t.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const c=n[i].offsetHeight;s=c>s?c:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function o1(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-n-e.cssOverflowAdjustment()}const gf=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function c1(e=this&&this.translate||0){const t=this,n=t.params,{slides:a,rtlTranslate:s,snapGrid:i}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let l=-e;s&&(l=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*t.size:typeof c=="string"&&(c=parseFloat(c));for(let o=0;o<a.length;o+=1){const d=a[o];let f=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(f-=a[0].swiperSlideOffset);const m=(l+(n.centeredSlides?t.minTranslate():0)-f)/(d.swiperSlideSize+c),u=(l-i[0]+(n.centeredSlides?t.minTranslate():0)-f)/(d.swiperSlideSize+c),h=-(l-f),x=h+t.slidesSizesGrid[o],y=h>=0&&h<=t.size-t.slidesSizesGrid[o],b=h>=0&&h<t.size-1||x>1&&x<=t.size||h<=0&&x>=t.size;b&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(o)),gf(d,b,n.slideVisibleClass),gf(d,y,n.slideFullyVisibleClass),d.progress=s?-m:m,d.originalProgress=s?-u:u}}function u1(e){const t=this;if(typeof e>"u"){const f=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*f||0}const n=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:l,progressLoop:c}=t;const o=i,d=l;if(a===0)s=0,i=!0,l=!0;else{s=(e-t.minTranslate())/a;const f=Math.abs(e-t.minTranslate())<1,m=Math.abs(e-t.maxTranslate())<1;i=f||s<=0,l=m||s>=1,f&&(s=0),m&&(s=1)}if(n.loop){const f=t.getSlideIndexByData(0),m=t.getSlideIndexByData(t.slides.length-1),u=t.slidesGrid[f],h=t.slidesGrid[m],x=t.slidesGrid[t.slidesGrid.length-1],y=Math.abs(e);y>=u?c=(y-u)/x:c=(y+x-h)/x,c>1&&(c-=1)}Object.assign(t,{progress:s,progressLoop:c,isBeginning:i,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!o&&t.emit("reachBeginning toEdge"),l&&!d&&t.emit("reachEnd toEdge"),(o&&!i||d&&!l)&&t.emit("fromEdge"),t.emit("progress",s)}const fo=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function d1(){const e=this,{slides:t,params:n,slidesEl:a,activeIndex:s}=e,i=e.virtual&&n.virtual.enabled,l=e.grid&&n.grid&&n.grid.rows>1,c=m=>Zt(a,`.${n.slideClass}${m}, swiper-slide${m}`)[0];let o,d,f;if(i)if(n.loop){let m=s-e.virtual.slidesBefore;m<0&&(m=e.virtual.slides.length+m),m>=e.virtual.slides.length&&(m-=e.virtual.slides.length),o=c(`[data-swiper-slide-index="${m}"]`)}else o=c(`[data-swiper-slide-index="${s}"]`);else l?(o=t.find(m=>m.column===s),f=t.find(m=>m.column===s+1),d=t.find(m=>m.column===s-1)):o=t[s];o&&(l||(f=Yb(o,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f&&(f=t[0]),d=Xb(o,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=t[t.length-1]))),t.forEach(m=>{fo(m,m===o,n.slideActiveClass),fo(m,m===f,n.slideNextClass),fo(m,m===d,n.slidePrevClass)}),e.emitSlidesClasses()}const mi=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,a=t.closest(n());if(a){let s=a.querySelector(`.${e.params.lazyPreloaderClass}`);!s&&e.isElement&&(a.shadowRoot?s=a.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{a.shadowRoot&&(s=a.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},ho=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},wc=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const a=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const l=s,c=[l-t];c.push(...Array.from({length:t}).map((o,d)=>l+a+d)),e.slides.forEach((o,d)=>{c.includes(o.column)&&ho(e,d)});return}const i=s+a-1;if(e.params.rewind||e.params.loop)for(let l=s-t;l<=i+t;l+=1){const c=(l%n+n)%n;(c<s||c>i)&&ho(e,c)}else for(let l=Math.max(s-t,0);l<=Math.min(i+t,n-1);l+=1)l!==s&&(l>i||l<s)&&ho(e,l)};function f1(e){const{slidesGrid:t,params:n}=e,a=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?a>=t[i]&&a<t[i+1]-(t[i+1]-t[i])/2?s=i:a>=t[i]&&a<t[i+1]&&(s=i+1):a>=t[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function h1(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:s,activeIndex:i,realIndex:l,snapIndex:c}=t;let o=e,d;const f=h=>{let x=h-t.virtual.slidesBefore;return x<0&&(x=t.virtual.slides.length+x),x>=t.virtual.slides.length&&(x-=t.virtual.slides.length),x};if(typeof o>"u"&&(o=f1(t)),a.indexOf(n)>=0)d=a.indexOf(n);else{const h=Math.min(s.slidesPerGroupSkip,o);d=h+Math.floor((o-h)/s.slidesPerGroup)}if(d>=a.length&&(d=a.length-1),o===i&&!t.params.loop){d!==c&&(t.snapIndex=d,t.emit("snapIndexChange"));return}if(o===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=f(o);return}const m=t.grid&&s.grid&&s.grid.rows>1;let u;if(t.virtual&&s.virtual.enabled&&s.loop)u=f(o);else if(m){const h=t.slides.find(y=>y.column===o);let x=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(t.slides.indexOf(h),0)),u=Math.floor(x/s.grid.rows)}else if(t.slides[o]){const h=t.slides[o].getAttribute("data-swiper-slide-index");h?u=parseInt(h,10):u=o}else u=o;Object.assign(t,{previousSnapIndex:c,snapIndex:d,previousRealIndex:l,realIndex:u,previousIndex:i,activeIndex:o}),t.initialized&&wc(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(l!==u&&t.emit("realIndexChange"),t.emit("slideChange"))}function m1(e,t){const n=this,a=n.params;let s=e.closest(`.${a.slideClass}, swiper-slide`);!s&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${a.slideClass}, swiper-slide`)&&(s=c)});let i=!1,l;if(s){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===s){i=!0,l=c;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}a.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var p1={updateSize:s1,updateSlides:i1,updateAutoHeight:l1,updateSlidesOffset:o1,updateSlidesProgress:c1,updateProgress:u1,updateSlidesClasses:d1,updateActiveIndex:h1,updateClickedSlide:m1};function g1(e=this.isHorizontal()?"x":"y"){const t=this,{params:n,rtlTranslate:a,translate:s,wrapperEl:i}=t;if(n.virtualTranslate)return a?-s:s;if(n.cssMode)return s;let l=Gb(i,e);return l+=t.cssOverflowAdjustment(),a&&(l=-l),l||0}function x1(e,t){const n=this,{rtlTranslate:a,params:s,wrapperEl:i,progress:l}=n;let c=0,o=0;const d=0;n.isHorizontal()?c=a?-e:e:o=e,s.roundLengths&&(c=Math.floor(c),o=Math.floor(o)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:o,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-o:s.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():o-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${c}px, ${o}px, ${d}px)`);let f;const m=n.maxTranslate()-n.minTranslate();m===0?f=0:f=(e-n.minTranslate())/m,f!==l&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function y1(){return-this.snapGrid[0]}function v1(){return-this.snapGrid[this.snapGrid.length-1]}function b1(e=0,t=this.params.speed,n=!0,a=!0,s){const i=this,{params:l,wrapperEl:c}=i;if(i.animating&&l.preventInteractionOnTransition)return!1;const o=i.minTranslate(),d=i.maxTranslate();let f;if(a&&e>o?f=o:a&&e<d?f=d:f=e,i.updateProgress(f),l.cssMode){const m=i.isHorizontal();if(t===0)c[m?"scrollLeft":"scrollTop"]=-f;else{if(!i.support.smoothScroll)return Gp({swiper:i,targetPosition:-f,side:m?"left":"top"}),!0;c.scrollTo({[m?"left":"top"]:-f,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(f),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(f),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(u){!i||i.destroyed||u.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var w1={getTranslate:g1,setTranslate:x1,minTranslate:y1,maxTranslate:v1,translateTo:b1};function j1(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function Xp({swiper:e,runCallbacks:t,direction:n,step:a}){const{activeIndex:s,previousIndex:i}=e;let l=n;l||(s>i?l="next":s<i?l="prev":l="reset"),e.emit(`transition${a}`),t&&l==="reset"?e.emit(`slideResetTransition${a}`):t&&s!==i&&(e.emit(`slideChangeTransition${a}`),l==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`))}function N1(e=!0,t){const n=this,{params:a}=n;a.cssMode||(a.autoHeight&&n.updateAutoHeight(),Xp({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function _1(e=!0,t){const n=this,{params:a}=n;n.animating=!1,!a.cssMode&&(n.setTransition(0),Xp({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var k1={setTransition:j1,transitionStart:N1,transitionEnd:_1};function S1(e=0,t,n=!0,a,s){typeof e=="string"&&(e=parseInt(e,10));const i=this;let l=e;l<0&&(l=0);const{params:c,snapGrid:o,slidesGrid:d,previousIndex:f,activeIndex:m,rtlTranslate:u,wrapperEl:h,enabled:x}=i;if(!x&&!a&&!s||i.destroyed||i.animating&&c.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const y=Math.min(i.params.slidesPerGroupSkip,l);let b=y+Math.floor((l-y)/i.params.slidesPerGroup);b>=o.length&&(b=o.length-1);const p=-o[b];if(c.normalizeSlideIndex)for(let S=0;S<d.length;S+=1){const T=-Math.floor(p*100),O=Math.floor(d[S]*100),C=Math.floor(d[S+1]*100);typeof d[S+1]<"u"?T>=O&&T<C-(C-O)/2?l=S:T>=O&&T<C&&(l=S+1):T>=O&&(l=S)}if(i.initialized&&l!==m&&(!i.allowSlideNext&&(u?p>i.translate&&p>i.minTranslate():p<i.translate&&p<i.minTranslate())||!i.allowSlidePrev&&p>i.translate&&p>i.maxTranslate()&&(m||0)!==l))return!1;l!==(f||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(p);let g;l>m?g="next":l<m?g="prev":g="reset";const w=i.virtual&&i.params.virtual.enabled;if(!(w&&s)&&(u&&-p===i.translate||!u&&p===i.translate))return i.updateActiveIndex(l),c.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),c.effect!=="slide"&&i.setTranslate(p),g!=="reset"&&(i.transitionStart(n,g),i.transitionEnd(n,g)),!1;if(c.cssMode){const S=i.isHorizontal(),T=u?p:-p;if(t===0)w&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),w&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[S?"scrollLeft":"scrollTop"]=T})):h[S?"scrollLeft":"scrollTop"]=T,w&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return Gp({swiper:i,targetPosition:T,side:S?"left":"top"}),!0;h.scrollTo({[S?"left":"top"]:T,behavior:"smooth"})}return!0}const k=Qp().isSafari;return w&&!s&&k&&i.isElement&&i.virtual.update(!1,!1,l),i.setTransition(t),i.setTranslate(p),i.updateActiveIndex(l),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,a),i.transitionStart(n,g),t===0?i.transitionEnd(n,g):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(T){!i||i.destroyed||T.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,g))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function T1(e=0,t,n=!0,a){typeof e=="string"&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let l=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)l=l+s.virtual.slidesBefore;else{let c;if(i){const y=l*s.params.grid.rows;c=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===y).column}else c=s.getSlideIndexByData(l);const o=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d,slidesOffsetBefore:f,slidesOffsetAfter:m}=s.params,u=d||!!f||!!m;let h=s.params.slidesPerView;h==="auto"?h=s.slidesPerViewDynamic():(h=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&h%2===0&&(h=h+1));let x=o-c<h;if(u&&(x=x||c<Math.ceil(h/2)),a&&u&&s.params.slidesPerView!=="auto"&&!i&&(x=!1),x){const y=u?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:y,slideTo:!0,activeSlideIndex:y==="next"?c+1:c-o+1,slideRealIndex:y==="next"?s.realIndex:void 0})}if(i){const y=l*s.params.grid.rows;l=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===y).column}else l=s.getSlideIndexByData(l)}return requestAnimationFrame(()=>{s.slideTo(l,t,n,a)}),s}function C1(e,t=!0,n){const a=this,{enabled:s,params:i,animating:l}=a;if(!s||a.destroyed)return a;typeof e>"u"&&(e=a.params.speed);let c=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(c=Math.max(a.slidesPerViewDynamic("current",!0),1));const o=a.activeIndex<i.slidesPerGroupSkip?1:c,d=a.virtual&&i.virtual.enabled;if(i.loop){if(l&&!d&&i.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+o,e,t,n)}),!0}return i.rewind&&a.isEnd?a.slideTo(0,e,t,n):a.slideTo(a.activeIndex+o,e,t,n)}function E1(e,t=!0,n){const a=this,{params:s,snapGrid:i,slidesGrid:l,rtlTranslate:c,enabled:o,animating:d}=a;if(!o||a.destroyed)return a;typeof e>"u"&&(e=a.params.speed);const f=a.virtual&&s.virtual.enabled;if(s.loop){if(d&&!f&&s.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const m=c?a.translate:-a.translate;function u(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const h=u(m),x=i.map(g=>u(g)),y=s.freeMode&&s.freeMode.enabled;let b=i[x.indexOf(h)-1];if(typeof b>"u"&&(s.cssMode||y)){let g;i.forEach((w,v)=>{h>=w&&(g=v)}),typeof g<"u"&&(b=y?i[g]:i[g>0?g-1:g])}let p=0;if(typeof b<"u"&&(p=l.indexOf(b),p<0&&(p=a.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(p=p-a.slidesPerViewDynamic("previous",!0)+1,p=Math.max(p,0))),s.rewind&&a.isBeginning){const g=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(g,e,t,n)}else if(s.loop&&a.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{a.slideTo(p,e,t,n)}),!0;return a.slideTo(p,e,t,n)}function P1(e,t=!0,n){const a=this;if(!a.destroyed)return typeof e>"u"&&(e=a.params.speed),a.slideTo(a.activeIndex,e,t,n)}function O1(e,t=!0,n,a=.5){const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);let i=s.activeIndex;const l=Math.min(s.params.slidesPerGroupSkip,i),c=l+Math.floor((i-l)/s.params.slidesPerGroup),o=s.rtlTranslate?s.translate:-s.translate;if(o>=s.snapGrid[c]){const d=s.snapGrid[c],f=s.snapGrid[c+1];o-d>(f-d)*a&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[c-1],f=s.snapGrid[c];o-d<=(f-d)*a&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,n)}function A1(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,a=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let s=e.getSlideIndexWhenGrid(e.clickedIndex),i;const l=e.isElement?"swiper-slide":`.${t.slideClass}`,c=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):s>(c?(e.slides.length-a)/2-(e.params.grid.rows-1):e.slides.length-a)?(e.loopFix(),s=e.getSlideIndex(Zt(n,`${l}[data-swiper-slide-index="${i}"]`)[0]),Hp(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var L1={slideTo:S1,slideToLoop:T1,slideNext:C1,slidePrev:E1,slideReset:P1,slideToClosest:O1,slideToClickedSlide:A1};function I1(e,t){const n=this,{params:a,slidesEl:s}=n;if(!a.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{Zt(s,`.${a.slideClass}, swiper-slide`).forEach((x,y)=>{x.setAttribute("data-swiper-slide-index",y)})},l=()=>{const h=Zt(s,`.${a.slideBlankClass}`);h.forEach(x=>{x.remove()}),h.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&a.grid&&a.grid.rows>1;a.loopAddBlankSlides&&(a.slidesPerGroup>1||c)&&l();const o=a.slidesPerGroup*(c?a.grid.rows:1),d=n.slides.length%o!==0,f=c&&n.slides.length%a.grid.rows!==0,m=h=>{for(let x=0;x<h;x+=1){const y=n.isElement?Hi("swiper-slide",[a.slideBlankClass]):Hi("div",[a.slideClass,a.slideBlankClass]);n.slidesEl.append(y)}};if(d){if(a.loopAddBlankSlides){const h=o-n.slides.length%o;m(h),n.recalcSlides(),n.updateSlides()}else Ui("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(f){if(a.loopAddBlankSlides){const h=a.grid.rows-n.slides.length%a.grid.rows;m(h),n.recalcSlides(),n.updateSlides()}else Ui("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const u=a.centeredSlides||!!a.slidesOffsetBefore||!!a.slidesOffsetAfter;n.loopFix({slideRealIndex:e,direction:u?void 0:"next",initial:t})}function M1({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:a,activeSlideIndex:s,initial:i,byController:l,byMousewheel:c}={}){const o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:m,slidesEl:u,params:h}=o,{centeredSlides:x,slidesOffsetBefore:y,slidesOffsetAfter:b,initialSlide:p}=h,g=x||!!y||!!b;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&h.virtual.enabled){t&&(!g&&o.snapIndex===0?o.slideTo(o.virtual.slides.length,0,!1,!0):g&&o.snapIndex<h.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0)),o.allowSlidePrev=f,o.allowSlideNext=m,o.emit("loopFix");return}let w=h.slidesPerView;w==="auto"?w=o.slidesPerViewDynamic():(w=Math.ceil(parseFloat(h.slidesPerView,10)),g&&w%2===0&&(w=w+1));const v=h.slidesPerGroupAuto?w:h.slidesPerGroup;let j=g?Math.max(v,Math.ceil(w/2)):v;j%v!==0&&(j+=v-j%v),j+=h.loopAdditionalSlides,o.loopedSlides=j;const k=o.grid&&h.grid&&h.grid.rows>1;d.length<w+j||o.params.effect==="cards"&&d.length<w+j*2?Ui("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):k&&h.grid.fill==="row"&&Ui("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],T=[],O=k?Math.ceil(d.length/h.grid.rows):d.length,C=i&&O-p<w&&!g;let N=C?p:o.activeIndex;typeof s>"u"?s=o.getSlideIndex(d.find(z=>z.classList.contains(h.slideActiveClass))):N=s;const _=n==="next"||!n,P=n==="prev"||!n;let A=0,L=0;const q=(k?d[s].column:s)+(g&&typeof a>"u"?-w/2+.5:0);if(q<j){A=Math.max(j-q,v);for(let z=0;z<j-q;z+=1){const $=z-Math.floor(z/O)*O;if(k){const M=O-$-1;for(let I=d.length-1;I>=0;I-=1)d[I].column===M&&S.push(I)}else S.push(O-$-1)}}else if(q+w>O-j){L=Math.max(q-(O-j*2),v),C&&(L=Math.max(L,w-O+p+1));for(let z=0;z<L;z+=1){const $=z-Math.floor(z/O)*O;k?d.forEach((M,I)=>{M.column===$&&T.push(I)}):T.push($)}}if(o.__preventObserver__=!0,requestAnimationFrame(()=>{o.__preventObserver__=!1}),o.params.effect==="cards"&&d.length<w+j*2&&(T.includes(s)&&T.splice(T.indexOf(s),1),S.includes(s)&&S.splice(S.indexOf(s),1)),P&&S.forEach(z=>{d[z].swiperLoopMoveDOM=!0,u.prepend(d[z]),d[z].swiperLoopMoveDOM=!1}),_&&T.forEach(z=>{d[z].swiperLoopMoveDOM=!0,u.append(d[z]),d[z].swiperLoopMoveDOM=!1}),o.recalcSlides(),h.slidesPerView==="auto"?o.updateSlides():k&&(S.length>0&&P||T.length>0&&_)&&o.slides.forEach((z,$)=>{o.grid.updateSlide($,z,o.slides)}),h.watchSlidesProgress&&o.updateSlidesOffset(),t){if(S.length>0&&P){if(typeof e>"u"){const z=o.slidesGrid[N],M=o.slidesGrid[N+A]-z;c?o.setTranslate(o.translate-M):(o.slideTo(N+Math.ceil(A),0,!1,!0),a&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-M,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-M))}else if(a){const z=k?S.length/h.grid.rows:S.length;o.slideTo(o.activeIndex+z,0,!1,!0),o.touchEventsData.currentTranslate=o.translate}}else if(T.length>0&&_)if(typeof e>"u"){const z=o.slidesGrid[N],M=o.slidesGrid[N-L]-z;c?o.setTranslate(o.translate-M):(o.slideTo(N-L,0,!1,!0),a&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-M,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-M))}else{const z=k?T.length/h.grid.rows:T.length;o.slideTo(o.activeIndex-z,0,!1,!0)}}if(o.allowSlidePrev=f,o.allowSlideNext=m,o.controller&&o.controller.control&&!l){const z={slideRealIndex:e,direction:n,setTranslate:a,activeSlideIndex:s,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach($=>{!$.destroyed&&$.params.loop&&$.loopFix({...z,slideTo:$.params.slidesPerView===h.slidesPerView?t:!1})}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix({...z,slideTo:o.controller.control.params.slidesPerView===h.slidesPerView?t:!1})}o.emit("loopFix")}function R1(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;a[i]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),a.forEach(s=>{n.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var D1={loopCreate:I1,loopFix:M1,loopDestroy:R1};function z1(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function $1(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var B1={setGrabCursor:z1,unsetGrabCursor:$1};function F1(e,t=this){function n(a){if(!a||a===gn()||a===nt())return null;a.assignedSlot&&(a=a.assignedSlot);const s=a.closest(e);return!s&&!a.getRootNode?null:s||n(a.getRootNode().host)}return n(t)}function xf(e,t,n){const a=nt(),{params:s}=e,i=s.edgeSwipeDetection,l=s.edgeSwipeThreshold;return i&&(n<=l||n>=a.innerWidth-l)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function V1(e){const t=this,n=gn();let a=e;a.originalEvent&&(a=a.originalEvent);const s=t.touchEventsData;if(a.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==a.pointerId)return;s.pointerId=a.pointerId}else a.type==="touchstart"&&a.targetTouches.length===1&&(s.touchId=a.targetTouches[0].identifier);if(a.type==="touchstart"){xf(t,a,a.targetTouches[0].pageX);return}const{params:i,touches:l,enabled:c}=t;if(!c||!i.simulateTouch&&a.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let o=a.target;if(i.touchEventsTarget==="wrapper"&&!Qb(o,t.wrapperEl)||"which"in a&&a.which===3||"button"in a&&a.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",f=a.composedPath?a.composedPath():a.path;d&&a.target&&a.target.shadowRoot&&f&&(o=f[0]);const m=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,u=!!(a.target&&a.target.shadowRoot);if(i.noSwiping&&(u?F1(m,o):o.closest(m))){t.allowClick=!0;return}if(i.swipeHandler&&!o.closest(i.swipeHandler))return;l.currentX=a.pageX,l.currentY=a.pageY;const h=l.currentX,x=l.currentY;if(!xf(t,a,h))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=h,l.startY=x,s.touchStartTime=qi(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let y=!0;o.matches(s.focusableElements)&&(y=!1,o.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==o&&(a.pointerType==="mouse"||a.pointerType!=="mouse"&&!o.matches(s.focusableElements))&&n.activeElement.blur();const b=y&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!o.isContentEditable&&a.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",a)}function q1(e){const t=gn(),n=this,a=n.touchEventsData,{params:s,touches:i,rtlTranslate:l,enabled:c}=n;if(!c||!s.simulateTouch&&e.pointerType==="mouse")return;let o=e;if(o.originalEvent&&(o=o.originalEvent),o.type==="pointermove"&&(a.touchId!==null||o.pointerId!==a.pointerId))return;let d;if(o.type==="touchmove"){if(d=[...o.changedTouches].find(j=>j.identifier===a.touchId),!d||d.identifier!==a.touchId)return}else d=o;if(!a.isTouched){a.startMoving&&a.isScrolling&&n.emit("touchMoveOpposite",o);return}const f=d.pageX,m=d.pageY;if(o.preventedByNestedSwiper){i.startX=f,i.startY=m;return}if(!n.allowTouchMove){o.target.matches(a.focusableElements)||(n.allowClick=!1),a.isTouched&&(Object.assign(i,{startX:f,startY:m,currentX:f,currentY:m}),a.touchStartTime=qi());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(m<i.startY&&n.translate<=n.maxTranslate()||m>i.startY&&n.translate>=n.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else{if(l&&(f>i.startX&&-n.translate<=n.maxTranslate()||f<i.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(f<i.startX&&n.translate<=n.maxTranslate()||f>i.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==o.target&&o.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&o.target===t.activeElement&&o.target.matches(a.focusableElements)){a.isMoved=!0,n.allowClick=!1;return}a.allowTouchCallbacks&&n.emit("touchMove",o),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=f,i.currentY=m;const u=i.currentX-i.startX,h=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(u**2+h**2)<n.params.threshold)return;if(typeof a.isScrolling>"u"){let j;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?a.isScrolling=!1:u*u+h*h>=25&&(j=Math.atan2(Math.abs(h),Math.abs(u))*180/Math.PI,a.isScrolling=n.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(a.isScrolling&&n.emit("touchMoveOpposite",o),typeof a.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(a.startMoving=!0),a.isScrolling||o.type==="touchmove"&&a.preventTouchMoveFromPointerMove){a.isTouched=!1;return}if(!a.startMoving)return;n.allowClick=!1,!s.cssMode&&o.cancelable&&o.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&o.stopPropagation();let x=n.isHorizontal()?u:h,y=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(x=Math.abs(x)*(l?1:-1),y=Math.abs(y)*(l?1:-1)),i.diff=x,x*=s.touchRatio,l&&(x=-x,y=-y);const b=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const p=n.params.loop&&!s.cssMode,g=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!a.isMoved){if(p&&g&&n.loopFix({direction:n.swipeDirection}),a.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(j)}a.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",o)}if(new Date().getTime(),s._loopSwapReset!==!1&&a.isMoved&&a.allowThresholdMove&&b!==n.touchesDirection&&p&&g&&Math.abs(x)>=1){Object.assign(i,{startX:f,startY:m,currentX:f,currentY:m,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;return}n.emit("sliderMove",o),a.isMoved=!0,a.currentTranslate=x+a.startTranslate;let w=!0,v=s.resistanceRatio;if(s.touchReleaseOnEdges&&(v=0),x>0?(p&&g&&a.allowThresholdMove&&a.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>n.minTranslate()&&(w=!1,s.resistance&&(a.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+a.startTranslate+x)**v))):x<0&&(p&&g&&a.allowThresholdMove&&a.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),a.currentTranslate<n.maxTranslate()&&(w=!1,s.resistance&&(a.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-a.startTranslate-x)**v))),w&&(o.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(a.currentTranslate=a.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,a.currentTranslate=a.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{a.currentTranslate=a.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(a.currentTranslate),n.setTranslate(a.currentTranslate))}function U1(e){const t=this,n=t.touchEventsData;let a=e;a.originalEvent&&(a=a.originalEvent);let s;if(a.type==="touchend"||a.type==="touchcancel"){if(s=[...a.changedTouches].find(j=>j.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||a.pointerId!==n.pointerId)return;s=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&!(["pointercancel","contextmenu"].includes(a.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:c,rtlTranslate:o,slidesGrid:d,enabled:f}=t;if(!f||!l.simulateTouch&&a.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",a),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const m=qi(),u=m-n.touchStartTime;if(t.allowClick){const j=a.path||a.composedPath&&a.composedPath();t.updateClickedSlide(j&&j[0]||a.target,j),t.emit("tap click",a),u<300&&m-n.lastClickTime<300&&t.emit("doubleTap doubleClick",a)}if(n.lastClickTime=qi(),Hp(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(l.followFinger?h=o?t.translate:-t.translate:h=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:h});return}const x=h>=-t.maxTranslate()&&!t.params.loop;let y=0,b=t.slidesSizesGrid[0];for(let j=0;j<d.length;j+=j<l.slidesPerGroupSkip?1:l.slidesPerGroup){const k=j<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof d[j+k]<"u"?(x||h>=d[j]&&h<d[j+k])&&(y=j,b=d[j+k]-d[j]):(x||h>=d[j])&&(y=j,b=d[d.length-1]-d[d.length-2])}let p=null,g=null;l.rewind&&(t.isBeginning?g=l.virtual&&l.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(p=0));const w=(h-d[y])/b,v=y<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(u>l.longSwipesMs){if(!l.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(w>=l.longSwipesRatio?t.slideTo(l.rewind&&t.isEnd?p:y+v):t.slideTo(y)),t.swipeDirection==="prev"&&(w>1-l.longSwipesRatio?t.slideTo(y+v):g!==null&&w<0&&Math.abs(w)>l.longSwipesRatio?t.slideTo(g):t.slideTo(y))}else{if(!l.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(a.target===t.navigation.nextEl||a.target===t.navigation.prevEl)?a.target===t.navigation.nextEl?t.slideTo(y+v):t.slideTo(y):(t.swipeDirection==="next"&&t.slideTo(p!==null?p:y+v),t.swipeDirection==="prev"&&t.slideTo(g!==null?g:y))}}function yf(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:s,snapGrid:i}=e,l=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const c=l&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!c?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!l?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=a,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function H1(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function G1(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:a}=e;if(!a)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const i=e.maxTranslate()-e.minTranslate();i===0?s=0:s=(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function K1(e){const t=this;mi(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function W1(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Yp=(e,t)=>{const n=gn(),{params:a,el:s,wrapperEl:i,device:l}=e,c=!!a.nested,o=t==="on"?"addEventListener":"removeEventListener",d=t;!s||typeof s=="string"||(n[o]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:c}),s[o]("touchstart",e.onTouchStart,{passive:!1}),s[o]("pointerdown",e.onTouchStart,{passive:!1}),n[o]("touchmove",e.onTouchMove,{passive:!1,capture:c}),n[o]("pointermove",e.onTouchMove,{passive:!1,capture:c}),n[o]("touchend",e.onTouchEnd,{passive:!0}),n[o]("pointerup",e.onTouchEnd,{passive:!0}),n[o]("pointercancel",e.onTouchEnd,{passive:!0}),n[o]("touchcancel",e.onTouchEnd,{passive:!0}),n[o]("pointerout",e.onTouchEnd,{passive:!0}),n[o]("pointerleave",e.onTouchEnd,{passive:!0}),n[o]("contextmenu",e.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&s[o]("click",e.onClick,!0),a.cssMode&&i[o]("scroll",e.onScroll),a.updateOnWindowResize?e[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",yf,!0):e[d]("observerUpdate",yf,!0),s[o]("load",e.onLoad,{capture:!0}))};function Q1(){const e=this,{params:t}=e;e.onTouchStart=V1.bind(e),e.onTouchMove=q1.bind(e),e.onTouchEnd=U1.bind(e),e.onDocumentTouchStart=W1.bind(e),t.cssMode&&(e.onScroll=G1.bind(e)),e.onClick=H1.bind(e),e.onLoad=K1.bind(e),Yp(e,"on")}function X1(){Yp(this,"off")}var Y1={attachEvents:Q1,detachEvents:X1};const vf=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function J1(){const e=this,{realIndex:t,initialized:n,params:a,el:s}=e,i=a.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const l=gn(),c=a.breakpointsBase==="window"||!a.breakpointsBase?a.breakpointsBase:"container",o=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?e.el:l.querySelector(a.breakpointsBase),d=e.getBreakpoint(i,c,o);if(!d||e.currentBreakpoint===d)return;const m=(d in i?i[d]:void 0)||e.originalParams,u=vf(e,a),h=vf(e,m),x=e.params.grabCursor,y=m.grabCursor,b=a.enabled;u&&!h?(s.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&h&&(s.classList.add(`${a.containerModifierClass}grid`),(m.grid.fill&&m.grid.fill==="column"||!m.grid.fill&&a.grid.fill==="column")&&s.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),x&&!y?e.unsetGrabCursor():!x&&y&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(k=>{if(typeof m[k]>"u")return;const S=a[k]&&a[k].enabled,T=m[k]&&m[k].enabled;S&&!T&&e[k].disable(),!S&&T&&e[k].enable()});const p=m.direction&&m.direction!==a.direction,g=a.loop&&(m.slidesPerView!==a.slidesPerView||p),w=a.loop;p&&n&&e.changeDirection(),ft(e.params,m);const v=e.params.enabled,j=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),b&&!v?e.disable():!b&&v&&e.enable(),e.currentBreakpoint=d,e.emit("_beforeBreakpoint",m),n&&(g?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!w&&j?(e.loopCreate(t),e.updateSlides()):w&&!j&&e.loopDestroy()),e.emit("breakpoint",m)}function Z1(e,t="window",n){if(!e||t==="container"&&!n)return;let a=!1;const s=nt(),i=t==="window"?s.innerHeight:n.clientHeight,l=Object.keys(e).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const o=parseFloat(c.substr(1));return{value:i*o,point:c}}return{value:c,point:c}});l.sort((c,o)=>parseInt(c.value,10)-parseInt(o.value,10));for(let c=0;c<l.length;c+=1){const{point:o,value:d}=l[c];t==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(a=o):d<=n.clientWidth&&(a=o)}return a||"max"}var ew={setBreakpoint:J1,getBreakpoint:Z1};function tw(e,t){const n=[];return e.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(s=>{a[s]&&n.push(t+s)}):typeof a=="string"&&n.push(t+a)}),n}function rw(){const e=this,{classNames:t,params:n,rtl:a,el:s,device:i}=e,l=tw(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:a},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...l),s.classList.add(...t),e.emitContainerClasses()}function nw(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var aw={addClasses:rw,removeClasses:nw};function sw(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:a}=n;if(a){const s=e.slides.length-1,i=e.slidesGrid[s]+e.slidesSizesGrid[s]+a*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var iw={checkOverflow:sw},jc={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function lw(e,t){return function(a={}){const s=Object.keys(a)[0],i=a[s];if(typeof i!="object"||i===null){ft(t,a);return}if(e[s]===!0&&(e[s]={enabled:!0}),s==="navigation"&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),!(s in e&&"enabled"in i)){ft(t,a);return}typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),ft(t,a)}}const mo={eventsEmitter:a1,update:p1,translate:w1,transition:k1,slide:L1,loop:D1,grabCursor:B1,events:Y1,breakpoints:ew,checkOverflow:iw,classes:aw},po={};let $u=class or{constructor(...t){let n,a;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?a=t[0]:[n,a]=t,a||(a={}),a=ft({},a),n&&!a.el&&(a.el=n);const s=gn();if(a.el&&typeof a.el=="string"&&s.querySelectorAll(a.el).length>1){const o=[];return s.querySelectorAll(a.el).forEach(d=>{const f=ft({},a,{el:d});o.push(new or(f))}),o}const i=this;i.__swiper__=!0,i.support=Kp(),i.device=Wp({userAgent:a.userAgent}),i.browser=Qp(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],a.modules&&Array.isArray(a.modules)&&i.modules.push(...a.modules);const l={};i.modules.forEach(o=>{o({params:a,swiper:i,extendParams:lw(a,l),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const c=ft({},jc,l);return i.params=ft({},c,po,a),i.originalParams=ft({},i.params),i.passedParams=ft({},a),i.params&&i.params.on&&Object.keys(i.params.on).forEach(o=>{i.on(o,i.params.on[o])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:a}=this,s=Zt(n,`.${a.slideClass}, swiper-slide`),i=mf(s[0]);return mf(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:n,params:a}=t;t.slides=Zt(n,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const a=this;t=Math.min(Math.max(t,0),1);const s=a.minTranslate(),l=(a.maxTranslate()-s)*t+s;a.translateTo(l,typeof n>"u"?0:n),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(a=>{const s=t.getSlideClasses(a);n.push({slideEl:a,classNames:s}),t.emit("_slideClass",a,s)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const a=this,{params:s,slides:i,slidesGrid:l,slidesSizesGrid:c,size:o,activeIndex:d}=a;let f=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let m=i[d]?Math.ceil(i[d].swiperSlideSize):0,u;for(let h=d+1;h<i.length;h+=1)i[h]&&!u&&(m+=Math.ceil(i[h].swiperSlideSize),f+=1,m>o&&(u=!0));for(let h=d-1;h>=0;h-=1)i[h]&&!u&&(m+=i[h].swiperSlideSize,f+=1,m>o&&(u=!0))}else if(t==="current")for(let m=d+1;m<i.length;m+=1)(n?l[m]+c[m]-l[d]<o:l[m]-l[d]<o)&&(f+=1);else for(let m=d-1;m>=0;m-=1)l[d]-l[m]<o&&(f+=1);return f}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&mi(t,l)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const l=t.rtlTranslate?t.translate*-1:t.translate,c=Math.min(Math.max(l,t.maxTranslate()),t.minTranslate());t.setTranslate(c),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(a.freeMode&&a.freeMode.enabled&&!a.cssMode)s(),a.autoHeight&&t.updateAutoHeight();else{if((a.slidesPerView==="auto"||a.slidesPerView>1)&&t.isEnd&&!a.centeredSlides){const l=t.virtual&&a.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(l.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||s()}a.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const a=this,s=a.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${s}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),a.emit("changeDirection"),n&&a.update()),a}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let a=t||n.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=n,a.parentNode&&a.parentNode.host&&a.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(s()):Zt(a,s())[0];return!l&&n.params.createElements&&(l=Hi("div",n.params.wrapperClass),a.append(l),Zt(a,`.${n.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(n,{el:a,wrapperEl:l,slidesEl:n.isElement&&!a.parentNode.host.slideSlots?a.parentNode.host:l,hostEl:n.isElement?a.parentNode.host:a,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||Mr(a,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||Mr(a,"direction")==="rtl"),wrongRTL:Mr(l,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?mi(n,i):i.addEventListener("load",l=>{mi(n,l.target)})}),wc(n),n.initialized=!0,wc(n),n.emit("init"),n.emit("afterInit"),n}destroy(t=!0,n=!0){const a=this,{params:s,el:i,wrapperEl:l,slides:c}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),s.loop&&a.loopDestroy(),n&&(a.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(o=>{o.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),o.removeAttribute("style"),o.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(o=>{a.off(o)}),t!==!1&&(a.el&&typeof a.el!="string"&&(a.el.swiper=null),Ub(a)),a.destroyed=!0),null}static extendDefaults(t){ft(po,t)}static get extendedDefaults(){return po}static get defaults(){return jc}static installModule(t){or.prototype.__modules__||(or.prototype.__modules__=[]);const n=or.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>or.installModule(n)),or):(or.installModule(t),or)}};Object.keys(mo).forEach(e=>{Object.keys(mo[e]).forEach(t=>{$u.prototype[t]=mo[e][t]})});$u.use([r1,n1]);const Jp=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fn(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Vn(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:fn(t[a])&&fn(e[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?e[a]=t[a]:Vn(e[a],t[a]):e[a]=t[a]})}function Zp(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function eg(e={}){return e.pagination&&typeof e.pagination.el>"u"}function tg(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function rg(e=""){const t=e.split(" ").map(a=>a.trim()).filter(a=>!!a),n=[];return t.forEach(a=>{n.indexOf(a)<0&&n.push(a)}),n.join(" ")}function ow(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function cw({swiper:e,slides:t,passedParams:n,changedParams:a,nextEl:s,prevEl:i,scrollbarEl:l,paginationEl:c}){const o=a.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:d,pagination:f,navigation:m,scrollbar:u,virtual:h,thumbs:x}=e;let y,b,p,g,w,v,j,k;a.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(y=!0),a.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(b=!0),a.includes("pagination")&&n.pagination&&(n.pagination.el||c)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(p=!0),a.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&u&&!u.el&&(g=!0),a.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(w=!0);const S=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),d[T].prevEl=void 0,d[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),d[T].el=void 0,e[T].el=void 0))};a.includes("loop")&&e.isElement&&(d.loop&&!n.loop?v=!0:!d.loop&&n.loop?j=!0:k=!0),o.forEach(T=>{if(fn(d[T])&&fn(n[T]))Object.assign(d[T],n[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in n[T]&&!n[T].enabled&&S(T);else{const O=n[T];(O===!0||O===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?O===!1&&S(T):d[T]=n[T]}}),o.includes("controller")&&!b&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),a.includes("children")&&t&&h&&d.virtual.enabled?(h.slides=t,h.update(!0)):a.includes("virtual")&&h&&d.virtual.enabled&&(t&&(h.slides=t),h.update(!0)),a.includes("children")&&t&&d.loop&&(k=!0),y&&x.init()&&x.update(!0),b&&(e.controller.control=d.controller.control),p&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(d.pagination.el=c),f.init(),f.render(),f.update()),g&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),u.init(),u.updateSize(),u.setTranslate()),w&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),bc(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),bc(i,e.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),e.el.appendChild(i))),s&&(d.navigation.nextEl=s),i&&(d.navigation.prevEl=i),m.init(),m.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),a.includes("direction")&&e.changeDirection(n.direction,!1),(v||k)&&e.loopDestroy(),(j||k)&&e.loopCreate(),e.update()}function uw(e={},t=!0){const n={on:{}},a={},s={};Vn(n,jc),n._emitClasses=!0,n.init=!1;const i={},l=Jp.map(o=>o.replace(/_/,"")),c=Object.assign({},e);return Object.keys(c).forEach(o=>{typeof e[o]>"u"||(l.indexOf(o)>=0?fn(e[o])?(n[o]={},s[o]={},Vn(n[o],e[o]),Vn(s[o],e[o])):(n[o]=e[o],s[o]=e[o]):o.search(/on[A-Z]/)===0&&typeof e[o]=="function"?t?a[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:n.on[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:i[o]=e[o])}),["navigation","pagination","scrollbar"].forEach(o=>{n[o]===!0&&(n[o]={}),n[o]===!1&&delete n[o]}),{params:n,passedParams:s,rest:i,events:a}}function dw({el:e,nextEl:t,prevEl:n,paginationEl:a,scrollbarEl:s,swiper:i},l){Zp(l)&&t&&n&&(i.params.navigation.nextEl=t,i.originalParams.navigation.nextEl=t,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),eg(l)&&a&&(i.params.pagination.el=a,i.originalParams.pagination.el=a),tg(l)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(e)}function fw(e,t,n,a,s){const i=[];if(!t)return i;const l=o=>{i.indexOf(o)<0&&i.push(o)};if(n&&a){const o=a.map(s),d=n.map(s);o.join("")!==d.join("")&&l("children"),a.length!==n.length&&l("children")}return Jp.filter(o=>o[0]==="_").map(o=>o.replace(/_/,"")).forEach(o=>{if(o in e&&o in t)if(fn(e[o])&&fn(t[o])){const d=Object.keys(e[o]),f=Object.keys(t[o]);d.length!==f.length?l(o):(d.forEach(m=>{e[o][m]!==t[o][m]&&l(o)}),f.forEach(m=>{e[o][m]!==t[o][m]&&l(o)}))}else e[o]!==t[o]&&l(o)}),i}const hw=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gi.apply(this,arguments)}function ng(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function ag(e){const t=[];return Ne.Children.toArray(e).forEach(n=>{ng(n)?t.push(n):n.props&&n.props.children&&ag(n.props.children).forEach(a=>t.push(a))}),t}function mw(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ne.Children.toArray(e).forEach(a=>{if(ng(a))t.push(a);else if(a.props&&a.props.slot&&n[a.props.slot])n[a.props.slot].push(a);else if(a.props&&a.props.children){const s=ag(a.props.children);s.length>0?s.forEach(i=>t.push(i)):n["container-end"].push(a)}else n["container-end"].push(a)}),{slides:t,slots:n}}function pw(e,t,n){if(!n)return null;const a=f=>{let m=f;return f<0?m=t.length+f:m>=t.length&&(m=m-t.length),m},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:l}=n,c=e.params.loop?-t.length:0,o=e.params.loop?t.length*2:t.length,d=[];for(let f=c;f<o;f+=1)f>=i&&f<=l&&d.push(t[a(f)]);return d.map((f,m)=>Ne.cloneElement(f,{swiper:e,style:s,key:f.props.virtualIndex||f.key||`slide-${m}`}))}function Ha(e,t){return typeof window>"u"?E.useEffect(e,t):E.useLayoutEffect(e,t)}const bf=E.createContext(null),gw=E.createContext(null),Bu=E.forwardRef(({className:e,tag:t="div",wrapperTag:n="div",children:a,onSwiper:s,...i}={},l)=>{let c=!1;const[o,d]=E.useState("swiper"),[f,m]=E.useState(null),[u,h]=E.useState(!1),x=E.useRef(!1),y=E.useRef(null),b=E.useRef(null),p=E.useRef(null),g=E.useRef(null),w=E.useRef(null),v=E.useRef(null),j=E.useRef(null),k=E.useRef(null),{params:S,passedParams:T,rest:O,events:C}=uw(i),{slides:N,slots:_}=mw(a),P=()=>{h(!u)};Object.assign(S.on,{_containerClasses(z,$){d($)}});const A=()=>{Object.assign(S.on,C),c=!0;const z={...S};if(delete z.wrapperClass,b.current=new $u(z),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=N;const $={cache:!1,slides:N,renderExternal:m,renderExternalUpdate:!1};Vn(b.current.params.virtual,$),Vn(b.current.originalParams.virtual,$)}};y.current||A(),b.current&&b.current.on("_beforeBreakpoint",P);const L=()=>{c||!C||!b.current||Object.keys(C).forEach(z=>{b.current.on(z,C[z])})},B=()=>{!C||!b.current||Object.keys(C).forEach(z=>{b.current.off(z,C[z])})};E.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",P)}),E.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),Ha(()=>{if(l&&(l.current=y.current),!!y.current)return b.current.destroyed&&A(),dw({el:y.current,nextEl:w.current,prevEl:v.current,paginationEl:j.current,scrollbarEl:k.current,swiper:b.current},S),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),Ha(()=>{L();const z=fw(T,p.current,N,g.current,$=>$.key);return p.current=T,g.current=N,z.length&&b.current&&!b.current.destroyed&&cw({swiper:b.current,slides:N,passedParams:T,changedParams:z,nextEl:w.current,prevEl:v.current,scrollbarEl:k.current,paginationEl:j.current}),()=>{B()}}),Ha(()=>{hw(b.current)},[f]);function q(){return S.virtual?pw(b.current,N,f):N.map((z,$)=>Ne.cloneElement(z,{swiper:b.current,swiperSlideIndex:$}))}return Ne.createElement(t,Gi({ref:y,className:rg(`${o}${e?` ${e}`:""}`)},O),Ne.createElement(gw.Provider,{value:b.current},_["container-start"],Ne.createElement(n,{className:ow(S.wrapperClass)},_["wrapper-start"],q(),_["wrapper-end"]),Zp(S)&&Ne.createElement(Ne.Fragment,null,Ne.createElement("div",{ref:v,className:"swiper-button-prev"}),Ne.createElement("div",{ref:w,className:"swiper-button-next"})),tg(S)&&Ne.createElement("div",{ref:k,className:"swiper-scrollbar"}),eg(S)&&Ne.createElement("div",{ref:j,className:"swiper-pagination"}),_["container-end"]))});Bu.displayName="Swiper";const Fu=E.forwardRef(({tag:e="div",children:t,className:n="",swiper:a,zoom:s,lazy:i,virtualIndex:l,swiperSlideIndex:c,...o}={},d)=>{const f=E.useRef(null),[m,u]=E.useState("swiper-slide"),[h,x]=E.useState(!1);function y(w,v,j){v===f.current&&u(j)}Ha(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),d&&(d.current=f.current),!(!f.current||!a)){if(a.destroyed){m!=="swiper-slide"&&u("swiper-slide");return}return a.on("_slideClass",y),()=>{a&&a.off("_slideClass",y)}}}),Ha(()=>{a&&f.current&&!a.destroyed&&u(a.getSlideClasses(f.current))},[a]);const b={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},p=()=>typeof t=="function"?t(b):t,g=()=>{x(!0)};return Ne.createElement(e,Gi({ref:f,className:rg(`${m}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:g},o),s&&Ne.createElement(bf.Provider,{value:b},Ne.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},p(),i&&!h&&Ne.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&Ne.createElement(bf.Provider,{value:b},p(),i&&!h&&Ne.createElement("div",{className:"swiper-lazy-preloader"})))});Fu.displayName="SwiperSlide";function xw(e,t,n,a){return e.params.createElements&&Object.keys(a).forEach(s=>{if(!n[s]&&n.auto===!0){let i=Zt(e.el,`.${a[s]}`)[0];i||(i=Hi("div",a[s]),i.className=a[s],e.el.append(i)),n[s]=i,t[s]=i}}),n}const yw='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function sg({swiper:e,extendParams:t,on:n,emit:a}){t({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(h){let x;return h&&typeof h=="string"&&e.isElement&&(x=e.el.querySelector(h)||e.hostEl.querySelector(h),x)?x:(h&&(typeof h=="string"&&(x=[...document.querySelectorAll(h)]),e.params.uniqueNavElements&&typeof h=="string"&&x&&x.length>1&&e.el.querySelectorAll(h).length===1?x=e.el.querySelector(h):x&&x.length===1&&(x=x[0])),h&&!x?h:x)}function i(h,x){const y=e.params.navigation;h=sr(h),h.forEach(b=>{b&&(b.classList[x?"add":"remove"](...y.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=x),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](y.lockClass))})}function l(){const{nextEl:h,prevEl:x}=e.navigation;if(e.params.loop){i(x,!1),i(h,!1);return}i(x,e.isBeginning&&!e.params.rewind),i(h,e.isEnd&&!e.params.rewind)}function c(h){h.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function o(h){h.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function d(){const h=e.params.navigation;if(e.params.navigation=xw(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(h.nextEl||h.prevEl))return;let x=s(h.nextEl),y=s(h.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:y}),x=sr(x),y=sr(y);const b=(p,g)=>{if(p){if(h.addIcons&&p.matches(".swiper-button-next,.swiper-button-prev")&&!p.querySelector("svg")){const w=document.createElement("div");bc(w,yw),p.appendChild(w.querySelector("svg")),w.remove()}p.addEventListener("click",g==="next"?o:c)}!e.enabled&&p&&p.classList.add(...h.lockClass.split(" "))};x.forEach(p=>b(p,"next")),y.forEach(p=>b(p,"prev"))}function f(){let{nextEl:h,prevEl:x}=e.navigation;h=sr(h),x=sr(x);const y=(b,p)=>{b.removeEventListener("click",p==="next"?o:c),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};h.forEach(b=>y(b,"next")),x.forEach(b=>y(b,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?u():(d(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{nextEl:h,prevEl:x}=e.navigation;if(h=sr(h),x=sr(x),e.enabled){l();return}[...h,...x].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),n("click",(h,x)=>{let{nextEl:y,prevEl:b}=e.navigation;y=sr(y),b=sr(b);const p=x.target;let g=b.includes(p)||y.includes(p);if(e.isElement&&!g){const w=x.path||x.composedPath&&x.composedPath();w&&(g=w.find(v=>y.includes(v)||b.includes(v)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===p||e.pagination.el.contains(p)))return;let w;y.length?w=y[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(w=b[0].classList.contains(e.params.navigation.hiddenClass)),a(w===!0?"navigationShow":"navigationHide"),[...y,...b].filter(v=>!!v).forEach(v=>v.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},u=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:m,disable:u,update:l,init:d,destroy:f})}function vw(){const e=xe(),{topProducts:t}=bs();return r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Bp,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"c nh gi cao"})]}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Sn phm ni bt"})]}),r.jsxs("button",{onClick:()=>e("/products"),className:"hidden md:flex items-center space-x-2 hover:underline font-medium",children:[r.jsx("span",{children:"Xem tt c"}),r.jsx(St,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Bu,{modules:[sg],navigation:{nextEl:".custom-swiper-next",prevEl:".custom-swiper-prev"},spaceBetween:24,slidesPerView:1,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:4}},className:"!pb-10",children:t.slice(0,10).map(n=>{var a,s,i;return r.jsx(Fu,{children:r.jsx(Du,{product:{id:String(n.product_id),name:n.product_name,price:Number(n.product_price),image:n.product_image,average_rating:Number(n.average_rating??n.averageRating??0),description:n.product_description,sport:(i=(s=(a=n.Team)==null?void 0:a.Tournament)==null?void 0:s.Sport)==null?void 0:i.sport_name,is_active:n.is_active},onViewDetails:()=>e(`/product/${n.product_id}`)})},n.product_id)})}),r.jsx("button",{className:"custom-swiper-prev absolute left-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Previous",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})})}),r.jsx("button",{className:"custom-swiper-next absolute right-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Next",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M9 6l6 6-6 6"})})})]})]})}function bw(){const e=xe(),{sports:t}=bs();return r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Mn th thao"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(n=>r.jsxs("div",{className:"group relative h-96 overflow-hidden cursor-pointer",onClick:()=>e(`/products?sport=${n.sport_id}`),children:[r.jsx("img",{src:n.sport_icon,alt:n.sport_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),r.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-8",children:[r.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:n.sport_name}),r.jsxs("div",{className:"inline-flex items-center space-x-2 text-white font-medium group-hover:underline",children:[r.jsx("span",{children:"Xem thm"}),r.jsx(St,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},n.sport_id))})]})}function ww(){var l;const e=xe(),{blogs:t,loading:n,error:a}=Lu(),s=t[0];if(n)return r.jsx("section",{className:"bg-gray-100 py-20 text-center",children:"ang ti blog..."});if(a)return r.jsx("section",{className:"bg-gray-100 py-20 text-center text-red-600",children:a});if(!s)return r.jsx("section",{className:"bg-gray-100 py-20 text-center",children:"Khng c blog mi nht."});const i=t.slice(1,3);return r.jsx("section",{className:"bg-gray-100 py-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Tin tc"}),r.jsxs("button",{className:"flex items-center gap-2 text-black font-semibold hover:underline text-base",onClick:()=>e("/blog"),children:["Xem thm ",r.jsx(St,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-12",children:[r.jsx("div",{children:r.jsx("img",{src:s.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:s.blog_title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold leading-tight",children:s.blog_title}),r.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:((l=s.blog_content)==null?void 0:l.slice(0,120))+"..."}),r.jsxs("button",{onClick:()=>e(`/blog/${s.blog_id}`),className:"bg-black text-white px-8 py-4 font-semibold hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",children:[r.jsx("span",{children:"c bi vit"}),r.jsx(St,{className:"w-5 h-5"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map(c=>{var o;return r.jsxs("div",{className:"cursor-pointer",onClick:()=>e(`/blog/${c.blog_id}`),children:[r.jsx("img",{src:c.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:c.blog_title,className:"w-full h-full object-cover",style:{height:"400px"}}),r.jsxs("div",{className:"pt-3",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.blog_title}),r.jsx("p",{className:"text-gray-600 text-sm mb-1 line-clamp-2",children:((o=c.blog_content)==null?void 0:o.slice(0,80))+"..."}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:(()=>{const d=new Date(c.created_at),f=d.getUTCDate(),m=d.getUTCMonth()+1,u=d.getUTCFullYear();return`${f}/${m}/${u}`})()}),r.jsxs("button",{className:"bg-black text-white px-4 py-2 font-semibold hover:bg-gray-800 transition-colors inline-flex items-center space-x-2",onClick:d=>{d.stopPropagation(),e(`/blog/${c.blog_id}`)},children:[r.jsx("span",{children:"c bi vit"}),r.jsx(St,{className:"w-4 h-4"})]})]})]},c.blog_id)})})]})})}function jw(){return r.jsxs("div",{className:"min-h-screen",children:[r.jsx(Fb,{}),r.jsx(vw,{}),r.jsx(bw,{}),r.jsx(ww,{})]})}function Gs({title:e,children:t,defaultOpen:n=!1}){const[a,s]=E.useState(n);return r.jsxs("div",{children:[r.jsxs("button",{className:"flex justify-between items-center w-full py-3 font-semibold border-b",onClick:()=>s(i=>!i),type:"button",children:[r.jsx("span",{children:e}),r.jsx("span",{className:"ml-2",children:a?"":""})]}),a&&r.jsx("div",{className:"py-2",children:t})]})}function Nw({categories:e,selectedCategory:t,setSelectedCategory:n,selectedSport:a,setSelectedSport:s,selectedTournament:i,setSelectedTournament:l,selectedTeam:c,setSelectedTeam:o}){const{sports:d,products:f}=bs(),m=Array.from(new Set(f.filter(h=>{var x,y,b;return!a||((b=(y=(x=h.Team)==null?void 0:x.Tournament)==null?void 0:y.Sport)==null?void 0:b.sport_name)===a}).map(h=>{var x,y;return(y=(x=h.Team)==null?void 0:x.Tournament)==null?void 0:y.tournament_name}).filter(h=>!!h))),u=Array.from(new Set(f.filter(h=>{var x,y,b,p,g;return(!a||((b=(y=(x=h.Team)==null?void 0:x.Tournament)==null?void 0:y.Sport)==null?void 0:b.sport_name)===a)&&(!i||((g=(p=h.Team)==null?void 0:p.Tournament)==null?void 0:g.tournament_name)===i)}).map(h=>{var x;return(x=h.Team)==null?void 0:x.team_name}).filter(h=>!!h)));return r.jsxs("aside",{className:"w-full md:w-64 pr-4 space-y-4 border-r",children:[r.jsx("button",{className:"mb-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded font-medium w-full",onClick:()=>{n("Tt c"),s(""),l(""),o("")},children:"t li b lc"}),r.jsx(Gs,{title:t==="Tt c"?"Phn loi":`Phn loi: ${t}`,defaultOpen:!0,children:r.jsx("div",{className:"space-y-2",children:e.map(h=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${t===h?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:t===h,onChange:()=>n(h),className:"accent-black"}),r.jsx("span",{children:h})]},h))})}),r.jsx(Gs,{title:a===""?"Mn th thao":`Mn th thao: ${a}`,children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-2 py-1 rounded",children:[r.jsx("input",{type:"radio",checked:a==="",onChange:()=>s(""),className:"accent-black"}),r.jsx("span",{children:"Tt c"})]}),d.map(h=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${a===h.sport_name?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:a===h.sport_name,onChange:()=>s(h.sport_name),className:"accent-black"}),r.jsx("span",{children:h.sport_name})]},h.sport_id))]})}),r.jsx(Gs,{title:i===""?"Gii u":`Gii u: ${i}`,children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-2 py-1 rounded",children:[r.jsx("input",{type:"radio",checked:i==="",onChange:()=>l(""),className:"accent-black"}),r.jsx("span",{children:"Tt c"})]}),m.map(h=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${i===h?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:i===h,onChange:()=>l(h),className:"accent-black"}),r.jsx("span",{children:h})]},h))]})}),r.jsx(Gs,{title:c===""?"i bng":`i bng: ${c}`,children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-2 py-1 rounded",children:[r.jsx("input",{type:"radio",checked:c==="",onChange:()=>o(""),className:"accent-black"}),r.jsx("span",{children:"Tt c"})]}),u.map(h=>r.jsxs("label",{className:`flex items-center gap-2 cursor-pointer px-2 py-1 rounded ${c===h?"bg-black text-white font-semibold":""}`,children:[r.jsx("input",{type:"radio",checked:c===h,onChange:()=>o(h),className:"accent-black"}),r.jsx("span",{children:h})]},h))]})})]})}function _w({setQuery:e}){const[t,n]=E.useState(""),a=i=>{n(i.target.value),e(i.target.value)},s=()=>{n(""),e("")};return r.jsx("div",{className:"relative w-full max-w-md mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",className:"w-full border rounded px-4 py-2 focus:outline-none focus:border-black pr-10",placeholder:"Tm kim sn phm...",value:t,onChange:a}),t&&r.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black",onClick:s,tabIndex:-1,type:"button","aria-label":"Xa tm kim",children:""})]})})}function kw({selectedSort:e,setSelectedSort:t}){return r.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Lc theo:"}),r.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"border border-gray-300 px-4 py-2 text-sm focus:outline-none focus:border-black",children:[r.jsx("option",{value:"featured",children:"Mc nh"}),r.jsx("option",{value:"price-low",children:"Gi: Thp n Cao"}),r.jsx("option",{value:"price-high",children:"Gi: Cao n Thp"}),r.jsx("option",{value:"newest",children:"Mi Nht"})]})]})}function Sw({products:e,onViewDetails:t}){return xe(),e.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No products found in this category."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(n=>{var a,s,i;return r.jsx(Du,{product:{id:n.product_id,name:n.product_name,price:Number(n.product_price),image:n.product_image,average_rating:n.average_rating,description:n.product_description,sport:(i=(s=(a=n.Team)==null?void 0:a.Tournament)==null?void 0:s.Sport)==null?void 0:i.sport_name,is_active:n.is_active},onViewDetails:t},n.product_id)})})}function Tw(){const e=xe(),{products:t,sports:n}=bs(),a=E.useRef(null),[s]=Bv(),{id:i}=Su();console.log(t[0]);const l=["Tt c","o u","Giy","Ph kin","Bng"],c=E.useMemo(()=>{const P=Array.from(new Set(t.map(A=>{var L;return(L=A.Category)==null?void 0:L.category_name}).filter(A=>!!A))).filter(A=>!l.includes(A));return[...l,...P]},[t]),[o,d]=E.useState(!1),[f,m]=E.useState("Tt c"),[u,h]=E.useState("mc nh"),[x,y]=E.useState(""),[b,p]=E.useState(""),[g,w]=E.useState(""),[v,j]=E.useState(""),[k,S]=E.useState(1),T=15,O=E.useMemo(()=>{let _=t;return _=_.filter(P=>{var A,L,B,q,z,$,M;return(f==="Tt c"||((A=P.Category)==null?void 0:A.category_name)===f)&&(x===""||((q=(B=(L=P.Team)==null?void 0:L.Tournament)==null?void 0:B.Sport)==null?void 0:q.sport_name)===x)&&(b===""||(($=(z=P.Team)==null?void 0:z.Tournament)==null?void 0:$.tournament_name)===b)&&(g===""||((M=P.Team)==null?void 0:M.team_name)===g)}),v&&(_=_.filter(P=>P.product_name.toLowerCase().includes(v.toLowerCase()))),u==="price-low "?_=[..._].sort((P,A)=>P.product_price-A.product_price):u==="price-high"?_=[..._].sort((P,A)=>A.product_price-P.product_price):u==="newest"&&(_=[..._].sort((P,A)=>new Date(A.release_date??0).getTime()-new Date(P.release_date??0).getTime())),_},[t,f,x,b,g,v,u]),C=Math.ceil(O.length/T),N=E.useMemo(()=>{const _=(k-1)*T;return O.slice(_,_+T)},[O,k]);return E.useEffect(()=>{S(1),a.current&&a.current.scrollIntoView({behavior:"smooth"})},[f,x,b,g,v,u]),E.useEffect(()=>{a.current&&a.current.scrollIntoView({behavior:"smooth"})},[k]),E.useEffect(()=>{const _=s.get("sport");if(_&&n.length>0){const P=n.find(A=>String(A.sport_id)===String(_));P&&y(P.sport_name)}},[s,n]),r.jsxs("div",{className:"min-h-screen pt-24 pb-12 bg-white",children:[r.jsx("div",{ref:a}),r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Tt c sn phm"}),r.jsxs("p",{className:"text-gray-600",children:["ang c ",O.length," ",(O.length===1,"sn phm")]})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("aside",{className:"w-64 hidden md:block",children:r.jsx("div",{className:"sticky top-28",children:r.jsx(Nw,{categories:c,selectedCategory:f,setSelectedCategory:m,selectedSport:x,setSelectedSport:y,selectedTournament:b,setSelectedTournament:p,selectedTeam:g,setSelectedTeam:w})})}),r.jsxs("main",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(_w,{setQuery:j})}),r.jsx("div",{children:r.jsx(kw,{selectedSort:u,setSelectedSort:h})})]}),r.jsx(Sw,{products:N,onViewDetails:_=>e(`/product/${_}`)}),C>1&&r.jsxs("div",{className:"flex justify-center mt-12 gap-2 select-none",children:[r.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full border border-gray-300 bg-white shadow transition hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",onClick:()=>S(_=>Math.max(1,_-1)),disabled:k===1,"aria-label":"Trang trc",children:r.jsx("span",{className:"text-xl",children:"<"})}),Array.from({length:C},(_,P)=>r.jsx("button",{className:`w-10 h-10 flex items-center justify-center rounded-full border transition font-semibold shadow
                    ${k===P+1?"bg-black text-white border-black scale-110":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}
                  `,onClick:()=>S(P+1),"aria-current":k===P+1?"page":void 0,children:P+1},P+1)),r.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full border border-gray-300 bg-white shadow transition hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",onClick:()=>S(_=>Math.min(C,_+1)),disabled:k===C,"aria-label":"Trang sau",children:r.jsx("span",{className:"text-xl",children:">"})})]})]})]})]})]})}function Cw({images:e,mainImage:t,className:n}){const[a,s]=E.useState(0),i=t?[t,...e.filter(l=>l!==t)]:e;return r.jsxs("div",{className:n,children:[r.jsx("div",{className:"bg-gray-100 rounded-xl overflow-hidden mb-6 flex items-center justify-center shadow-lg",style:{height:520,width:"100%"},children:r.jsx("img",{src:i[a],alt:"nh sn phm",className:"object-cover w-full h-full transition-all duration-500"})}),r.jsx("div",{className:"flex justify-center space-x-5",children:i.map((l,c)=>r.jsx("button",{onClick:()=>s(c),className:`rounded-xl overflow-hidden border-2 transition-all duration-200 bg-white
              ${a===c?"border-black opacity-100":"border-transparent opacity-40 hover:opacity-80"}
            `,style:{width:88,height:66},type:"button",children:r.jsx("img",{src:l,alt:`Thumbnail ${c+1}`,className:"object-cover w-full h-full"})},l+c))})]})}function Ew({reviews:e,averageRating:t}){const[n,a]=E.useState(!1);return r.jsxs("div",{className:"border-t border-b py-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>a(!n),children:[r.jsxs("span",{className:"text-2xl font-semibold",children:["nh gi (",e.length,")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wf,{rating:t}),r.jsx(ra,{className:`w-6 h-6 transition-transform ${n?"rotate-180":""}`})]})]}),n&&r.jsxs("div",{className:"mt-6 space-y-6",children:[e.length===0&&r.jsx("div",{className:"text-gray-500",children:"Cha c nh gi no."}),e.map((s,i)=>r.jsxs("div",{className:"border-b pb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(wf,{rating:s.rating}),r.jsx("span",{className:"text-xs text-gray-400",children:s.user_name||"n danh"}),s.created_at&&r.jsx("span",{className:"text-xs text-gray-400",children:new Date(s.created_at).toLocaleDateString("vi-VN")})]}),r.jsx("div",{className:"text-gray-700",children:s.comment})]},i))]})]})}function wf({rating:e}){const t=Math.floor(e),n=e-t>=.25&&e-t<.75,a=5-t-(n?1:0);return r.jsxs("span",{className:"flex text-xl text-yellow-500",children:[[...Array(t)].map((s,i)=>r.jsx("span",{children:""},i)),n&&r.jsx("span",{className:"text-yellow-400",children:""},"half"),[...Array(a)].map((s,i)=>r.jsx("span",{className:"text-gray-300",children:""},i+t+1))]})}function Pw(){const[e,t]=E.useState(!1);return r.jsxs("div",{className:"border-t border-b py-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>t(!e),children:[r.jsx("span",{className:"text-2xl font-semibold",children:"Chnh sch"}),r.jsx(ra,{className:`w-6 h-6 transition-transform ${e?"rotate-180":""}`})]}),e&&r.jsxs("div",{className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Sb,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-1",children:"Min ph vn chuyn"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Min ph vn chuyn cho n hng trn 2.000.000 "})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(vb,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-1",children:"i tr d dng"}),r.jsx("p",{className:"text-sm text-gray-600",children:"i tr trong 60 ngy vi sn phm cha s dng"})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(nr,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-1",children:"Bo hnh 2 nm"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Bo hnh chnh hng 2 nm cho mi sn phm"})]})]})]})]})}const Ow="https://pantherashop.onrender.com";function Aw({productId:e}){const[t,n]=E.useState([]),a=xe();return E.useEffect(()=>{async function s(){try{const l=await(await fetch(`${Ow}/products/related/${e}`)).json();n(l.products||l)}catch{n([])}}e&&s()},[e]),t.length?r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsx("div",{children:r.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider text-black-700",children:"Cc sn phm lin quan"})})}),r.jsxs("div",{className:"relative",children:[r.jsx(Bu,{modules:[sg],navigation:{nextEl:".related-swiper-next",prevEl:".related-swiper-prev"},spaceBetween:24,slidesPerView:1,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:4}},className:"!pb-10",children:t.map(s=>{var i,l,c;return r.jsx(Fu,{children:r.jsx(Du,{product:{id:String(s.product_id),name:s.product_name,price:Number(s.product_price),image:s.product_image,average_rating:Number(s.average_rating??0),description:s.product_description,sport:(c=(l=(i=s.Team)==null?void 0:i.Tournament)==null?void 0:l.Sport)==null?void 0:c.sport_name,is_active:s.is_active},onViewDetails:()=>a(`/product/${s.product_id}`)})},s.product_id)})}),r.jsx("button",{className:"related-swiper-prev absolute left-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Previous",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})})}),r.jsx("button",{className:"related-swiper-next absolute right-[-36px] top-1/2 -translate-y-1/2 z-20 bg-black shadow-lg rounded-full w-12 h-12 flex items-center justify-center text-gray-500 hover:bg-yellow-100 transition",tabIndex:0,"aria-label":"Next",type:"button",children:r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M9 6l6 6-6 6"})})})]})]}):null}const cr="https://pantherashop.onrender.com",Ma=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),Ks=[{name:"en",hex:"#222"},{name:"Trng",hex:"#fff"},{name:"",hex:"#dc2626"}];function Lw(){const[e,t]=E.useState([]);return E.useEffect(()=>{async function n(){try{const s=await(await fetch(`${cr}/products/top?limit=4`)).json();t(s.products||[])}catch{t([])}}n()},[]),e.length?r.jsxs("div",{className:"mt-16",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Sn phm ni bt"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:e.map(n=>r.jsxs("div",{className:"bg-white shadow hover:shadow-lg transition p-4 flex flex-col items-center cursor-pointer",onClick:()=>window.location.href=`/product/${n.product_id}`,children:[r.jsx("img",{src:n.product_image,alt:n.product_name,className:"w-24 h-24 object-contain mb-3"}),r.jsx("div",{className:"font-semibold text-gray-900 text-center",children:n.product_name}),r.jsx("div",{className:"text-black font-bold mt-1",children:Ma(n.product_price)})]},n.product_id))})]}):null}function Iw(){var M,I,V;const{id:e}=Su(),[t,n]=E.useState(null),[a,s]=E.useState(""),[i,l]=E.useState(0),[c,o]=E.useState(0),[d,f]=E.useState(""),[m,u]=E.useState([]),[h,x]=E.useState([]),[y,b]=E.useState(0),[p,g]=E.useState([]),w=xe(),{refresh:v}=Mu(),{refresh:j}=Ru();if(E.useEffect(()=>{f("")},[a,i]),E.useEffect(()=>{async function F(){try{const D=await(await fetch(`${cr}/products/${e}`)).json();n(D.product||D)}catch{n(null)}}F()},[e]),E.useEffect(()=>{async function F(){if(e)try{const D=await(await fetch(`${cr}/variants/product/${e}`)).json();g(D.variants||[])}catch{g([])}}F()},[e]),E.useEffect(()=>{const F=localStorage.getItem("token");if(F)try{const D=JSON.parse(atob(F.split(".")[1])).user_id;fetch(`${cr}/wishlist/wishlist-items/${D}`,{headers:{Authorization:`Bearer ${F}`}}).then(R=>R.json()).then(R=>{const U=Array.isArray(R.items)?R.items.map(G=>G.variant_id):[];u(U)})}catch{}},[e]),E.useEffect(()=>{async function F(){const D=await(await fetch(`${cr}/review/product/${t.product_id}`)).json();x(D.reviews||[]),b(D.average_rating||0)}t!=null&&t.product_id&&F()},[t==null?void 0:t.product_id]),!t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("span",{children:"ang ti sn phm..."})});const k=(((M=t.Category)==null?void 0:M.category_name)||t.category||"").toLowerCase(),S=k.includes("o")||k.includes("qun o"),T=k.includes("giy"),O=k.includes("bng"),C=k.includes("ph kin")||k.includes("dng c"),N=(()=>{if(S)return p.find(F=>F.variant_size===a);if(T)return p.find(F=>{var H;return F.variant_size===a&&((H=F.variant_color)==null?void 0:H.toLowerCase())===Ks[i].name.toLowerCase()});if(C)return p.find(F=>{var H;return((H=F.variant_color)==null?void 0:H.toLowerCase())===Ks[i].name.toLowerCase()});if(O)return p[0]})(),_=N&&m.includes(N.variant_id),P=async()=>{const F=localStorage.getItem("token"),H=!!F;let D=N;if(O&&p.length>0&&(D=p[0]),S&&!a){f("Vui lng chn kch c!");return}if(T&&(!a||!Ks[i])){f("Vui lng chn kch c v mu!");return}if(C&&!Ks[i]){f("Vui lng chn mu!");return}if(!D){f("Khng tm thy phin bn sn phm ph hp!");return}if(H)try{if(!(await fetch(`${cr}/cart/add`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({variant_id:D.variant_id,quantity:1})})).ok)throw new Error("Thm vo gi hng tht bi!");Y("Thm sn phm vo gi hng thnh cng!","success"),w("/cart")}catch{f("Thm vo gi hng tht bi!"),Y("Thm vo gi hng tht bi!","error")}else{const R=JSON.parse(localStorage.getItem("cart")||"[]"),U=R.findIndex(G=>G.variant_id===D.variant_id);U!==-1?R[U].quantity+=1:R.push({id:N.variant_id,product_id:t.product_id,variant_id:N.variant_id,quantity:1,name:t.product_name,price:t.product_price,image:t.product_image,size:N.variant_size,color:N.variant_color}),localStorage.setItem("cart",JSON.stringify(R)),j(),Y("Thm sn phm vo gi hng thnh cng!","success"),w("/cart")}},A=async()=>{const F=localStorage.getItem("token");if(!F){Y("Bn cn ng nhp  thm vo yu thch!","error"),w("/login",{state:{from:`/product/${e}`}});return}if(!N){Y("Vui lng chn phn loi!","error");return}try{const D=JSON.parse(atob(F.split(".")[1])).user_id,G=(await(await fetch(`${cr}/wishlist/${D}`,{headers:{Authorization:`Bearer ${F}`}})).json()).wishlist_id,K=await(await fetch(`${cr}/wishlist/add/${G}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({variant_id:N.variant_id,added_at:new Date().toISOString()})})).json();K.success?(Y(" thm vo danh sch yu thch!","success"),v(),fetch(`${cr}/wishlist/wishlist-items/${D}`,{headers:{Authorization:`Bearer ${F}`}}).then(J=>J.json()).then(J=>{const ne=Array.isArray(J.items)?J.items.map(le=>le.variant_id):[];u(ne)})):Y(K.message||" c trong danh sch yu thch!","info")}catch{Y("Thm vo danh sch yu thch tht bi!","error")}},L=O&&p.length>0&&p[0].variant_stock===0;t.is_active===!1||t.is_active;const B=((I=t.Product_Images)==null?void 0:I.map(F=>F.image_url))||[],q={en:"#222",Trng:"#fff",:"#dc2626"},z=Array.from(new Set(p.map(F=>F.variant_size))),$=Array.from(new Set(p.map(F=>F.variant_color)));return r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-5",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsx("div",{className:"space-y-4",children:r.jsx(Cw,{images:B,mainImage:t.product_image})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 uppercase tracking-wider mb-2",children:((V=t.Category)==null?void 0:V.category_name)||t.category}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:t.product_name||t.name}),r.jsx("div",{className:"flex items-center space-x-3",children:t.discountPrice?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-3xl font-bold",children:Ma(t.discountPrice)}),r.jsx("span",{className:"text-xl text-gray-500 line-through",children:Ma(t.price)}),r.jsxs("span",{className:"bg-black text-white text-sm font-semibold px-3 py-1",children:["Tit kim"," ",Ma(t.price-t.discountPrice)]})]}):r.jsx("span",{className:"text-3xl font-bold",children:Ma(t.product_price||t.price)})})]}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.product_description||t.description}),S&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold block mb-3",children:"Chn kch c"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:Array.from(new Set(p.map(F=>F.variant_size))).map(F=>{const H=p.find(R=>R.variant_size===F),D=!H||H.variant_stock===0;return r.jsx("button",{onClick:()=>!D&&s(F),className:`py-3 text-center border-2 font-medium transition-colors ${a===F?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"} ${D?"opacity-50 cursor-not-allowed":""}`,disabled:D,children:F},F)})}),a&&N&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["S lng cn li:"," ",r.jsx("span",{className:"font-semibold",children:N.variant_stock})]})]}),T&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold block mb-3",children:"Chn kch c"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:z.map(F=>{const H=p.find(R=>R.variant_size===F&&R.variant_color===$[i]),D=!H||H.variant_stock===0;return r.jsx("button",{onClick:()=>!D&&s(F),className:`py-3 text-center border-2 font-medium transition-colors ${a===F?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"} ${D?"opacity-50 cursor-not-allowed":""}`,disabled:D,children:F},F)})}),a&&N&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["S lng cn li:"," ",r.jsx("span",{className:"font-semibold",children:N.variant_stock})]})]}),T&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"font-semibold",children:"Chn mu"}),r.jsx("span",{className:"text-sm text-gray-600",children:$[i]})]}),r.jsx("div",{className:"flex space-x-3",children:$.map((F,H)=>{const D=p.find(U=>U.variant_size===a&&U.variant_color===F),R=!D||D.variant_stock===0;return r.jsx("button",{onClick:()=>!R&&l(H),className:`w-12 h-12 border-2 transition-colors ${i===H?"border-black":"border-gray-300"} ${R?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:q[F]||"#eee"},title:F,disabled:R,children:F},F)})})]}),r.jsxs("div",{className:"flex space-x-4",children:[L?r.jsxs("button",{className:"flex-1 bg-gray-400 text-white py-4 font-semibold cursor-not-allowed flex items-center justify-center gap-2",style:{borderRadius:0},disabled:!0,children:[r.jsx(vc,{className:"w-5 h-5"})," ht hng"]}):r.jsxs("button",{className:"flex-1 bg-black text-white py-4 font-semibold hover:bg-gray-900 transition-colors flex items-center justify-center gap-2",style:{borderRadius:0},onClick:P,children:[r.jsx(vc,{className:"w-5 h-5"}),"Thm vo gi hng"]}),r.jsx("button",{className:`w-14 h-14 border-2 ${_?"border-black":"border-gray-300"} flex items-center justify-center hover:border-gray-400 transition-colors`,style:{borderRadius:0},onClick:A,disabled:_,title:_?" c trong danh sch yu thch":"Thm vo danh sch yu thch",children:r.jsx(Iu,{className:"w-5 h-5",color:_?"black":"gray",fill:_?"black":"none"})})]}),d&&r.jsx("div",{className:"text-red-600 text-sm mt-2",children:d}),r.jsx(Pw,{}),r.jsx(Ew,{reviews:h,averageRating:t.average_rating||0})]})]}),r.jsx(Lw,{}),r.jsx(Aw,{productId:t.product_id})]})})}const Mw="https://pantherashop.onrender.com",Rw=["M","L","XL"];function ig({productId:e,currentSize:t,currentColor:n,onClose:a,onUpdate:s}){var T,O;const[i,l]=E.useState(!0),[c,o]=E.useState(null),[d,f]=E.useState([]),[m,u]=E.useState(t||""),[h,x]=E.useState(n||""),[y,b]=E.useState(null);E.useEffect(()=>{l(!0),fetch(`${Mw}/products/${e}`).then(C=>{if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);return C.json()}).then(C=>{const N=C.product?C.product:C;console.log("API DATA:",N),o(N),f(N.Variants||[]),l(!1)}).catch(C=>{console.error("Li khi fetch sn phm:",C),l(!1),o(null)})},[e]);const p=((O=(T=c==null?void 0:c.Category)==null?void 0:T.category_name)==null?void 0:O.toLowerCase())||"";console.log("categoryName:",p);const g=p.includes("o u"),w=p.includes("giy"),v=p.includes("bng"),j=p.includes("ph kin");let k=[],S=[];return j?k=Rw:(g||w)&&(k=[...new Set(d.map(C=>C.variant_size).filter(C=>!!C))]),w&&(S=[...new Set(d.map(C=>C.variant_color).filter(C=>!!C))]),console.log("sizes:",k),console.log("colors:",S),console.log("variants:",d),E.useEffect(()=>{let C;g||j?C=d.find(N=>N.variant_size===m):w?C=d.find(N=>N.variant_size===m&&N.variant_color===h):v&&(C=d[0]),b(C||null)},[m,h,d,g,w,j,v]),i?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-12 text-xl font-semibold",children:"ang ti d liu sn phm..."})}):c?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl flex overflow-hidden relative min-h-[520px]",children:[r.jsx("div",{className:"flex-1 bg-gray-100 flex items-center justify-center p-0 min-h-[520px]",children:r.jsx("img",{src:c.product_image,alt:c.product_name,className:"object-contain w-full h-full",style:{maxHeight:520}})}),r.jsxs("div",{className:"flex-1 p-12 flex flex-col min-w-[400px] relative",children:[r.jsx("button",{className:"absolute top-6 right-6 text-gray-500 hover:text-black text-3xl",onClick:a,"aria-label":"ng",children:r.jsx(be,{})}),r.jsx("h2",{className:"text-2xl font-bold mb-1",children:c.product_name}),r.jsxs("div",{className:"text-gray-700 mb-6 text-lg font-semibold",children:[Number(c.product_price).toLocaleString("vi-VN"),""]}),(g||w||j)&&r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"mb-2 font-semibold text-base",children:"Chn kch c"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:k.map(C=>{let N=!1;return g||j?N=!d.find(_=>_.variant_size===C&&_.variant_stock>0):w&&(N=!d.find(_=>_.variant_size===C&&_.variant_color===h&&_.variant_stock>0)),r.jsx("button",{onClick:()=>u(C),className:`py-3 rounded-md border text-base font-medium transition-colors ${m===C?"border-black bg-black text-white":"border-gray-300 hover:border-black bg-white"} ${N?"opacity-50 cursor-not-allowed":""}`,disabled:N,children:C},C)})})]}),w&&r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"mb-2 font-semibold text-base",children:"Chn mu"}),r.jsx("div",{className:"flex gap-3",children:S.map(C=>{const N=!d.find(_=>_.variant_color===C&&_.variant_size===m&&_.variant_stock>0);return r.jsx("button",{onClick:()=>x(C),className:`px-6 py-3 rounded-md border text-base font-medium transition-colors ${h===C?"border-black bg-black text-white":"border-gray-300 hover:border-black bg-white"} ${N?"opacity-50 cursor-not-allowed":""}`,disabled:N,children:C},C)})})]}),y&&r.jsxs("div",{className:"mb-6 text-gray-600 text-sm",children:["S lng cn li:"," ",r.jsx("span",{className:"font-semibold",children:y.variant_stock})]}),r.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[r.jsx("button",{className:`w-full py-3 rounded-md font-semibold text-lg ${y?"bg-black text-white hover:bg-gray-900":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,disabled:!y,onClick:()=>y&&s(y),children:"Cp nht sn phm"}),r.jsx("button",{className:"w-full py-3 rounded-md border border-black text-black font-semibold hover:bg-gray-100",onClick:a,children:"Hy"})]})]})]})}):r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-12 text-xl font-semibold text-red-600",children:"Khng th ti d liu sn phm. Vui lng th li!"})})}const ir="https://pantherashop.onrender.com",ja=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function Dw({onNavigate:e}){const[t,n]=E.useState([]),[a,s]=E.useState(!1),[i,l]=E.useState(null),[c,o]=E.useState(null),[d,f]=E.useState(null),m=xe(),{setOrderItems:u,setOrderSource:h}=Au(),{refresh:x}=Ru();E.useEffect(()=>{const k=localStorage.getItem("token");if(s(!!k),k){let S="";try{S=JSON.parse(atob(k.split(".")[1])).user_id}catch{s(!1)}S&&fetch(`${ir}/cart/${S}`,{headers:{Authorization:`Bearer ${k}`}}).then(T=>T.json()).then(T=>{if(!T.cart_id){n([]),l(null);return}l(T.cart_id),fetch(`${ir}/cart/items/${T.cart_id}`,{headers:{Authorization:`Bearer ${k}`}}).then(O=>O.json()).then(O=>{const C=Array.isArray(O)?O.map(N=>{var _,P,A,L,B,q,z,$,M;return{id:N.variant_id,product_id:(_=N.Variant)==null?void 0:_.product_id,name:((A=(P=N.Variant)==null?void 0:P.Product)==null?void 0:A.product_name)||"",price:Number((B=(L=N.Variant)==null?void 0:L.Product)==null?void 0:B.product_price)||0,image:((z=(q=N.Variant)==null?void 0:q.Product)==null?void 0:z.product_image)||"",size:(($=N.Variant)==null?void 0:$.variant_size)||"",color:((M=N.Variant)==null?void 0:M.variant_color)||"",quantity:N.quantity}}):[];n(C),x()}).catch(()=>n([]))}).catch(()=>n([]))}else{const S=JSON.parse(localStorage.getItem("cart")||"[]");n(S)}},[]);const y=async(k,S)=>{const T=t.find(C=>C.id===k);if(!T)return;const O=T.quantity+S;if(O<=0){o(k);return}if(a&&i){const C=localStorage.getItem("token");try{if(!(await fetch(`${ir}/cart/update`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({cart_id:i,variant_id:k,quantity:O})})).ok)throw new Error("Cp nht tht bi");const P=await(await fetch(`${ir}/cart/items/${i}`,{headers:{Authorization:`Bearer ${C}`}})).json(),A=Array.isArray(P)?P.map(L=>{var B,q,z,$,M,I,V,F,H;return{id:L.variant_id,product_id:(B=L.Variant)==null?void 0:B.product_id,name:((z=(q=L.Variant)==null?void 0:q.Product)==null?void 0:z.product_name)||"",price:Number((M=($=L.Variant)==null?void 0:$.Product)==null?void 0:M.product_price)||0,image:((V=(I=L.Variant)==null?void 0:I.Product)==null?void 0:V.product_image)||"",size:((F=L.Variant)==null?void 0:F.variant_size)||"",color:((H=L.Variant)==null?void 0:H.variant_color)||"",quantity:L.quantity}}):[];n(A),x()}catch{Y("Cp nht s lng tht bi!","error")}}else n(C=>{const N=C.map(_=>_.id===k?{..._,quantity:O}:_);return localStorage.setItem("cart",JSON.stringify(N)),x(),N})},b=async k=>{if(a&&i){const S=localStorage.getItem("token");try{if(!(await fetch(`${ir}/cart/remove/${i}/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}})).ok)throw new Error("Xa tht bi");const C=await(await fetch(`${ir}/cart/items/${i}`,{headers:{Authorization:`Bearer ${S}`}})).json(),N=Array.isArray(C)?C.map(_=>{var P,A,L,B,q,z,$,M,I;return{id:_.variant_id,product_id:(P=_.Variant)==null?void 0:P.product_id,name:((L=(A=_.Variant)==null?void 0:A.Product)==null?void 0:L.product_name)||"",price:Number((q=(B=_.Variant)==null?void 0:B.Product)==null?void 0:q.product_price)||0,image:(($=(z=_.Variant)==null?void 0:z.Product)==null?void 0:$.product_image)||"",size:((M=_.Variant)==null?void 0:M.variant_size)||"",color:((I=_.Variant)==null?void 0:I.variant_color)||"",quantity:_.quantity}}):[];n(N),Y(" xa sn phm thnh cng!","success"),x()}catch{Y("Xa sn phm tht bi!","error")}}else n(S=>{const T=S.filter(O=>String(O.id)!==String(k));return localStorage.setItem("cart",JSON.stringify(T)),Y(" xa sn phm thnh cng!","success"),x(),T})},p=async k=>{if(d){if(a&&i){const S=localStorage.getItem("token");try{if(!(await fetch(`${ir}/cart/change-variant`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({cart_id:i,old_variant_id:d.id,new_variant_id:k.variant_id,quantity:d.quantity})})).ok)throw new Error("Cp nht tht bi");const C=await(await fetch(`${ir}/cart/items/${i}`,{headers:{Authorization:`Bearer ${S}`}})).json(),N=Array.isArray(C)?C.map(_=>{var P,A,L,B,q,z,$,M,I;return{id:_.variant_id,product_id:(P=_.Variant)==null?void 0:P.product_id,name:((L=(A=_.Variant)==null?void 0:A.Product)==null?void 0:L.product_name)||"",price:Number((q=(B=_.Variant)==null?void 0:B.Product)==null?void 0:q.product_price)||0,image:(($=(z=_.Variant)==null?void 0:z.Product)==null?void 0:$.product_image)||"",size:((M=_.Variant)==null?void 0:M.variant_size)||"",color:((I=_.Variant)==null?void 0:I.variant_color)||"",quantity:_.quantity}}):[];n(N),Y(" cp nht sn phm thnh cng!","success"),x()}catch{Y("Cp nht sn phm tht bi!","error")}}else n(S=>{const T=S.map(O=>O.id===d.id?{...O,id:String(k.variant_id),size:k.variant_size||"",color:k.variant_color||""}:O);return localStorage.setItem("cart",JSON.stringify(T)),x(),T}),Y(" cp nht sn phm thnh cng!","success");f(null)}},g=t.reduce((k,S)=>k+S.price*S.quantity,0),w=g>15e5?0:15e3,v=g+w,j=async()=>{if(a){const k=localStorage.getItem("token"),T=await(await fetch(`${ir}/cart/items/${i}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`}})).json();u(T),h("cart"),m("/order-info")}else{if(JSON.parse(localStorage.getItem("cart")||"[]").length===0)return;m("/order-info")}};return r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Gi hng"}),t.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg mb-6",children:"Gi hng ca bn ang trng"}),r.jsx("button",{onClick:()=>e("products"),className:"bg-black text-white px-8 py-3 font-semibold hover:bg-gray-800 transition-colors",children:"Tip tc mua sm"})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(k=>r.jsxs("div",{className:"flex items-center space-x-4 bg-white border border-gray-200 p-4",children:[r.jsx("img",{src:k.image,alt:k.name,className:"w-24 h-24 object-cover bg-gray-100"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-lg mb-1 truncate",children:k.name}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Kch c: ",k.size," | Mu: ",k.color]}),r.jsx("p",{className:"font-semibold",children:ja(k.price)})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>y(k.id,-1),className:"w-8 h-8 border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:r.jsx(xb,{className:"w-4 h-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:k.quantity}),r.jsx("button",{onClick:()=>y(k.id,1),className:"w-8 h-8 border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:r.jsx(ut,{className:"w-4 h-4"})})]}),r.jsx("button",{onClick:()=>b(k.id),className:"p-2 hover:bg-gray-100 rounded transition-colors",children:r.jsx(It,{className:"w-5 h-5 text-gray-500"})}),r.jsx("button",{className:"ml-2 px-3 py-1 border border-black rounded text-sm hover:bg-gray-100 transition",onClick:()=>f(k),children:"i size/mu"})]},k.id))}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 sticky top-24",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",children:"Tm tt n hng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),r.jsx("span",{className:"font-medium",children:ja(g)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),r.jsx("span",{className:"font-medium",children:w===0?"Min ph":ja(w)})]}),g<15e5&&r.jsxs("div",{className:"text-xs text-gray-600 pt-2 border-t border-gray-300",children:["Mua thm ",ja(15e5-g),"  c min ph vn chuyn"]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold mb-6 pt-4 border-t border-gray-300",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:ja(v)})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("button",{onClick:j,className:"w-full py-3 bg-black text-white font-semibold hover:bg-gray-900 transition",style:{borderRadius:0},children:"Tin hnh t hng"}),r.jsx("button",{onClick:()=>e("products"),className:"w-full border-2 border-black text-black py-4 font-semibold hover:bg-gray-100 transition-colors",children:"Tip tc mua sm"})]})]})})]}),c&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:[r.jsx("div",{className:"bg-white border border-black rounded-lg shadow-lg p-7 w-[340px] animate-fade-in",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-11 h-11 flex items-center justify-center rounded-full bg-gray-100 mb-4",children:r.jsx(It,{className:"w-6 h-6 text-black"})}),r.jsx("h3",{className:"font-bold text-lg mb-2 text-black text-center",children:"Xc nhn xa sn phm?"}),r.jsx("p",{className:"text-gray-700 text-center mb-6",children:"Sn phm s b xa khi gi hng ca bn. Bn chc chn mun tip tc?"}),r.jsxs("div",{className:"flex gap-3 w-full",children:[r.jsx("button",{onClick:()=>o(null),className:"flex-1 py-2 rounded-lg border border-black text-black font-semibold hover:bg-gray-100 transition",children:"Hy"}),r.jsx("button",{onClick:()=>{b(c),o(null)},className:"flex-1 py-2 rounded-lg bg-black text-white font-semibold hover:bg-gray-900 transition",children:"Xa"})]})]})}),r.jsx("style",{children:`
                .animate-fade-in {
                  animation: fadeInModal 0.18s cubic-bezier(.4,0,.2,1);
                }
                @keyframes fadeInModal {
                  from { opacity: 0; transform: translateY(24px);}
                  to { opacity: 1; transform: none;}
                }
              `})]}),d&&r.jsx(ig,{productId:d.product_id,currentSize:d.size,currentColor:d.color,onClose:()=>f(null),onUpdate:k=>{p({...k,variant_size:k.variant_size??"",variant_color:k.variant_color??""})}})]})})}const zw=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function $w({items:e}){return e.reduce((t,n)=>t+Number(n.price)*n.quantity,0),r.jsxs("div",{className:"bg-white border border-gray-200 p-4 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sn phm"}),e.length===0?r.jsx("div",{className:"text-gray-500",children:"Khng c sn phm no trong gi hng."}):r.jsx("div",{className:"divide-y mb-6",children:e.map(t=>r.jsxs("div",{className:"flex items-center py-3 gap-4",children:[r.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 object-cover bg-gray-100 rounded"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold truncate",children:t.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Kch c: ",t.size," | Mu: ",t.color]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["S lng: ",t.quantity]})]}),r.jsx("div",{className:"font-semibold text-base",children:zw(Number(t.price)*t.quantity)})]},t.id))})]})}function Bw({value:e,onChange:t,error:n}){return r.jsxs("div",{className:"bg-white border border-gray-200  shadow p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thng tin ngi nhn"}),n&&r.jsx("div",{className:"text-red-600 mb-3 text-sm",children:n}),r.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["H v tn ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp h v tn",value:e.name,required:!0,onChange:a=>t({...e,name:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["S in thoi ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp s in thoi",value:e.phone,required:!0,onChange:a=>t({...e,phone:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["Email nhn hng ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp email",value:e.email,required:!0,onChange:a=>t({...e,email:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-1 font-medium text-gray-700",children:["a ch nhn hng ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp a ch",value:e.address,required:!0,onChange:a=>t({...e,address:a.target.value})})]}),r.jsxs("div",{className:"flex flex-col md:col-span-2",children:[r.jsx("label",{className:"mb-1 font-medium text-gray-700",children:"Ghi ch (tu chn)"}),r.jsx("textarea",{className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Ghi ch cho n hng (nu c)",value:e.note,onChange:a=>t({...e,note:a.target.value}),rows:2})]})]})]})}const vn=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function Fw({vouchers:e=[],...t}){const{value:n,onChange:a,items:s,onConfirmPayment:i,onTotalChange:l}=t,[c,o]=E.useState(null),d=s.reduce((x,y)=>x+Number(y.price)*y.quantity,0),f=d>=15e5?0:15e3,m=c?Number(c.discount_value):0,u=d-m+f;E.useEffect(()=>{t.onTotalChange&&t.onTotalChange(u)},[u]),E.useEffect(()=>{t.onOrderVoucherChange&&t.onOrderVoucherChange(c)},[c]);const h=x=>{if(!x||x.voucher_status&&x.voucher_status!=="active"||x.min_order_value!==void 0&&d<Number(x.min_order_value)||typeof x.usage_limit=="number"&&(x.used_count??0)>=x.usage_limit)return!1;const y=new Date;return!(x.start_date&&new Date(x.start_date)>y||x.end_date&&new Date(x.end_date)<y)};return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-8 flex flex-col items-center",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tm tt n hng"}),r.jsxs("div",{className:"space-y-3 mb-6 w-full",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),r.jsx("span",{className:"font-medium",children:vn(d)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),r.jsx("span",{className:"font-medium",children:f===0?"Min ph":vn(f)})]}),r.jsxs("div",{className:"mb-2 w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chn voucher gim gi n hng"}),r.jsxs("select",{className:"w-full px-4 py-2 border rounded bg-white text-sm",value:(c==null?void 0:c.voucher_id)??"",onChange:x=>{const y=e.find(b=>String(b.voucher_id)===x.target.value&&b.discount_type==="order");o(y?{...y,voucher_id:String(y.voucher_id)}:null)},children:[r.jsx("option",{value:"",children:"-- Khng chn voucher --"}),e.filter(x=>x.discount_type==="order").map(x=>{const y=h(x),b=typeof x.usage_limit=="number"?x.usage_limit:"";return r.jsxs("option",{value:x.voucher_id,disabled:!y,style:{color:y?"#222":"#bbb",fontSize:"13px",padding:"6px 0"},children:[x.voucher_code,Number(x.discount_value||0)>0?` - ${vn(Number(x.discount_value||0))}`:"",b!==""?` | SL: ${b}`:"",y?"":" (Khng  iu kin)"]},x.voucher_id)})]})]}),m>0&&r.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-semibold mb-1",children:[r.jsx("span",{children:"Gim gi n hng"}),r.jsxs("span",{children:["-",vn(m)]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold pt-4 border-t border-gray-300 mb-6 w-full",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:vn(u)})]}),d<15e5&&r.jsxs("div",{className:"text-xs text-gray-600 pt-2 border-t border-gray-300",children:["Mua thm ",vn(15e5-d),"  c min ph vn chuyn"]})]}),r.jsx("h2",{className:"text-xl font-bold mb-4 w-full",children:"Phng thc thanh ton"}),r.jsxs("div",{className:"flex flex-col gap-4 w-full items-center",children:[r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-2 rounded-lg border transition w-full ${n==="cod"?"border-black bg-gray-50 shadow":"border-gray-200 bg-white"}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:n==="cod",onChange:()=>a("cod"),style:{display:"none"}}),r.jsx(Rp,{className:"w-8 h-8 text-black"}),r.jsx("span",{className:"font-medium",children:"Tin mt"})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-2 rounded-lg border transition w-full ${n==="momo"?"border-black bg-gray-50 shadow":"border-gray-200 bg-white"}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:n==="momo",onChange:()=>a("momo"),style:{display:"none"}}),r.jsx(Pb,{className:"w-8 h-8 text-pink-500"}),r.jsx("span",{className:"font-medium",children:"MOMO"})]}),r.jsxs("label",{className:`flex items-center gap-3 cursor-pointer p-2 rounded-lg border transition w-full ${n==="VnPay"?"border-black bg-gray-50 shadow":"border-gray-200 bg-white"}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:n==="VnPay",onChange:()=>a("VnPay"),style:{display:"none"}}),r.jsx(lb,{className:"w-8 h-8 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"VnPay"})]})]}),n&&r.jsx("button",{className:"mt-8 w-full py-3 bg-black text-white font-semibold rounded hover:bg-gray-900 transition",onClick:i,children:"Xc nhn thanh ton"})]})}var wl={},lg={exports:{}},Vw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qw=Vw,Uw=qw;function og(){}function cg(){}cg.resetWarningCache=og;var Hw=function(){function e(a,s,i,l,c,o){if(o!==Uw){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cg,resetWarningCache:og};return n.PropTypes=n,n};lg.exports=Hw();var ug=lg.exports,dg={L:1,M:0,Q:3,H:2},fg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Gw=fg;function hg(e){this.mode=Gw.MODE_8BIT_BYTE,this.data=e}hg.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var Kw=hg,Ws=dg;function Jt(e,t){this.totalCount=e,this.dataCount=t}Jt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Jt.getRSBlocks=function(e,t){var n=Jt.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=n.length/3,s=new Array,i=0;i<a;i++)for(var l=n[i*3+0],c=n[i*3+1],o=n[i*3+2],d=0;d<l;d++)s.push(new Jt(c,o));return s};Jt.getRsBlockTable=function(e,t){switch(t){case Ws.L:return Jt.RS_BLOCK_TABLE[(e-1)*4+0];case Ws.M:return Jt.RS_BLOCK_TABLE[(e-1)*4+1];case Ws.Q:return Jt.RS_BLOCK_TABLE[(e-1)*4+2];case Ws.H:return Jt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var Ww=Jt;function mg(){this.buffer=new Array,this.length=0}mg.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Qw=mg,Ft={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ft.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Ft.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var He=0;He<8;He++)Ft.EXP_TABLE[He]=1<<He;for(var He=8;He<256;He++)Ft.EXP_TABLE[He]=Ft.EXP_TABLE[He-4]^Ft.EXP_TABLE[He-5]^Ft.EXP_TABLE[He-6]^Ft.EXP_TABLE[He-8];for(var He=0;He<255;He++)Ft.LOG_TABLE[Ft.EXP_TABLE[He]]=He;var pg=Ft,Xr=pg;function pi(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var a=0;a<e.length-n;a++)this.num[a]=e[a+n]}pi.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<e.getLength();a++)t[n+a]^=Xr.gexp(Xr.glog(this.get(n))+Xr.glog(e.get(a)));return new pi(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Xr.glog(this.get(0))-Xr.glog(e.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(var a=0;a<e.getLength();a++)n[a]^=Xr.gexp(Xr.glog(e.get(a))+t);return new pi(n,0).mod(e)}};var gg=pi,wt=fg,jf=gg,Xw=pg,Cr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ve={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G15)>=0;)t^=Ve.G15<<Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G15);return(e<<10|t)^Ve.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G18)>=0;)t^=Ve.G18<<Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ve.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Cr.PATTERN000:return(t+n)%2==0;case Cr.PATTERN001:return t%2==0;case Cr.PATTERN010:return n%3==0;case Cr.PATTERN011:return(t+n)%3==0;case Cr.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Cr.PATTERN101:return t*n%2+t*n%3==0;case Cr.PATTERN110:return(t*n%2+t*n%3)%2==0;case Cr.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new jf([1],0),n=0;n<e;n++)t=t.multiply(new jf([1,Xw.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case wt.MODE_NUMBER:return 10;case wt.MODE_ALPHA_NUM:return 9;case wt.MODE_8BIT_BYTE:return 8;case wt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case wt.MODE_NUMBER:return 12;case wt.MODE_ALPHA_NUM:return 11;case wt.MODE_8BIT_BYTE:return 16;case wt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case wt.MODE_NUMBER:return 14;case wt.MODE_ALPHA_NUM:return 13;case wt.MODE_8BIT_BYTE:return 16;case wt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,a=0;a<t;a++)for(var s=0;s<t;s++){for(var i=0,l=e.isDark(a,s),c=-1;c<=1;c++)if(!(a+c<0||t<=a+c))for(var o=-1;o<=1;o++)s+o<0||t<=s+o||c==0&&o==0||l==e.isDark(a+c,s+o)&&i++;i>5&&(n+=3+i-5)}for(var a=0;a<t-1;a++)for(var s=0;s<t-1;s++){var d=0;e.isDark(a,s)&&d++,e.isDark(a+1,s)&&d++,e.isDark(a,s+1)&&d++,e.isDark(a+1,s+1)&&d++,(d==0||d==4)&&(n+=3)}for(var a=0;a<t;a++)for(var s=0;s<t-6;s++)e.isDark(a,s)&&!e.isDark(a,s+1)&&e.isDark(a,s+2)&&e.isDark(a,s+3)&&e.isDark(a,s+4)&&!e.isDark(a,s+5)&&e.isDark(a,s+6)&&(n+=40);for(var s=0;s<t;s++)for(var a=0;a<t-6;a++)e.isDark(a,s)&&!e.isDark(a+1,s)&&e.isDark(a+2,s)&&e.isDark(a+3,s)&&e.isDark(a+4,s)&&!e.isDark(a+5,s)&&e.isDark(a+6,s)&&(n+=40);for(var f=0,s=0;s<t;s++)for(var a=0;a<t;a++)e.isDark(a,s)&&f++;var m=Math.abs(100*f/t/t-50)/5;return n+=m*10,n}},Yw=Ve,Jw=Kw,xg=Ww,yg=Qw,Qr=Yw,Zw=gg;function er(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var vt=er.prototype;vt.addData=function(e){var t=new Jw(e);this.dataList.push(t),this.dataCache=null};vt.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};vt.getModuleCount=function(){return this.moduleCount};vt.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=xg.getRSBlocks(e,this.errorCorrectLevel),n=new yg,a=0,s=0;s<t.length;s++)a+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var i=this.dataList[s];n.put(i.mode,4),n.put(i.getLength(),Qr.getLengthInBits(i.mode,e)),i.write(n)}if(n.getLengthInBits()<=a*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};vt.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[n][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=er.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};vt.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(0<=n&&n<=6&&(a==0||a==6)||0<=a&&a<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=a&&a<=4?this.modules[e+n][t+a]=!0:this.modules[e+n][t+a]=!1)};vt.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var a=Qr.getLostPoint(this);(n==0||e>a)&&(e=a,t=n)}return t};vt.createMovieClip=function(e,t,n){var a=e.createEmptyMovieClip(t,n),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var l=i*s,c=0;c<this.modules[i].length;c++){var o=c*s,d=this.modules[i][c];d&&(a.beginFill(0,100),a.moveTo(o,l),a.lineTo(o+s,l),a.lineTo(o+s,l+s),a.lineTo(o,l+s),a.endFill())}return a};vt.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};vt.setupPositionAdjustPattern=function(){for(var e=Qr.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var a=e[t],s=e[n];if(this.modules[a][s]==null)for(var i=-2;i<=2;i++)for(var l=-2;l<=2;l++)i==-2||i==2||l==-2||l==2||i==0&&l==0?this.modules[a+i][s+l]=!0:this.modules[a+i][s+l]=!1}};vt.setupTypeNumber=function(e){for(var t=Qr.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var a=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=a}for(var n=0;n<18;n++){var a=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=a}};vt.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,a=Qr.getBCHTypeInfo(n),s=0;s<15;s++){var i=!e&&(a>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(a>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e};vt.mapData=function(e,t){for(var n=-1,a=this.moduleCount-1,s=7,i=0,l=this.moduleCount-1;l>0;l-=2)for(l==6&&l--;;){for(var c=0;c<2;c++)if(this.modules[a][l-c]==null){var o=!1;i<e.length&&(o=(e[i]>>>s&1)==1);var d=Qr.getMask(t,a,l-c);d&&(o=!o),this.modules[a][l-c]=o,s--,s==-1&&(i++,s=7)}if(a+=n,a<0||this.moduleCount<=a){a-=n,n=-n;break}}};er.PAD0=236;er.PAD1=17;er.createData=function(e,t,n){for(var a=xg.getRSBlocks(e,t),s=new yg,i=0;i<n.length;i++){var l=n[i];s.put(l.mode,4),s.put(l.getLength(),Qr.getLengthInBits(l.mode,e)),l.write(s)}for(var c=0,i=0;i<a.length;i++)c+=a[i].dataCount;if(s.getLengthInBits()>c*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+c*8+")");for(s.getLengthInBits()+4<=c*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=c*8||(s.put(er.PAD0,8),s.getLengthInBits()>=c*8));)s.put(er.PAD1,8);return er.createBytes(s,a)};er.createBytes=function(e,t){for(var n=0,a=0,s=0,i=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var o=t[c].dataCount,d=t[c].totalCount-o;a=Math.max(a,o),s=Math.max(s,d),i[c]=new Array(o);for(var f=0;f<i[c].length;f++)i[c][f]=255&e.buffer[f+n];n+=o;var m=Qr.getErrorCorrectPolynomial(d),u=new Zw(i[c],m.getLength()-1),h=u.mod(m);l[c]=new Array(m.getLength()-1);for(var f=0;f<l[c].length;f++){var x=f+h.getLength()-l[c].length;l[c][f]=x>=0?h.get(x):0}}for(var y=0,f=0;f<t.length;f++)y+=t[f].totalCount;for(var b=new Array(y),p=0,f=0;f<a;f++)for(var c=0;c<t.length;c++)f<i[c].length&&(b[p++]=i[c][f]);for(var f=0;f<s;f++)for(var c=0;c<t.length;c++)f<l[c].length&&(b[p++]=l[c][f]);return b};var ej=er,Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});var tj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rj=ug,jt=bg(rj),vg=E,Qs=bg(vg);function bg(e){return e&&e.__esModule?e:{default:e}}function nj(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var aj={bgColor:jt.default.oneOfType([jt.default.object,jt.default.string]).isRequired,bgD:jt.default.string.isRequired,fgColor:jt.default.oneOfType([jt.default.object,jt.default.string]).isRequired,fgD:jt.default.string.isRequired,size:jt.default.number.isRequired,title:jt.default.string,viewBoxSize:jt.default.number.isRequired,xmlns:jt.default.string},qu=(0,vg.forwardRef)(function(e,t){var n=e.bgColor,a=e.bgD,s=e.fgD,i=e.fgColor,l=e.size,c=e.title,o=e.viewBoxSize,d=e.xmlns,f=d===void 0?"http://www.w3.org/2000/svg":d,m=nj(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Qs.default.createElement("svg",tj({},m,{height:l,ref:t,viewBox:"0 0 "+o+" "+o,width:l,xmlns:f}),c?Qs.default.createElement("title",null,c):null,Qs.default.createElement("path",{d:a,fill:n}),Qs.default.createElement("path",{d:s,fill:i}))});qu.displayName="QRCodeSvg";qu.propTypes=aj;Vu.default=qu;Object.defineProperty(wl,"__esModule",{value:!0});wl.QRCode=void 0;var sj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ij=ug,lr=Ns(ij),lj=dg,oj=Ns(lj),cj=ej,uj=Ns(cj),wg=E,dj=Ns(wg),fj=Vu,hj=Ns(fj);function Ns(e){return e&&e.__esModule?e:{default:e}}function mj(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var pj={bgColor:lr.default.oneOfType([lr.default.object,lr.default.string]),fgColor:lr.default.oneOfType([lr.default.object,lr.default.string]),level:lr.default.string,size:lr.default.number,value:lr.default.string.isRequired},jl=(0,wg.forwardRef)(function(e,t){var n=e.bgColor,a=n===void 0?"#FFFFFF":n,s=e.fgColor,i=s===void 0?"#000000":s,l=e.level,c=l===void 0?"L":l,o=e.size,d=o===void 0?256:o,f=e.value,m=mj(e,["bgColor","fgColor","level","size","value"]),u=new uj.default(-1,oj.default[c]);u.addData(f),u.make();var h=u.modules;return dj.default.createElement(hj.default,sj({},m,{bgColor:a,bgD:h.map(function(x,y){return x.map(function(b,p){return b?"":"M "+p+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:h.map(function(x,y){return x.map(function(b,p){return b?"M "+p+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:d,viewBoxSize:h.length}))});wl.QRCode=jl;jl.displayName="QRCode";jl.propTypes=pj;var gj=wl.default=jl;const qe=[];for(let e=0;e<256;++e)qe.push((e+256).toString(16).slice(1));function xj(e,t=0){return(qe[e[t+0]]+qe[e[t+1]]+qe[e[t+2]]+qe[e[t+3]]+"-"+qe[e[t+4]]+qe[e[t+5]]+"-"+qe[e[t+6]]+qe[e[t+7]]+"-"+qe[e[t+8]]+qe[e[t+9]]+"-"+qe[e[t+10]]+qe[e[t+11]]+qe[e[t+12]]+qe[e[t+13]]+qe[e[t+14]]+qe[e[t+15]]).toLowerCase()}let go;const yj=new Uint8Array(16);function vj(){if(!go){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");go=crypto.getRandomValues.bind(crypto)}return go(yj)}const bj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nf={randomUUID:bj};function wj(e,t,n){var s;e=e||{};const a=e.random??((s=e.rng)==null?void 0:s.call(e))??vj();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,xj(a)}function Ki(e,t,n){return Nf.randomUUID&&!e?Nf.randomUUID():wj(e)}const jj="https://pantherashop.onrender.com";function Nj({cartItems:e,recipient:t,amount:n,onBack:a}){const[s,i]=E.useState(null),[l,c]=E.useState(!0),{user:o}=rt(),d=Math.round(n*.05),f=n+d,[m,u]=E.useState(()=>Ki());return E.useEffect(()=>{u(Ki())},[]),E.useEffect(()=>{async function h(){c(!0);try{const y=await(await fetch(`${jj}/payment/momo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:f,orderId:m,orderInfo:`Thanh ton n hng #${m}`})})).json();console.log("MoMo payment response:",y),i(y)}catch{i({message:"Khng th to giao dch MOMO."})}c(!1)}h()},[f,m]),E.useEffect(()=>{const h=setInterval(async()=>{const y=await(await fetch(`/api/order/?orderId=${m}`)).json();y.status==="paid"&&(clearInterval(h),window.location.href="/payment/success"),y.status==="failed"&&(clearInterval(h),window.location.href="/payment/fail")},4e3);return()=>clearInterval(h)},[m]),r.jsx("div",{className:"min-h-screen  flex items-start",children:r.jsx("div",{className:"w-full px-0 py-10 mt-6",children:r.jsxs("div",{className:"w-full max-w-5xl mx-auto bg-white rounded-xl py-10 px-12 shadow-2xl border border-gray-300",children:[r.jsxs("button",{onClick:a,className:"mb-6 flex items-center gap-2 text-black font-semibold hover:underline",children:[r.jsx(gl,{className:"w-5 h-5"}),"Quay v"]}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("img",{src:"https://static.momocdn.net/app/img/payment/logo.png",alt:"MOMO",className:"h-10"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"Np s d trc tip bng MoMo Payment"}),r.jsx("div",{className:"text-gray-500 text-sm",children:"Np Dcoin t ng lin kt vi MoMo, hon thnh tc th. Ph 5%"})]})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 text-lg font-semibold text-gray-700",children:[r.jsxs("div",{children:["S tin:"," ",r.jsxs("span",{className:"text-black",children:[n.toLocaleString(),""]})]}),r.jsxs("div",{children:["Ph giao dch:"," ",r.jsxs("span",{className:"text-black",children:[d.toLocaleString()," (5%)"]})]}),r.jsxs("div",{children:["Tng tin:"," ",r.jsxs("span",{className:"text-black",children:[f.toLocaleString(),""]})]})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"text-base font-semibold mb-2 text-gray-800",children:["Thanh ton n hng"," ",r.jsxs("span",{className:"text-pink-600 font-bold",children:["#",m]})]})}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-10 items-start justify-center",children:[r.jsx("div",{className:"flex flex-col items-center md:w-[320px] w-full",children:r.jsx("div",{className:"p-0 flex items-center justify-center",children:l?r.jsx("div",{className:"text-gray-500 w-[220px] h-[220px] flex items-center justify-center",children:"ang to QR..."}):s!=null&&s.qrCodeUrl?r.jsx(gj,{value:s.qrCodeUrl,size:220}):r.jsx("div",{className:"text-gray-500 w-[220px] h-[220px] flex items-center justify-center",children:(s==null?void 0:s.message)||"Khng th to m QR."})})}),r.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[r.jsx("div",{className:"font-bold text-lg mb-4 text-gray-800",children:"Thc hin theo hng dn sau  thanh ton:"}),r.jsxs("div",{className:"space-y-2 text-base text-gray-700",children:[r.jsxs("div",{children:[r.jsx("b",{children:"Bc 1:"})," M ng dng ",r.jsx("b",{children:"MoMo"}),"  thanh ton"]}),r.jsxs("div",{children:[r.jsx("b",{children:"Bc 2:"})," Chn ",r.jsx("b",{children:'"Thanh Ton"'})," v qut m QR ti hng dn ny"]}),r.jsxs("div",{children:[r.jsx("b",{children:"Bc 3:"})," Hon thnh cc bc thanh ton theo hng dn v i h thng x l trong giy lt"]})]})]})]})]})})})}const _j="https://pantherashop.onrender.com",kj=[{code:"VNPAYQR",name:"VNPAY QR"},{code:"VISA",name:"Th quc t (Visa/MasterCard/JCB)"},{code:"NCB",name:"Ngn hng NCB"},{code:"AGRIBANK",name:"Ngn hng Agribank"},{code:"BIDV",name:"Ngn hng BIDV"},{code:"VIETCOMBANK",name:"Ngn hng Vietcombank"}];function Sj({cartItems:e,recipient:t,amount:n,onBack:a}){const[s,i]=E.useState(null),[l,c]=E.useState(!1),[o,d]=E.useState(""),[f,m]=E.useState(()=>Ki()),u=Math.round(n*.05),h=n+u,x=async()=>{c(!0);try{const b=await(await fetch(`${_j}/payment/vnpay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:h,orderId:f,orderInfo:`Thanh ton n hng #${f}`,bankCode:o})})).json();i(b),b.payUrl&&(window.location.href=b.payUrl)}catch{i({message:"Khng th to giao dch VNPAY."})}c(!1)};return r.jsx("div",{className:"min-h-screen flex items-start",children:r.jsx("div",{className:"w-full px-0 py-10 mt-6",children:r.jsxs("div",{className:"w-full max-w-5xl mx-auto bg-white rounded-xl py-10 px-12 shadow-2xl border border-gray-300",children:[r.jsxs("button",{onClick:a,className:"mb-6 flex items-center gap-2 text-black font-semibold hover:underline",children:[r.jsx(gl,{className:"w-5 h-5"}),"Quay v"]}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("img",{src:"https://pay.vnpay.vn/images/logo_vnpay.png",alt:"VNPAY",className:"h-10"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"Thanh ton qua VNPAY"}),r.jsx("div",{className:"text-gray-500 text-sm",children:"Thanh ton t ng lin kt vi VNPAY, hon thnh tc th. Ph 5%"})]})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 text-lg font-semibold text-gray-700",children:[r.jsxs("div",{children:["S tin:"," ",r.jsxs("span",{className:"text-black",children:[n.toLocaleString(),""]})]}),r.jsxs("div",{children:["Ph giao dch:"," ",r.jsxs("span",{className:"text-black",children:[u.toLocaleString()," (5%)"]})]}),r.jsxs("div",{children:["Tng tin:"," ",r.jsxs("span",{className:"text-black",children:[h.toLocaleString(),""]})]})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"text-base font-semibold mb-2 text-gray-800",children:["Thanh ton n hng"," ",r.jsxs("span",{className:"text-blue-600 font-bold",children:["#",f]})]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Chn ngn hng/th  thanh ton:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:kj.map(y=>r.jsx("button",{type:"button",className:`border rounded px-4 py-2 text-left ${o===y.code?"border-blue-600 bg-blue-50":"border-gray-300 bg-white"} hover:border-blue-400`,onClick:()=>d(y.code),children:y.name},y.code))})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("button",{className:"px-8 py-3 bg-blue-600 text-white rounded font-semibold text-lg hover:bg-blue-700 transition",disabled:!o||l,onClick:x,children:l?"ang chuyn hng...":"Thanh ton"}),(s==null?void 0:s.message)&&r.jsx("div",{className:"mt-6 text-red-600 font-semibold",children:s.message})]}),r.jsx("div",{className:"mt-8 text-gray-600 text-sm text-center",children:'Sau khi nhn "Thanh ton", bn s c chuyn sang cng VNPAY  nhp thng tin th/ngn hng v hon tt giao dch.'})]})})})}function Tj({cartItems:e,recipient:t,amount:n,orderId:a,onBack:s,onConfirm:i}){const c=n+0;return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-200 py-10",children:r.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-2xl shadow-xl border border-gray-200 p-8 md:p-12",children:[r.jsxs("button",{onClick:s,className:"mb-6 flex items-center gap-2 text-blue-600 font-semibold hover:underline",children:[r.jsx(gl,{className:"w-5 h-5"}),"Quay v"]}),r.jsx("div",{className:"text-3xl font-bold mb-4 text-green-700 text-center tracking-wide",children:"Thanh ton khi nhn hng (COD)"}),r.jsx("div",{className:"mb-6 text-center",children:r.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 px-4 py-1 rounded-full font-semibold text-base shadow",children:["M n hng: ",r.jsxs("span",{className:"font-bold",children:["#",a]})]})}),r.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-gray-800 text-lg",children:"Sn phm"}),r.jsx("ul",{className:"space-y-2",children:e.map(o=>r.jsxs("li",{className:"text-gray-700 text-base",children:[r.jsx("span",{className:"font-semibold",children:o.name})," -"," ",o.size,", ",o.color," x ",o.quantity," ",r.jsxs("span",{className:"text-gray-500",children:["(",o.price.toLocaleString(),")"]})]},o.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-gray-800 text-lg",children:"Thng tin ngi nhn"}),r.jsxs("div",{className:"text-gray-700 text-base space-y-1",children:[r.jsxs("div",{children:[r.jsx("b",{children:"H tn:"})," ",t.name]}),r.jsxs("div",{children:[r.jsx("b",{children:"in thoi:"})," ",t.phone]}),r.jsxs("div",{children:[r.jsx("b",{children:"Email:"})," ",t.email]}),r.jsxs("div",{children:[r.jsx("b",{children:"a ch:"})," ",t.address]}),t.note&&r.jsxs("div",{children:[r.jsx("b",{children:"Ghi ch:"})," ",t.note]})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold py-2 border-b border-gray-200",children:[r.jsx("span",{children:"Tng tin"}),r.jsxs("span",{className:"text-green-700 text-2xl font-bold",children:[c.toLocaleString(),""]})]}),r.jsxs("div",{className:"flex justify-between items-center text-base py-2",children:[r.jsx("span",{children:"Ph giao dch"}),r.jsxs("span",{className:"text-gray-700",children:[0 .toLocaleString(),""]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{className:"px-10 py-3 bg-green-600 text-white rounded-lg font-bold text-lg shadow hover:bg-green-700 transition",onClick:i,children:"Xc nhn thanh ton COD"})})]})})}function Cj(){return r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"loader mb-4"}),r.jsx("div",{className:"text-white font-semibold text-lg",children:"ang x l thanh ton..."})]}),r.jsx("style",{children:`
          .loader {
            border: 4px solid #fff;
            border-top: 4px solid #222;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
          }
          @keyframes spin {
            0% { transform: rotate(0deg);}
            100% { transform: rotate(360deg);}
          }
        `})]})}const Na="https://pantherashop.onrender.com";function Ej(){const[e,t]=E.useState([]),[n,a]=E.useState({name:"",phone:"",email:"",address:"",note:""}),[s,i]=E.useState("cod"),[l,c]=E.useState(null),[o,d]=E.useState(""),[f,m]=E.useState(!1),[u,h]=E.useState(()=>Ki()),[x,y]=E.useState([]),[b,p]=E.useState(null),[g,w]=E.useState(null),[v,j]=E.useState(null),[k,S]=E.useState(0),[T,O]=E.useState(!1),{orderItems:C,orderSource:N}=Au(),{user:_}=rt(),P=xe(),L=!!localStorage.getItem("token"),B=_!=null&&_.user_id?_.user_id:null;localStorage.getItem("cartId"),E.useEffect(()=>{if(L){const R=JSON.parse(localStorage.getItem("user")||"{}");if(a(U=>({name:R.user_name||U.name,phone:R.user_phone||U.phone,email:R.user_email||U.email,address:R.user_address||U.address,note:""})),C&&C.length>0){const U=C.map(G=>{var Q,K,J,ne,le,ue,fe,ye,Z;return{id:String(G.variant_id??G.id),product_id:G.product_id??((Q=G.Variant)==null?void 0:Q.product_id),name:G.name??((J=(K=G.Variant)==null?void 0:K.Product)==null?void 0:J.product_name),price:Number(G.price??((le=(ne=G.Variant)==null?void 0:ne.Product)==null?void 0:le.product_price)),size:G.size??((ue=G.Variant)==null?void 0:ue.variant_size),color:G.color??((fe=G.Variant)==null?void 0:fe.variant_color),image:G.image??((Z=(ye=G.Variant)==null?void 0:ye.Product)==null?void 0:Z.product_image),quantity:G.quantity}});t(U)}}else{const R=JSON.parse(localStorage.getItem("cart")||"[]");t(R)}},[L,C]),E.useEffect(()=>{fetch(`${Na}/vouchers`).then(R=>R.json()).then(R=>{Array.isArray(R.data)?y(R.data):y([])})},[]);const q=async()=>{if(H()){O(!0);try{const U=await(await fetch(`${Na}/order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:u,order_date:new Date().toISOString(),order_status:"Ch xc nhn",total_amount:F,order_discount:M,shipping_fee:V,user_id:(_==null?void 0:_.user_id)??B,voucher_id:(g==null?void 0:g.voucher_id)??null,shipping_voucher_id:(v==null?void 0:v.voucher_id)??null,recipient_name:n.name,recipient_phone:n.phone,recipient_email:n.email,recipient_address:n.address,notes:n.note,products:e.map(K=>({variant_id:K.id,quantity:K.quantity,price_at_time:K.price*K.quantity}))})})).json();if(!U.success)throw new Error(U.message);const Q=await(await fetch(`${Na}/payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method:"cod",payment_status:" thanh ton",payment_info:"Thanh ton khi nhn hng",paid_at:null,order_id:u,user_id:(_==null?void 0:_.user_id)??B,voucher_id:null})})).json();if(Q.success===!1)throw new Error(Q.message);if(c("success"),N==="cart")if(L&&B){const K=localStorage.getItem("token"),ne=await(await fetch(`${Na}/cart/${B}`,{headers:{Authorization:`Bearer ${K}`}})).json();console.log("cartData:",ne);const le=ne==null?void 0:ne.cart_id;console.log("cartId ly c  FE:",le),le&&(await fetch(`${Na}/cart/clear/${le}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}}),t([]))}else localStorage.removeItem("cart"),t([])}catch{c("fail")}finally{O(!1)}}},z=e.reduce((R,U)=>R+Number(U.price)*U.quantity,0),$=z>=15e5?0:15e3,M=Number((g==null?void 0:g.discount_value)??0),I=Number((v==null?void 0:v.discount_value)??0),V=Math.max(0,$-I),F=Math.max(0,z+V-M);E.useEffect(()=>{console.log("showPayment:",f)},[f]);const H=()=>!n.name||!n.phone||!n.email||!n.address?(d("Vui lng nhp y  cc trng bt buc."),!1):(d(""),!0),D=new Date;return x.filter(R=>R.voucher_status==="active"&&z>=Number(R.min_order_value)&&(!R.usage_limit||(R.used_count??0)<R.usage_limit)&&(!R.start_date||new Date(R.start_date)<=D)&&(!R.end_date||new Date(R.end_date)>=D)),E.useEffect(()=>{if(l){const R=setTimeout(()=>{c(null),P("/cart")},1500);return()=>clearTimeout(R)}},[l,P]),r.jsxs("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:[r.jsx("div",{className:"max-w-5xl mx-auto px-6",children:f?s==="momo"?r.jsx(Nj,{cartItems:e,recipient:n,amount:k,onBack:()=>m(!1)}):s==="VnPay"?r.jsx(Sj,{cartItems:e,recipient:n,amount:k,onBack:()=>m(!1)}):r.jsx(Tj,{cartItems:e,recipient:n,amount:k,orderId:u,onBack:()=>m(!1),onConfirm:q}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 mb-6 text-black font-semibold hover:underline",children:"Quay v"}),r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Thng tin n hng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-10 gap-8",children:[r.jsxs("div",{className:"md:col-span-6 flex flex-col",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx($w,{items:e}),r.jsx(Bw,{value:n,onChange:a})]}),o&&r.jsx("div",{className:"mt-4 text-red-600 text-sm",children:o})]}),r.jsx("div",{className:"md:col-span-4",children:r.jsx(Fw,{value:s,onChange:R=>{i(R),console.log("Chn phng thc:",R)},items:e,vouchers:x,onConfirmPayment:()=>{H()&&m(!0)},onTotalChange:S,onOrderVoucherChange:w,onShippingVoucherChange:j})})]})]})}),T&&r.jsx(Cj,{}),l&&r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{pointerEvents:"none"},children:[r.jsx("div",{className:"flex flex-col items-center px-8 py-8",style:{background:"rgba(0,0,0,0.7)",borderRadius:0,boxShadow:"none",minWidth:320,animation:"fadeInUp 0.7s cubic-bezier(.4,0,.2,1)",pointerEvents:"auto"},onClick:()=>c(null),children:l==="success"?r.jsxs(r.Fragment,{children:[r.jsx(ab,{className:"text-white",size:80}),r.jsx("div",{className:"mt-4 text-white font-bold text-xl",children:"Thanh ton thnh cng!"})]}):r.jsxs(r.Fragment,{children:[r.jsx(bl,{className:"text-white",size:80}),r.jsx("div",{className:"mt-4 text-white font-bold text-xl",children:"Thanh ton tht bi!"})]})}),r.jsx("style",{children:`
              @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(40px);}
                to { opacity: 1; transform: translateY(0);}
              }
              .animate-fade-in { animation: fadeInUp 0.7s cubic-bezier(.4,0,.2,1);}
            `})]})]})}function Pj(){var y,b;const e=xe(),{blogs:t,loading:n,error:a}=Lu();E.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const[s,i]=E.useState(""),[l,c]=E.useState(""),[o,d]=E.useState("desc"),f=Array.from(new Set(t.map(p=>{var g;return(g=p.Sport)==null?void 0:g.sport_name}).filter(Boolean))),m=Array.from(new Set(t.map(p=>{var g;return(g=p.Tournament)==null?void 0:g.tournament_name}).filter(Boolean)));if(n)return r.jsx("div",{className:"text-center py-20",children:"ang ti..."});if(a)return r.jsx("div",{className:"text-center py-20 text-red-600",children:a});if(!t.length)return r.jsx("div",{className:"text-center py-20",children:"Cha c bi vit no."});const u=t[0],x=t.slice(1).filter(p=>{var g,w;return(!s||((g=p.Sport)==null?void 0:g.sport_name)===s)&&(!l||((w=p.Tournament)==null?void 0:w.tournament_name)===l)}).sort((p,g)=>{const w=new Date(p.created_at).getTime(),v=new Date(g.created_at).getTime();return o==="asc"?w-v:v-w});return r.jsx("div",{className:"pt-24 pb-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Blog Hun Luyn & Hiu Sut"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Gc nhn chuyn gia gip bn nng cao thnh tch th thao"})]}),r.jsx("div",{className:"mb-16",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{className:"order-2 lg:order-1",children:[r.jsx("span",{className:"inline-block bg-black text-white text-xs font-semibold px-3 py-1 mb-4",children:"NI BT"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:u.blog_title}),r.jsx("p",{className:"text-gray-600 text-lg mb-6 leading-relaxed line-clamp-4",children:((y=u.blog_content)==null?void 0:y.slice(0,180))+"..."}),r.jsxs("div",{className:"flex items-center space-x-6 mb-6 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"w-4 h-4"}),r.jsx("span",{children:((b=u.User)==null?void 0:b.user_name)||u.author||"Admin"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fs,{className:"w-4 h-4"}),r.jsx("span",{children:(()=>{const p=new Date(u.created_at),g=p.getUTCDate(),w=p.getUTCMonth()+1,v=p.getUTCFullYear();return`${g}/${w}/${v}`})()})]})]}),r.jsxs("button",{onClick:()=>e(`/blog/${u.blog_id}`),className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-3 font-semibold hover:bg-gray-800 transition-colors",children:[r.jsx("span",{children:"c bi vit"}),r.jsx(St,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"order-1 lg:order-2",children:r.jsx("img",{src:u.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:u.blog_title,className:"w-full h-96 object-cover"})})]})}),r.jsxs("div",{className:"mb-8 flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"B mn:"}),r.jsxs("select",{value:s,onChange:p=>i(p.target.value),className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),f.map(p=>r.jsx("option",{value:p,children:p},p))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Gii u:"}),r.jsxs("select",{value:l,onChange:p=>c(p.target.value),className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),m.map(p=>r.jsx("option",{value:p,children:p},p))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Sp xp:"}),r.jsxs("select",{value:o,onChange:p=>d(p.target.value),className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"desc",children:"Mi nht"}),r.jsx("option",{value:"asc",children:"C nht"})]})]})]}),r.jsx("div",{className:"mb-8",children:r.jsx("h2",{className:"text-2xl font-bold",children:"Bi vit mi nht"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(p=>{var g,w,v;return r.jsxs("article",{className:"group cursor-pointer",onClick:()=>e(`/blog/${p.blog_id}`),children:[r.jsx("div",{className:"bg-gray-100 mb-4 overflow-hidden",children:r.jsx("img",{src:p.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:p.blog_title,className:"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-500"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-600",children:((g=p.Sport)==null?void 0:g.sport_name)||"Blog"}),r.jsx("h3",{className:"text-xl font-bold group-hover:underline leading-snug",children:p.blog_title}),r.jsx("p",{className:"text-gray-600 leading-relaxed line-clamp-3",children:((w=p.blog_content)==null?void 0:w.slice(0,100))+"..."}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 pt-2",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Mt,{className:"w-3 h-3"}),r.jsx("span",{children:((v=p.User)==null?void 0:v.user_name)||p.author||"Admin"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fs,{className:"w-3 h-3"}),r.jsx("span",{children:(()=>{const j=new Date(p.created_at),k=j.getUTCDate(),S=j.getUTCMonth()+1,T=j.getUTCFullYear();return`${k}/${S}/${T}`})()})]})]})]})]},p.blog_id)})})]})})}function Oj(){const e=xe(),{login:t,register:n,user:a}=rt(),[s,i]=E.useState(!0),[l,c]=E.useState(!1),[o,d]=E.useState(!1),[f,m]=E.useState({username:"",email:"",password:"",confirmPassword:""}),[u,h]=E.useState(null),[x,y]=E.useState(!1),b=async p=>{if(p.preventDefault(),h(null),!s&&f.password!==f.confirmPassword){h("Passwords do not match");return}y(!0);try{if(s){await t(f.email,f.password);const g=localStorage.getItem("user");g&&(JSON.parse(g).role_id===0?e("/admin"):e("/"))}else await n(f.username,f.email,f.password),e("/")}catch(g){h(g.message||"Internal error")}finally{y(!1)}};return r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-md mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center mb-1",children:r.jsx("img",{src:"/assets/img/logo/logo_PantheraShop.png",alt:"Logo"})}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:s?"Cho mng tr li":"To ti khon"}),r.jsx("p",{className:"text-gray-600",children:s?"ng nhp  truy cp ti khon ca bn":"Tham gia cng chng ti  bt u hnh trnh th thao"})]}),u&&r.jsx("div",{className:"mb-4 text-red-600 font-medium text-sm",children:u}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[!s&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tn ng nhp"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:f.username,onChange:p=>m({...f,username:p.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"JohnDoe",required:!s})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",value:f.email,onChange:p=>m({...f,email:p.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"email@.com",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mt khu"}),r.jsxs("div",{className:"relative",children:[r.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:l?"text":"password",value:f.password,onChange:p=>m({...f,password:p.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"",required:!0}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?r.jsx(sn,{className:"w-5 h-5"}):r.jsx(Et,{className:"w-5 h-5"})})]})]}),!s&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Xc nhn mt khu"}),r.jsxs("div",{className:"relative",children:[r.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:o?"text":"password",value:f.confirmPassword,onChange:p=>m({...f,confirmPassword:p.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 focus:outline-none focus:border-black",placeholder:"",required:!s}),r.jsx("button",{type:"button",onClick:()=>d(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?r.jsx(sn,{className:"w-5 h-5"}):r.jsx(Et,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",disabled:x,className:"w-full bg-black text-white py-3 font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50",children:x?"ang x l...":s?"ng nhp":"To ti khon"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600",children:[s?"Cha c ti khon? ":" c ti khon? ",r.jsx("button",{onClick:()=>i(!s),className:"text-black font-semibold hover:underline",children:s?"ng k":"ng nhp"})]})})]})})}function Nl(){return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-gray-300 border-t-black rounded-full animate-spin"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"ang ti d liu..."})]})}function Aj(){const{token:e,fetchProfile:t,logout:n,updateProfile:a,updatePassword:s,updateAvatar:i}=rt(),[l,c]=E.useState(null),[o,d]=E.useState(!0),[f,m]=E.useState(!1),[u,h]=E.useState(!1),[x,y]=E.useState({user_name:"",user_email:"",user_phone:"",user_address:""}),[b,p]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,w]=E.useState(!1),[v,j]=E.useState(!1),[k,S]=E.useState(!1),T=E.useRef(null),O=xe();E.useEffect(()=>{if(!e)return;(async()=>{try{const A=await t();c(A)}catch{O("/login")}finally{d(!1)}})()},[e]),E.useEffect(()=>{l&&y({user_name:l.user_name||"",user_email:l.user_email||"",user_phone:l.user_phone||"",user_address:l.user_address||""})},[l]);const C=async P=>{var L;const A=(L=P.target.files)==null?void 0:L[0];if(A)try{const q=`${await i(A)}?t=${Date.now()}`;c(z=>({...z,avatar:q})),Y("Avatar updated!","success"),setTimeout(async()=>{const z=await t();c({...z,avatar:q})},1e3)}catch(B){Y(B.message||"Upload failed!","error")}},N=async P=>{P.preventDefault();try{await a(x),Y("Profile updated successfully!","success"),m(!1);const A=await t();c(A),Y("Profile updated successfully!","success")}catch{Y("Update failed!","error")}},_=async P=>{if(P.preventDefault(),b.newPassword!==b.confirmPassword){Y("Passwords do not match","error");return}if(b.newPassword.length<8){Y("Password must be at least 8 characters","error");return}try{const A=await s(b.currentPassword,b.newPassword);A&&A.success?(Y("Password changed successfully!","success"),p({currentPassword:"",newPassword:"",confirmPassword:""})):Y((A==null?void 0:A.message)||"Change password failed!","error")}catch(A){Y(A.message||"Change password failed!","error")}};return o?r.jsx(Nl,{}):l?r.jsx("div",{className:"min-h-screen pt-24 pb-12",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Thng tin c nhn"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[r.jsxs("div",{className:"relative w-24 h-24 mb-4",children:[r.jsx("img",{src:l.avatar||"/default-avatar.png",alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border border-gray-300"}),r.jsx("button",{className:"absolute bottom-0 right-0 bg-black text-white rounded-full p-2 hover:bg-gray-800",onClick:()=>{var P;return(P=T.current)==null?void 0:P.click()},title:"i nh i din",type:"button",children:r.jsx(Vi,{className:"w-4 h-4"})}),r.jsx("input",{type:"file",accept:"image/*",ref:T,className:"hidden",onChange:C})]}),r.jsx("h2",{className:"text-xl font-bold mb-1",children:l.user_name}),r.jsx("p",{className:"text-sm text-gray-600",children:l.user_email})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsx("button",{onClick:()=>O("/order-history"),className:"w-full text-left px-4 py-3 border border-gray-200 hover:bg-gray-50 transition-colors font-medium",children:"Lch s n hng"}),r.jsx("button",{onClick:()=>h(!0),className:"w-full text-left px-4 py-3 border border-gray-200 hover:bg-gray-50 transition-colors font-medium",children:"i mt khu"}),r.jsx("button",{onClick:()=>{n(),O("/login")},className:"w-full text-left px-4 py-3 border border-gray-200 hover:bg-gray-50 transition-colors font-medium text-red-600",children:"ng xut"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Thng tin c nhn"}),f?r.jsx("button",{onClick:()=>m(!1),className:"text-sm font-medium text-gray-600 hover:underline",children:"Hy"}):r.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 text-sm font-medium hover:underline",children:[r.jsx(Vi,{className:"w-4 h-4"}),r.jsx("span",{children:"Chnh sa"})]})]}),r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(Mt,{className:"w-4 h-4"}),r.jsx("span",{children:"H v tn"})]}),f?r.jsx("input",{type:"text",value:x.user_name,onChange:P=>y({...x,user_name:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black",required:!0}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:l.user_name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:"Email"})]}),f?r.jsx("input",{type:"email",value:x.user_email,onChange:P=>y({...x,user_email:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black",required:!0}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:l.user_email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(js,{className:"w-4 h-4"}),r.jsx("span",{children:"S in thoi"})]}),f?r.jsx("input",{type:"tel",value:x.user_phone,onChange:P=>y({...x,user_phone:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black"}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:l.user_phone||"Cha cp nht"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(ws,{className:"w-4 h-4"}),r.jsx("span",{children:"a ch"})]}),f?r.jsx("textarea",{value:x.user_address,onChange:P=>y({...x,user_address:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black",rows:3}):r.jsx("p",{className:"px-4 py-3 bg-gray-50 border border-gray-200",children:l.user_address||"Cha cp nht"})]}),f&&r.jsxs("button",{type:"submit",className:"w-full bg-black text-white py-3 font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(bb,{className:"w-5 h-5"}),r.jsx("span",{children:"Lu thay i"})]})]})]}),u&&r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"i mt khu"}),r.jsx("button",{onClick:()=>h(!1),className:"text-sm font-medium text-gray-600 hover:underline",children:"Hy"})]}),r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(gr,{className:"w-4 h-4"}),r.jsx("span",{children:"Mt khu hin ti"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Nhp mt khu hin ti",type:g?"text":"password",value:b.currentPassword,onChange:P=>p({...b,currentPassword:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black pr-10",required:!0}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>w(P=>!P),tabIndex:-1,children:g?r.jsx(sn,{className:"w-5 h-5"}):r.jsx(Et,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(gr,{className:"w-4 h-4"}),r.jsx("span",{children:"Mt khu mi"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Nhp mt khu mi",type:v?"text":"password",value:b.newPassword,onChange:P=>p({...b,newPassword:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black pr-10",required:!0,minLength:8}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>j(P=>!P),tabIndex:-1,children:v?r.jsx(sn,{className:"w-5 h-5"}):r.jsx(Et,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ti thiu 8 k t"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium mb-2",children:[r.jsx(gr,{className:"w-4 h-4"}),r.jsx("span",{children:"Xc nhn mt khu mi"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Nhp li mt khu mi",type:k?"text":"password",value:b.confirmPassword,onChange:P=>p({...b,confirmPassword:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:border-black pr-10",required:!0,minLength:8}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>S(P=>!P),tabIndex:-1,children:k?r.jsx(sn,{className:"w-5 h-5"}):r.jsx(Et,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-black text-white py-3 font-semibold hover:bg-gray-800 transition-colors",children:"Cp nht mt khu"})]})]})]})]})]})}):r.jsx("p",{children:"Khng th ti thng tin ngi dng"})}const Lj="https://pantherashop.onrender.com",jg=E.createContext(null),Ij=()=>E.useContext(jg);function Mj({children:e}){const{token:t,isAuthenticated:n}=rt(),[a,s]=E.useState([]),[i,l]=E.useState(!0);return E.useEffect(()=>{async function c(){if(l(!0),!n||!t){s([]),l(!1);return}let o="";try{o=JSON.parse(atob(t.split(".")[1])).user_id}catch{}if(!o){s([]),l(!1);return}const f=await(await fetch(`${Lj}/orders/user/${o}`,{headers:{Authorization:`Bearer ${t}`}})).json();s(f.data||[]),l(!1)}c()},[t,n]),r.jsx(jg.Provider,{value:{orders:a,loading:i},children:e})}function Rj(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}function Dj({item:e}){var n,a,s,i;const t=(n=e.Variant)==null?void 0:n.Product;return r.jsxs("div",{className:"flex items-center mb-4 last:mb-0",children:[r.jsx("img",{src:t==null?void 0:t.product_image,alt:t==null?void 0:t.product_name,className:"w-20 h-20 object-cover rounded mr-6 border"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-lg",children:t==null?void 0:t.product_name}),r.jsxs("div",{className:"text-gray-500 text-sm",children:["Size: ",((a=e.Variant)==null?void 0:a.variant_size)??"-"," | Color:"," ",((s=e.Variant)==null?void 0:s.variant_color)??"-"," | Qty: ",e.quantity]}),r.jsxs("div",{className:"text-xs text-gray-400",children:[(i=t==null?void 0:t.Category)==null?void 0:i.category_name," | ",t==null?void 0:t.product_description]})]}),r.jsx("div",{className:"font-bold text-lg ml-4",children:Rj(e.price_at_time)})]})}const zj="https://pantherashop.onrender.com";function $j({order:e,onClose:t}){var d,f;const[n,a]=E.useState(5),[s,i]=E.useState(""),l=localStorage.getItem("token"),c=(d=rt().user)==null?void 0:d.user_id,o=async()=>{try{for(const m of e.orderProducts||[])await fetch(`${zj}/review`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({order_id:e.order_id,variant_id:m.variant_id,user_id:c,rating:n,comment:s})});a(5),i(""),t(),Y("nh gi thnh cng!","success")}catch{Y("Gi nh gi tht bi!","error")}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white w-full max-w-md rounded shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"nh gi sn phm"}),r.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[r.jsx("div",{className:"font-semibold mb-2",children:"Sn phm trong n hng:"}),r.jsx("ul",{children:(f=e.orderProducts)==null?void 0:f.map((m,u)=>{var h,x,y,b,p,g,w,v,j,k,S;return r.jsxs("li",{className:"flex items-center gap-3 mb-3",children:[r.jsx("img",{src:(x=(h=m.Variant)==null?void 0:h.Product)==null?void 0:x.product_image,alt:(b=(y=m.Variant)==null?void 0:y.Product)==null?void 0:b.product_name,className:"w-14 h-14 object-cover bg-gray-100 border"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold",children:(g=(p=m.Variant)==null?void 0:p.Product)==null?void 0:g.product_name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Loi: ",(j=(v=(w=m.Variant)==null?void 0:w.Product)==null?void 0:v.Category)==null?void 0:j.category_name," | Mu: ",((k=m.Variant)==null?void 0:k.variant_color)??"-"," | Size:"," ",((S=m.Variant)==null?void 0:S.variant_size)??"-"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["S lng: ",m.quantity," | Gi:"," ",Number(m.price_at_time).toLocaleString("vi-VN",{style:"currency",currency:"VND"})]})]})]},u)})})]}),r.jsx("div",{className:"mb-4 flex justify-center",children:[1,2,3,4,5].map(m=>r.jsx("span",{className:`cursor-pointer text-2xl ${m<=n?"text-yellow-400":"text-gray-300"}`,onClick:()=>a(m),children:""},m))}),r.jsx("textarea",{className:"w-full border rounded p-2 mb-4",rows:3,placeholder:"Nhn xt ca bn...",value:s,onChange:m=>i(m.target.value)}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded",onClick:t,children:"Hy"}),r.jsx("button",{className:"px-4 py-2 bg-yellow-500 text-white rounded font-semibold",onClick:o,children:"Gi nh gi"})]})]})})}const Bj="https://pantherashop.onrender.com";function Fj(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}function Vj({order:e}){var p;const{setOrderItems:t,setOrderSource:n}=Au(),a=xe(),{user:s,token:i}=rt(),[l,c]=E.useState(!1),[o,d]=E.useState(5),[f,m]=E.useState(""),[u,h]=E.useState(!1);E.useEffect(()=>{async function g(){if(!e.orderProducts)return;let w=!0;const v=s==null?void 0:s.user_id;for(const j of e.orderProducts)if(!(await(await fetch(`${Bj}/review/check?order_id=${e.order_id}&variant_id=${j.variant_id}&user_id=${v}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:i?`Bearer ${i}`:""}})).json()).exists){w=!1;break}h(w)}e.order_status===" giao"&&g()},[e,s,i]);const x=()=>{if(!e.orderProducts)return;const g=e.orderProducts.map(w=>{var v,j,k,S,T,O,C;return{id:String(w.variant_id),product_id:(v=w.Variant)==null?void 0:v.product_id,name:(k=(j=w.Variant)==null?void 0:j.Product)==null?void 0:k.product_name,price:Number(w.price_at_time)/w.quantity,size:(S=w.Variant)==null?void 0:S.variant_size,color:(T=w.Variant)==null?void 0:T.variant_color,image:(C=(O=w.Variant)==null?void 0:O.Product)==null?void 0:C.product_image,quantity:w.quantity}});t(g),n("buyAgain"),a("/order-info")},y=()=>{a(`/order-detail/${e.order_id}`,{state:{order:e}})},b=()=>c(!0);return r.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between px-6 py-4 bg-gray-50 border-b",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-bold text-xl mr-2",children:e.order_id}),e.order_status==="Delivered"&&r.jsx(xl,{className:"inline-block text-green-600 w-5 h-5 align-middle"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"bg-green-100 text-green-700 px-4 py-1 rounded font-semibold text-sm",children:e.order_status}),r.jsx("span",{className:"text-2xl font-bold",children:Fj(e.total_amount)})]})]}),r.jsxs("div",{className:"px-6 pt-2 pb-4 text-gray-500 text-sm border-b",children:[" t vo ",new Date(e.order_date).toLocaleDateString("vi-VN")]}),r.jsx("div",{className:"px-6 py-4",children:(p=e.orderProducts)==null?void 0:p.map((g,w)=>r.jsx(Dj,{item:g},w))}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 px-6 pb-6",children:[r.jsx("button",{className:"flex-1 border border-black py-3 font-semibold hover:bg-gray-100 transition",onClick:x,children:"Mua li"}),r.jsx("button",{className:"flex-1 border border-gray-300 py-3 font-semibold hover:bg-gray-100 transition",onClick:y,children:"Xem chi tit"}),e.order_status===" giao"&&(u?r.jsx("button",{className:"flex-1 border border-green-500 py-3 font-semibold text-green-700 bg-green-50 cursor-default",disabled:!0,children:" nh gi"}):r.jsx("button",{className:"flex-1 border border-yellow-500 py-3 font-semibold text-yellow-700 hover:bg-yellow-50 transition",onClick:b,children:"nh gi"}))]}),l&&r.jsx($j,{order:e,onClose:()=>c(!1)})]})}const qj=["Tt c","Ch xc nhn","ang vn chuyn"," giao"," hy","ang x l"];function Uj(){const{orders:e,loading:t}=Ij(),n=xe(),[a,s]=E.useState("Tt c"),[i,l]=E.useState(""),[c,o]=E.useState("desc");let d=e;return a!=="Tt c"&&(d=d.filter(f=>f.order_status===a)),i?d=[...d].sort((f,m)=>{const u=Number(f.total_amount),h=Number(m.total_amount);return i==="desc"?h-u:u-h}):c&&(d=[...d].sort((f,m)=>c==="desc"?new Date(m.order_date).getTime()-new Date(f.order_date).getTime():new Date(f.order_date).getTime()-new Date(m.order_date).getTime())),r.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Lch s n hng"}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Trng thi:"}),r.jsx("select",{value:a,onChange:f=>s(f.target.value),className:"border px-2 py-1 rounded",children:qj.map(f=>r.jsx("option",{value:f,children:f},f))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Gi:"}),r.jsxs("select",{value:i,onChange:f=>{l(f.target.value),o("")},className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"-- Chn --"}),r.jsx("option",{value:"desc",children:"Gim dn"}),r.jsx("option",{value:"asc",children:"Tng dn"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold mr-2",children:"Ngy:"}),r.jsxs("select",{value:c,onChange:f=>{o(f.target.value),l("")},className:"border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"-- Chn --"}),r.jsx("option",{value:"desc",children:"Mi nht"}),r.jsx("option",{value:"asc",children:"C nht"})]})]})]}),t?r.jsx("div",{className:"text-center py-16",children:"ang ti..."}):d.length===0?r.jsx("div",{className:"text-center py-16",children:"Khng tm thy n hng no."}):r.jsx("div",{className:"space-y-8",children:d.map(f=>r.jsx(Vj,{order:f},f.order_id))}),r.jsx("button",{className:"mt-8 px-4 py-2 bg-black text-white rounded",onClick:()=>n("/profile"),children:"Quay li trang c nhn"})]})})}function _f(){var l,c;const{blog_id:e}=Su(),t=xe(),{blogs:n,loading:a,error:s}=Lu();if(E.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),a)return r.jsx("div",{className:"text-center py-20",children:"ang ti..."});if(s)return r.jsx("div",{className:"text-center py-20 text-red-600",children:s});const i=n.find(o=>String(o.blog_id)===String(e));return i?r.jsxs("div",{className:"pt-24 pb-12 max-w-3xl mx-auto px-4",children:[r.jsxs("button",{className:"mb-6 flex items-center gap-2 text-black font-semibold hover:underline",onClick:()=>t("/blog"),children:[r.jsx(gl,{className:"w-4 h-4"}),"Quay li Blog"]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:i.blog_title}),r.jsxs("div",{className:"flex items-center space-x-6 mb-6 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"w-4 h-4"}),r.jsx("span",{children:((l=i.User)==null?void 0:l.user_name)||"Admin"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fs,{className:"w-4 h-4"}),r.jsx("span",{children:(()=>{const o=new Date(i.created_at),d=o.getUTCDate(),f=o.getUTCMonth()+1,m=o.getUTCFullYear();return`${d}/${f}/${m}`})()})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"font-semibold",children:(c=i.Sport)==null?void 0:c.sport_name})})]}),r.jsx("img",{src:i.blog_thumbnail||"https://placehold.co/600x400?text=No+Image",alt:i.blog_title,className:"w-full h-80 object-cover mb-8"}),r.jsx("div",{className:"text-lg text-gray-800 leading-relaxed whitespace-pre-line",children:i.blog_content})]}):r.jsx("div",{className:"text-center py-20",children:"Khng tm thy bi vit."})}function Hj(){var C;const{variants:e,loading:t,remove:n,changeVariant:a,refresh:s}=Mu(),{isAuthenticated:i}=rt(),[l,c]=E.useState("desc"),[o,d]=E.useState(""),[f,m]=E.useState(""),[u,h]=E.useState(""),[x,y]=E.useState(!1),[b,p]=E.useState(null),g=xe(),w=ct();E.useEffect(()=>{localStorage.getItem("token")||(Y("Bn cn phi ng nhp  truy cp trang ny","error"),g("/login"))},[g,i]);const v=e.filter(N=>(!o||N.variant_size===o)&&(!f||N.variant_color===f)&&(!u||N.product_name.toLowerCase().includes(u.toLowerCase()))).sort((N,_)=>{const P=new Date(N.added_at).getTime(),A=new Date(_.added_at).getTime();return l==="asc"?P-A:A-P}),j=Array.from(new Set(e.map(N=>N.variant_size).filter(Boolean))),k=Array.from(new Set(e.map(N=>N.variant_color).filter(Boolean)));(C=w.state)!=null&&C.from;const S=N=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(N);function T(N,_){n(N,_)}async function O(N,_,P){const A={variant_id:P.variant_id,variant_size:P.variant_size??void 0,variant_color:P.variant_color??void 0};await a(N,_,A),y(!1),p(null)}return r.jsxs("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Danh sch yu thch"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("aside",{className:"md:col-span-1 bg-white border border-gray-200 rounded-lg p-6 h-fit",children:[r.jsxs("div",{className:"mb-6 flex items-center gap-2 font-bold text-lg",children:[r.jsx(ub,{className:"w-5 h-5"}),"B lc"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Tm kim"}),r.jsx("input",{type:"text",value:u,onChange:N=>h(N.target.value),className:"w-full border px-2 py-1 rounded",placeholder:"Tn sn phm..."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Kch c"}),r.jsxs("select",{value:o,onChange:N=>d(N.target.value),className:"w-full border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),j.map(N=>r.jsx("option",{value:N,children:N},N))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Mu sc"}),r.jsxs("select",{value:f,onChange:N=>m(N.target.value),className:"w-full border px-2 py-1 rounded",children:[r.jsx("option",{value:"",children:"Tt c"}),k.map(N=>r.jsx("option",{value:N,children:N},N))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Sp xp"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:`flex items-center gap-1 px-3 py-1 border rounded ${l==="desc"?"bg-black text-white":"bg-white text-black"}`,onClick:()=>c("desc"),children:[r.jsx(eb,{className:"w-4 h-4"}),"Mi nht"]}),r.jsxs("button",{className:`flex items-center gap-1 px-3 py-1 border rounded ${l==="asc"?"bg-black text-white":"bg-white text-black"}`,onClick:()=>c("asc"),children:[r.jsx(tb,{className:"w-4 h-4"}),"C nht"]})]})]})]}),r.jsx("main",{className:"md:col-span-3",children:t?r.jsx("div",{className:"text-center py-20",children:"ang ti..."}):v.length===0?r.jsx("div",{className:"text-center py-20 text-gray-500",children:"Khng c sn phm yu thch no."}):r.jsx("div",{className:"space-y-6",children:v.map(N=>r.jsxs("div",{className:"flex bg-white rounded-lg shadow hover:shadow-lg transition cursor-pointer overflow-hidden relative",onClick:()=>g(`/product/${N.product_id}`),children:[r.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[r.jsx("img",{src:N.product_image||"https://placehold.co/400x400?text=No+Image",alt:N.product_name,className:"w-full h-full object-cover"}),r.jsx("button",{className:"absolute bottom-2 right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow hover:bg-gray-100",onClick:_=>{_.stopPropagation(),T(N.wishlist_variant_id,N.variant_id)},title:"Xa khi yu thch",children:r.jsx(Iu,{className:"w-5 h-5 text-black",fill:"currentColor"})})]}),r.jsxs("div",{className:"flex-1 p-5 flex flex-col justify-between relative",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:N.sport}),r.jsx("div",{className:"font-bold text-lg mb-1",children:N.product_name}),N.product_rating!==void 0&&r.jsxs("div",{className:"text-yellow-500 text-xs mb-1",children:[" ",N.product_rating]}),r.jsxs("div",{className:"flex gap-4 text-sm mb-2",children:[r.jsxs("span",{children:["Kch c: ",r.jsx("b",{children:N.variant_size})]}),r.jsxs("span",{children:["Mu: ",r.jsx("b",{children:N.variant_color})]})]})]}),r.jsx("div",{className:"font-semibold text-base text-black",children:S(N.product_price??0)}),r.jsxs("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 flex flex-row items-center gap-2",children:[r.jsx("button",{className:"px-4 py-1 border border-black text-black text-base rounded hover:bg-gray-100 font-medium",onClick:_=>{_.stopPropagation(),p(N),y(!0)},children:"i size/mu"}),r.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100 border border-gray-300",onClick:_=>{_.stopPropagation(),T(N.wishlist_variant_id,N.variant_id)},title:"Xa khi yu thch",children:r.jsx(be,{className:"w-5 h-5 text-gray-500"})})]})]})]},N.wishlist_variant_id))})})]})]}),x&&b&&r.jsx(ig,{productId:b.product_id,currentSize:b.variant_size??void 0,currentColor:b.variant_color??void 0,onClose:()=>{y(!1),p(null)},onUpdate:N=>O(b.wishlist_variant_id,b.variant_id,N)})]})}function Xs(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}const _a=[{key:"Pending",label:"Ch xc nhn"},{key:"Processing",label:"ang x l"},{key:"Shipped",label:"ang vn chuyn"},{key:"Delivered",label:" giao"}];function Gj(e){switch(e){case"Ch xc nhn":case"Pending":return 0;case"ang x l":case"Processing":return 1;case"ang vn chuyn":case"Shipped":return 2;case" giao":case"Delivered":return 3;case" hy":case"Cancelled":return-1;default:return 0}}function Kj(){var o,d;const e=ct(),t=xe(),n=(o=e.state)==null?void 0:o.order;if(!n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{children:"Khng tm thy n hng."}),r.jsx("button",{className:"mt-4 px-4 py-2 bg-black text-white",onClick:()=>t(-1),children:"Quay li"})]})});n.payment_method;const a=n.payment_status||(n.order_status===" giao"||n.order_status==="Delivered"?" thanh ton":"Cha thanh ton"),s=Number(n.shipping_fee)??(Number(n.total_amount)<15e5?15e3:0),i=Number(n.tax)??Math.round(Number(n.total_amount)*.04),l=Number(n.total_amount)+(s||0)+(i||0),c=Gj(n.order_status);return r.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Chi tit n hng"})}),r.jsxs("div",{className:"text-gray-500 mb-8",children:["M n hng ",r.jsx("span",{className:"font-semibold",children:n.order_id}),"  "," "," ",n.order_date&&new Date(n.order_date).toLocaleDateString("vi-VN")]}),(d=n.orderProducts)==null?void 0:d.map((f,m)=>{var u,h,x,y,b,p,g,w,v,j,k,S,T,O,C;return r.jsxs("div",{className:"flex flex-col md:flex-row border-b border-gray-200 py-8",children:[r.jsx("div",{className:"md:w-1/3 flex-shrink-0 flex items-center justify-center mb-6 md:mb-0",children:r.jsx("img",{src:(h=(u=f.Variant)==null?void 0:u.Product)==null?void 0:h.product_image,alt:(y=(x=f.Variant)==null?void 0:x.Product)==null?void 0:y.product_name,className:"w-full h-auto md:w-[420px] md:h-[350px] object-cover bg-gray-100",style:{maxWidth:"100%",maxHeight:"520px"}})}),r.jsxs("div",{className:"md:w-2/3 md:pl-10 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-bold text-lg mb-2",children:[(p=(b=f.Variant)==null?void 0:b.Product)==null?void 0:p.product_name,r.jsx("span",{className:"ml-2 text-gray-700 font-semibold",children:Xs(f.price_at_time)})]}),r.jsx("div",{className:"text-gray-600 mb-2",children:(w=(g=f.Variant)==null?void 0:g.Product)==null?void 0:w.product_description}),r.jsxs("div",{className:"text-gray-500 text-sm mb-2",children:["Size: ",((v=f.Variant)==null?void 0:v.variant_size)??"-"," | Mu:"," ",((j=f.Variant)==null?void 0:j.variant_color)??"-"," | SL: ",f.quantity]}),r.jsxs("div",{className:"text-gray-500 text-sm mb-2",children:["Loi: ",(T=(S=(k=f.Variant)==null?void 0:k.Product)==null?void 0:S.Category)==null?void 0:T.category_name]}),r.jsx("div",{className:"flex flex-wrap gap-8 mt-6",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"a ch nhn hng"}),r.jsxs("div",{className:"text-gray-500",children:["Tn ngi nhn: ",n.recipient_name]}),r.jsxs("div",{className:"text-gray-500",children:["S in thoi: ",n.recipient_phone]}),r.jsxs("div",{className:"text-gray-500",children:["a ch: ",n.recipient_address]})]})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:(O=_a[c])!=null&&O.label?`${(C=_a[c])==null?void 0:C.label} vo ngy ${n.order_date&&new Date(n.order_date).toLocaleDateString("vi-VN")}`:" hy"}),r.jsxs("div",{className:"w-full flex flex-col gap-2",children:[r.jsxs("div",{className:"relative w-full h-1.5 bg-gray-200",children:[r.jsx("div",{className:`absolute top-0 left-0 h-1.5 ${c===-1?"bg-red-500":"bg-black"}`,style:{width:c===-1?"0%":`${(c+1)/_a.length*100}%`,borderRadius:"4px",transition:"width 0.3s"}}),r.jsx("div",{className:"absolute top-1/2 left-0 w-full flex justify-between items-center pointer-events-none",style:{transform:"translateY(-50%)"},children:_a.map((N,_)=>r.jsx("div",{className:`w-3 h-3 flex items-center justify-center font-bold text-[10px]
                            ${c===-1?_===0?"bg-red-500 text-white":"bg-gray-300 text-gray-400":_<=c?"bg-black text-white":"bg-gray-300 text-gray-400"}
                          `,style:{borderRadius:"50%",zIndex:2,boxShadow:_===c&&c!==-1?"0 0 0 2px #000":void 0}},N.key))})]}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-black font-medium",children:[_a.map((N,_)=>r.jsx("span",{className:c===-1&&_===0||_===c&&c!==-1?"underline":"",children:N.label},N.key)),c===-1&&r.jsx("span",{className:"text-red-500 font-semibold ml-2",children:" hy"})]})]})]})]})]},m)}),r.jsxs("div",{className:"bg-gray-100 mt-12 mb-10 px-0 py-0",children:[r.jsxs("div",{className:"px-8 pt-8 pb-4",children:[r.jsx("div",{className:"font-bold text-lg mb-4",children:"Thng tin thanh ton"}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"Tn ngi nhn:"})," ",n.recipient_name]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"S in thoi:"})," ",n.recipient_phone]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"a ch:"})," ",n.recipient_address]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"Phng thc thanh ton:"})," ",n.payment_method||n.payment_type||"Tin mt"]}),r.jsxs("div",{className:"mb-2 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"Trng thi thanh ton:"})," ",r.jsx("span",{className:a===" thanh ton"?"text-green-600 font-bold":"text-yellow-600 font-bold",children:a})]})]}),r.jsx("div",{className:"border-t border-gray-300 mx-8"}),r.jsxs("div",{className:"px-8 py-6",children:[r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Tm tnh"}),r.jsx("span",{children:Xs(n.total_amount)})]}),r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Ph vn chuyn"}),r.jsx("span",{children:s===0?"Min ph":Xs(s)})]}),r.jsxs("div",{className:"mt-4 flex justify-between text-black font-bold text-base border-t pt-3",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:Xs(l)})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"px-6 py-3 bg-black text-white font-semibold text-lg",onClick:()=>t(-1),children:"Quay li"})})]})})}const Wj=({onLogout:e,adminName:t="Admin"})=>{const[n,a]=E.useState(!1),s=xe(),i=()=>{e(),s("/login")};return r.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 right-0 left-64 z-10 transition-all duration-300",children:r.jsxs("div",{className:"h-full flex items-center justify-between px-8",children:[r.jsx("div",{className:"flex-1 max-w-xl",children:r.jsxs("div",{className:"relative",children:[r.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim hoc g lnh...",className:"w-full pl-12 pr-4 py-2.5 bg-gray-50 border-0 text-sm focus:outline-none focus:ring-2 focus:ring-black transition-all duration-200"}),r.jsx("kbd",{className:"absolute right-4 top-1/2 -translate-y-1/2 px-2 py-1 bg-gray-200 text-xs text-gray-600 font-mono",children:"K"})]})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{className:"relative p-2 hover:bg-gray-100 transition-colors duration-200",children:[r.jsx(nb,{size:20,className:"text-gray-600"}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),r.jsx("button",{className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-600",children:r.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-3 p-2 hover:bg-gray-100 transition-colors duration-200",children:[r.jsx("div",{className:"w-8 h-8 bg-black text-white flex items-center justify-center font-medium text-sm",children:t.charAt(0).toUpperCase()}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:t})]}),n&&r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 shadow-lg animate-fadeIn",children:r.jsxs("div",{className:"py-2",children:[r.jsxs(ds,{to:"/admin/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",onClick:()=>a(!1),children:[r.jsx(Mt,{size:16}),r.jsx("span",{children:"H s"})]}),r.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200",children:[r.jsx(pb,{size:16}),r.jsx("span",{children:"ng xut"})]})]})})]})]})]})})},Qj=()=>{const e=ct(),[t,n]=E.useState([]),a=[{id:"dashboard",label:"Dashboard",icon:r.jsx(mb,{size:20}),path:"/admin"},{id:"users",label:"Qun l ngi dng",icon:r.jsx(Fp,{size:20}),path:"/admin/users"},{id:"suppliers",label:"Qun l nh cung cp",icon:r.jsx(ff,{size:20}),path:"/admin/suppliers"},{id:"products",label:"Qun l sn phm",icon:r.jsx(xr,{size:20}),subItems:[{label:"Danh sch sn phm",path:"/admin/products"},{label:"Th vin nh",path:"/admin/product-images"},{label:"Danh mc",path:"/admin/categories"}]},{id:"orders",label:"Qun l n hng",icon:r.jsx($p,{size:20}),path:"/admin/orders"},{id:"inventory",label:"Qun l kho",icon:r.jsx(ff,{size:20}),subItems:[{label:"Tn kho",path:"/admin/inventory"},{label:"Cnh bo",path:"/admin/inventory/alerts"}]},{id:"vouchers",label:"Qun l voucher",icon:r.jsx(Nb,{size:20}),path:"/admin/vouchers"},{id:"reports",label:"Bo co",icon:r.jsx(rb,{size:20}),subItems:[{label:"Doanh thu",path:"/admin/reports/revenue"},{label:"Khch hng",path:"/admin/reports/customers"}]},{id:"blogs",label:"Qun l bi vit",icon:r.jsx(zp,{size:20}),path:"/admin/blogs"},{id:"settings",label:"Ci t",icon:r.jsx(yc,{size:20}),path:"/admin/settings"}],s=c=>{n(o=>o.includes(c)?o.filter(d=>d!==c):[...o,c])},i=c=>e.pathname===c,l=c=>c==null?void 0:c.some(o=>e.pathname===o.path);return r.jsxs("aside",{className:"w-64 bg-black text-white h-screen fixed left-0 top-0 overflow-y-auto transition-all duration-300",children:[r.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-800",children:r.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"PANTHERA ADMIN"})}),r.jsx("nav",{className:"py-6",children:a.map(c=>r.jsx("div",{className:"mb-1",children:c.subItems?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>s(c.id),className:`w-full flex items-center justify-between px-6 py-3 text-sm transition-colors duration-200 ${l(c.subItems)?"bg-white text-black":"hover:bg-gray-900"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[c.icon,r.jsx("span",{className:"font-medium",children:c.label})]}),t.includes(c.id)?r.jsx(ra,{size:16}):r.jsx(pn,{size:16})]}),t.includes(c.id)&&r.jsx("div",{className:"bg-gray-950 animate-slideDown",children:c.subItems.map(o=>r.jsx(ds,{to:o.path,className:`block px-14 py-2.5 text-sm transition-colors duration-200 ${i(o.path)?"text-white font-medium":"text-gray-400 hover:text-white"}`,children:o.label},o.path))})]}):r.jsxs(ds,{to:c.path,className:`flex items-center gap-3 px-6 py-3 text-sm transition-all duration-200 ${i(c.path)?"bg-white text-black font-medium":"hover:bg-gray-900"}`,children:[c.icon,r.jsx("span",{children:c.label})]})},c.id))})]})},Ce="https://pantherashop.onrender.com",Nc=()=>localStorage.getItem("token")||"",Ee=()=>{const e=Nc();return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},Re=(e,t)=>{const n=e instanceof Error?e.message:t;Y(n,"error")},Xj={loading:!1,getStats:async()=>({categoriesCount:0,sportsCount:0,tournamentsCount:0,teamsCount:0}),getAllCategories:async()=>[],getCategoryById:async()=>null,createCategory:async()=>({}),updateCategory:async()=>({}),deleteCategory:async()=>!1,getAllSports:async()=>[],createSport:async()=>({}),updateSport:async()=>({}),deleteSport:async()=>!1,getAllTournaments:async()=>[],getTournamentsBySport:async()=>[],createTournament:async()=>({}),updateTournament:async()=>({}),deleteTournament:async()=>!1,getAllTeams:async()=>[],getTeamsByTournament:async()=>[],createTeam:async()=>({}),updateTeam:async()=>({}),deleteTeam:async()=>!1},Ng=E.createContext(Xj),Yj=({children:e})=>{const[t,n]=E.useState(!1),[a,s]=E.useState({categories:null,sports:null,tournaments:null,teams:null,lastFetch:{categories:0,sports:0,tournaments:0,teams:0}}),i=3e4,l=E.useCallback(async()=>{var N,_,P,A;try{const[L,B,q,z]=await Promise.all([fetch(`${Ce}/admin/categories`,{method:"GET",headers:Ee()}),fetch(`${Ce}/admin/sports`,{method:"GET",headers:Ee()}),fetch(`${Ce}/admin/tournaments`,{method:"GET",headers:Ee()}),fetch(`${Ce}/admin/teams`,{method:"GET",headers:Ee()})]),[$,M,I,V]=await Promise.all([L.json(),B.json(),q.json(),z.json()]);return{categoriesCount:((N=$.categories)==null?void 0:N.length)||0,sportsCount:((_=M.sports)==null?void 0:_.length)||0,tournamentsCount:((P=I.tournaments)==null?void 0:P.length)||0,teamsCount:((A=V.teams)==null?void 0:A.length)||0}}catch(L){return Re(L,"Li khi ti thng k"),{categoriesCount:0,sportsCount:0,tournamentsCount:0,teamsCount:0}}},[]),C={loading:t,getStats:l,getAllCategories:async(N=!1)=>{const _=Date.now();if(!N&&a.categories&&_-a.lastFetch.categories<i)return a.categories;n(!0);try{const P=await fetch(`${Ce}/admin/categories`,{method:"GET",headers:Ee()}),A=await P.json();if(!P.ok)throw new Error(A.message||"Failed to fetch categories");const L=A.categories||[];return s(B=>({...B,categories:L,lastFetch:{...B.lastFetch,categories:_}})),L}catch(P){return Re(P,"Li khi ti danh mc"),a.categories||[]}finally{n(!1)}},getCategoryById:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/categories/${N}`,{method:"GET",headers:Ee()}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to fetch category");return P.category}catch(_){return Re(_,"Li khi ti danh mc"),null}finally{n(!1)}},createCategory:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/categories`,{method:"POST",headers:Ee(),body:JSON.stringify(N)}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to create category");return s(A=>({...A,categories:null,lastFetch:{...A.lastFetch,categories:0}})),P.category}catch(_){throw Re(_,"Li khi to danh mc"),_}finally{n(!1)}},updateCategory:async(N,_)=>{n(!0);try{const P=await fetch(`${Ce}/admin/categories/${N}`,{method:"PUT",headers:Ee(),body:JSON.stringify(_)}),A=await P.json();if(!P.ok)throw new Error(A.message||"Failed to update category");return A.category}catch(P){throw Re(P,"Li khi cp nht danh mc"),P}finally{n(!1)}},deleteCategory:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/categories/${N}`,{method:"DELETE",headers:Ee()}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to delete category");return!0}catch(_){throw Re(_,"Li khi xa danh mc"),_}finally{n(!1)}},getAllSports:async(N=!1)=>{const _=Date.now();if(!N&&a.sports&&_-a.lastFetch.sports<i)return a.sports;n(!0);try{const P=await fetch(`${Ce}/admin/sports`,{method:"GET",headers:Ee()}),A=await P.json();if(!P.ok)throw new Error(A.message||"Failed to fetch sports");const L=A.sports||[];return s(B=>({...B,sports:L,lastFetch:{...B.lastFetch,sports:_}})),L}catch(P){return Re(P,"Li khi ti mn th thao"),a.sports||[]}finally{n(!1)}},createSport:async(N,_)=>{n(!0);try{let P,A;if(_){const q=new FormData;N.sport_name&&q.append("sport_name",N.sport_name),N.sport_description&&q.append("sport_description",N.sport_description),N.has_teams!==void 0&&q.append("has_teams",N.has_teams.toString()),N.has_tournaments!==void 0&&q.append("has_tournaments",N.has_tournaments.toString()),q.append("sport_icon",_);const z=Nc();A={...z&&{Authorization:`Bearer ${z}`}},P=q}else A=Ee(),P=JSON.stringify(N);const L=await fetch(`${Ce}/admin/sports`,{method:"POST",headers:A,body:P}),B=await L.json();if(!L.ok)throw new Error(B.message||"Failed to create sport");return s(q=>({...q,sports:null,lastFetch:{...q.lastFetch,sports:0}})),B.sport}catch(P){throw Re(P,"Li khi to mn th thao"),P}finally{n(!1)}},updateSport:async(N,_,P)=>{n(!0);try{let A,L;if(P){const z=new FormData;_.sport_name&&z.append("sport_name",_.sport_name),_.sport_description&&z.append("sport_description",_.sport_description),_.has_teams!==void 0&&z.append("has_teams",_.has_teams.toString()),_.has_tournaments!==void 0&&z.append("has_tournaments",_.has_tournaments.toString()),z.append("sport_icon",P);const $=Nc();L={...$&&{Authorization:`Bearer ${$}`}},A=z}else L=Ee(),A=JSON.stringify(_);const B=await fetch(`${Ce}/admin/sports/${N}`,{method:"PUT",headers:L,body:A}),q=await B.json();if(!B.ok)throw new Error(q.message||"Failed to update sport");return s(z=>({...z,sports:null,lastFetch:{...z.lastFetch,sports:0}})),q.sport}catch(A){throw Re(A,"Li khi cp nht mn th thao"),A}finally{n(!1)}},deleteSport:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/sports/${N}`,{method:"DELETE",headers:Ee()}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to delete sport");return!0}catch(_){throw Re(_,"Li khi xa mn th thao"),_}finally{n(!1)}},getAllTournaments:async()=>{n(!0);try{const N=await fetch(`${Ce}/admin/tournaments`,{method:"GET",headers:Ee()}),_=await N.json();if(!N.ok)throw new Error(_.message||"Failed to fetch tournaments");return _.tournaments||[]}catch(N){return Re(N,"Li khi ti gii u"),[]}finally{n(!1)}},getTournamentsBySport:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/sports/${N}/tournaments`,{method:"GET",headers:Ee()}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to fetch tournaments");return P.tournaments||[]}catch(_){return Re(_,"Li khi ti gii u"),[]}finally{n(!1)}},createTournament:async N=>{n(!0);try{let _,P;if(N.imageFile){const B=new FormData;Object.entries(N).forEach(([q,z])=>{q!=="imageFile"&&z!==void 0&&B.append(q,z.toString())}),B.append("image",N.imageFile),_=B,P={Authorization:`Bearer ${localStorage.getItem("token")}`}}else _=JSON.stringify(N),P=Ee();const A=await fetch(`${Ce}/admin/tournaments`,{method:"POST",headers:P,body:_}),L=await A.json();if(!A.ok)throw new Error(L.message||"Failed to create tournament");return L.tournament}catch(_){throw Re(_,"Li khi to gii u"),_}finally{n(!1)}},updateTournament:async(N,_)=>{n(!0);try{let P,A;if(_.imageFile){const q=new FormData;Object.entries(_).forEach(([z,$])=>{z!=="imageFile"&&$!==void 0&&q.append(z,$.toString())}),q.append("image",_.imageFile),P=q,A={Authorization:`Bearer ${localStorage.getItem("token")}`}}else P=JSON.stringify(_),A=Ee();const L=await fetch(`${Ce}/admin/tournaments/${N}`,{method:"PUT",headers:A,body:P}),B=await L.json();if(!L.ok)throw new Error(B.message||"Failed to update tournament");return B.tournament}catch(P){throw Re(P,"Li khi cp nht gii u"),P}finally{n(!1)}},deleteTournament:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/tournaments/${N}`,{method:"DELETE",headers:Ee()}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to delete tournament");return!0}catch(_){throw Re(_,"Li khi xa gii u"),_}finally{n(!1)}},getAllTeams:async()=>{n(!0);try{const N=await fetch(`${Ce}/admin/teams`,{method:"GET",headers:Ee()}),_=await N.json();if(!N.ok)throw new Error(_.message||"Failed to fetch teams");return _.teams||[]}catch(N){return Re(N,"Li khi ti i"),[]}finally{n(!1)}},getTeamsByTournament:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/tournaments/${N}/teams`,{method:"GET",headers:Ee()}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to fetch teams");return P.teams||[]}catch(_){return Re(_,"Li khi ti i"),[]}finally{n(!1)}},createTeam:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/teams`,{method:"POST",headers:Ee(),body:JSON.stringify(N)}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to create team");return P.team}catch(_){throw Re(_,"Li khi to i"),_}finally{n(!1)}},updateTeam:async(N,_)=>{n(!0);try{const P=await fetch(`${Ce}/admin/teams/${N}`,{method:"PUT",headers:Ee(),body:JSON.stringify(_)}),A=await P.json();if(!P.ok)throw new Error(A.message||"Failed to update team");return A.team}catch(P){throw Re(P,"Li khi cp nht i"),P}finally{n(!1)}},deleteTeam:async N=>{n(!0);try{const _=await fetch(`${Ce}/admin/teams/${N}`,{method:"DELETE",headers:Ee()}),P=await _.json();if(!_.ok)throw new Error(P.message||"Failed to delete team");return!0}catch(_){throw Re(_,"Li khi xa i"),_}finally{n(!1)}}};return r.jsx(Ng.Provider,{value:C,children:e})},Kt=()=>{const e=E.useContext(Ng);if(!e)throw new Error("useCategory must be used within CategoryProvider");return e},Jj=({children:e,onLogout:t,adminName:n})=>r.jsx(Yj,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Qj,{}),r.jsxs("div",{className:"ml-64 transition-all duration-300",children:[r.jsx(Wj,{onLogout:t,adminName:n}),r.jsx("main",{className:"pt-16",children:r.jsx("div",{className:"p-8 animate-fadeIn",children:e})})]})]})}),Zj=({title:e,value:t,icon:n,trend:a})=>r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center group-hover:bg-black transition-colors duration-300",children:r.jsx(n,{size:24,className:"text-gray-600 group-hover:text-white transition-colors duration-300"})}),a&&r.jsxs("span",{className:`text-sm font-medium ${a.isPositive?"text-green-600":"text-red-600"}`,children:[a.isPositive?"":""," ",a.value]})]}),r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:e}),r.jsx("p",{className:"text-3xl font-bold text-black",children:t})]}),e2=()=>{const e=[{title:"Khch hng",value:"3,782",icon:Fp,trend:{value:"11.01%",isPositive:!0}},{title:"n hng",value:"5,359",icon:$p,trend:{value:"9.05%",isPositive:!1}},{title:"Sn phm",value:"1,234",icon:xr,trend:{value:"5.20%",isPositive:!0}},{title:"Doanh thu",value:"45.2 triu",icon:Rp,trend:{value:"12.50%",isPositive:!0}}],t=[{month:"T1",value:200},{month:"T2",value:400},{month:"T3",value:300},{month:"T4",value:350},{month:"T5",value:250},{month:"T6",value:320},{month:"T7",value:380},{month:"T8",value:150},{month:"T9",value:280},{month:"T10",value:420},{month:"T11",value:360},{month:"T12",value:200}],n=Math.max(...t.map(a=>a.value));return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Bng iu khin"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Cho mng tr li Panthera Admin"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(a=>r.jsx(Zj,{...a},a.title))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-lg font-bold text-black",children:"Doanh s theo thng"}),r.jsx("button",{className:"text-gray-400 hover:text-black transition-colors duration-200",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"12",cy:"5",r:"1"}),r.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})]}),r.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:t.map((a,s)=>r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full bg-black hover:bg-gray-700 transition-all duration-300 cursor-pointer relative group",style:{height:`${a.value/n*100}%`},children:r.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:["$",a.value]})}),r.jsx("span",{className:"text-xs text-gray-600 mt-2",children:a.month})]},s))})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-lg font-bold text-black",children:"Mc tiu thng"}),r.jsx("button",{className:"text-gray-400 hover:text-black transition-colors duration-200",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"12",cy:"5",r:"1"}),r.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Mc tiu bn  t cho mi thng"}),r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"relative w-48 h-48",children:[r.jsxs("svg",{className:"transform -rotate-90 w-48 h-48",children:[r.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"#e5e7eb",strokeWidth:"12",fill:"none"}),r.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"#000000",strokeWidth:"12",fill:"none",strokeDasharray:"552.92",strokeDashoffset:"138.23",strokeLinecap:"square",className:"transition-all duration-1000 ease-out"})]}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[r.jsx("span",{className:"text-4xl font-bold text-black",children:"75.55%"}),r.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+10%"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Bn  kim c 3.287.000 hm nay, cao hn so vi thng trc. Hy tip tc pht huy!"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Mc tiu"}),r.jsx("p",{className:"text-lg font-bold text-black",children:"20 triu"}),r.jsx("span",{className:"text-xs text-red-600",children:""})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Doanh thu"}),r.jsx("p",{className:"text-lg font-bold text-black",children:"20 triu"}),r.jsx("span",{className:"text-xs text-green-600",children:""})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Hm nay"}),r.jsx("p",{className:"text-lg font-bold text-black",children:"20 triu"}),r.jsx("span",{className:"text-xs text-green-600",children:""})]})]})]})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-black",children:"Thng k"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Mc tiu bn  t cho mi thng"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-4 py-2 text-sm font-medium text-black bg-white border border-black hover:bg-black hover:text-white transition-all duration-200",children:"Thng"}),r.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-black transition-colors duration-200",children:"Qu"}),r.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-black transition-colors duration-200",children:"Nm"})]})]}),r.jsx("div",{className:"h-64 relative",children:r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 1000 200",children:[[0,50,100,150,200].map(a=>r.jsx("line",{x1:"0",y1:a,x2:"1000",y2:a,stroke:"#e5e7eb",strokeWidth:"1"},a)),r.jsx("path",{d:"M 0 150 Q 100 120 200 130 T 400 110 T 600 90 T 800 70 T 1000 50 L 1000 200 L 0 200 Z",fill:"#000000",fillOpacity:"0.05"}),r.jsx("path",{d:"M 0 150 Q 100 120 200 130 T 400 110 T 600 90 T 800 70 T 1000 50",fill:"none",stroke:"#000000",strokeWidth:"3",className:"animate-drawLine"})]})})]}),r.jsxs("div",{className:"bg-white border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-bold text-black",children:"n hng gn y"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-3",children:"M n"}),r.jsx("th",{className:"px-6 py-3",children:"Khch hng"}),r.jsx("th",{className:"px-6 py-3",children:"Ngy"}),r.jsx("th",{className:"px-6 py-3",children:"S tin"}),r.jsx("th",{className:"px-6 py-3",children:"Trng thi"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:[{id:"#ORD-2024-001",customer:"Nguyn Vn A",date:"2024-10-28",amount:"125.000",status:"Hon thnh",statusType:"completed"},{id:"#ORD-2024-002",customer:"Trn Th B",date:"2024-10-27",amount:"89.500",status:"ang x l",statusType:"processing"},{id:"#ORD-2024-003",customer:"L Vn C",date:"2024-10-27",amount:"245.000",status:"ang giao",statusType:"shipped"}].map(a=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-black",children:a.id}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.customer}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.date}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-black",children:a.amount}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${a.statusType==="completed"?"bg-green-100 text-green-800":a.statusType==="processing"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:a.status})})]},a.id))})]})})]})]})},ka="https://pantherashop.onrender.com",_g=E.createContext(void 0),t2=({children:e})=>{const[t,n]=E.useState(!1),a=async()=>{n(!0);try{const o=localStorage.getItem("token"),d=await fetch(`${ka}/admin/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!d.ok)throw new Error("Failed to fetch users");const f=await d.json();return f.success?f.data:[]}catch(o){throw console.error("Error fetching users:",o),o}finally{n(!1)}},s=async o=>{n(!0);try{const d=localStorage.getItem("token"),f={...o,user_status:o.user_status!==void 0?o.user_status:!0},u=await(await fetch(`${ka}/admin/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(f)})).json();if(!u.success)throw new Error(u.message);return u}catch(d){throw d}finally{n(!1)}},i=async(o,d)=>{try{const f=localStorage.getItem("token"),u=await(await fetch(`${ka}/admin/users/profile/${o}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(d)})).json();if(!u.success)throw new Error(u.message);return u}catch(f){throw f}},l=async(o,d)=>{try{const f=localStorage.getItem("token"),u=await(await fetch(`${ka}/admin/users/status/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({shouldLock:d})})).json();if(!u.success)throw new Error(u.message);return u}catch(f){throw f}},c=async o=>{const d=new FormData;d.append("avatar",o);try{const f=localStorage.getItem("token"),u=await(await fetch(`${ka}/admin/upload-avatar`,{method:"POST",headers:{Authorization:`Bearer ${f}`},body:d})).json();if(!u.success)throw new Error(u.message);return u.avatar_url}catch(f){throw f}};return r.jsx(_g.Provider,{value:{getAllUsers:a,createUser:s,updateUser:i,updateUserStatus:l,uploadAvatar:c,loading:t},children:e})},Uu=()=>{const e=E.useContext(_g);if(!e)throw new Error("useAdmin must be used within AdminProvider");return e},r2=({isOpen:e,onClose:t,onSuccess:n})=>{const[a,s]=E.useState({user_name:"",user_email:"",user_password:"",confirm_password:"",user_phone:"",user_address:"",role_id:2,avatar:""}),[i,l]=E.useState({}),[c,o]=E.useState(!1),[d,f]=E.useState(""),[m,u]=E.useState(null),[h,x]=E.useState(!1),[y,b]=E.useState(!1),p=E.useRef(null),{createUser:g,uploadAvatar:w}=Uu(),v=O=>{var _;const C=(_=O.target.files)==null?void 0:_[0];if(!C)return;if(!C.type.startsWith("image/")){const P="Vui lng chn file nh";l({...i,avatar:P}),Y(P,"error");return}if(C.size>5*1024*1024){const P="File nh khng c vt qu 5MB";l({...i,avatar:P}),Y(P,"error");return}u(C);const N=URL.createObjectURL(C);f(N),i.avatar&&l(P=>({...P,avatar:""})),Y(" chn nh, s upload khi to ti khon","info")},j=()=>{const O={};if(a.user_name.trim()||(O.user_name="Tn ngi dng l bt buc"),a.user_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.user_email)||(O.user_email="Email khng ng nh dng"):O.user_email="Email l bt buc",a.user_password?/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{6,}$/.test(a.user_password)||(O.user_password="Mt khu phi c t nht 6 k t, bao gm ch hoa, ch thng v s"):O.user_password="Mt khu l bt buc",a.confirm_password?a.user_password!==a.confirm_password&&(O.confirm_password="Mt khu xc nhn khng khp"):O.confirm_password="Xc nhn mt khu l bt buc",a.user_phone&&!/^\d{9,11}$/.test(a.user_phone)&&(O.user_phone="S in thoi phi c 9-11 ch s"),l(O),Object.keys(O).length>0){const C=Object.values(O)[0];Y(C,"error")}return Object.keys(O).length===0},k=async O=>{if(O.preventDefault(),!!j()){o(!0),Y("ang to ti khon...","info");try{let C="";if(m){Y("ang upload avatar...","info");try{C=await w(m),Y("Upload avatar thnh cng!","success")}catch(N){throw new Error("Upload avatar tht bi: "+N.message)}}await g({user_name:a.user_name,user_email:a.user_email,user_password:a.user_password,user_phone:a.user_phone||void 0,user_address:a.user_address||void 0,role_id:a.role_id,avatar:C||void 0}),s({user_name:"",user_email:"",user_password:"",confirm_password:"",user_phone:"",user_address:"",role_id:2,avatar:""}),d&&URL.revokeObjectURL(d),f(""),u(null),l({}),x(!1),b(!1),Y(`To ti khon thnh cng cho ${a.user_name}!`,"success"),n(),t()}catch(C){const N=C.message||"C li xy ra khi to ti khon";l({submit:N}),Y(N,"error")}finally{o(!1)}}},S=O=>{const{name:C,value:N}=O.target;s(_=>({..._,[C]:C==="role_id"?parseInt(N):N})),i[C]&&l(_=>({..._,[C]:""}))},T=()=>{a.user_name||a.user_email||a.user_password||a.user_phone||a.user_address||d?confirm("Bn c chc chn mun ng form? D liu cha lu s b mt.")&&(s({user_name:"",user_email:"",user_password:"",confirm_password:"",user_phone:"",user_address:"",role_id:2,avatar:""}),d&&URL.revokeObjectURL(d),f(""),u(null),l({}),x(!1),b(!1),t()):t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-black",children:"To ngi dng mi"}),r.jsx("button",{type:"button",onClick:T,className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx(be,{size:20})})]}),r.jsxs("form",{onSubmit:k,className:"p-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden",children:d?r.jsx("img",{src:d,alt:"Avatar preview",className:"w-full h-full object-cover"}):r.jsx(Mt,{className:"w-8 h-8 text-gray-400"})}),r.jsx("button",{type:"button",onClick:()=>{var O;return(O=p.current)==null?void 0:O.click()},disabled:c,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-black text-white flex items-center justify-center hover:bg-gray-800 disabled:opacity-50 transition-colors duration-200",title:"Chn avatar",children:r.jsx(Fi,{size:14})}),r.jsx("input",{type:"file",ref:p,onChange:v,accept:"image/*",className:"hidden"})]})}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:m?` chn: ${m.name}`:"Avatar (khng bt buc)"}),i.avatar&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.avatar})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ngi dng *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",name:"user_name",value:a.user_name,onChange:S,className:`w-full pl-10 pr-4 py-2.5 border ${i.user_name?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp tn ngi dng"})]}),i.user_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_name})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",name:"user_email",value:a.user_email,onChange:S,className:`w-full pl-10 pr-4 py-2.5 border ${i.user_email?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp email"})]}),i.user_email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_email})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu *"}),r.jsxs("div",{className:"relative",children:[r.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:h?"text":"password",name:"user_password",value:a.user_password,onChange:S,className:`w-full pl-10 pr-12 py-2.5 border ${i.user_password?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp mt khu"}),r.jsx("button",{type:"button",onClick:()=>x(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",title:h?"n mt khu":"Hin mt khu",children:h?r.jsx(sn,{size:18}):r.jsx(Et,{size:18})})]}),i.user_password&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_password})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc nhn mt khu *"}),r.jsxs("div",{className:"relative",children:[r.jsx(nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:y?"text":"password",name:"confirm_password",value:a.confirm_password,onChange:S,className:`w-full pl-10 pr-12 py-2.5 border ${i.confirm_password?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp li mt khu"}),r.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",title:y?"n mt khu":"Hin mt khu",children:y?r.jsx(sn,{size:18}):r.jsx(Et,{size:18})})]}),i.confirm_password&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.confirm_password})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"tel",name:"user_phone",value:a.user_phone,onChange:S,className:`w-full pl-10 pr-4 py-2.5 border ${i.user_phone?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp s in thoi"})]}),i.user_phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.user_phone})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Eb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsxs("select",{name:"role_id",value:a.role_id,onChange:S,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:0,children:"Admin"}),r.jsx("option",{value:1,children:"Nhn vin"}),r.jsx("option",{value:2,children:"Khch hng"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch"}),r.jsxs("div",{className:"relative",children:[r.jsx(ws,{className:"absolute left-3 top-3 text-gray-400",size:18}),r.jsx("textarea",{name:"user_address",value:a.user_address,onChange:S,rows:3,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200 resize-none",placeholder:"Nhp a ch (khng bt buc)"})]})]})]}),i.submit&&r.jsx("div",{className:"bg-red-50 border border-red-200 p-3 mt-4",children:r.jsx("p",{className:"text-red-600 text-sm",children:i.submit})}),r.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:T,disabled:c,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 transition-colors duration-200",children:"Hy"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2.5 bg-black text-white font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:c?"ang to...":"To ti khon"})]})]})]})}):null},n2=({isOpen:e,onClose:t,onSuccess:n,user:a})=>{const[s,i]=E.useState({user_name:"",user_email:"",user_phone:"",user_address:"",role_id:2,avatar:""}),[l,c]=E.useState({}),[o,d]=E.useState(!1),[f,m]=E.useState(""),[u,h]=E.useState(null),x=E.useRef(null),{uploadAvatar:y,updateUser:b}=Uu();E.useEffect(()=>{a&&(i({user_name:a.user_name,user_email:a.user_email,user_phone:a.user_phone||"",user_address:a.user_address||"",role_id:a.user_id,avatar:a.avatar||""}),m(a.avatar||""),h(null))},[a]);const p=k=>{var O;const S=(O=k.target.files)==null?void 0:O[0];if(!S)return;if(!S.type.startsWith("image/")){const C="Vui lng chn file nh";c({...l,avatar:C}),Y(C,"error");return}if(S.size>5*1024*1024){const C="File nh khng c vt qu 5MB";c({...l,avatar:C}),Y(C,"error");return}h(S);const T=URL.createObjectURL(S);m(T),l.avatar&&c(C=>({...C,avatar:""})),Y(" chn nh, s upload khi lu thay i","info")},g=()=>{const k={};if(s.user_name.trim()||(k.user_name="Tn ngi dng l bt buc"),s.user_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.user_email)||(k.user_email="Email khng ng nh dng"):k.user_email="Email l bt buc",s.user_phone&&!/^\d{9,11}$/.test(s.user_phone)&&(k.user_phone="S in thoi phi c 9-11 ch s"),c(k),Object.keys(k).length>0){const S=Object.values(k)[0];Y(S,"error")}return Object.keys(k).length===0},w=async k=>{if(k.preventDefault(),!(!g()||!a)){d(!0),Y("ang cp nht thng tin...","info");try{let S=s.avatar;if(u){Y("ang upload avatar...","info");try{S=await y(u),Y("Upload avatar thnh cng!","success")}catch(T){throw new Error("Upload avatar tht bi: "+T.message)}}await b(a.user_id,{user_name:s.user_name,user_email:s.user_email,user_phone:s.user_phone||null,user_address:s.user_address||null,role_id:s.role_id,avatar:S||null}),Y("Cp nht thng tin thnh cng!","success"),n(),t()}catch(S){const T=S.message||"C li xy ra khi cp nht thng tin";c({submit:T}),Y(T,"error")}finally{d(!1)}}},v=k=>{const{name:S,value:T}=k.target;i(O=>({...O,[S]:S==="role_id"?parseInt(T):T})),l[S]&&c(O=>({...O,[S]:""}))},j=()=>{u&&f&&URL.revokeObjectURL(f),h(null),c({}),t()};return!e||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-black",children:"Chnh sa ngi dng"}),r.jsx("button",{type:"button",onClick:j,className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx(be,{size:20})})]}),r.jsxs("form",{onSubmit:w,className:"p-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden",children:f?r.jsx("img",{src:f,alt:"Avatar preview",className:"w-full h-full object-cover"}):r.jsx(Mt,{className:"w-8 h-8 text-gray-400"})}),r.jsx("button",{type:"button",onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},disabled:o,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-black text-white flex items-center justify-center hover:bg-gray-800 disabled:opacity-50 transition-colors duration-200",title:"Thay i avatar",children:r.jsx(Fi,{size:14})}),r.jsx("input",{type:"file",ref:x,onChange:p,accept:"image/*",className:"hidden"})]})}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:u?` chn: ${u.name}`:"Click vo avatar  thay i"}),l.avatar&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.avatar})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ngi dng *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",name:"user_name",value:s.user_name,onChange:v,className:`w-full pl-10 pr-4 py-2.5 border ${l.user_name?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp tn ngi dng"})]}),l.user_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.user_name})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",name:"user_email",value:s.user_email,onChange:v,className:`w-full pl-10 pr-4 py-2.5 border ${l.user_email?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp email"})]}),l.user_email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.user_email})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"tel",name:"user_phone",value:s.user_phone,onChange:v,className:`w-full pl-10 pr-4 py-2.5 border ${l.user_phone?"border-red-500":"border-gray-300"} focus:outline-none focus:border-black transition-colors duration-200`,placeholder:"Nhp s in thoi"})]}),l.user_phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.user_phone})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr *"}),r.jsxs("div",{className:"relative",children:[r.jsx(nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsxs("select",{name:"role_id",value:s.role_id,onChange:v,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:0,children:"Admin"}),r.jsx("option",{value:1,children:"Nhn vin"}),r.jsx("option",{value:2,children:"Khch hng"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch"}),r.jsxs("div",{className:"relative",children:[r.jsx(ws,{className:"absolute left-3 top-3 text-gray-400",size:18}),r.jsx("textarea",{name:"user_address",value:s.user_address,onChange:v,rows:3,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200 resize-none",placeholder:"Nhp a ch (khng bt buc)"})]})]})]}),l.submit&&r.jsx("div",{className:"bg-red-50 border border-red-200 p-3 mt-4",children:r.jsx("p",{className:"text-red-600 text-sm",children:l.submit})}),r.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:j,disabled:o,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 transition-colors duration-200",children:"Hy"}),r.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2.5 bg-black text-white font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:o?"ang lu...":"Lu thay i"})]})]})]})})},a2=({isOpen:e,onClose:t,user:n})=>{if(!e||!n)return null;const a=l=>{switch(l){case 0:return"Admin";case 1:return"Nhn vin";case 2:return"Khch hng";default:return"Khch hng"}},s=l=>{switch(l){case 0:return"bg-black text-white";case 1:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},i=l=>l?new Date(l).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-black",children:"Chi tit ngi dng"}),r.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:r.jsx(be,{size:20})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6 pb-6 border-b border-gray-200",children:[n.avatar?r.jsx("img",{src:n.avatar,alt:n.user_name,className:"w-24 h-24 object-cover border-2 border-gray-200"}):r.jsx("div",{className:"w-24 h-24 bg-black text-white flex items-center justify-center text-3xl font-bold",children:n.user_name.charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-black mb-2",children:n.user_name}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${s(n.role_id)}`,children:a(n.role_id)}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium flex items-center gap-1 ${n.user_status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.user_status?r.jsxs(r.Fragment,{children:[r.jsx(xl,{size:12}),"Hot ng"]}):r.jsxs(r.Fragment,{children:[r.jsx(bl,{size:12}),"Tm kha"]})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-bold text-black",children:"Thng tin chi tit"}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(Mt,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"ID ngi dng"}),r.jsxs("p",{className:"text-base text-black font-medium",children:["#",n.user_id]})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(na,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Email"}),r.jsx("p",{className:"text-base text-black",children:n.user_email})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(js,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"S in thoi"}),r.jsx("p",{className:"text-base text-black",children:n.user_phone||r.jsx("span",{className:"text-gray-400",children:"Cha cp nht"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(ws,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"a ch"}),r.jsx("p",{className:"text-base text-black",children:n.user_address||r.jsx("span",{className:"text-gray-400",children:"Cha cp nht"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(nr,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Vai tr"}),r.jsx("p",{className:"text-base text-black",children:a(n.role_id)})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50",children:[r.jsx(fs,{size:20,className:"text-gray-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Ngy tham gia"}),r.jsx("p",{className:"text-base text-black",children:i(n.created_at)})]})]})]})]}),r.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 bg-black text-white font-medium hover:bg-gray-800 transition-colors duration-200",children:"ng"})})]})})};function aa({isOpen:e,onClose:t,onConfirm:n,title:a,message:s,confirmText:i="Xc nhn",cancelText:l="Hy",type:c="warning"}){const[o,d]=E.useState(!1);if(!e)return null;const f={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",info:"bg-black hover:bg-gray-800"},m=async h=>{h.preventDefault(),h.stopPropagation(),d(!0);try{await n()}finally{d(!1)}},u=h=>{h.preventDefault(),h.stopPropagation(),o||t()};return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:u}),r.jsxs("div",{className:"relative bg-white shadow-2xl max-w-md w-full mx-4 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-bold text-black",children:a}),r.jsx("button",{type:"button",onClick:u,disabled:o,className:"p-1 hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(be,{size:20,className:"text-gray-600"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:s})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{type:"button",onClick:u,disabled:o,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:l}),r.jsx("button",{type:"button",onClick:m,disabled:o,className:`px-6 py-2.5 text-white font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${f[c]}`,children:o?"ang x l...":i})]})]})]})}const s2=()=>{const[e,t]=E.useState(""),[n,a]=E.useState([]),[s,i]=E.useState(""),[l,c]=E.useState(""),[o,d]=E.useState(1),[f,m]=E.useState(!1),[u,h]=E.useState(!1),[x,y]=E.useState(!1),[b,p]=E.useState(null),[g,w]=E.useState(!1),[v,j]=E.useState({title:"",message:"",onConfirm:async()=>{},type:"warning"}),{getAllUsers:k,updateUserStatus:S,loading:T}=Uu(),O=10,[C,N]=E.useState(null);E.useEffect(()=>{(async()=>{try{const U=(await k()).sort((G,Q)=>G.role_id-Q.role_id);a(U)}catch(R){console.error("Failed to fetch users:",R),Y("Khng th ti danh sch ngi dng","error")}})()},[]);const _=async()=>{try{const R=(await k()).sort((U,G)=>U.role_id-G.role_id);a(R)}catch(D){console.error("Failed to fetch users:",D),Y("Khng th lm mi danh sch ngi dng","error")}},P=(D,R,U,G="warning")=>{j({title:D,message:R,onConfirm:U,type:G}),w(!0)},A=async(D,R)=>{N(D);try{const U=await S(D,R);U.user&&a(G=>G.map(Q=>Q.user_id===D?{...Q,user_status:U.user.user_status}:Q)),Y(U.message||"Cp nht trng thi thnh cng!","success")}catch(U){console.error("Failed to update user status:",U),Y(U.message||"C li xy ra khi cp nht trng thi","error")}finally{N(null)}},L=(D,R,U,G)=>{D.preventDefault(),D.stopPropagation(),P("Xc nhn thay i trng thi",`Bn c chc chn mun ${G?"kha":"m kha"} ti khon "${U}"?`,async()=>await A(R),G?"warning":"info")},B=(D,R,U,G)=>{D.preventDefault(),D.stopPropagation();const Q=G?"kha":"m kha",K=G;P(`${Q==="kha"?"Kha":"M kha"} ti khon`,`Bn c chc chn mun ${Q} ti khon "${U}"?${Q==="kha"?`

Ti khon s khng th ng nhp sau khi b kha.`:""}`,async()=>await A(R,K),G?"danger":"info")},q=D=>{switch(D){case 0:return"Admin";case 1:return"Nhn vin";case 2:return"Khch hng";default:return"Khch hng"}},z=D=>D?{name:"Hot ng",color:"bg-green-100 text-green-800"}:{name:"Tm kha",color:"bg-red-100 text-red-800"},$=n.filter(D=>{const R=D.user_name.toLowerCase().includes(e.toLowerCase())||D.user_email.toLowerCase().includes(e.toLowerCase())||D.user_phone&&D.user_phone.includes(e),U=s===""||D.role_id.toString()===s,G=l===""||D.user_status.toString()===l;return R&&U&&G}),M=Math.ceil($.length/O),I=(o-1)*O,V=I+O,F=$.slice(I,V),H=D=>D?new Date(D).toLocaleDateString("vi-VN"):"N/A";return T?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-lg font-medium",children:"ang ti..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l ngi dng"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l thng tin v quyn hn ngi dng"})]}),r.jsxs("button",{type:"button",onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(ut,{size:20}),r.jsx("span",{className:"font-medium",children:"Thm ngi dng"})]})]}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex-1 relative min-w-80",children:[r.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim theo tn, email hoc s in thoi...",value:e,onChange:D=>{t(D.target.value),d(1)},className:"w-full pl-12 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})]}),r.jsxs("select",{value:s,onChange:D=>{i(D.target.value),d(1)},className:"px-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Tt c vai tr"}),r.jsx("option",{value:"0",children:"Admin"}),r.jsx("option",{value:"1",children:"Nhn vin"}),r.jsx("option",{value:"2",children:"Khch hng"})]}),r.jsxs("select",{value:l,onChange:D=>{c(D.target.value),d(1)},className:"px-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Tt c trng thi"}),r.jsx("option",{value:"true",children:"Hot ng"}),r.jsx("option",{value:"false",children:"Tm kha"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tng ngi dng"}),r.jsx("p",{className:"text-2xl font-bold text-black",children:n.length})]})})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"ang hot ng"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(D=>D.user_status).length})]})})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tm kha"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.filter(D=>!D.user_status).length})]})})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Admin"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(D=>D.role_id===0).length})]})})})]}),$.length===0?r.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-2 text-lg font-medium",children:"Khng tm thy ngi dng"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Th thay i b lc hoc tm kim vi t kha khc"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Ngi dng"}),r.jsx("th",{className:"px-6 py-4",children:"Lin h"}),r.jsx("th",{className:"px-6 py-4",children:"Vai tr"}),r.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),r.jsx("th",{className:"px-6 py-4",children:"Ngy tham gia"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(D=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[D.avatar?r.jsx("img",{src:D.avatar,alt:D.user_name,className:"w-10 h-10 object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-black text-white flex items-center justify-center font-medium",children:D.user_name.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-black",children:D.user_name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["ID: #",D.user_id]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(na,{size:14}),r.jsx("span",{children:D.user_email})]}),D.user_phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(js,{size:14}),r.jsx("span",{children:D.user_phone})]}),D.user_address&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(ws,{size:14}),r.jsx("span",{className:"truncate max-w-xs",children:D.user_address})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${D.role_id===0?"bg-black text-white":D.role_id===1?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:q(D.role_id)})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${z(D.user_status).color}`,children:z(D.user_status).name}),r.jsx("button",{type:"button",onClick:R=>L(R,D.user_id,D.user_name,D.user_status),className:`p-1 hover:bg-gray-100 transition-colors duration-200 ${D.role_id===0?"opacity-50 cursor-not-allowed":""}`,disabled:D.role_id===0||C===D.user_id,title:D.role_id===0?"Khng th thay i trng thi Admin":D.user_status?"Click  kha ti khon":"Click  m kha ti khon",children:C===D.user_id?r.jsx("span",{className:"animate-spin w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full inline-block"}):D.user_status?r.jsx(kb,{className:"w-5 h-5 text-green-600"}):r.jsx(_b,{className:"w-5 h-5 text-gray-400"})})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:H(D.created_at)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{p(D),y(!0)},className:"p-2 hover:bg-blue-50 transition-colors duration-200",title:"Xem chi tit",children:r.jsx(Et,{size:16,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>{p(D),h(!0)},className:"p-2 hover:bg-gray-100 transition-colors duration-200",title:"Chnh sa ngi dng",children:r.jsx(Lt,{size:16,className:"text-gray-600"})}),r.jsx("button",{type:"button",onClick:R=>B(R,D.user_id,D.user_name,D.user_status),className:`p-2 transition-colors duration-200 ${D.role_id===0?"opacity-50 cursor-not-allowed":D.user_status?"hover:bg-red-50":"hover:bg-green-50"}`,disabled:D.role_id===0,title:D.role_id===0?"Khng th thay i trng thi Admin":D.user_status?"Kha ti khon":"M kha ti khon",children:D.user_status?r.jsx(gr,{size:16,className:"text-red-600"}):r.jsx(Cb,{size:16,className:"text-green-600"})})]})})]},D.user_id))})]})}),M>1&&r.jsxs("div",{className:"flex items-center justify-between bg-white p-4 border border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Hin th"," ",r.jsxs("span",{className:"font-medium",children:[I+1,"-",Math.min(V,$.length)]})," ","ca ",r.jsx("span",{className:"font-medium",children:$.length})," ","ngi dng"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>d(o-1),disabled:o===1,className:"px-4 py-2 border border-gray-300 text-sm font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Trc"}),Array.from({length:M},(D,R)=>R+1).map(D=>r.jsx("button",{type:"button",onClick:()=>d(D),className:`px-4 py-2 text-sm font-medium transition-colors duration-200 ${o===D?"bg-black text-white":"border border-gray-300 hover:bg-gray-50"}`,children:D},D)),r.jsx("button",{type:"button",onClick:()=>d(o+1),disabled:o===M,className:"px-4 py-2 border border-gray-300 text-sm font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Sau"})]})]})]}),r.jsx(aa,{isOpen:g,onClose:()=>w(!1),onConfirm:async()=>{await v.onConfirm(),w(!1)},title:v.title,message:v.message,type:v.type,confirmText:"Xc nhn",cancelText:"Hy"}),r.jsx(a2,{isOpen:x,onClose:()=>{y(!1),p(null)},user:b}),r.jsx(n2,{isOpen:u,onClose:()=>{h(!1),p(null)},onSuccess:_,user:b}),r.jsx(r2,{isOpen:f,onClose:()=>m(!1),onSuccess:_})]})},Nt="https://pantherashop.onrender.com",kg=E.createContext(void 0),i2=({children:e})=>{const[t,n]=E.useState(!1),a=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),s=async()=>{n(!0);try{const x=await fetch(`${Nt}/admin/products`,{method:"GET",headers:a()});if(!x.ok)throw new Error("Failed to fetch products");const y=await x.json();return Array.isArray(y)?(console.log(` Loaded ${y.length} products`),y):y.products&&Array.isArray(y.products)?(console.log(` Loaded ${y.products.length} products`),y.products):(console.warn(" Unexpected response format:",y),[])}catch(x){throw console.error("Error fetching products:",x),x}finally{n(!1)}},i=E.useCallback(async x=>{try{const y=localStorage.getItem("token"),b=await fetch(`${Nt}/admin/products/${x}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});if(!b.ok){const g=await b.json();throw new Error(g.message||"Failed to fetch product")}const p=await b.json();return p.success&&p.product?p.product:null}catch(y){throw console.error("Error fetching product by ID:",y),y}},[]),l=async(x,y)=>{n(!0);try{const b=localStorage.getItem("token");let p=x.product_image;if(y){const j=new FormData;j.append("image",y);const k=await fetch(`${Nt}/admin/upload-product-image`,{method:"POST",headers:{Authorization:`Bearer ${b}`},body:j});if(k.ok){const S=await k.json();S.success&&S.imageUrl&&(p=S.imageUrl)}}const g={...x,product_image:p,product_price:typeof x.product_price=="string"?parseFloat(x.product_price):x.product_price,category_id:typeof x.category_id=="string"?parseInt(x.category_id):x.category_id,team_id:x.team_id?typeof x.team_id=="string"?parseInt(x.team_id):x.team_id:void 0},w=await fetch(`${Nt}/admin/products`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(g)});if(!w.ok){const j=await w.json();throw new Error(j.message||"Failed to create product")}const v=await w.json();return console.log(" Product created successfully:",v),v}catch(b){throw console.error("Error creating product:",b),b}finally{n(!1)}},c=async(x,y,b)=>{n(!0);try{const p=localStorage.getItem("token");let g=y.product_image;if(b){const k=new FormData;k.append("image",b);const S=await fetch(`${Nt}/admin/upload-product-image`,{method:"POST",headers:{Authorization:`Bearer ${p}`},body:k});if(S.ok){const T=await S.json();T.success&&T.imageUrl&&(g=T.imageUrl)}}const w={...y,product_image:g,product_price:typeof y.product_price=="string"?parseFloat(y.product_price):y.product_price,category_id:typeof y.category_id=="string"?parseInt(y.category_id):y.category_id,team_id:y.team_id?typeof y.team_id=="string"?parseInt(y.team_id):y.team_id:void 0},v=await fetch(`${Nt}/admin/products/${x}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(w)});if(!v.ok){const k=await v.json();throw new Error(k.message||"Failed to update product")}const j=await v.json();return console.log(" Product updated successfully:",j),j}catch(p){throw console.error("Error updating product:",p),p}finally{n(!1)}},o=async x=>{n(!0);try{const y=localStorage.getItem("token"),b=await fetch(`${Nt}/admin/products/${x}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});if(!b.ok){const p=await b.json();throw new Error(p.message||"Failed to delete product")}return console.log(" Product deleted successfully"),!0}catch(y){throw console.error("Error deleting product:",y),y}finally{n(!1)}},d=async x=>{try{const y=localStorage.getItem("token"),b=await fetch(`${Nt}/admin/variants/${x}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});if(!b.ok)throw new Error("Failed to fetch variants");const p=await b.json();return p.success&&p.variants?(console.log(` Loaded ${p.variants.length} variants for product ${x}`),p.variants):[]}catch(y){throw console.error("Error fetching variants:",y),y}},f=async x=>{try{const y=localStorage.getItem("token"),b=await fetch(`${Nt}/admin/variants`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify(x)});if(!b.ok){const g=await b.json();throw new Error(g.message||"Failed to create variant")}const p=await b.json();return console.log(" Variant created successfully:",p),p}catch(y){throw console.error("Error creating variant:",y),y}},m=async(x,y)=>{try{const b=localStorage.getItem("token"),p=await fetch(`${Nt}/admin/variants/${x}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(y)});if(!p.ok){const w=await p.json();throw new Error(w.message||"Failed to update variant")}const g=await p.json();return console.log(" Variant updated successfully:",g),g}catch(b){throw console.error("Error updating variant:",b),b}},u=async x=>{try{const y=localStorage.getItem("token"),b=await fetch(`${Nt}/admin/variants/${x}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});if(!b.ok){const p=await b.json();throw new Error(p.message||"Failed to delete variant")}return console.log(" Variant deleted successfully"),!0}catch(y){throw console.error("Error deleting variant:",y),y}},h=async(x,y)=>{n(!0);try{const b=localStorage.getItem("token"),p=await fetch(`${Nt}/admin/products/${x}/lock`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({is_active:y})});if(!p.ok){const w=await p.json();throw new Error(w.message||"Failed to update product status")}return await p.json()}catch(b){throw console.error("Error updating product status:",b),b}finally{n(!1)}};return r.jsx(kg.Provider,{value:{getAllProducts:s,getProductById:i,createProduct:l,updateProduct:c,deleteProduct:o,getVariantsByProductId:d,createVariant:f,updateVariant:m,deleteVariant:u,setProductLockStatus:h,loading:t},children:e})},_s=()=>{const e=E.useContext(kg);if(!e)throw new Error("useProduct must be used within ProductProvider");return e},l2=({filters:e,onFilterChange:t,onReset:n,products:a})=>{const[s,i]=E.useState([]),[l,c]=E.useState([]),[o,d]=E.useState([]),[f,m]=E.useState([]),[u,h]=E.useState(!1);E.useEffect(()=>{if(!a||a.length===0)return;const b=new Map,p=new Map;a.forEach(g=>{var w,v;if(g.Category&&p.set(g.Category.category_id,{category_id:g.Category.category_id,category_name:g.Category.category_name}),(v=(w=g.Team)==null?void 0:w.Tournament)!=null&&v.Sport){const j=g.Team.Tournament.Sport;b.set(j.sport_id,{sport_id:j.sport_id,sport_name:j.sport_name})}}),i(Array.from(b.values()).sort((g,w)=>g.sport_name.localeCompare(w.sport_name,"vi"))),m(Array.from(p.values()).sort((g,w)=>g.category_name.localeCompare(w.category_name,"vi")))},[a]),E.useEffect(()=>{if(!e.sport_id||!a){c([]),d([]);return}const b=new Map;a.forEach(p=>{var g,w,v;if(((v=(w=(g=p.Team)==null?void 0:g.Tournament)==null?void 0:w.Sport)==null?void 0:v.sport_id)===e.sport_id){const j=p.Team.Tournament;b.set(j.tournament_id,{tournament_id:j.tournament_id,tournament_name:j.tournament_name,sport_id:j.Sport.sport_id})}}),c(Array.from(b.values()).sort((p,g)=>p.tournament_name.localeCompare(g.tournament_name,"vi")))},[e.sport_id,a]),E.useEffect(()=>{if(!e.tournament_id||!a){d([]);return}const b=new Map;a.forEach(p=>{var g;((g=p.Team)==null?void 0:g.tournament_id)===e.tournament_id&&b.set(p.Team.team_id,{team_id:p.Team.team_id,team_name:p.Team.team_name,tournament_id:p.Team.tournament_id})}),d(Array.from(b.values()).sort((p,g)=>p.team_name.localeCompare(g.team_name,"vi")))},[e.tournament_id,a]);const x=(b,p)=>{const g={...e,[b]:p};b==="sport_id"?(g.tournament_id=null,g.team_id=null):b==="tournament_id"&&(g.team_id=null),t(g)},y=()=>e.sport_id!==null||e.tournament_id!==null||e.team_id!==null||e.category_id!==null||e.status!=="all"||e.sortBy!=="newest";return r.jsxs("div",{className:"bg-white border border-gray-200",children:[r.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-200",children:[r.jsxs("button",{type:"button",onClick:()=>h(!u),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-black transition-colors",children:[r.jsx(wb,{size:18}),r.jsx("span",{children:"B lc & Sp xp"}),y()&&r.jsx("span",{className:"px-2 py-0.5 bg-black text-white text-xs rounded-full",children:Object.values(e).filter(b=>b!==null&&b!=="all"&&b!=="newest").length}),r.jsx(ra,{size:16,className:`transition-transform ${u?"rotate-180":""}`})]}),y()&&r.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-1 text-sm text-gray-600 hover:text-black transition-colors",children:[r.jsx(be,{size:16}),r.jsx("span",{children:"Xa b lc"})]})]}),u&&r.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Mn th thao"}),r.jsxs("select",{value:e.sport_id||"",onChange:b=>x("sport_id",b.target.value?Number(b.target.value):null),className:"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:border-black transition-colors",children:[r.jsx("option",{value:"",children:"Tt c"}),s.map(b=>r.jsx("option",{value:b.sport_id,children:b.sport_name},b.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Gii u"}),r.jsxs("select",{value:e.tournament_id||"",onChange:b=>x("tournament_id",b.target.value?Number(b.target.value):null),className:"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:border-black transition-colors",disabled:!e.sport_id||l.length===0,children:[r.jsx("option",{value:"",children:"Tt c"}),l.map(b=>r.jsx("option",{value:b.tournament_id,children:b.tournament_name},b.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"i/CLB"}),r.jsxs("select",{value:e.team_id||"",onChange:b=>x("team_id",b.target.value?Number(b.target.value):null),className:"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:border-black transition-colors",disabled:!e.tournament_id||o.length===0,children:[r.jsx("option",{value:"",children:"Tt c"}),o.map(b=>r.jsx("option",{value:b.team_id,children:b.team_name},b.team_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Phn loi"}),r.jsxs("select",{value:e.category_id||"",onChange:b=>x("category_id",b.target.value?Number(b.target.value):null),className:"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:border-black transition-colors",children:[r.jsx("option",{value:"",children:"Tt c"}),f.map(b=>r.jsx("option",{value:b.category_id,children:b.category_name},b.category_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Trng thi bn"}),r.jsxs("select",{value:e.status,onChange:b=>x("status",b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:border-black transition-colors",children:[r.jsx("option",{value:"all",children:"Tt c"}),r.jsx("option",{value:"active",children:"ang bn"}),r.jsx("option",{value:"inactive",children:"Ngng bn"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Sp xp"}),r.jsxs("select",{value:e.sortBy,onChange:b=>x("sortBy",b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:border-black transition-colors",children:[r.jsx("option",{value:"newest",children:"Mi nht"}),r.jsx("option",{value:"name_asc",children:"Tn A-Z"}),r.jsx("option",{value:"name_desc",children:"Tn Z-A"}),r.jsx("option",{value:"price_asc",children:"Gi tng dn"}),r.jsx("option",{value:"price_desc",children:"Gi gim dn"})]})]})]})]})},Ys="https://pantherashop.onrender.com",Sg=E.createContext(void 0),o2=({children:e})=>{const[t,n]=E.useState([]),[a,s]=E.useState(!1),i=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),l=async()=>{s(!0);try{const f=await fetch(`${Ys}/admin/suppliers`,{method:"GET",headers:i()});if(!f.ok)throw new Error("Failed to fetch suppliers");const m=await f.json(),u=Array.isArray(m.suppliers)?m.suppliers.map(h=>({...h,is_active:h.is_connected})):[];n(u)}catch(f){throw n([]),f}finally{s(!1)}},c=async f=>{s(!0);try{if(!(await fetch(`${Ys}/admin/suppliers`,{method:"POST",headers:i(),body:JSON.stringify(f)})).ok)throw new Error("Failed to create supplier");await l()}finally{s(!1)}},o=async(f,m)=>{s(!0);try{if(!(await fetch(`${Ys}/admin/suppliers/${f}`,{method:"PUT",headers:i(),body:JSON.stringify(m)})).ok)throw new Error("Failed to update supplier");await l()}finally{s(!1)}},d=async(f,m)=>{s(!0);try{if(!(await fetch(`${Ys}/admin/suppliers/${f}/connection-status`,{method:"PATCH",headers:i(),body:JSON.stringify({is_connected:m})})).ok)throw new Error("Failed to update connection status");await l()}finally{s(!1)}};return r.jsx(Sg.Provider,{value:{suppliers:t,loading:a,fetchSuppliers:l,createSupplier:c,updateSupplier:o,setConnectionStatus:d},children:e})},sa=()=>{const e=E.useContext(Sg);if(!e)throw new Error("useSupplier must be used within SupplierProvider");return e},c2=({isOpen:e,onClose:t,onSuccess:n})=>{var I,V,F,H,D,R,U,G,Q;const{getAllCategories:a,getAllSports:s,getAllTournaments:i,getAllTeams:l}=Kt(),{createProduct:c}=_s(),{suppliers:o,fetchSuppliers:d}=sa(),[f,m]=E.useState({product_name:"",product_description:"",product_price:"",category_id:"",sport_id:"",tournament_id:"",team_id:"",supplier_id:""}),[u,h]=E.useState([]),[x,y]=E.useState([]),[b,p]=E.useState([]),[g,w]=E.useState([]),[v,j]=E.useState([{variant_size:"",variant_color:""}]),[k,S]=E.useState(!1),[T,O]=E.useState(null),[C,N]=E.useState("");E.useEffect(()=>{e&&_()},[e]),E.useEffect(()=>{if(f.sport_id){const K=b.filter(J=>J.sport_id===parseInt(f.sport_id));f.tournament_id&&!K.find(J=>J.tournament_id===parseInt(f.tournament_id))&&m(J=>({...J,tournament_id:"",team_id:""}))}},[f.sport_id,b]),E.useEffect(()=>{if(f.tournament_id){const K=g.filter(J=>J.tournament_id===parseInt(f.tournament_id));f.team_id&&!K.find(J=>J.team_id===parseInt(f.team_id))&&m(J=>({...J,team_id:""}))}},[f.tournament_id,g]),E.useEffect(()=>{d()},[]);const _=async()=>{try{const[K,J,ne,le]=await Promise.all([a(),s(),i(),l()]);h(K),y(J),p(ne),w(le)}catch(K){console.error("Error fetching data:",K),Y("Khng th ti d liu","error")}},P=K=>{O(K)},A=()=>{O(null),N("")},L=K=>{const{name:J,value:ne}=K.target;m(le=>({...le,[J]:ne}))},B=(K,J,ne)=>{const le=[...v];le[K]={...le[K],[J]:ne},j(le)},q=()=>{j([...v,{variant_size:"",variant_color:""}])},z=K=>{v.length>1&&j(v.filter((J,ne)=>ne!==K))},$=async K=>{K.preventDefault(),S(!0);try{console.log("All variants:",v);const J=v.filter(fe=>{var ye,Z;return((ye=fe.variant_size)==null?void 0:ye.trim())||((Z=fe.variant_color)==null?void 0:Z.trim())});console.log("Valid variants after filter:",J);const ne=J.map(fe=>{var ye,Z;return{variant_size:((ye=fe.variant_size)==null?void 0:ye.trim())||"Standard",variant_color:((Z=fe.variant_color)==null?void 0:Z.trim())||"Default",variant_stock:0}}),le={product_name:f.product_name,product_description:f.product_description||"",product_price:f.product_price,category_id:f.category_id,team_id:f.team_id||void 0,supplier_id:f.supplier_id,variants:ne.length>0?ne:void 0};console.log("Creating product:",le);const ue=await c(le,T);ue.success?(Y("To sn phm thnh cng!","success"),n(),t(),M()):Y(ue.message||"C li xy ra khi to sn phm","error")}catch(J){console.error("Error creating product:",J),Y(J.message||"C li xy ra khi to sn phm","error")}finally{S(!1)}},M=()=>{m({product_name:"",product_description:"",product_price:"",category_id:"",sport_id:"",tournament_id:"",team_id:"",supplier_id:""}),j([{variant_size:"",variant_color:""}]),O(null),N("")};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO SN PHM MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm sn phm mi vo b su tp ca bn"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:$,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-4",children:"HNH NH SN PHM"}),T||C?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:T?URL.createObjectURL(T):C,alt:"Preview",className:"w-full aspect-square object-cover bg-gray-50"}),r.jsx("button",{type:"button",onClick:A,className:"absolute top-4 right-4 p-2 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-gray-100",children:r.jsx(be,{size:20})})]}):r.jsxs("label",{className:"block cursor-pointer",children:[r.jsxs("div",{className:"w-full aspect-square border-2 border-dashed border-gray-300 hover:border-black transition-colors duration-200 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100",children:[r.jsx(vl,{size:48,className:"text-gray-400 mb-4"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nhn  ti nh ln"}),r.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Ti a 5MB"})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var ne;const J=(ne=K.target.files)==null?void 0:ne[0];if(J){if(J.size>5*1024*1024){Y("Kch thc nh khng c vt qu 5MB","error");return}P(J)}},className:"hidden"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN SN PHM"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TN SN PHM *"}),r.jsx("input",{type:"text",name:"product_name",value:f.product_name,onChange:L,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"Nhp tn sn phm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M T"}),r.jsx("textarea",{name:"product_description",value:f.product_description,onChange:L,rows:4,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 resize-none",placeholder:"M t sn phm ca bn..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI (VN) *"}),r.jsx("input",{type:"number",name:"product_price",value:f.product_price,onChange:L,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",required:!0})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"PHN LOI"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"MN TH THAO"}),r.jsxs("select",{name:"sport_id",value:f.sport_id,onChange:L,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),x.map(K=>r.jsx("option",{value:K.sport_id,children:K.sport_name},K.sport_id))]}),f.sport_id&&((I=x.find(K=>K.sport_id.toString()===f.sport_id))==null?void 0:I.sport_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(V=x.find(K=>K.sport_id.toString()===f.sport_id))==null?void 0:V.sport_icon,alt:"Sport",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(F=x.find(K=>K.sport_id.toString()===f.sport_id))==null?void 0:F.sport_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII U"}),r.jsxs("select",{name:"tournament_id",value:f.tournament_id,onChange:L,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!f.sport_id,children:[r.jsx("option",{value:"",children:"Chn gii u"}),b.filter(K=>!f.sport_id||K.sport_id===parseInt(f.sport_id)).map(K=>r.jsx("option",{value:K.tournament_id,children:K.tournament_name},K.tournament_id))]}),f.tournament_id&&((H=b.find(K=>K.tournament_id.toString()===f.tournament_id))==null?void 0:H.tournament_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(D=b.find(K=>K.tournament_id.toString()===f.tournament_id))==null?void 0:D.tournament_icon,alt:"Tournament",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(R=b.find(K=>K.tournament_id.toString()===f.tournament_id))==null?void 0:R.tournament_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"I BNG"}),r.jsxs("select",{name:"team_id",value:f.team_id,onChange:L,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!f.tournament_id,children:[r.jsx("option",{value:"",children:"Chn i bng"}),g.filter(K=>!f.tournament_id||K.tournament_id===parseInt(f.tournament_id)).map(K=>r.jsx("option",{value:K.team_id,children:K.team_name},K.team_id))]}),f.team_id&&((U=g.find(K=>K.team_id.toString()===f.team_id))==null?void 0:U.team_logo)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(G=g.find(K=>K.team_id.toString()===f.team_id))==null?void 0:G.team_logo,alt:"Team",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(Q=g.find(K=>K.team_id.toString()===f.team_id))==null?void 0:Q.team_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"DANH MC *"}),r.jsxs("select",{name:"category_id",value:f.category_id,onChange:L,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn danh mc"}),u.map(K=>r.jsx("option",{value:K.category_id,children:K.category_name},K.category_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH CUNG CP *"}),r.jsxs("select",{name:"supplier_id",value:f.supplier_id||"",onChange:L,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn nh cung cp"}),o.map(K=>r.jsx("option",{value:K.supplier_id,children:K.supplier_name},K.supplier_id))]})]})]})]})]})]}),r.jsxs("div",{className:"space-y-6 border-t pt-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"BIN TH SN PHM"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nhp t nht mt trong hai: kch c hoc mu sc (hoc c hai).  trng nu sn phm khng c bin th."})]}),r.jsxs("button",{type:"button",onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(ut,{size:18}),r.jsx("span",{className:"text-sm font-medium",children:"Thm bin th"})]})]}),r.jsx("div",{className:"space-y-4",children:v.map((K,J)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-5 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:K.variant_size,onChange:ne=>B(J,"variant_size",ne.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL... (b trng nu khng c)"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:K.variant_color,onChange:ne=>B(J,"variant_color",ne.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng... (b trng nu khng c)"})]}),r.jsx("div",{className:"flex items-end",children:v.length>1&&r.jsx("button",{type:"button",onClick:()=>z(J),className:"w-full px-3 py-2 text-red-600 hover:text-white hover:bg-red-600 border border-red-600 transition-all duration-200",title:"Remove variant",children:r.jsx(It,{size:18,className:"mx-auto"})})})]},J))})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:k,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:k?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang to..."]}):"To sn phm"})]})]})]})}):null},u2=({isOpen:e,product:t,onClose:n,onSuccess:a})=>{var G,Q,K,J,ne,le,ue,fe,ye;const{updateProduct:s,getVariantsByProductId:i,createVariant:l,updateVariant:c,deleteVariant:o}=_s(),{getAllCategories:d,getAllSports:f,getAllTournaments:m,getAllTeams:u}=Kt(),{suppliers:h,fetchSuppliers:x}=sa(),[y,b]=E.useState({product_name:"",product_description:"",product_price:"",category_id:"",sport_id:"",tournament_id:"",team_id:"",supplier_id:""}),[p,g]=E.useState([]),[w,v]=E.useState([]),[j,k]=E.useState([]),[S,T]=E.useState([]),[O,C]=E.useState([{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}]),[N,_]=E.useState(!1),[P,A]=E.useState(!1),[L,B]=E.useState(null),[q,z]=E.useState("");E.useEffect(()=>{e&&$()},[e]),E.useEffect(()=>{x()},[]),E.useEffect(()=>{var Z,W,X,re,ae,ee,de,oe,ce;t&&e&&(b({product_name:t.product_name,product_description:t.product_description||"",product_price:typeof t.product_price=="number"?t.product_price.toString():t.product_price,category_id:t.category_id.toString(),sport_id:((re=(X=(W=(Z=t.Team)==null?void 0:Z.Tournament)==null?void 0:W.Sport)==null?void 0:X.sport_id)==null?void 0:re.toString())||"",tournament_id:((de=(ee=(ae=t.Team)==null?void 0:ae.Tournament)==null?void 0:ee.tournament_id)==null?void 0:de.toString())||"",team_id:((oe=t.team_id)==null?void 0:oe.toString())||"",supplier_id:((ce=t.supplier_id)==null?void 0:ce.toString())||""}),t.product_image&&z(t.product_image),M(t.product_id))},[t,e]),E.useEffect(()=>{if(y.sport_id){const Z=j.filter(W=>W.sport_id===parseInt(y.sport_id));y.tournament_id&&!Z.find(W=>W.tournament_id===parseInt(y.tournament_id))&&b(W=>({...W,tournament_id:"",team_id:""}))}},[y.sport_id,j]),E.useEffect(()=>{if(y.tournament_id){const Z=S.filter(W=>W.tournament_id===parseInt(y.tournament_id));y.team_id&&!Z.find(W=>W.team_id===parseInt(y.team_id))&&b(W=>({...W,team_id:""}))}},[y.tournament_id,S]);const $=async()=>{try{const[Z,W,X,re]=await Promise.all([d(),f(),m(),u()]);g(Z),v(W),k(X),T(re)}catch(Z){console.error("Error fetching data:",Z),Y("Khng th ti d liu","error")}},M=async Z=>{A(!0);try{const W=await i(Z);W.length>0?C(W.map(X=>({variant_id:X.variant_id,variant_size:X.variant_size||"",variant_color:X.variant_color||"",variant_stock:X.variant_stock||0,isNew:!1}))):C([{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}])}catch(W){console.error("Error fetching variants:",W),C([{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}])}finally{A(!1)}},I=Z=>{B(Z);const W=new FileReader;W.onloadend=()=>{z(W.result)},W.readAsDataURL(Z)},V=()=>{B(null),z("")},F=Z=>{const{name:W,value:X}=Z.target;b(re=>({...re,[W]:X}))},H=(Z,W,X)=>{const re=[...O];re[Z]={...re[Z],[W]:W==="variant_stock"?Number(X)||0:X},C(re)},D=()=>{C([...O,{variant_size:"",variant_color:"",variant_stock:0,isNew:!0}])},R=Z=>{if(O.length===1){Y("Phi c t nht 1 bin th","error");return}const W=O[Z];if(W.variant_id&&!W.isNew){const X=[...O];X[Z]={...W,isDeleted:!0},C(X)}else C(O.filter((X,re)=>re!==Z))},U=async Z=>{var W,X,re,ae;Z.preventDefault(),_(!0);try{console.log(" Updating product:",t==null?void 0:t.product_id),await s(t.product_id,{product_name:y.product_name,product_description:y.product_description,product_price:y.product_price,category_id:y.category_id,team_id:y.team_id||void 0,supplier_id:y.supplier_id},L);const ee=[];for(const oe of O){if(oe.isDeleted||!((W=oe.variant_size)!=null&&W.trim())&&!((X=oe.variant_color)!=null&&X.trim())){oe.variant_id&&oe.isDeleted&&ee.push(o(oe.variant_id));continue}const ce={variant_size:((re=oe.variant_size)==null?void 0:re.trim())||"Standard",variant_color:((ae=oe.variant_color)==null?void 0:ae.trim())||"Default",variant_stock:oe.variant_stock||0,product_id:t.product_id};oe.variant_id&&!oe.isNew?ee.push(c(oe.variant_id,ce)):ee.push(l(ce))}(await Promise.allSettled(ee)).forEach((oe,ce)=>{oe.status==="fulfilled"?console.log(` Variant operation ${ce+1} succeeded`):console.error(` Variant operation ${ce+1} failed:`,oe.reason)}),Y("Cp nht sn phm thnh cng!","success"),a(),n()}catch(ee){console.error("Error updating product:",ee),Y("C li xy ra khi cp nht sn phm","error")}finally{_(!1)}};return!e||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHNH SA SN PHM"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cp nht thng tin sn phm ca bn"})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:U,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-4",children:"HNH NH SN PHM"}),L||q?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:L?URL.createObjectURL(L):q,alt:"Preview",className:"w-full aspect-square object-cover bg-gray-50"}),r.jsx("button",{type:"button",onClick:V,className:"absolute top-4 right-4 p-2 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-gray-100",children:r.jsx(be,{size:20})})]}):r.jsxs("label",{className:"block cursor-pointer",children:[r.jsxs("div",{className:"w-full aspect-square border-2 border-dashed border-gray-300 hover:border-black transition-colors duration-200 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100",children:[r.jsx(vl,{size:48,className:"text-gray-400 mb-4"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nhn  ti nh ln"}),r.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Ti a 5MB"})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:Z=>{var X;const W=(X=Z.target.files)==null?void 0:X[0];if(W){if(W.size>5*1024*1024){Y("Kch thc nh khng c vt qu 5MB","error");return}I(W)}},className:"hidden"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN SN PHM"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TN SN PHM *"}),r.jsx("input",{type:"text",name:"product_name",value:y.product_name,onChange:F,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"Nhp tn sn phm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M T"}),r.jsx("textarea",{name:"product_description",value:y.product_description,onChange:F,rows:4,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 resize-none",placeholder:"M t sn phm ca bn..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI (VN) *"}),r.jsx("input",{type:"number",name:"product_price",value:y.product_price,onChange:F,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",required:!0})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"PHN LOI"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"MN TH THAO"}),r.jsxs("select",{name:"sport_id",value:y.sport_id,onChange:F,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),w.map(Z=>r.jsx("option",{value:Z.sport_id,children:Z.sport_name},Z.sport_id))]}),y.sport_id&&((G=w.find(Z=>Z.sport_id.toString()===y.sport_id))==null?void 0:G.sport_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(Q=w.find(Z=>Z.sport_id.toString()===y.sport_id))==null?void 0:Q.sport_icon,alt:"Sport",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(K=w.find(Z=>Z.sport_id.toString()===y.sport_id))==null?void 0:K.sport_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII U"}),r.jsxs("select",{name:"tournament_id",value:y.tournament_id,onChange:F,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!y.sport_id,children:[r.jsx("option",{value:"",children:"Chn gii u"}),j.filter(Z=>!y.sport_id||Z.sport_id===parseInt(y.sport_id)).map(Z=>r.jsx("option",{value:Z.tournament_id,children:Z.tournament_name},Z.tournament_id))]}),y.tournament_id&&((J=j.find(Z=>Z.tournament_id.toString()===y.tournament_id))==null?void 0:J.tournament_icon)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(ne=j.find(Z=>Z.tournament_id.toString()===y.tournament_id))==null?void 0:ne.tournament_icon,alt:"Tournament",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(le=j.find(Z=>Z.tournament_id.toString()===y.tournament_id))==null?void 0:le.tournament_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"I BNG"}),r.jsxs("select",{name:"team_id",value:y.team_id,onChange:F,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white disabled:bg-gray-50 disabled:cursor-not-allowed",disabled:!y.tournament_id,children:[r.jsx("option",{value:"",children:"Chn i bng"}),S.filter(Z=>!y.tournament_id||Z.tournament_id===parseInt(y.tournament_id)).map(Z=>r.jsx("option",{value:Z.team_id,children:Z.team_name},Z.team_id))]}),y.team_id&&((ue=S.find(Z=>Z.team_id.toString()===y.team_id))==null?void 0:ue.team_logo)&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("img",{src:(fe=S.find(Z=>Z.team_id.toString()===y.team_id))==null?void 0:fe.team_logo,alt:"Team",className:"w-6 h-6 object-contain"}),r.jsx("span",{children:(ye=S.find(Z=>Z.team_id.toString()===y.team_id))==null?void 0:ye.team_name})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"DANH MC *"}),r.jsxs("select",{name:"category_id",value:y.category_id,onChange:F,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn danh mc"}),p.map(Z=>r.jsx("option",{value:Z.category_id,children:Z.category_name},Z.category_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH CUNG CP *"}),r.jsxs("select",{name:"supplier_id",value:y.supplier_id,onChange:F,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn nh cung cp"}),h.map(Z=>r.jsx("option",{value:Z.supplier_id,children:Z.supplier_name},Z.supplier_id))]})]})]})]})]})]}),r.jsxs("div",{className:"space-y-6 border-t pt-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"BIN TH SN PHM"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nhp t nht mt trong hai: kch c hoc mu sc (hoc c hai).  trng nu sn phm khng c bin th."})]}),r.jsxs("button",{type:"button",onClick:D,disabled:P,className:"flex items-center gap-2 px-4 py-2 bg-black text-white hover:bg-gray-800 transition-colors duration-200 disabled:opacity-50",children:[r.jsx(ut,{size:18}),r.jsx("span",{className:"text-sm font-medium",children:"Thm bin th"})]})]}),P?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black mx-auto"}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"ang ti variants..."})]}):r.jsx("div",{className:"space-y-4",children:O.filter(Z=>!Z.isDeleted).map((Z,W)=>r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-4 p-5 transition-colors duration-200 ${Z.isNew?"bg-green-50 hover:bg-green-100":"bg-gray-50 hover:bg-gray-100"}`,children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:Z.variant_size,onChange:X=>H(W,"variant_size",X.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",value:Z.variant_color,onChange:X=>H(W,"variant_color",X.target.value),className:"w-full px-3 py-2 border-b-2 border-gray-300 bg-transparent focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"TN KHO"}),r.jsx("input",{type:"number",min:"0",value:Z.variant_stock||0,disabled:!0,className:"w-full px-3 py-2 border-b-2 border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed",placeholder:"0"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Qun l ti module kho"})]}),r.jsxs("div",{className:"flex items-end justify-between",children:[Z.isNew&&r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 font-bold uppercase tracking-wider self-center",children:"MI"}),!Z.isNew&&Z.variant_id&&r.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 font-bold uppercase tracking-wider self-center",children:["ID: ",Z.variant_id]}),r.jsx("button",{type:"button",onClick:()=>R(W),className:"px-3 py-2 text-red-600 hover:text-white hover:bg-red-600 border border-red-600 transition-all duration-200 ml-auto",title:"Xa variant",children:r.jsx(It,{size:18})})]})]},W))}),O.filter(Z=>!Z.isDeleted).length===0&&!P&&r.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:'Cha c bin th. Nhn "Thm bin th"  to mi.'})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:N?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang cp nht..."]}):"Cp nht sn phm"})]})]})]})})},d2="https://pantherashop.onrender.com",f2=({isOpen:e,product:t,onClose:n,onEdit:a,onDelete:s})=>{const{getProductById:i}=_s(),[l,c]=E.useState(null),[o,d]=E.useState([]),[f,m]=E.useState([]),[u,h]=E.useState(!1),[x,y]=E.useState(!1),[b,p]=E.useState(null);E.useEffect(()=>{e&&t?p(t.product_id):e||(p(null),m([]))},[e,t]),E.useEffect(()=>{if(!b){c(null),d([]);return}let O=!1;return(async()=>{h(!0);try{const N=await i(b);!O&&N&&(c(N),d(N.Variants||[]))}catch(N){O||(console.error("Error fetching product details:",N),Y("Khng th ti chi tit sn phm","error"),t&&c(t),d([]))}finally{O||h(!1)}})(),()=>{O=!0}},[b]),E.useEffect(()=>{if(!b){m([]);return}let O=!1;return(async()=>{y(!0),console.log(` Fetching images for product ${b}...`);try{const N=localStorage.getItem("token"),_=await fetch(`${d2}/admin/product-images/${b}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`}});if(console.log(" Response status:",_.status),!_.ok){const A=await _.text();throw console.log(" Error response:",A),new Error("Failed to fetch product images")}const P=await _.json();if(console.log(" API Response:",P),!O){let A=[];P.success&&P.data?A=P.data:P.images?A=P.images:Array.isArray(P)&&(A=P),m(Array.isArray(A)?A:[]),console.log(` Loaded ${A.length} images for product ${b}`)}}catch(N){O||(console.error(" Error fetching product images:",N),m([]))}finally{O||y(!1)}})(),()=>{O=!0}},[b]);const g=O=>{const C=typeof O=="string"?parseFloat(O):O;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C)},w=O=>new Date(O).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),v=O=>O===0?{label:"Ht hng",color:"bg-red-100 text-red-800"}:O<20?{label:"Sp ht",color:"bg-yellow-100 text-yellow-800"}:{label:"Cn hng",color:"bg-green-100 text-green-800"},j=O=>Array.from({length:5},(C,N)=>r.jsx(jb,{size:16,className:N<Math.floor(O)?"text-yellow-400 fill-current":"text-gray-300"},N));if(!e||!t)return null;const k=l||t,S=v(k.stock),T=[];return k.product_image&&T.push({image_id:0,product_id:k.product_id,image_url:k.product_image,is_primary:!0,created_at:k.created_at}),f.forEach(O=>{O.image_url!==k.product_image&&T.push(O)}),console.log(" Total images to display:",T.length),r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-8 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-sm uppercase tracking-wider font-medium",children:"CHI TIT SN PHM"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Chnh sa",children:r.jsx(Lt,{size:18})}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Xa",children:r.jsx(It,{size:18})}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(be,{size:20})})]})]}),u?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-gray-500",children:"ang ti..."})]})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"aspect-square bg-gray-50 overflow-hidden",children:k.product_image?r.jsx("img",{src:k.product_image,alt:k.product_name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"flex items-center justify-center h-full text-gray-300",children:r.jsx(xr,{size:80,strokeWidth:1})})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-medium mb-2",children:k.product_name}),r.jsx("div",{className:"text-xl font-medium",children:g(k.product_price)})]}),k.average_rating>0&&r.jsxs("div",{className:"flex items-center gap-2 pb-6 border-b",children:[r.jsx("div",{className:"flex items-center gap-1",children:j(k.average_rating)}),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",k.average_rating.toFixed(1),")"]})]}),r.jsxs("div",{className:"space-y-3 pb-6 border-b",children:[k.Category&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"DANH MC"}),r.jsx("div",{className:"font-medium",children:k.Category.category_name})]}),k.Team&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"I/CLB"}),r.jsx("div",{className:"font-medium",children:k.Team.team_name})]}),k.Team.Tournament&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"GII U"}),r.jsx("div",{className:"font-medium",children:k.Team.Tournament.tournament_name})]}),k.Team.Tournament.Sport&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"MN TH THAO"}),r.jsx("div",{className:"font-medium",children:k.Team.Tournament.Sport.sport_name})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b",children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500",children:"TRNG THI"}),r.jsx("span",{className:`px-3 py-1 text-xs uppercase tracking-wider font-medium ${S.color}`,children:S.label}),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",k.stock," sn phm)"]})]}),k.product_description&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"M T"}),r.jsx("p",{className:"text-sm leading-relaxed text-gray-700",children:k.product_description})]}),r.jsxs("div",{className:"text-xs text-gray-400 pt-4",children:["Ngy to: ",w(k.created_at)]})]})]}),r.jsx("div",{className:"px-8 pb-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.length>0&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-gray-500 mb-3 flex items-center justify-between",children:r.jsxs("span",{children:["BIN TH (",o.length,")"]})}),r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:o.map((O,C)=>{const N=v(O.variant_stock);return r.jsx("div",{className:"border border-gray-200 p-3 hover:border-black transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsxs("span",{className:"text-xs font-medium text-gray-400 flex-shrink-0",children:["#",C+1]}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-medium truncate",children:O.variant_size}),r.jsx("span",{className:"text-gray-300",children:""}),r.jsx("span",{className:"text-sm text-gray-600 truncate",children:O.variant_color})]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${N.color} whitespace-nowrap`,children:O.variant_stock})})]})},O.variant_id||C)})})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("h3",{className:"text-xs uppercase tracking-wider text-gray-500 mb-3 flex items-center justify-between",children:[r.jsxs("span",{children:["HNH NH (",T.length,")"]}),x&&r.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"}),"ang ti..."]})]}),T.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto pr-2",children:T.map((O,C)=>r.jsxs("div",{className:"aspect-square border border-gray-200 overflow-hidden group relative",children:[r.jsx("img",{src:O.image_url,alt:`${k.product_name} - ${C+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),O.is_primary&&r.jsx("div",{className:"absolute top-2 left-2 bg-black text-white text-xs px-2 py-0.5 uppercase tracking-wider",children:"Chnh"})]},O.image_id||C))}):r.jsxs("div",{className:"border border-dashed border-gray-300 p-8 flex flex-col items-center justify-center text-gray-400",children:[r.jsx(xr,{size:32,strokeWidth:1,className:"mb-2"}),r.jsx("p",{className:"text-xs",children:x?"ang ti nh...":"Cha c nh minh ha"})]})]})]})})]})})]})})},xo="https://pantherashop.onrender.com",h2=({isOpen:e,onClose:t,onSuccess:n})=>{const{suppliers:a,loading:s,fetchSuppliers:i}=sa(),{getAllTeams:l}=Kt(),[c,o]=E.useState(null),[d,f]=E.useState([]),[m,u]=E.useState(null),[h,x]=E.useState(!1);if(E.useEffect(()=>{e&&a.length===0&&i()},[e,i,a.length]),!e)return null;const y=async()=>{if(!c){Y("Vui lng chn nh cung cp trc","error");return}try{const k=(await l()).map(_=>({team_id:_.team_id,team_name:_.team_name})),S=localStorage.getItem("token"),T=await fetch(`${xo}/admin/products/excel/template`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({supplier_id:c,teams:k})});if(!T.ok)throw new Error("Failed to download template");const O=await T.blob(),C=window.URL.createObjectURL(O),N=document.createElement("a");N.href=C,N.download=`product_template_supplier_${c}.xlsx`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(C),document.body.removeChild(N),Y("Ti template thnh cng","success")}catch(j){console.error("Download template error:",j),Y("Khng th ti template","error")}},b=j=>{const k=j.target.files;k&&f([...d,...Array.from(k)])},p=j=>{f(d.filter((k,S)=>S!==j))},g=j=>{var S;const k=(S=j.target.files)==null?void 0:S[0];k&&u(k)},w=async()=>{if(!c){Y("Vui lng chn nh cung cp","error");return}if(!m){Y("Vui lng chn file Excel","error");return}x(!0);try{const j=localStorage.getItem("token");let k=[];if(d.length>0){const C=new FormData;d.forEach(P=>{C.append("images",P)});const N=await fetch(`${xo}/admin/products/upload-excel-images`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${j}`},body:C});if(!N.ok)throw new Error("Failed to upload images");const _=await N.json();if(!_.success)throw new Error("Image upload failed");k=_.images}const S=new FormData;S.append("excel",m),d.forEach(C=>{S.append("images",C)});const T=await fetch(`${xo}/admin/products/excel/import-with-variants`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${j}`},body:S});if(!T.ok)throw new Error("Failed to import Excel");const O=await T.json();if(!O.success)throw new Error(O.message||"Import failed");Y(O.message||"Import thnh cng","success"),n==null||n(),t()}catch(j){console.error("Import error:",j),Y(j instanceof Error?j.message:"Khng th import sn phm","error")}finally{x(!1)}},v=()=>{h||(o(null),f([]),u(null),t())};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-2xl font-bold text-black uppercase tracking-tight",children:"Import Sn Phm T Excel"}),r.jsx("button",{type:"button",onClick:v,disabled:h,className:"p-2 hover:bg-gray-100 transition-colors disabled:opacity-50",children:r.jsx(be,{size:20})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 1: Chn Nh Cung Cp"}),r.jsxs("select",{value:c||"",onChange:j=>o(Number(j.target.value)),disabled:h,className:"w-full px-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"-- Chn nh cung cp --"}),a.filter(j=>j.is_active).map(j=>r.jsx("option",{value:j.supplier_id,children:j.supplier_name},j.supplier_id))]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 2: Ti Template Excel"}),r.jsxs("button",{type:"button",onClick:y,disabled:!c||h,className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(ob,{size:20}),r.jsx("span",{className:"font-medium",children:"Ti Template"})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Template s c sn thng tin nh cung cp v danh sch i bng"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 3: Ti nh Sn Phm (Nu C)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-6 text-center hover:border-black transition-colors",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:b,disabled:h,className:"hidden",id:"image-upload"}),r.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[r.jsx(db,{size:40,className:"text-gray-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Click  chn nh"})]})]}),d.length>0&&r.jsx("div",{className:"grid grid-cols-4 gap-3 mt-4",children:d.map((j,k)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:URL.createObjectURL(j),alt:j.name,className:"w-full h-24 object-cover border border-gray-200"}),r.jsx("button",{type:"button",onClick:()=>p(k),disabled:h,className:"absolute top-1 right-1 p-1 bg-red-600 text-white hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(be,{size:14})}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:j.name})]},k))}),r.jsx("p",{className:"text-xs text-gray-600",children:'Tn file nh phi khp vi tn trong ct "product_image" ca Excel'})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-bold text-black uppercase tracking-wide",children:"Bc 4: Ti File Excel"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-6 text-center hover:border-black transition-colors",children:[r.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:g,disabled:h,className:"hidden",id:"excel-upload"}),r.jsxs("label",{htmlFor:"excel-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[r.jsx(Dp,{size:40,className:"text-gray-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:m?m.name:"Click  chn file Excel"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:v,disabled:h,className:"px-5 py-2.5 border border-gray-300 text-black hover:bg-gray-50 transition-colors disabled:opacity-50",children:r.jsx("span",{className:"font-medium",children:"Hy"})}),r.jsxs("button",{type:"button",onClick:w,disabled:!c||!m||h,className:"flex items-center gap-2 px-5 py-2.5 bg-green-600 text-white hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(vl,{size:20}),r.jsx("span",{className:"font-medium",children:h?"ang import...":"Import"})]})]})]})})},m2=()=>{const[e,t]=E.useState(""),[n,a]=E.useState([]),[s,i]=E.useState(1),[l,c]=E.useState({sport_id:null,tournament_id:null,team_id:null,category_id:null,status:"all",sortBy:"newest"}),[o,d]=E.useState(!1),[f,m]=E.useState(!1),[u,h]=E.useState(!1),[x,y]=E.useState(!1),[b,p]=E.useState(!1),[g,w]=E.useState(null),{getAllProducts:v,loading:j,setProductLockStatus:k}=_s(),S=xe(),T=10;E.useEffect(()=>{O()},[]);const O=async()=>{try{const D=await v();console.log("Products loaded:",D),console.log("First product:",D[0]),console.log("Products length:",D.length);const R=D.map(U=>({...U,is_active:U.is_active!==void 0?U.is_active:!0}));a(R)}catch(D){console.error("Failed to fetch data:",D),Y("Khng th ti d liu","error")}},C=()=>{d(!0)},N=D=>{w(D),m(!0)},_=D=>{w(D),h(!0)},P=D=>{w(D),y(!0)},A=()=>{g&&(Y("Chc nng xa ang pht trin","info"),y(!1),w(null))},L=()=>{d(!1),O(),Y("To sn phm thnh cng","success")},B=()=>{m(!1),w(null),O(),Y("Cp nht sn phm thnh cng","success")},q=async D=>{try{await k(D.product_id,!D.is_active),O(),Y(`${D.is_active?"Ngng bn":"ang bn"} sn phm thnh cng`,"success")}catch(R){console.error("Failed to update product status:",R),Y("Khng th cp nht trng thi sn phm","error")}},z=D=>{const R=typeof D=="string"?parseFloat(D):D;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)},$=D=>new Date(D).toLocaleDateString("vi-VN"),M=n.filter(D=>{const R=D.product_name.toLowerCase().includes(e.toLowerCase())||D.product_description&&D.product_description.toLowerCase().includes(e.toLowerCase()),U=!l.category_id||D.category_id===l.category_id,G=!l.team_id||D.Team&&D.Team.team_id===l.team_id,Q=!l.tournament_id||D.Team&&D.Team.Tournament&&D.Team.Tournament.tournament_id===l.tournament_id,K=!l.sport_id||D.Team&&D.Team.Tournament&&D.Team.Tournament.Sport&&D.Team.Tournament.Sport.sport_id===l.sport_id;let J=!0;return l.status!=="all"&&(l.status==="active"?J=D.is_active===!0:l.status==="inactive"&&(J=D.is_active===!1)),R&&U&&G&&Q&&K&&J}).sort((D,R)=>{switch(l.sortBy){case"name_asc":return D.product_name.localeCompare(R.product_name,"vi");case"name_desc":return R.product_name.localeCompare(D.product_name,"vi");case"price_asc":{const U=typeof D.product_price=="string"?parseFloat(D.product_price):D.product_price,G=typeof R.product_price=="string"?parseFloat(R.product_price):R.product_price;return U-G}case"price_desc":{const U=typeof D.product_price=="string"?parseFloat(D.product_price):D.product_price;return(typeof R.product_price=="string"?parseFloat(R.product_price):R.product_price)-U}case"newest":default:return new Date(R.created_at).getTime()-new Date(D.created_at).getTime()}}),I=Math.ceil(M.length/T),V=(s-1)*T,F=V+T,H=M.slice(V,F);return j?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-lg font-medium",children:"ang ti..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l sn phm"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l thng tin sn phm v danh mc"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>S("/admin/categories"),className:"flex items-center gap-2 px-4 py-2.5 border border-gray-300 text-black hover:bg-gray-50 transition-colors duration-200",children:[r.jsx(yr,{size:20}),r.jsx("span",{className:"font-medium",children:"Danh mc"})]}),r.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-2 px-4 py-2.5 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(ut,{size:20}),r.jsx("span",{className:"font-medium",children:"Thm sn phm"})]}),r.jsxs("button",{type:"button",onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 text-white hover:bg-green-700 transition-colors duration-200",children:[r.jsx(Dp,{size:20}),r.jsx("span",{className:"font-medium",children:"Import Excel"})]})]})]}),r.jsx(l2,{filters:l,onFilterChange:c,onReset:()=>c({sport_id:null,tournament_id:null,team_id:null,category_id:null,status:"all",sortBy:"newest"}),products:n}),r.jsx("div",{className:"bg-white p-4 border border-gray-200 border-t-0",children:r.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:r.jsxs("div",{className:"flex-1 relative min-w-80",children:[r.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim sn phm theo tn hoc m t...",value:e,onChange:D=>{t(D.target.value),i(1)},className:"w-full pl-12 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tng sn phm"}),r.jsx("p",{className:"text-2xl font-bold text-black",children:n.length})]}),r.jsx(xr,{className:"w-8 h-8 text-gray-400"})]})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"ang bn"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(D=>D.is_active).length})]}),r.jsx(xr,{className:"w-8 h-8 text-green-400"})]})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Ngng bn"}),r.jsx("p",{className:"text-2xl font-bold text-gray-600",children:n.filter(D=>!D.is_active).length})]}),r.jsx(gr,{className:"w-8 h-8 text-gray-400"})]})})]}),M.length===0?r.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-2 text-lg font-medium",children:"Khng tm thy sn phm"}),r.jsx("div",{className:"text-sm text-gray-500",children:n.length===0?"Cha c sn phm no trong h thng":"Th thay i b lc hoc tm kim vi t kha khc"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Sn phm"}),r.jsx("th",{className:"px-6 py-4",children:"Danh mc"}),r.jsx("th",{className:"px-6 py-4",children:"Gi"}),r.jsx("th",{className:"px-6 py-4",children:"Trng thi bn"}),r.jsx("th",{className:"px-6 py-4",children:"Ngy to"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:H.map(D=>{var R;return r.jsxs("tr",{className:`hover:bg-gray-50 transition-colors duration-200 ${D.is_active?"":"opacity-60 bg-gray-100"}`,children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[D.product_image?r.jsx("img",{src:D.product_image,alt:D.product_name,className:"w-12 h-12 object-cover border border-gray-200"}):r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center",children:r.jsx(xr,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"max-w-xs",children:[r.jsx("p",{className:"text-sm font-medium text-black line-clamp-1",children:D.product_name}),D.product_description&&r.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:D.product_description})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800",children:((R=D.Category)==null?void 0:R.category_name)||"N/A"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm font-medium text-black",children:z(D.product_price)})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium ${D.is_active?"bg-green-100 text-green-800":"bg-gray-300 text-gray-700"}`,children:D.is_active?"ang bn":"Ngng bn"})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:$(D.created_at)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>_(D),className:"p-2 hover:bg-blue-50 transition-colors duration-200",title:"Xem chi tit",children:r.jsx(Et,{size:16,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>N(D),className:"p-2 hover:bg-gray-100 transition-colors duration-200",title:"Chnh sa",children:r.jsx(Lt,{size:16,className:"text-gray-600"})}),r.jsx("button",{type:"button",onClick:()=>q(D),className:"p-2 hover:bg-yellow-50 transition-colors duration-200",title:D.is_active?"Kha sn phm (Ngng bn)":"M kha sn phm (ang bn)",children:r.jsx(gr,{size:16,className:D.is_active?"text-yellow-600":"text-gray-400"})})]})})]},D.product_id)})})]})}),I>1&&r.jsxs("div",{className:"flex items-center justify-between bg-white p-4 border border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Hin th"," ",r.jsxs("span",{className:"font-medium",children:[V+1,"-",Math.min(F,M.length)]})," ","ca"," ",r.jsx("span",{className:"font-medium",children:M.length})," ","sn phm"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>i(s-1),disabled:s===1,className:"px-4 py-2 border border-gray-300 text-sm font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Trc"}),Array.from({length:I},(D,R)=>R+1).map(D=>r.jsx("button",{type:"button",onClick:()=>i(D),className:`px-4 py-2 text-sm font-medium transition-colors duration-200 ${s===D?"bg-black text-white":"border border-gray-300 hover:bg-gray-50"}`,children:D},D)),r.jsx("button",{type:"button",onClick:()=>i(s+1),disabled:s===I,className:"px-4 py-2 border border-gray-300 text-sm font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Sau"})]})]})]}),o&&r.jsx(c2,{isOpen:o,onClose:()=>d(!1),onSuccess:L}),f&&g&&r.jsx(u2,{isOpen:f,product:g,onClose:()=>{m(!1),w(null)},onSuccess:B}),u&&g&&r.jsx(f2,{isOpen:u,product:g,onClose:()=>{h(!1),w(null)},onEdit:()=>N(g),onDelete:()=>P(g)}),r.jsx(aa,{isOpen:x,title:"Xa sn phm",message:`Bn c chc chn mun xa sn phm "${g==null?void 0:g.product_name}"? Hnh ng ny khng th hon tc.`,onConfirm:A,onClose:()=>{y(!1),w(null)},confirmText:"Xa",cancelText:"Hy",type:"danger"}),b&&r.jsx(h2,{isOpen:b,onClose:()=>p(!1),onSuccess:()=>{p(!1),O()}})]})},yo="https://pantherashop.onrender.com",Tg=E.createContext(void 0),p2=({children:e})=>{const[t,n]=E.useState(!1),a=async()=>{n(!0);try{const l=localStorage.getItem("token"),c=await fetch(`${yo}/admin/orders`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(!c.ok)throw new Error("Failed to fetch orders");const o=await c.json();return o.success?o.data:[]}catch(l){throw console.error("Error fetching orders:",l),l}finally{n(!1)}},s=async l=>{n(!0);try{const c=localStorage.getItem("token"),o=await fetch(`${yo}/admin/orders/history/${l}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`}});if(!o.ok)throw new Error("Failed to fetch order history");const d=await o.json();return d.success?d.data:[]}catch(c){throw console.error("Error fetching order history:",c),c}finally{n(!1)}},i=async(l,c)=>{n(!0);try{const o=localStorage.getItem("token"),f=await(await fetch(`${yo}/admin/orders/${l}/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({status:c})})).json();if(!f.success)throw new Error(f.message);return f}catch(o){throw o}finally{n(!1)}};return r.jsx(Tg.Provider,{value:{getAllOrders:a,getOrderHistoryByUserId:s,approveOrder:i,loading:t},children:e})},Cg=()=>{const e=E.useContext(Tg);if(!e)throw new Error("useOrder must be used within OrderProvider");return e},g2=["Tt c","Ch xc nhn","ang x l","ang vn chuyn"," giao"," hy"],x2={"Ch xc nhn":"bg-yellow-100 text-yellow-800 border-yellow-300","ang x l":"bg-blue-100 text-blue-800 border-blue-300","ang vn chuyn":"bg-purple-100 text-purple-800 border-purple-300"," giao":"bg-green-100 text-green-800 border-green-300"," hy":"bg-red-100 text-red-800 border-red-300",Pending:"bg-yellow-100 text-yellow-800 border-yellow-300",Processing:"bg-blue-100 text-blue-800 border-blue-300",Shipped:"bg-purple-100 text-purple-800 border-purple-300",Delivered:"bg-green-100 text-green-800 border-green-300",Cancelled:"bg-red-100 text-red-800 border-red-300"};function kf(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}const y2=()=>{const e=xe(),{getAllOrders:t,loading:n}=Cg(),[a,s]=E.useState([]),[i,l]=E.useState("Tt c"),[c,o]=E.useState(""),[d,f]=E.useState("desc");E.useEffect(()=>{m()},[]);const m=async()=>{try{const x=await t();s(x)}catch(x){console.error("Error fetching orders:",x),Y("Khng th ti danh sch n hng","error")}};let u=a;if(i!=="Tt c"&&(u=u.filter(x=>x.order_status===i)),c){const x=c.toLowerCase();u=u.filter(y=>{var b,p;return y.order_id.toString().includes(x)||((b=y.recipient_name)==null?void 0:b.toLowerCase().includes(x))||((p=y.recipient_phone)==null?void 0:p.includes(x))})}d&&(u=[...u].sort((x,y)=>d==="desc"?new Date(y.order_date).getTime()-new Date(x.order_date).getTime():new Date(x.order_date).getTime()-new Date(y.order_date).getTime()));const h=x=>{e(`/admin/orders/${x.order_id}`,{state:{order:x}})};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Qun l n hng"}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[r.jsx("div",{className:"flex-1 min-w-[250px]",children:r.jsx("input",{type:"text",value:c,onChange:x=>o(x.target.value),placeholder:"Tm kim theo m n, tn, ST...",className:"w-full border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black"})}),r.jsx("div",{children:r.jsx("select",{value:i,onChange:x=>l(x.target.value),className:"border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black",children:g2.map(x=>r.jsx("option",{value:x,children:x},x))})}),r.jsx("div",{children:r.jsxs("select",{value:d,onChange:x=>f(x.target.value),className:"border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black",children:[r.jsx("option",{value:"",children:"-- Sp xp --"}),r.jsx("option",{value:"desc",children:"Mi nht"}),r.jsx("option",{value:"asc",children:"C nht"})]})})]}),n?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-black"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti..."})]}):u.length===0?r.jsx("div",{className:"text-center py-16 bg-white border rounded-lg",children:r.jsx("p",{className:"text-gray-600",children:"Khng tm thy n hng no."})}):r.jsx("div",{className:"space-y-6",children:u.map(x=>{var y,b,p;return r.jsxs("div",{className:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("h3",{className:"font-bold text-lg",children:["#",x.order_id.toString().substring(0,8)]}),r.jsx("span",{className:`px-3 py-1  text-sm font-semibold  ${x2[x.order_status]||"bg-gray-100 text-gray-800"}`,children:x.order_status})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:kf(x.total_amount)}),r.jsxs("div",{className:"text-sm text-gray-500",children:[" t vo"," ",new Date(x.order_date).toLocaleDateString("vi-VN")]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex gap-8 mb-4",children:[r.jsxs("div",{className:"flex-1 pr-8 border-r border-gray-300",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Thng tin User:"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ID:"})," ",(y=x.User)==null?void 0:y.user_id]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tn:"})," ",(b=x.User)==null?void 0:b.user_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",(p=x.User)==null?void 0:p.user_email]})]})]}),r.jsxs("div",{className:"flex-1 pl-8",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Thng tin ngi nhn:"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tn:"})," ",x.recipient_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ST:"})," ",x.recipient_phone]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"a ch:"})," ",x.recipient_address]})]})]})]}),x.orderProducts&&x.orderProducts.length>0&&r.jsx("div",{className:"space-y-3",children:x.orderProducts.map((g,w)=>{var v,j,k,S,T,O,C,N;return r.jsxs("div",{className:"flex items-center gap-4 pb-3 border-b last:border-b-0",children:[r.jsx("img",{src:((j=(v=g.Variant)==null?void 0:v.Product)==null?void 0:j.product_image)||"/placeholder.jpg",alt:(S=(k=g.Variant)==null?void 0:k.Product)==null?void 0:S.product_name,className:"w-20 h-20 object-cover bg-gray-100 rounded"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:(O=(T=g.Variant)==null?void 0:T.Product)==null?void 0:O.product_name}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Size: ",((C=g.Variant)==null?void 0:C.variant_size)||"-"," | Mu:"," ",((N=g.Variant)==null?void 0:N.variant_color)||"-"," | SL:"," ",g.quantity]})]}),r.jsx("div",{className:"text-right font-semibold",children:kf(g.price_at_time)})]},w)})}),r.jsx("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:r.jsx("button",{onClick:()=>h(x),className:"flex-1 px-6 py-3 bg-white border-2 border-black text-black font-semibold hover:bg-black hover:text-white transition-colors",children:"Xem chi tit"})})]})]},x.order_id)})})]})})};function Sa(e){return Number(e).toLocaleString("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0})}const wn=[{key:"Ch xc nhn",label:"Ch xc nhn"},{key:"ang x l",label:"ang x l"},{key:"ang vn chuyn",label:"ang vn chuyn"},{key:" giao",label:" giao"}],v2=["Ch xc nhn","ang x l","ang vn chuyn"," giao"," hy"];function b2(e){const t=wn.findIndex(n=>n.key===e);return e===" hy"?-1:t}function w2(){var b,p;const e=ct(),t=xe(),{approveOrder:n}=Cg(),a=(b=e.state)==null?void 0:b.order,[s,i]=E.useState(!1),[l,c]=E.useState((a==null?void 0:a.order_status)||"");if(!a)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Khng tm thy n hng."}),r.jsx("button",{className:"px-6 py-3 bg-black text-white font-semibold hover:bg-gray-800",onClick:()=>t("/admin/orders"),children:"Quay li danh sch"})]})});const o=a.payment_method||"Thanh ton khi nhn hng",d=a.payment_status||(a.order_status===" giao"||a.order_status==="Delivered"?" thanh ton":"Cha thanh ton"),f=Number(a.shipping_fee)??(Number(a.total_amount)<15e5?15e3:0),m=Number(a.tax)??Math.round(Number(a.total_amount)*.04),u=Number(a.total_amount)+(f||0)+(m||0),h=b2(a.order_status),x=a.order_status===" giao"||a.order_status===" hy",y=async()=>{if(l===a.order_status){Y("Trng thi khng thay i","info");return}i(!0);try{await n(a.order_id,l),Y("Cp nht trng thi thnh cng","success"),a.order_status=l,t("/admin/orders")}catch(g){console.error("Error updating status:",g),Y(g.message||"Khng th cp nht trng thi","error")}finally{i(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CHI TIT N HNG"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["M n hng ",r.jsxs("span",{className:"font-semibold",children:["#",a.order_id]})," ",""," ",a.order_date&&new Date(a.order_date).toLocaleDateString("vi-VN")]})]}),r.jsx("button",{className:"px-6 py-3 border-2 border-black hover:bg-black hover:text-white transition-colors font-semibold",onClick:()=>t("/admin/orders"),children:"Quay li"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-bold mb-4 uppercase tracking-wider",children:"Cp nht trng thi"}),r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:"Trng thi n hng"}),r.jsx("select",{disabled:x,value:l,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none bg-white",children:v2.map(g=>r.jsx("option",{value:g,children:g},g))})]}),r.jsx("button",{onClick:y,disabled:x||s||l===a.order_status,className:"px-6 py-3 bg-black text-white font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"ang cp nht...":"Cp nht"})]})]}),r.jsx("div",{className:"bg-white border border-gray-200",children:(p=a.orderProducts)==null?void 0:p.map((g,w)=>{var v,j,k,S,T,O,C,N,_,P,A,L,B,q,z;return r.jsxs("div",{className:"flex flex-col md:flex-row border-b border-gray-200 last:border-b-0 p-6",children:[r.jsx("div",{className:"md:w-1/3 flex-shrink-0 flex items-center justify-center mb-6 md:mb-0",children:r.jsx("img",{src:((j=(v=g.Variant)==null?void 0:v.Product)==null?void 0:j.product_image)||"/placeholder.jpg",alt:(S=(k=g.Variant)==null?void 0:k.Product)==null?void 0:S.product_name,className:"w-full h-auto max-w-[350px] object-cover bg-gray-100"})}),r.jsxs("div",{className:"md:w-2/3 md:pl-8 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-xl mb-2",children:(O=(T=g.Variant)==null?void 0:T.Product)==null?void 0:O.product_name}),r.jsxs("div",{className:"text-lg font-semibold text-gray-700 mb-3",children:[Sa(g.price_at_time),"  ",g.quantity," ="," ",Sa(g.price_at_time*g.quantity)]}),r.jsx("div",{className:"text-gray-600 mb-3",children:(N=(C=g.Variant)==null?void 0:C.Product)==null?void 0:N.product_description}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-500",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Size:"})," ",((_=g.Variant)==null?void 0:_.variant_size)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Mu:"})," ",((P=g.Variant)==null?void 0:P.variant_color)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Loi:"})," ",(B=(L=(A=g.Variant)==null?void 0:A.Product)==null?void 0:L.Category)==null?void 0:B.category_name]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:(q=wn[h])!=null&&q.label?`${(z=wn[h])==null?void 0:z.label} vo ngy ${a.order_date&&new Date(a.order_date).toLocaleDateString("vi-VN")}`:" hy"}),r.jsxs("div",{className:"w-full flex flex-col gap-2",children:[r.jsxs("div",{className:"relative w-full h-1.5 bg-gray-200",children:[r.jsx("div",{className:`absolute top-0 left-0 h-1.5 ${h===-1?"bg-red-500":"bg-black"}`,style:{width:h===-1?"0%":`${(h+1)/wn.length*100}%`,transition:"width 0.3s"}}),r.jsx("div",{className:"absolute top-1/2 left-0 w-full flex justify-between items-center pointer-events-none",style:{transform:"translateY(-50%)"},children:wn.map(($,M)=>r.jsx("div",{className:`w-3 h-3 flex items-center justify-center font-bold text-[10px] ${h===-1?M===0?"bg-red-500 text-white":"bg-gray-300 text-gray-400":M<=h?"bg-black text-white":"bg-gray-300 text-gray-400"}`,style:{borderRadius:"50%",zIndex:2,boxShadow:M===h&&h!==-1?"0 0 0 2px #000":void 0}},$.key))})]}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-black font-medium",children:[wn.map(($,M)=>r.jsx("span",{className:h===-1&&M===0||M===h&&h!==-1?"underline":"",children:$.label},$.key)),h===-1&&r.jsx("span",{className:"text-red-500 font-semibold ml-2",children:" hy"})]})]})]})]})]},w)})}),r.jsxs("div",{className:"bg-gray-100 border border-gray-200",children:[r.jsxs("div",{className:"px-8 pt-8 pb-4",children:[r.jsx("div",{className:"font-bold text-lg mb-4 uppercase tracking-wider",children:"Thng tin thanh ton"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Tn ngi nhn:"})," ",a.recipient_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"S in thoi:"})," ",a.recipient_phone]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("span",{className:"font-semibold",children:"a ch:"})," ",a.recipient_address]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Phng thc thanh ton:"})," ",o]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Trng thi thanh ton:"})," ",r.jsx("span",{className:d===" thanh ton"?"text-green-600 font-bold":"text-yellow-600 font-bold",children:d})]})]})]}),r.jsx("div",{className:"border-t border-gray-300 mx-8"}),r.jsxs("div",{className:"px-8 py-6",children:[r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Tm tnh"}),r.jsx("span",{children:Sa(a.total_amount)})]}),r.jsxs("div",{className:"mb-2 flex justify-between text-gray-700 text-sm",children:[r.jsx("span",{children:"Ph vn chuyn"}),r.jsx("span",{children:f===0?"Min ph":Sa(f)})]}),r.jsxs("div",{className:"mt-4 flex justify-between text-black font-bold text-lg border-t pt-3",children:[r.jsx("span",{children:"Tng cng"}),r.jsx("span",{children:Sa(u)})]})]})]})]})}const Sf="https://pantherashop.onrender.com",j2=({isOpen:e,onClose:t,onSuccess:n})=>{const[a,s]=E.useState(null),[i,l]=E.useState(!1),c=async()=>{try{const f=localStorage.getItem("token"),m=await fetch(`${Sf}/admin/products/excel/template`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${f}`}});if(!m.ok)throw new Error("Failed to download template");const u=await m.blob(),h=window.URL.createObjectURL(u),x=document.createElement("a");x.href=h,x.download="template_inventory_stock.xlsx",document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(h),document.body.removeChild(x),Y(" ti template thnh cng","success")}catch(f){console.error("Download template error:",f),Y("Khng th ti template","error")}},o=async()=>{if(a){l(!0);try{const f=localStorage.getItem("token"),m=new FormData;m.append("excel",a);const u=await fetch(`${Sf}/admin/inventory/excel/import-stock`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${f}`},body:m});if(!u.ok)throw new Error("Failed to import Excel");const h=await u.json();if(!h.success)throw new Error(h.message||"Import failed");Y(h.message||"Import thnh cng","success"),n==null||n(),t()}catch(f){console.error("Import error:",f),Y(f instanceof Error?f.message:"Khng th import file","error")}finally{l(!1)}}},d=()=>{i||(s(null),t())};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:r.jsxs("div",{className:"bg-white shadow-2xl w-full max-w-2xl p-0 relative border border-gray-300 flex flex-col",style:{borderRadius:0,minHeight:480},children:[r.jsxs("div",{className:"flex items-center justify-between px-10 py-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight text-black",children:"Import tn kho t Excel"}),r.jsx("button",{className:"text-gray-400 hover:text-black text-3xl",onClick:d,disabled:i,title:"ng",children:r.jsx("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),r.jsxs("form",{className:"flex-1 px-10 py-8 flex flex-col gap-8 justify-center",onSubmit:f=>{f.preventDefault(),o()},children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Hng dn s dng:"}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"Ti file mu Excel bn di"}),r.jsx("li",{children:'in thng tin vo sheet "Variants": product_name, variant_size, variant_color, variant_stock'}),r.jsx("li",{children:"Ch cc variant  tn ti trong h thng mi c cp nht"}),r.jsx("li",{children:"Upload file Excel  in  import"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-semibold mb-3 text-gray-700",children:"Ti file mu"}),r.jsx("button",{className:"w-full px-5 py-4 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 hover:bg-gray-200 text-base font-semibold text-black transition-colors duration-200 shadow-sm disabled:opacity-50",style:{borderRadius:0},onClick:c,type:"button",disabled:i,children:"Bm  ti file mu Excel"}),r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:'S dng sheet "Variants"  cp nht stock cho cc bin th  c'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-semibold mb-3 text-gray-700",children:"Import file Excel"}),r.jsx("input",{type:"file",accept:".xlsx,.xls",className:"block w-full text-base text-gray-700 file:mr-4 file:py-4 file:px-4 file:rounded-none file:border-0 file:text-base file:font-semibold file:bg-gray-50 file:text-black hover:file:bg-gray-100 border border-gray-300 disabled:opacity-50",onChange:f=>{var m;return s(((m=f.target.files)==null?void 0:m[0])||null)},style:{borderRadius:0},disabled:i}),a&&r.jsxs("div",{className:"text-sm text-green-700 mt-2",children:[" chn: ",r.jsx("span",{className:"font-semibold",children:a.name})]})]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{className:"px-6 py-3 bg-white border border-gray-300 hover:bg-gray-100 text-lg font-medium transition-colors duration-200 disabled:opacity-50",style:{borderRadius:0},onClick:d,type:"button",disabled:i,children:"Hy"}),r.jsx("button",{className:"px-6 py-3 bg-black text-white hover:bg-gray-900 text-lg font-semibold transition-colors duration-200 disabled:opacity-50",style:{borderRadius:0},type:"submit",disabled:!a||i,children:i?"ang import...":"Import"})]})]})]})}):null},Js="https://pantherashop.onrender.com",Eg=E.createContext(void 0),N2=({children:e})=>{const[t,n]=E.useState([]),[a,s]=E.useState(!1),i=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}),l=async()=>{s(!0);try{const f=await fetch(`${Js}/admin/inventory`,{method:"GET",headers:i()});if(!f.ok)throw new Error("Failed to fetch products");const m=await f.json();let u=[];Array.isArray(m)?u=m:m.products&&Array.isArray(m.products)&&(u=m.products);const h=new Map;u.forEach(x=>{var p,g,w,v,j,k,S,T,O;const y=((p=x.Product)==null?void 0:p.product_id)||x.product_id;h.has(y)||h.set(y,{product_id:y,product_name:((g=x.Product)==null?void 0:g.product_name)||"",product_description:((w=x.Product)==null?void 0:w.product_description)||"",product_price:((v=x.Product)==null?void 0:v.product_price)||0,product_image:((j=x.Product)==null?void 0:j.product_image)||"",created_at:((k=x.Product)==null?void 0:k.created_at)||"",is_active:((S=x.Product)==null?void 0:S.is_active)??!0,Variant:[]});const b=h.get(y);Array.isArray(b.Variant)&&b.Variant.push({variant_id:x.variant_id,variant_size:x.variant_size,variant_color:x.variant_color,variant_stock:x.variant_stock,product_id:y,product_name:(T=x.Product)==null?void 0:T.product_name,product_image:(O=x.Product)==null?void 0:O.product_image,created_at:x.created_at})}),n(Array.from(h.values()))}catch(f){throw n([]),f}finally{s(!1)}},c=async f=>{s(!0);try{const m={...f,variant_size:f.variant_size||"Standard",variant_color:f.variant_color||"Default",variant_stock:f.variant_stock||0,product_id:typeof f.product_id=="string"?parseInt(f.product_id):f.product_id},u=await fetch(`${Js}/admin/inventory`,{method:"POST",headers:i(),body:JSON.stringify(m)});if(!u.ok){const h=await u.json();throw new Error(h.message||"Failed to create variant")}await l()}catch(m){throw m}finally{s(!1)}},o=async(f,m)=>{s(!0);try{const u={variant_size:m.variant_size,variant_color:m.variant_color,variant_stock:m.variant_stock},h=await fetch(`${Js}/admin/inventory/${f}`,{method:"PUT",headers:i(),body:JSON.stringify(u)});if(!h.ok){const x=await h.json();throw new Error(x.message||"Failed to update variant")}await l()}catch(u){throw u}finally{s(!1)}},d=async f=>{s(!0);try{const m=await fetch(`${Js}/admin/inventory/${f}`,{method:"DELETE",headers:i()});if(!m.ok){const u=await m.json();throw new Error(u.message||"Failed to delete variant")}await l()}catch(m){throw m}finally{s(!1)}};return r.jsx(Eg.Provider,{value:{products:t,loading:a,fetchProducts:l,createVariant:c,updateVariant:o,deleteVariant:d},children:e})},Hu=()=>{const e=E.useContext(Eg);if(!e)throw new Error("useInventory must be used within InventoryProvider");return e},_2=({isOpen:e,onClose:t,onSuccess:n})=>{const{createVariant:a}=Hu(),{getAllProducts:s}=_s(),[i,l]=E.useState({product_id:"",variant_size:"",variant_color:"",variant_stock:"0"}),[c,o]=E.useState([]),[d,f]=E.useState(!1);E.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{const y=await s();o(y)}catch(y){console.error("Error fetching products:",y),Y("Khng th ti danh sch sn phm","error")}},u=y=>{const{name:b,value:p}=y.target;l(g=>({...g,[b]:p}))},h=async y=>{y.preventDefault(),f(!0);try{if(!i.variant_size.trim()&&!i.variant_color.trim()){Y("Vui lng nhp t nht kch c hoc mu sc","error"),f(!1);return}const b={product_id:parseInt(i.product_id),variant_size:i.variant_size.trim()||"Standard",variant_color:i.variant_color.trim()||"Default",variant_stock:parseInt(i.variant_stock)};await a(b),Y("To bin th thnh cng!","success"),n(),t(),x()}catch(b){console.error("Error creating variant:",b),Y(b.message||"C li xy ra khi to bin th","error")}finally{f(!1)}},x=()=>{l({product_id:"",variant_size:"",variant_color:"",variant_stock:"0"})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO BIN TH MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm bin th mi cho sn phm"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:h,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"SN PHM *"}),r.jsxs("select",{name:"product_id",value:i.product_id,onChange:u,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"",children:"Chn sn phm"}),c.map(y=>r.jsx("option",{value:y.product_id,children:y.product_name},y.product_id))]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN BIN TH"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_size",value:i.variant_size,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_color",value:i.variant_color,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"S LNG TN KHO *"}),r.jsx("input",{type:"number",name:"variant_stock",value:i.variant_stock,onChange:u,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",min:"0",required:!0})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:d?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang to..."]}):"To bin th"})]})]})]})}):null},k2=({isOpen:e,variant:t,onClose:n,onSuccess:a})=>{const{updateVariant:s}=Hu(),[i,l]=E.useState({variant_size:"",variant_color:"",variant_stock:"0"}),[c,o]=E.useState(!1);E.useEffect(()=>{var m;t&&e&&l({variant_size:t.variant_size||"",variant_color:t.variant_color||"",variant_stock:((m=t.variant_stock)==null?void 0:m.toString())||"0"})},[t,e]);const d=m=>{const{name:u,value:h}=m.target;l(x=>({...x,[u]:h}))},f=async m=>{if(m.preventDefault(),!!t){o(!0);try{if(!i.variant_size.trim()&&!i.variant_color.trim()){Y("Vui lng nhp t nht kch c hoc mu sc","error"),o(!1);return}const u={variant_size:i.variant_size.trim()||"Standard",variant_color:i.variant_color.trim()||"Default",variant_stock:parseInt(i.variant_stock),product_id:t.product_id};await s(t.variant_id,u),Y("Cp nht bin th thnh cng!","success"),a(),n()}catch(u){console.error("Error updating variant:",u),Y(u.message||"C li xy ra khi cp nht bin th","error")}finally{o(!1)}}};return!e||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CP NHT BIN TH"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chnh sa thng tin bin th sn phm"})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:f,className:"px-8 py-8 space-y-8",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-600 mb-2",children:"SN PHM"}),r.jsx("p",{className:"text-lg font-medium",children:t.product_name})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"THNG TIN BIN TH"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["KCH C"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_size",value:i.variant_size,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"S, M, L, XL..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:["MU SC"," ",r.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(ty chn)"})]}),r.jsx("input",{type:"text",name:"variant_color",value:i.variant_color,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:", Xanh, Vng..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"S LNG TN KHO *"}),r.jsx("input",{type:"number",name:"variant_stock",value:i.variant_stock,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 text-lg",placeholder:"0",min:"0",required:!0})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:c?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang cp nht..."]}):"Cp nht bin th"})]})]})]})})},S2=({isOpen:e,variant:t,onClose:n,onEdit:a,onDelete:s})=>{const i=o=>o?new Date(o).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}):"-",l=o=>o===0?{label:"Ht hng",color:"bg-red-100 text-red-800"}:o<20?{label:"Sp ht",color:"bg-yellow-100 text-yellow-800"}:{label:"Cn hng",color:"bg-green-100 text-green-800"};if(!e||!t)return null;const c=l(t.variant_stock);return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-8 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-sm uppercase tracking-wider font-medium",children:"CHI TIT BIN TH"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Chnh sa",children:r.jsx(Lt,{size:18})}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Xa",children:r.jsx(It,{size:18})}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(be,{size:20})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"aspect-square bg-gray-50 overflow-hidden",children:t.product_image?r.jsx("img",{src:t.product_image,alt:t.product_name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"flex items-center justify-center h-full text-gray-300",children:r.jsx(xr,{size:80,strokeWidth:1})})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"SN PHM"}),r.jsx("h1",{className:"text-2xl font-medium",children:t.product_name||"Khng c tn"})]}),r.jsxs("div",{className:"space-y-4 pb-6 border-b",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"KCH C"}),r.jsx("div",{className:"font-medium text-lg",children:t.variant_size||"Standard"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"MU SC"}),r.jsx("div",{className:"font-medium text-lg",children:t.variant_color||"Default"})]})]}),r.jsxs("div",{className:"space-y-4 pb-6 border-b",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"S LNG TN KHO"}),r.jsx("div",{className:"text-3xl font-medium",children:t.variant_stock})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500",children:"TRNG THI"}),r.jsx("span",{className:`px-3 py-1 text-xs uppercase tracking-wider font-medium ${c.color}`,children:c.label})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"M BIN TH"}),r.jsxs("div",{className:"text-sm font-mono text-gray-600",children:["#",t.variant_id]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 mb-1",children:"NGY TO"}),r.jsx("div",{className:"text-sm text-gray-600",children:i(t.created_at)})]})]})]})]})})]})})},T2=e=>e===0?{label:"Ht hng",color:"bg-red-100 text-red-800"}:e<20?{label:"Sp ht",color:"bg-yellow-100 text-yellow-800"}:{label:"Cn hng",color:"bg-green-100 text-green-800"},C2=()=>{const{products:e,fetchProducts:t}=Hu(),[n,a]=E.useState(""),[s,i]=E.useState(!1),[l,c]=E.useState(!1),[o,d]=E.useState(!1),[f,m]=E.useState(!1),[u,h]=E.useState(!1),[x,y]=E.useState(null),[b,p]=E.useState(null),[g,w]=E.useState(1);E.useEffect(()=>{v()},[]);const v=async()=>{i(!0);try{await t()}catch{Y("Khng th ti d liu","error")}finally{i(!1)}},j=z=>{p(b===z?null:z)},k=e.filter(z=>{var $,M,I;return n?(($=z.product_name)==null?void 0:$.toLowerCase().includes(n.toLowerCase()))||(Array.isArray(z.Variant)?z.Variant.some(V=>{var F,H;return((F=V.variant_size)==null?void 0:F.toLowerCase().includes(n.toLowerCase()))||((H=V.variant_color)==null?void 0:H.toLowerCase().includes(n.toLowerCase()))}):z.Variant&&(((M=z.Variant.variant_size)==null?void 0:M.toLowerCase().includes(n.toLowerCase()))||((I=z.Variant.variant_color)==null?void 0:I.toLowerCase().includes(n.toLowerCase())))):!0}),S=e.length,T=e.flatMap(z=>Array.isArray(z.Variant)?z.Variant:z.Variant?[z.Variant]:[]),O=T.length,C=T.filter(z=>z.variant_stock>=20).length,N=T.filter(z=>z.variant_stock>0&&z.variant_stock<20).length,_=T.filter(z=>z.variant_stock===0).length,P=10,A=Math.ceil(k.length/P),L=(g-1)*P,B=L+P,q=k.slice(L,B);return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-lg font-medium",children:"ang ti..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l kho"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l tn kho v bin th sn phm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-black text-black hover:bg-gray-100 transition-colors duration-200",children:[r.jsxs("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M12 3v12m0 0l-4-4m4 4l4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("rect",{x:"4",y:"17",width:"16",height:"4",rx:"2",stroke:"currentColor",strokeWidth:"2"})]}),r.jsx("span",{className:"font-medium",children:"Import Excel"})]}),r.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-black text-white hover:bg-gray-800 transition-colors duration-200",children:[r.jsx(ut,{size:20}),r.jsx("span",{className:"font-medium",children:"Thm bin th"})]})]})]}),r.jsx(j2,{isOpen:u,onClose:()=>h(!1)}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Tng sn phm"}),r.jsx("p",{className:"text-3xl font-bold text-black",children:S})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Tng bin th"}),r.jsx("p",{className:"text-3xl font-bold text-black",children:O})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Cn hng"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:C})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Sp ht"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:N})]}),r.jsxs("div",{className:"bg-white p-6 border border-gray-200 hover:border-black transition-all duration-300",children:[r.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Ht hng"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:_})]})]}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:r.jsx("div",{className:"flex-1 relative min-w-80",children:r.jsx("input",{type:"text",placeholder:"Tm kim sn phm, size, mu sc...",value:n,onChange:z=>a(z.target.value),className:"w-full pl-4 pr-4 py-2.5 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})})})}),r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Sn phm"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:q.map(z=>r.jsxs(Ne.Fragment,{children:[r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[z.product_image?r.jsx("img",{src:z.product_image,alt:z.product_name,className:"w-12 h-12 object-cover border border-gray-200"}):r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center",children:r.jsx(xr,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-black",children:z.product_name}),r.jsx("p",{className:"text-xs text-gray-500",children:z.product_description})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("button",{type:"button",onClick:()=>j(z.product_id),className:"flex items-center gap-1 px-3 py-1 border rounded hover:bg-gray-100",children:[b===z.product_id?r.jsx(ib,{size:16}):r.jsx(ra,{size:16}),r.jsx("span",{className:"text-sm font-medium",children:b===z.product_id?"n bin th":"Xem bin th"})]})})]}),b===z.product_id&&r.jsx("tr",{children:r.jsx("td",{colSpan:2,className:"bg-gray-50 px-6 py-4",children:Array.isArray(z.Variant)?z.Variant.length>0?r.jsxs("table",{className:"w-full border border-gray-200",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase",children:[r.jsx("th",{className:"px-4 py-3",children:"Size"}),r.jsx("th",{className:"px-4 py-3",children:"Mu"}),r.jsx("th",{className:"px-4 py-3",children:"Tn kho"}),r.jsx("th",{className:"px-4 py-3",children:"Trng thi"}),r.jsx("th",{className:"px-4 py-3",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:z.Variant.map($=>{const M=T2($.variant_stock),I={...$,product_name:z.product_name,product_image:z.product_image};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-black",children:$.variant_size||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:$.variant_color||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm font-semibold",children:$.variant_stock}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${M.color}`,children:M.label})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{y(I),m(!0)},className:"p-1.5 hover:bg-blue-50 rounded transition-colors",title:"Xem chi tit",children:r.jsx(Et,{size:16,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>{y(I),d(!0)},className:"p-1.5 hover:bg-gray-100 rounded transition-colors",title:"Chnh sa",children:r.jsx(Lt,{size:16,className:"text-gray-600"})})]})})]},$.variant_id)})})]}):r.jsx("div",{className:"text-gray-400",children:"Khng c bin th no"}):z.Variant?r.jsxs("div",{children:[r.jsxs("span",{children:["Size: ",z.Variant.variant_size]}),r.jsxs("span",{children:["Mu: ",z.Variant.variant_color]}),r.jsxs("span",{children:["Tn kho: ",z.Variant.variant_stock]})]}):r.jsx("div",{className:"text-gray-400",children:"Khng c bin th no"})})})]},z.product_id))})]})}),A>1&&r.jsxs("div",{className:"flex items-center justify-between bg-white px-6 py-4 border border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Hin th ",L+1," -"," ",Math.min(B,k.length)," trong s"," ",k.length," sn phm"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(z=>Math.max(1,z-1)),disabled:g===1,className:"px-4 py-2 border border-gray-300 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Trc"}),Array.from({length:A},(z,$)=>$+1).map(z=>r.jsx("button",{onClick:()=>w(z),className:`px-4 py-2 border transition-colors duration-200 ${g===z?"bg-black text-white border-black":"border-gray-300 bg-white hover:bg-gray-50"}`,children:z},z)),r.jsx("button",{onClick:()=>w(z=>Math.min(A,z+1)),disabled:g===A,className:"px-4 py-2 border border-gray-300 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Sau"})]})]}),l&&r.jsx(_2,{isOpen:l,onClose:()=>c(!1),onSuccess:v}),o&&x&&r.jsx(k2,{isOpen:o,variant:x,onClose:()=>{d(!1),y(null)},onSuccess:v}),f&&x&&r.jsx(S2,{isOpen:f,variant:x,onClose:()=>{m(!1),y(null)},onEdit:()=>d(!0),onDelete:()=>{}})]})},E2=()=>{const{getAllCategories:e,createCategory:t,updateCategory:n,deleteCategory:a,loading:s}=Kt(),[i,l]=E.useState([]),[c,o]=E.useState(""),[d,f]=E.useState(!1),[m,u]=E.useState(null),[h,x]=E.useState(null),[y,b]=E.useState({category_name:"",category_description:""});E.useEffect(()=>{p()},[]);const p=async()=>{try{const O=await e();l(O)}catch(O){console.error("Error fetching categories:",O),Y("Khng th ti danh mc","error")}},g=async O=>{O.preventDefault();try{m?(await n(m.category_id,y),Y("Cp nht danh mc thnh cng","success")):(await t(y),Y("To danh mc thnh cng","success")),f(!1),u(null),j(),p()}catch(C){console.error("Error saving category:",C)}},w=O=>{u(O),b({category_name:O.category_name,category_description:O.category_description||""}),f(!0)},v=async()=>{if(h)try{await a(h.category_id),Y("Xa danh mc thnh cng","success"),x(null),p()}catch(O){console.error("Error deleting category:",O)}},j=()=>{b({category_name:"",category_description:""}),u(null)},k=()=>{f(!1),j()},S=i.filter(O=>{var C;return O.category_name.toLowerCase().includes(c.toLowerCase())||((C=O.category_description)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))}),T=O=>new Date(O).toLocaleDateString("vi-VN");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"text-blue-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Danh mc sn phm"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc danh mc sn phm"})]}),r.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(ut,{size:20}),"Thm danh mc"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim danh mc...",value:c,onChange:O=>o(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]})}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(O=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(yr,{className:"text-blue-600",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:O.category_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[O.product_count||0," sn phm"]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(yl,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>w(O),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Lt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>x(O),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(It,{size:14}),"Xa"]})]})]})]}),O.category_description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:O.category_description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["To: ",T(O.created_at)]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem sn phm",r.jsx(pn,{size:12})]})]})]},O.category_id))}),S.length===0&&!s&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(yr,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy danh mc"}),r.jsx("p",{className:"text-gray-500",children:c?"Th tm kim vi t kha khc":"Cha c danh mc no"})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:m?"Chnh sa danh mc":"Thm danh mc mi"})}),r.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn danh mc *"}),r.jsx("input",{type:"text",value:y.category_name,onChange:O=>b(C=>({...C,category_name:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),r.jsx("textarea",{value:y.category_description,onChange:O=>b(C=>({...C,category_description:O.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:s?"ang lu...":m?"Cp nht":"To mi"})]})]})]})}),r.jsx(aa,{isOpen:!!h,title:"Xa danh mc",message:`Bn c chc chn mun xa danh mc "${h==null?void 0:h.category_name}"? Hnh ng ny khng th hon tc.`,onConfirm:v,onClose:()=>x(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},Pg=({currentImage:e,onImageSelect:t,onImageRemove:n,placeholder:a="Chn nh",disabled:s=!1,maxSizeMB:i=2,className:l="w-24 h-24"})=>{const c=E.useRef(null),o=m=>{var x;const u=(x=m.target.files)==null?void 0:x[0];if(!u)return;if(!u.type.startsWith("image/")){Y("Vui lng chn file nh","error");return}const h=i*1024*1024;if(u.size>h){Y(`File nh khng c vt qu ${i}MB`,"error");return}t(u),Y(" chn nh thnh cng","success")},d=()=>{var m;s||(m=c.current)==null||m.click()},f=m=>{m.stopPropagation(),n(),c.current&&(c.current.value="")};return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`${l} bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden cursor-pointer hover:border-gray-400 transition-colors ${s?"opacity-50 cursor-not-allowed":""}`,onClick:d,children:e?r.jsx("img",{src:e,alt:"Preview",className:"w-full h-full object-cover"}):r.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[r.jsx(Fi,{className:"w-6 h-6 mb-1"}),r.jsx("span",{className:"text-xs text-center",children:a})]})}),!e&&r.jsx("button",{type:"button",onClick:d,disabled:s,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600 disabled:opacity-50 transition-colors duration-200",title:"Chn nh",children:r.jsx(Fi,{size:14})}),e&&r.jsx("button",{type:"button",onClick:f,disabled:s,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 disabled:opacity-50 transition-colors duration-200",title:"Xa nh",children:r.jsx(be,{size:12})}),r.jsx("input",{type:"file",ref:c,onChange:o,accept:"image/*",className:"hidden"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Ti a ",i,"MB",r.jsx("br",{}),"JPG, PNG, GIF"]})]})},P2=()=>{const{getAllSports:e,createSport:t,updateSport:n,deleteSport:a,loading:s}=Kt(),[i,l]=E.useState([]),[c,o]=E.useState(""),[d,f]=E.useState(!1),[m,u]=E.useState(null),[h,x]=E.useState(null),[y,b]=E.useState(null),[p,g]=E.useState(""),[w,v]=E.useState({sport_name:"",has_teams:!0,has_tournament:!0,sport_icon:""});E.useEffect(()=>{j()},[]);const j=async()=>{try{const L=(await e()).map(B=>{var q,z;return{...B,tournament_count:((q=B.Tournaments)==null?void 0:q.length)||0,team_count:((z=B.Tournaments)==null?void 0:z.reduce(($,M)=>{var I;return $+(((I=M.Teams)==null?void 0:I.length)||0)},0))||0}});l(L)}catch(A){console.error("Error fetching sports:",A),Y("Khng th ti mn th thao","error")}},k=async A=>{A.preventDefault();try{const L={sport_name:w.sport_name,has_teams:w.has_teams,has_tournaments:w.has_tournament,sport_icon:y?void 0:w.sport_icon};m?(await n(m.sport_id,L,y||void 0),Y("Cp nht mn th thao thnh cng","success")):(await t(L,y||void 0),Y("To mn th thao thnh cng","success")),f(!1),u(null),O(),j()}catch(L){console.error("Error saving sport:",L)}},S=A=>{u(A),v({sport_name:A.sport_name,has_teams:A.has_teams===1,has_tournament:A.has_tournament===1,sport_icon:A.sport_icon||""}),b(null),g(A.sport_icon||""),f(!0)},T=async()=>{if(h)try{await a(h.sport_id),Y("Xa mn th thao thnh cng","success"),x(null),j()}catch(A){console.error("Error deleting sport:",A)}},O=()=>{v({sport_name:"",has_teams:!0,has_tournament:!0,sport_icon:""}),u(null),b(null),g("")},C=A=>{b(A);const L=URL.createObjectURL(A);g(L)},N=()=>{b(null),g(""),m&&v(A=>({...A,sport_icon:""}))},_=()=>{f(!1),O()},P=i.filter(A=>A.sport_name.toLowerCase().includes(c.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fn,{className:"text-orange-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mn th thao"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc mn th thao v cu hnh"})]}),r.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(ut,{size:20}),"Thm mn th thao"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim mn th thao...",value:c,onChange:A=>o(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]})}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(A=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-2xl overflow-hidden",children:A.sport_icon?r.jsx("img",{src:A.sport_icon,alt:A.sport_name,className:"w-full h-full object-cover rounded-lg",onError:L=>{L.currentTarget.style.display="none",L.currentTarget.parentElement.innerHTML='<svg class="text-orange-600" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>'}}):r.jsx(Fn,{className:"text-orange-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:A.sport_name}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[r.jsxs("span",{children:[A.tournament_count||0," gii u"]}),r.jsxs("span",{children:[A.team_count||0," i"]})]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(yl,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>S(A),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Lt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>x(A),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(It,{size:14}),"Xa"]})]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"C i:"}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${A.has_teams?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.has_teams?"C":"Khng"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"C gii u:"}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${A.has_tournament?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.has_tournament?"C":"Khng"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["ID: #",A.sport_id]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem chi tit",r.jsx(pn,{size:12})]})]})]},A.sport_id))}),P.length===0&&!s&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Fn,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy mn th thao"}),r.jsx("p",{className:"text-gray-500",children:c?"Th tm kim vi t kha khc":"Cha c mn th thao no"})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:m?"Chnh sa mn th thao":"Thm mn th thao mi"})}),r.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn mn th thao *"}),r.jsx("input",{type:"text",value:w.sport_name,onChange:A=>v(L=>({...L,sport_name:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon mn th thao"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Pg,{currentImage:p||w.sport_icon,onImageSelect:C,onImageRemove:N,placeholder:"Icon th thao",maxSizeMB:2,className:"w-20 h-20"})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"has_teams",checked:w.has_teams,onChange:A=>v(L=>({...L,has_teams:A.target.checked})),className:"h-4 w-4 text-black focus:ring-black border-gray-300 rounded"}),r.jsx("label",{htmlFor:"has_teams",className:"ml-2 block text-sm text-gray-900",children:"Mn th thao ny c i/CLB"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"has_tournament",checked:w.has_tournament,onChange:A=>v(L=>({...L,has_tournament:A.target.checked})),className:"h-4 w-4 text-black focus:ring-black border-gray-300 rounded"}),r.jsx("label",{htmlFor:"has_tournament",className:"ml-2 block text-sm text-gray-900",children:"Mn th thao ny c gii u"})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:s?"ang lu...":m?"Cp nht":"To mi"})]})]})]})}),r.jsx(aa,{isOpen:!!h,title:"Xa mn th thao",message:`Bn c chc chn mun xa mn th thao "${h==null?void 0:h.sport_name}"? Tt c gii u v i lin quan s b xa. Hnh ng ny khng th hon tc.`,onConfirm:T,onClose:()=>x(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},O2=()=>{const{getAllTournaments:e,getAllSports:t,createTournament:n,updateTournament:a,deleteTournament:s,loading:i}=Kt(),[l,c]=E.useState([]),[o,d]=E.useState([]),[f,m]=E.useState(""),[u,h]=E.useState(!1),[x,y]=E.useState(null),[b,p]=E.useState(null),[g,w]=E.useState(""),[v,j]=E.useState(null),[k,S]=E.useState(""),[T,O]=E.useState({tournament_name:"",tournament_description:"",sport_id:"",tournament_icon:""}),C=M=>{j(M)},N=()=>{j(null),S("")};E.useEffect(()=>{P(),_()},[]);const _=async()=>{try{const M=await t();d(M)}catch(M){console.error("Error fetching sports:",M),Y("Khng th ti mn th thao","error")}},P=async()=>{try{const I=(await e()).map(V=>{var F,H;return{...V,sport_name:(F=V.Sport)==null?void 0:F.sport_name,team_count:((H=V.Teams)==null?void 0:H.length)||0}});c(I)}catch(M){console.error("Error fetching tournaments:",M),Y("Khng th ti gii u","error")}},A=async M=>{M.preventDefault();try{const I={tournament_name:T.tournament_name,tournament_description:T.tournament_description,sport_id:parseInt(T.sport_id),tournament_icon:T.tournament_icon,...v&&{imageFile:v}};x?(await a(x.tournament_id,I),Y("Cp nht gii u thnh cng","success")):(await n(I),Y("To gii u thnh cng","success")),h(!1),y(null),q(),P()}catch(I){console.error("Error saving tournament:",I),Y("C li xy ra","error")}},L=M=>{y(M),O({tournament_name:M.tournament_name,tournament_description:M.tournament_description||"",sport_id:M.sport_id.toString(),tournament_icon:M.tournament_icon||""}),S(M.tournament_icon||""),j(null),h(!0)},B=async()=>{if(b)try{await s(b.tournament_id),Y("Xa gii u thnh cng","success"),p(null),P()}catch(M){console.error("Error deleting tournament:",M)}},q=()=>{O({tournament_name:"",tournament_description:"",sport_id:"",tournament_icon:""}),y(null),j(null),S("")},z=()=>{h(!1),q()},$=l.filter(M=>{var F;const I=M.tournament_name.toLowerCase().includes(f.toLowerCase())||((F=M.tournament_description)==null?void 0:F.toLowerCase().includes(f.toLowerCase())),V=!g||M.sport_id.toString()===g;return I&&V});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bn,{className:"text-purple-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gii u"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc gii u theo mn th thao"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(ut,{size:20}),"Thm gii u"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim gii u...",value:f,onChange:M=>m(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsx("div",{className:"w-48",children:r.jsxs("select",{value:g,onChange:M=>w(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c mn th thao"}),o.map(M=>r.jsxs("option",{value:M.sport_id,children:[M.sport_icon," ",M.sport_name]},M.sport_id))]})})]})}),i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(M=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-2xl overflow-hidden",children:M.tournament_icon?r.jsx("img",{src:M.tournament_icon,alt:M.tournament_name,className:"w-full h-full object-cover rounded-lg",onError:I=>{I.currentTarget.style.display="none",I.currentTarget.parentElement.innerHTML='<svg class="text-purple-600" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>'}}):r.jsx(Bn,{className:"text-purple-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:M.tournament_name}),r.jsx("p",{className:"text-sm text-purple-600",children:M.sport_name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[M.team_count||0," i tham gia"]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(yl,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>L(M),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Lt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>p(M),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(It,{size:14}),"Xa"]})]})]})]}),M.tournament_description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:M.tournament_description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["ID: #",M.tournament_id]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem i",r.jsx(pn,{size:12})]})]})]},M.tournament_id))}),$.length===0&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Bn,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy gii u"}),r.jsx("p",{className:"text-gray-500",children:f||g?"Th thay i b lc":"Cha c gii u no"})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:x?"Chnh sa gii u":"Thm gii u mi"})}),r.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mn th thao *"}),r.jsxs("select",{value:T.sport_id,onChange:M=>O(I=>({...I,sport_id:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0,children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),o.map(M=>r.jsxs("option",{value:M.sport_id,children:[M.sport_icon," ",M.sport_name]},M.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn gii u *"}),r.jsx("input",{type:"text",value:T.tournament_name,onChange:M=>O(I=>({...I,tournament_name:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),r.jsx("textarea",{value:T.tournament_description,onChange:M=>O(I=>({...I,tournament_description:M.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon gii u"}),r.jsx(Pg,{onImageSelect:C,onImageRemove:N,currentImage:k||(x==null?void 0:x.tournament_icon),maxSizeMB:3})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:i?"ang lu...":x?"Cp nht":"To mi"})]})]})]})}),r.jsx(aa,{isOpen:!!b,title:"Xa gii u",message:`Bn c chc chn mun xa gii u "${b==null?void 0:b.tournament_name}"? Tt c i lin quan s b xa. Hnh ng ny khng th hon tc.`,onConfirm:B,onClose:()=>p(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},A2=()=>{const{getAllTeams:e,getAllTournaments:t,createTeam:n,updateTeam:a,deleteTeam:s,loading:i}=Kt(),[l,c]=E.useState([]),[o,d]=E.useState([]),[f,m]=E.useState(""),[u,h]=E.useState(!1),[x,y]=E.useState(null),[b,p]=E.useState(null),[g,w]=E.useState(""),[v,j]=E.useState({team_name:"",team_description:"",tournament_id:"",team_logo:""});E.useEffect(()=>{S(),k()},[]);const k=async()=>{try{const B=(await t()).map(q=>{var z,$;return{tournament_id:q.tournament_id,tournament_name:q.tournament_name,sport_id:(z=q.Sport)==null?void 0:z.sport_id,sport_name:($=q.Sport)==null?void 0:$.sport_name}});d(B)}catch(L){console.error("Error fetching tournaments:",L),Y("Khng th ti gii u","error")}},S=async()=>{try{const B=(await e()).map(q=>{var z,$,M;return{...q,tournament_name:(z=q.Tournament)==null?void 0:z.tournament_name,sport_name:(M=($=q.Tournament)==null?void 0:$.Sport)==null?void 0:M.sport_name}});c(B)}catch(L){console.error("Error fetching teams:",L),Y("Khng th ti i/CLB","error")}},T=async L=>{L.preventDefault();try{const B={team_name:v.team_name,team_description:v.team_description,tournament_id:parseInt(v.tournament_id),team_logo:v.team_logo};x?(await a(x.team_id,B),Y("Cp nht i/CLB thnh cng","success")):(await n(B),Y("To i/CLB thnh cng","success")),h(!1),y(null),N(),S()}catch(B){console.error("Error saving team:",B)}},O=L=>{y(L),j({team_name:L.team_name,team_description:L.team_description||"",tournament_id:L.tournament_id.toString(),team_logo:L.team_logo||""}),h(!0)},C=async()=>{if(b)try{await s(b.team_id),Y("Xa i/CLB thnh cng","success"),p(null),S()}catch(L){console.error("Error deleting team:",L)}},N=()=>{j({team_name:"",team_description:"",tournament_id:"",team_logo:""}),y(null)},_=()=>{h(!1),N()},P=L=>{var q;const B=(q=L.target.files)==null?void 0:q[0];if(B){const z=new FileReader;z.onloadend=()=>{j($=>({...$,team_logo:z.result}))},z.readAsDataURL(B)}},A=l.filter(L=>{var z;const B=L.team_name.toLowerCase().includes(f.toLowerCase())||((z=L.team_description)==null?void 0:z.toLowerCase().includes(f.toLowerCase())),q=!g||L.tournament_id.toString()===g;return B&&q});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nr,{className:"text-green-600",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"i/CLB"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc i v cu lc b"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:[r.jsx(ut,{size:20}),"Thm i/CLB"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim i/CLB...",value:f,onChange:L=>m(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsx("div",{className:"w-64",children:r.jsxs("select",{value:g,onChange:L=>w(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[r.jsx("option",{value:"",children:"Tt c gii u"}),o.map(L=>r.jsxs("option",{value:L.tournament_id,children:[L.tournament_name," (",L.sport_name,")"]},L.tournament_id))]})})]})}),i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(L=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-2xl overflow-hidden",children:L.team_logo?r.jsx("img",{src:L.team_logo,alt:L.team_name,className:"w-full h-full object-cover rounded-lg",onError:B=>{B.currentTarget.style.display="none",B.currentTarget.parentElement.innerHTML='<svg class="text-green-600" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V14H16V22H8V14H9.2V10C9.2,8.6 10.6,7 12,7Z"/></svg>'}}):r.jsx(nr,{className:"text-green-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:L.team_name}),r.jsx("p",{className:"text-sm text-green-600",children:L.tournament_name}),r.jsx("p",{className:"text-xs text-gray-500",children:L.sport_name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[L.product_count||0," sn phm"]})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(yl,{size:16,className:"text-gray-400"})}),r.jsxs("div",{className:"absolute right-0 top-8 bg-white border rounded-lg shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[r.jsxs("button",{onClick:()=>O(L),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Lt,{size:14}),"Chnh sa"]}),r.jsxs("button",{onClick:()=>p(L),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(It,{size:14}),"Xa"]})]})]})]}),L.team_description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:L.team_description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["ID: #",L.team_id]}),r.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:["Xem sn phm",r.jsx(pn,{size:12})]})]})]},L.team_id))}),A.length===0&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(nr,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy i/CLB"}),r.jsx("p",{className:"text-gray-500",children:f||g?"Th thay i b lc":"Cha c i/CLB no"})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-lg font-semibold",children:x?"Chnh sa i/CLB":"Thm i/CLB mi"})}),r.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gii u *"}),r.jsxs("select",{value:v.tournament_id,onChange:L=>j(B=>({...B,tournament_id:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0,children:[r.jsx("option",{value:"",children:"Chn gii u"}),o.map(L=>r.jsxs("option",{value:L.tournament_id,children:[L.tournament_name," (",L.sport_name,")"]},L.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn i/CLB *"}),r.jsx("input",{type:"text",value:v.team_name,onChange:L=>j(B=>({...B,team_name:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),r.jsx("textarea",{value:v.team_description,onChange:L=>j(B=>({...B,team_description:L.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo i"}),r.jsxs("div",{className:"flex items-center gap-3",children:[v.team_logo&&r.jsxs("div",{className:"relative",children:[v.team_logo.startsWith("data:")?r.jsx("img",{src:v.team_logo,alt:"Logo",className:"w-12 h-12 object-cover rounded"}):r.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-2xl bg-gray-100 rounded",children:v.team_logo}),r.jsx("button",{type:"button",onClick:()=>j(L=>({...L,team_logo:""})),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:r.jsx(be,{size:12})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"text",value:v.team_logo,onChange:L=>j(B=>({...B,team_logo:L.target.value})),placeholder:"Nhp emoji hoc text...",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"}),r.jsx("div",{className:"mt-2",children:r.jsxs("label",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(vl,{size:14}),"Hoc ti ln hnh nh",r.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]})})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Hy"}),r.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:i?"ang lu...":x?"Cp nht":"To mi"})]})]})]})}),r.jsx(aa,{isOpen:!!b,title:"Xa i/CLB",message:`Bn c chc chn mun xa i/CLB "${b==null?void 0:b.team_name}"? Tt c sn phm lin quan s mt thng tin i. Hnh ng ny khng th hon tc.`,onConfirm:C,onClose:()=>p(null),confirmText:"Xa",cancelText:"Hy",type:"danger"})]})},L2=()=>{const[e,t]=E.useState("overview"),[n,a]=E.useState({categoriesCount:0,sportsCount:0,tournamentsCount:0,teamsCount:0}),{getStats:s,loading:i}=Kt();E.useEffect(()=>{e==="overview"&&(async()=>{try{const f=await s();a(f)}catch(f){console.error("Failed to load stats:",f)}})()},[e]);const l=[{id:"overview",name:"Tng quan",icon:yc,color:"text-gray-600"},{id:"categories",name:"Danh mc sn phm",icon:yr,color:"text-blue-600"},{id:"sports",name:"Mn th thao",icon:Fn,color:"text-orange-600"},{id:"tournaments",name:"Gii u",icon:Bn,color:"text-purple-600"},{id:"teams",name:"i/CLB",icon:nr,color:"text-green-600"}],c=[{title:"Danh mc sn phm",description:"Qun l cc danh mc phn loi sn phm",icon:yr,color:"bg-blue-100 text-blue-600",count:`${n.categoriesCount} danh mc`,action:()=>t("categories")},{title:"Mn th thao",description:"Qun l cc mn th thao v cu hnh",icon:Fn,color:"bg-orange-100 text-orange-600",count:`${n.sportsCount} mn th thao`,action:()=>t("sports")},{title:"Gii u",description:"Qun l cc gii u theo mn th thao",icon:Bn,color:"bg-purple-100 text-purple-600",count:`${n.tournamentsCount} gii u`,action:()=>t("tournaments")},{title:"i/CLB",description:"Qun l cc i v cu lc b",icon:nr,color:"bg-green-100 text-green-600",count:`${n.teamsCount} i/CLB`,action:()=>t("teams")}],o=()=>{switch(e){case"categories":return r.jsx(E2,{});case"sports":return r.jsx(P2,{});case"tournaments":return r.jsx(O2,{});case"teams":return r.jsx(A2,{});default:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(yc,{className:"text-gray-600",size:24})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l danh mc"}),r.jsx("p",{className:"text-gray-600",children:"Tng quan v qun l tt c danh mc trong h thng"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i?"...":n.categoriesCount}),r.jsx("div",{className:"text-sm text-blue-600",children:"Danh mc sn phm"})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i?"...":n.sportsCount}),r.jsx("div",{className:"text-sm text-orange-600",children:"Mn th thao"})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i?"...":n.tournamentsCount}),r.jsx("div",{className:"text-sm text-purple-600",children:"Gii u"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:i?"...":n.teamsCount}),r.jsx("div",{className:"text-sm text-green-600",children:"i/CLB"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(d=>{const f=d.icon;return r.jsx("div",{className:"bg-white rounded-lg border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:d.action,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${d.color}`,children:r.jsx(f,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:d.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.description}),r.jsx("div",{className:"text-xs text-gray-500",children:d.count})]})]}),r.jsx(St,{className:"text-gray-400",size:20})]})},d.title)})}),r.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cu trc phn cp"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[r.jsx(Fn,{className:"text-orange-600",size:20}),r.jsx("span",{className:"font-medium",children:"Mn th thao"}),r.jsx(St,{className:"text-gray-400",size:16}),r.jsx(Bn,{className:"text-purple-600",size:20}),r.jsx("span",{className:"font-medium",children:"Gii u"}),r.jsx(St,{className:"text-gray-400",size:16}),r.jsx(nr,{className:"text-green-600",size:20}),r.jsx("span",{className:"font-medium",children:"i/CLB"}),r.jsx(St,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-gray-600",children:"Sn phm"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[r.jsx(yr,{className:"text-blue-600",size:20}),r.jsx("span",{className:"font-medium",children:"Danh mc sn phm"}),r.jsx(St,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-gray-600",children:"Sn phm"})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded border-l-4 border-yellow-400",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Lu :"})," Sn phm c th thuc v c Danh mc v i/CLB. Khi xa mn th thao, tt c gii u v i lin quan s b xa."]})})]})]})}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4",children:r.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:l.map(d=>{const f=d.icon;return r.jsxs("button",{onClick:()=>t(d.id),className:`flex items-center gap-2 px-1 py-4 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${e===d.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(f,{size:18,className:d.color}),d.name]},d.id)})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:o()})]})},vo="https://pantherashop.onrender.com",Og=E.createContext(void 0),I2=({children:e})=>{const[t,n]=E.useState(!1),[a,s]=E.useState([]),i=async()=>{n(!0);try{const o=localStorage.getItem("token"),d=await fetch(`${vo}/admin/vouchers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!d.ok)throw new Error("Failed to fetch vouchers");const f=await d.json();s(f.success?f.data:[])}catch(o){throw console.error("Error fetching vouchers:",o),s([]),o}finally{n(!1)}},l=async o=>{n(!0);try{const d=localStorage.getItem("token"),m=await(await fetch(`${vo}/admin/vouchers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(o)})).json();if(!m.success)throw new Error(m.message);return m}catch(d){throw d}finally{n(!1)}},c=async(o,d)=>{n(!0);try{const f=localStorage.getItem("token"),u=await(await fetch(`${vo}/admin/vouchers/${o}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(d)})).json();if(!u.success)throw new Error(u.message);return u}catch(f){throw f}finally{n(!1)}};return r.jsx(Og.Provider,{value:{vouchers:a,getAllVouchers:i,createVoucher:l,updateVoucher:c,loading:t},children:e})},Gu=()=>{const e=E.useContext(Og);if(!e)throw new Error("useVoucher must be used within VoucherProvider");return e},Ta="https://pantherashop.onrender.com",Ag=E.createContext(void 0),M2=({children:e})=>{const[t,n]=E.useState(!1),[a,s]=E.useState([]),i=async()=>{n(!0);try{const f=localStorage.getItem("token"),m=await fetch(`${Ta}/admin/blogs`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`}});if(!m.ok)throw new Error("Failed to fetch blogs");const u=await m.json();s(u.success?u.blogs:[])}catch(f){throw console.error("Error fetching blogs:",f),s([]),f}finally{n(!1)}},l=async f=>{n(!0);try{const m=localStorage.getItem("token"),u=await fetch(`${Ta}/admin/blogs/${f}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}});if(!u.ok)throw new Error("Failed to fetch blog");const h=await u.json();return h.success?h.blog:null}catch(m){throw console.error("Error fetching blog:",m),m}finally{n(!1)}},c=async f=>{n(!0);try{const m=localStorage.getItem("token"),h=await(await fetch(`${Ta}/admin/blogs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(f)})).json();if(!h.success)throw new Error(h.message);return h}catch(m){throw m}finally{n(!1)}},o=async(f,m)=>{n(!0);try{const u=localStorage.getItem("token"),x=await(await fetch(`${Ta}/admin/blogs/${f}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(m)})).json();if(!x.success)throw new Error(x.message);return x}catch(u){throw u}finally{n(!1)}},d=async f=>{n(!0);try{const m=localStorage.getItem("token"),h=await(await fetch(`${Ta}/admin/blogs/${f}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}})).json();if(!h.success)throw new Error(h.message);return h}catch(m){throw m}finally{n(!1)}};return r.jsx(Ag.Provider,{value:{blogs:a,getAllBlogs:i,getBlogById:l,createBlog:c,updateBlog:o,deleteBlog:d,loading:t},children:e})},Ku=()=>{const e=E.useContext(Ag);if(!e)throw new Error("useBlog must be used within BlogProvider");return e},R2=({isOpen:e,onClose:t,onSubmit:n})=>{const{createSupplier:a}=sa(),[s,i]=E.useState({}),[l,c]=E.useState(!1);if(!e)return null;const o=async d=>{d.preventDefault(),c(!0),n?await n(s):await a(s),c(!1),t()};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white w-full max-w-lg p-8 border border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Thm nh cung cp"}),r.jsxs("form",{className:"space-y-5",onSubmit:o,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Tn nh cung cp"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_name||"",onChange:d=>i(f=>({...f,supplier_name:d.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"S in thoi"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_phone||"",onChange:d=>i(f=>({...f,supplier_phone:d.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Email"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_email||"",onChange:d=>i(f=>({...f,supplier_email:d.target.value})),type:"email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"a ch"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_address||"",onChange:d=>i(f=>({...f,supplier_address:d.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Loi i tc"}),r.jsxs("select",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:s.supplier_type||"",onChange:d=>i(f=>({...f,supplier_type:d.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Chn loi i tc"}),r.jsx("option",{value:"Nh cung cp",children:"Nh cung cp"}),r.jsx("option",{value:"i l",children:"i l"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[r.jsx("button",{className:"px-5 py-2 bg-white border border-gray-300 hover:bg-gray-100 text-base font-medium",style:{borderRadius:0},type:"button",onClick:t,disabled:l,children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white hover:bg-gray-900 text-base font-medium disabled:opacity-50",style:{borderRadius:0},type:"submit",disabled:l||!s.supplier_name,children:"Lu"})]})]})]})})},D2=({isOpen:e,onClose:t,onSubmit:n,initialData:a})=>{const{updateSupplier:s}=sa(),[i,l]=E.useState(a||{}),[c,o]=E.useState(!1);if(E.useEffect(()=>{l(a||{})},[a,e]),!e)return null;const d=async f=>{f.preventDefault(),o(!0),n?await n(i):i.supplier_id&&await s(i.supplier_id,i),o(!1),t()};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white w-full max-w-lg p-8 border border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Chnh sa nh cung cp"}),r.jsxs("form",{className:"space-y-5",onSubmit:d,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Tn nh cung cp"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_name||"",onChange:f=>l(m=>({...m,supplier_name:f.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"S in thoi"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_phone||"",onChange:f=>l(m=>({...m,supplier_phone:f.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Email"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_email||"",onChange:f=>l(m=>({...m,supplier_email:f.target.value})),type:"email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"a ch"}),r.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_address||"",onChange:f=>l(m=>({...m,supplier_address:f.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-base font-medium mb-1",children:"Loi i tc"}),r.jsxs("select",{className:"w-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-black bg-gray-50",style:{borderRadius:0},value:i.supplier_type||"",onChange:f=>l(m=>({...m,supplier_type:f.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Chn loi i tc"}),r.jsx("option",{value:"Nh cung cp",children:"Nh cung cp"}),r.jsx("option",{value:"i l",children:"i l"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[r.jsx("button",{className:"px-5 py-2 bg-white border border-gray-300 hover:bg-gray-100 text-base font-medium",style:{borderRadius:0},type:"button",onClick:t,disabled:c,children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white hover:bg-gray-900 text-base font-medium disabled:opacity-50",style:{borderRadius:0},type:"submit",disabled:c||!i.supplier_name,children:"Lu"})]})]})]})})},z2=({isOpen:e,onClose:t,supplier:n})=>e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white w-full max-w-lg p-8 border border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Chi tit nh cung cp"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tn:"})," ",n.supplier_name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.supplier_phone||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",n.supplier_email||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"a ch:"})," ",n.supplier_address||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Trng thi:"})," ",n.is_active?"ang lin kt":" hy"]})]}),r.jsx("div",{className:"flex justify-end gap-3 mt-8",children:r.jsx("button",{className:"px-5 py-2 bg-black text-white hover:bg-gray-900 text-base font-medium",style:{borderRadius:0},type:"button",onClick:t,children:"ng"})})]})}):null,$2=()=>{const{suppliers:e,loading:t,fetchSuppliers:n,createSupplier:a,updateSupplier:s,setConnectionStatus:i}=sa(),[l,c]=E.useState(!1),[o,d]=E.useState(!1),[f,m]=E.useState(!1),[u,h]=E.useState(null);E.useEffect(()=>{n()},[]);const x=e.length,y=e.filter(p=>p.is_active).length,b=x-y;return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l nh cung cp"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch v thao tc vi nh cung cp"})]}),r.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-colors duration-200 text-lg font-semibold",style:{borderRadius:0},children:[r.jsx(ut,{size:22}),r.jsx("span",{children:"Thm nh cung cp"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 p-6 flex flex-col items-center",style:{borderRadius:0},children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Tng nh cung cp"}),r.jsx("div",{className:"text-3xl font-bold text-black",children:x})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-6 flex flex-col items-center",style:{borderRadius:0},children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"ang hot ng"}),r.jsx("div",{className:"text-3xl font-bold text-green-600",children:y})]}),r.jsxs("div",{className:"bg-white border border-gray-200 p-6 flex flex-col items-center",style:{borderRadius:0},children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase mb-2",children:" hy"}),r.jsx("div",{className:"text-3xl font-bold text-gray-500",children:b})]})]}),r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",style:{borderRadius:0},children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-6 py-4",children:"Tn nh cung cp"}),r.jsx("th",{className:"px-6 py-4",children:"S in thoi"}),r.jsx("th",{className:"px-6 py-4",children:"Email"}),r.jsx("th",{className:"px-6 py-4",children:"a ch"}),r.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),r.jsx("th",{className:"px-6 py-4",children:"Thao tc"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(p=>r.jsxs("tr",{className:`transition-colors duration-200 ${p.is_active?"hover:bg-gray-50":"bg-gray-50 text-gray-400"}`,children:[r.jsx("td",{className:"px-6 py-4 text-base font-medium text-black",children:p.supplier_name}),r.jsx("td",{className:"px-6 py-4 text-base",children:p.supplier_phone||"-"}),r.jsx("td",{className:"px-6 py-4 text-base",children:p.supplier_email||"-"}),r.jsx("td",{className:"px-6 py-4 text-base",children:p.supplier_address||"-"}),r.jsx("td",{className:"px-6 py-4",children:p.is_active?r.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800",style:{borderRadius:0},children:"ang lin kt"}):r.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-gray-100 text-gray-600",style:{borderRadius:0},children:" hy"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{h(p),m(!0)},className:"p-2 hover:bg-blue-50 transition-colors",style:{borderRadius:0},title:"Xem chi tit",children:r.jsx(Et,{size:18,className:"text-blue-600"})}),r.jsx("button",{type:"button",onClick:()=>{h(p),d(!0)},className:`p-2 hover:bg-gray-100 transition-colors ${p.is_active?"":"opacity-50 cursor-not-allowed"}`,style:{borderRadius:0},title:"Chnh sa",disabled:!p.is_active,children:r.jsx(Lt,{size:18,className:"text-gray-600"})}),p.is_active?r.jsx("button",{type:"button",onClick:async()=>{window.confirm("Bn chc chn mun hy lin kt nh cung cp ny? Sau khi hy s khng th m li.")&&(await i(p.supplier_id,!1),Y(" hy lin kt nh cung cp!","success"))},className:"p-2 hover:bg-red-50 transition-colors",style:{borderRadius:0},title:"Hy lin kt",children:r.jsx(bl,{size:18,className:"text-red-600"})}):r.jsx("button",{type:"button",onClick:async()=>{await i(p.supplier_id,!0),Y(" khi phc lin kt nh cung cp!","success")},className:"p-2 hover:bg-green-50 transition-colors",style:{borderRadius:0},title:"Khi phc lin kt",children:r.jsx(xl,{size:18,className:"text-green-600"})})]})})]},p.supplier_id)),e.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center text-gray-400 py-8",children:"Khng c nh cung cp no"})})]})]})}),l&&r.jsx(R2,{isOpen:l,onClose:()=>c(!1),onSubmit:async p=>{await a(p),c(!1),Y("Thm nh cung cp thnh cng!","success")}}),o&&u&&r.jsx(D2,{isOpen:o,onClose:()=>{d(!1),h(null)},onSubmit:async p=>{await s(u.supplier_id,p),d(!1),h(null),Y("Cp nht nh cung cp thnh cng!","success")},initialData:u}),f&&u&&r.jsx(z2,{isOpen:f,onClose:()=>{m(!1),h(null)},supplier:u})]})},bn="https://pantherashop.onrender.com",Lg=E.createContext(void 0),Ca=()=>{const e=localStorage.getItem("token"),t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},B2=({children:e})=>{const[t,n]=E.useState([]),[a,s]=E.useState(!1),i=E.useCallback(async()=>{s(!0);try{const m=await fetch(`${bn}/admin/product-images`,{method:"GET",headers:Ca(),credentials:"include"});if(!m.ok)throw new Error("Failed to fetch product images");const u=await m.json();n(Array.isArray(u.data)?u.data:[])}catch(m){throw n([]),m}finally{s(!1)}},[]),l=async m=>{const u=await fetch(`${bn}/admin/product-images/${m}`,{method:"GET",headers:Ca(),credentials:"include"});if(!u.ok)throw new Error("Failed to fetch product images by product id");const h=await u.json();return Array.isArray(h.data)?h.data:[]},c=async m=>{var b;const u=new FormData;u.append("image",m);const h=localStorage.getItem("token"),x=await fetch(`${bn}/admin/upload-gallery-image`,{method:"POST",headers:h?{Authorization:`Bearer ${h}`}:{},body:u,credentials:"include"});if(!x.ok)throw new Error("Upload gallery image failed");const y=await x.json();return y.url||y.imageUrl||((b=y.data)==null?void 0:b.url)},o=async m=>{const u=await fetch(`${bn}/admin/product-images`,{method:"POST",headers:Ca(),body:JSON.stringify(m),credentials:"include"});if(!u.ok)throw new Error("Create product image failed");return u.json()},d=async(m,u)=>{const h=await fetch(`${bn}/admin/product-images/${m}`,{method:"PUT",headers:Ca(),body:JSON.stringify(u),credentials:"include"});if(!h.ok)throw new Error("Update product image failed");return h.json()},f=async m=>{const u=await fetch(`${bn}/admin/product-images/${m}`,{method:"DELETE",headers:Ca(),credentials:"include"});if(!u.ok)throw new Error("Delete product image failed");return u.json()};return r.jsx(Lg.Provider,{value:{images:t,loading:a,fetchAllImages:i,fetchImagesByProductId:l,uploadGalleryImage:c,createProductImage:o,updateProductImage:d,deleteProductImage:f},children:e})},_l=()=>{const e=E.useContext(Lg);if(!e)throw new Error("useProductImageContext must be used within ProductImageProvider");return e},Ig=({productId:e,open:t,onClose:n,onSuccess:a})=>{const{uploadGalleryImage:s,createProductImage:i,fetchAllImages:l}=_l(),[c,o]=E.useState([]),[d,f]=E.useState(!1),m=E.useRef(null),u=b=>{if(b.target.files){const p=Array.from(b.target.files).map((g,w)=>({file:g,order:w+1}));o(p)}},h=(b,p)=>{o(g=>g.map((w,v)=>v===b?{...w,order:p}:w))},x=b=>{o(p=>p.filter((g,w)=>w!==b))},y=async()=>{if(c.length){f(!0);try{for(const{file:b,order:p}of c){const g=await s(b);await i({product_id:e,image_url:g,order:p})}await l(),o([]),a&&a(),n()}catch{alert("C li khi upload nh!")}finally{f(!1)}}};return t?r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-0 shadow-lg w-full max-w-xl",style:{borderRadius:0},children:[r.jsxs("div",{className:"p-8 border-b border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-extrabold mb-2 tracking-tight uppercase",children:"Thm nh sn phm"}),r.jsx("p",{className:"text-gray-500 mb-4 text-sm",children:"Chn nhiu nh, t th t hin th cho tng nh."}),r.jsx("input",{ref:m,type:"file",multiple:!0,accept:"image/*",onChange:u,className:"mb-4",style:{borderRadius:0}})]}),r.jsxs("div",{className:"p-8",children:[c.length>0&&r.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:c.map((b,p)=>r.jsxs("div",{className:"flex flex-col items-center bg-gray-50 border border-gray-200 p-3 mr-2",style:{borderRadius:0,minWidth:160,maxWidth:180},children:[r.jsx("img",{src:URL.createObjectURL(b.file),alt:"preview",className:"w-32 h-32 object-cover mb-2",style:{borderRadius:0,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}),r.jsxs("div",{className:"flex items-center gap-1 mb-2 w-full",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Th t:"}),r.jsx("input",{type:"number",min:1,value:b.order,onChange:g=>h(p,Number(g.target.value)),className:"w-14 px-2 py-1 border border-gray-300 text-sm",style:{borderRadius:0}})]}),r.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>x(p),type:"button",children:"Xa"})]},p))}),c.length===0&&r.jsx("div",{className:"text-gray-400 text-center py-8 text-sm",children:"Cha chn nh no."})]}),r.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-200 p-6",style:{borderRadius:0},children:[r.jsx("button",{className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold uppercase",onClick:n,disabled:d,style:{borderRadius:0},children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white font-semibold uppercase",onClick:y,disabled:d||!c.length,style:{borderRadius:0},children:d?"ang ti...":"Ti ln"})]})]})}):null},F2=({image:e,open:t,onClose:n,onSuccess:a})=>{const{updateProductImage:s,uploadGalleryImage:i,fetchAllImages:l}=_l(),[c,o]=E.useState((e==null?void 0:e.order)||0),[d,f]=E.useState(null),[m,u]=E.useState((e==null?void 0:e.image_url)||""),[h,x]=E.useState(!1);Ne.useEffect(()=>{o((e==null?void 0:e.order)||0),u((e==null?void 0:e.image_url)||""),f(null)},[e,t]);const y=p=>{p.target.files&&p.target.files[0]&&(f(p.target.files[0]),u(URL.createObjectURL(p.target.files[0])))},b=async()=>{if(e){x(!0);try{let p={order:c};if(d){const g=await i(d);p.image_url=g}await s(e.product_image_id,p),await l(),a&&a(),n()}catch{alert("C li khi cp nht nh!")}finally{x(!1)}}};return!t||!e?null:r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-0 shadow-lg w-full max-w-md",style:{borderRadius:0},children:[r.jsx("div",{className:"p-8 border-b border-gray-200",style:{borderRadius:0},children:r.jsx("h2",{className:"text-2xl font-extrabold mb-2 tracking-tight uppercase",children:"Sa nh sn phm"})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[r.jsx("img",{src:m,alt:"preview",className:"w-40 h-40 object-cover mb-4",style:{borderRadius:0,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}),r.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"mb-2",style:{borderRadius:0}})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Th t hin th:"}),r.jsx("input",{type:"number",value:c,onChange:p=>o(Number(p.target.value)),className:"w-20 px-2 py-1 border border-gray-300 text-sm",style:{borderRadius:0}})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-200 p-6",style:{borderRadius:0},children:[r.jsx("button",{className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold uppercase",onClick:n,disabled:h,style:{borderRadius:0},children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white font-semibold uppercase",onClick:b,disabled:h,style:{borderRadius:0},children:h?"ang lu...":"Lu"})]})]})})},V2=({productId:e,open:t,onClose:n,onSuccess:a})=>{const{fetchImagesByProductId:s,updateProductImage:i,deleteProductImage:l,uploadGalleryImage:c,fetchAllImages:o}=_l(),[d,f]=E.useState([]),[m,u]=E.useState(!1),[h,x]=E.useState({}),[y,b]=E.useState(!1);E.useEffect(()=>{t&&e&&(u(!0),s(e).then(j=>{f(j);const k={};j.forEach(S=>{k[S.product_image_id]={file:null,order:S.order}}),x(k)}).finally(()=>u(!1)))},[t,e,s]);const p=(j,k)=>{x(S=>({...S,[j]:{...S[j],file:k}}))},g=(j,k)=>{x(S=>({...S,[j]:{...S[j],order:k}}))},w=async j=>{if(window.confirm("Bn c chc mun xa nh ny?")){await l(j.product_image_id);const k=await s(e);f(k)}},v=async()=>{u(!0);try{for(const j of d){const k=h[j.product_image_id];let S={order:k.order};if(k.file){const T=await c(k.file);S.image_url=T}await i(j.product_image_id,S)}await o(),a&&a(),n()}catch{alert("C li khi cp nht nh!")}finally{u(!1)}};return!t||!e?null:r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-0 shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-8 border-b border-gray-200",style:{borderRadius:0},children:[r.jsx("h2",{className:"text-2xl font-extrabold mb-2 tracking-tight uppercase",children:"Sa ton b nh gallery sn phm"}),r.jsx("button",{className:"mb-4 px-5 py-2 bg-black text-white font-semibold uppercase",style:{borderRadius:0},onClick:()=>b(!0),children:"Thm nh mi"})]}),r.jsxs("div",{className:"p-8",children:[m?r.jsx("div",{children:"ang ti..."}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:d.map(j=>{var k,S;return r.jsxs("div",{className:"border border-gray-200 p-0 relative flex flex-col items-stretch",style:{borderRadius:0,background:"#fff"},children:[r.jsx("img",{src:(k=h[j.product_image_id])!=null&&k.file?URL.createObjectURL(h[j.product_image_id].file):j.image_url,alt:"",className:"w-full h-44 object-cover",style:{borderRadius:0}}),r.jsx("input",{type:"file",accept:"image/*",className:"mt-3",style:{borderRadius:0},onChange:T=>p(j.product_image_id,T.target.files&&T.target.files[0]?T.target.files[0]:null)}),r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Th t:"}),r.jsx("input",{type:"number",value:((S=h[j.product_image_id])==null?void 0:S.order)??j.order,onChange:T=>g(j.product_image_id,Number(T.target.value)),className:"w-14 px-2 py-1 border border-gray-300 text-sm",style:{borderRadius:0}})]}),r.jsx("button",{className:"absolute top-2 right-2 bg-white p-1 border border-gray-200 text-red-600 text-xs hover:bg-red-100",style:{borderRadius:0},onClick:()=>w(j),children:"Xa"})]},j.product_image_id)})}),r.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-200 p-6 mt-8",style:{borderRadius:0},children:[r.jsx("button",{className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold uppercase",onClick:n,disabled:m,style:{borderRadius:0},children:"Hy"}),r.jsx("button",{className:"px-5 py-2 bg-black text-white font-semibold uppercase",onClick:v,disabled:m,style:{borderRadius:0},children:"Lu tt c"})]})]}),r.jsx(Ig,{productId:e,open:y,onClose:async()=>{b(!1);const j=await s(e);f(j)},onSuccess:void 0})]})})},q2=()=>{const{images:e,loading:t,fetchAllImages:n,deleteProductImage:a}=_l(),[s,i]=E.useState(null),[l,c]=E.useState(null),[o,d]=E.useState(""),[f,m]=E.useState(!1),[u,h]=E.useState(!1),[x,y]=E.useState(!1),[b,p]=E.useState(null),[g,w]=E.useState(null),v=E.useRef(null);E.useEffect(()=>{n()},[]),E.useEffect(()=>{if(l===null)return;const _=P=>{v.current&&!v.current.contains(P.target)&&c(null)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[l]);const j=Ne.useMemo(()=>{const _=new Map;return e.forEach(P=>{P.Product&&!_.has(P.Product.product_id)&&_.set(P.Product.product_id,P.Product)}),Array.from(_.values())},[e]),k=Ne.useMemo(()=>o.trim()?j.filter(_=>_.product_name.toLowerCase().includes(o.toLowerCase())):j,[j,o]),S=_=>{const P=e.filter(A=>A.product_id===_);return console.log("gallery for product",_,P),P},T=_=>{p(_),m(!0),c(null)},O=_=>{w(_),h(!0)},C=_=>{p(_),y(!0),c(null)},N=async _=>{window.confirm("Bn c chc mun xa nh ny?")&&(await a(_.product_image_id),n())};return r.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto py-10",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black",children:"Qun l th vin nh"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l nh gallery cho tng sn phm"})]})}),r.jsx("div",{className:"bg-white p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rt,{className:"text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim sn phm theo tn...",value:o,onChange:_=>d(_.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-black transition-colors duration-200"})]})}),r.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:[r.jsx("th",{className:"px-4 py-4"}),r.jsx("th",{className:"px-4 py-4",children:"Sn phm"}),r.jsx("th",{className:"px-4 py-4",children:"S nh"}),r.jsx("th",{className:"px-4 py-4",children:"Thao tc"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:k.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center py-10 text-gray-400 text-lg",children:"Khng tm thy sn phm no."})}):k.map(_=>{const P=S(_.product_id);return r.jsxs(Ne.Fragment,{children:[r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-4 py-4 align-top",children:r.jsx("button",{className:"p-1",onClick:()=>i(s===_.product_id?null:_.product_id),title:"Xem nh",children:s===_.product_id?r.jsx(ra,{size:20}):r.jsx(pn,{size:20})})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[_.product_image?r.jsx("img",{src:_.product_image,alt:_.product_name,className:"w-12 h-12 object-cover border border-gray-200",style:{borderRadius:0}}):r.jsx("div",{className:"w-12 h-12 bg-gray-100 flex items-center justify-center",style:{borderRadius:0},children:r.jsx(fb,{className:"w-6 h-6 text-gray-400"})}),r.jsx("div",{className:"max-w-xs",children:r.jsx("p",{className:"text-sm font-medium text-black line-clamp-1",children:_.product_name})})]})}),r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:"text-sm font-medium text-black",children:P.length})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("button",{className:"p-2 hover:bg-gray-100",onClick:()=>c(l===_.product_id?null:_.product_id),title:"Thao tc",children:r.jsx(yb,{size:20})}),l===_.product_id&&r.jsxs("div",{ref:v,className:"absolute z-10 right-0 mt-2 w-44 bg-white border border-gray-200 shadow",children:[r.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",onClick:()=>T(_.product_id),children:[r.jsx(ut,{size:16,className:"inline mr-2"}),"Thm nh"]}),r.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",onClick:()=>C(_.product_id),children:[r.jsx(Lt,{size:16,className:"inline mr-2"}),"Chnh sa gallery"]})]})]})})]}),s===_.product_id&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"bg-gray-50 px-8 py-6",children:P.length===0?r.jsx("div",{className:"text-gray-400 text-sm",children:"Sn phm ny cha c nh gallery no."}):r.jsx("div",{className:"w-full max-w-4xl flex gap-6 overflow-x-auto pb-2 px-2",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6",minHeight:220},children:P.map(A=>r.jsxs("div",{className:"relative border border-gray-200 min-w-[180px] max-w-[220px] flex-shrink-0 group",children:[r.jsx("img",{src:A.image_url,alt:"nh sn phm",className:"object-cover w-full h-44"}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[r.jsx("button",{className:"bg-white p-1 hover:bg-gray-200 border border-gray-200",onClick:()=>O(A),title:"Sa",children:r.jsx(Lt,{size:16,className:"text-gray-700"})}),r.jsx("button",{className:"bg-white p-1 hover:bg-red-100 border border-gray-200",onClick:()=>N(A),title:"Xa",children:r.jsx(It,{size:16,className:"text-red-500"})})]}),r.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1",children:["Th t: ",A.order]})]},A.product_image_id))})})})]},_.product_id)})})]})}),r.jsx(Ig,{productId:b||0,open:f,onClose:()=>m(!1),onSuccess:n}),r.jsx(F2,{image:g,open:u,onClose:()=>h(!1),onSuccess:n}),r.jsx(V2,{productId:b,open:x,onClose:()=>y(!1),onSuccess:n})]})},U2=({isOpen:e,onClose:t,onSuccess:n})=>{const{createVoucher:a}=Gu(),[s,i]=E.useState({voucher_code:"",discount_type:"percentage",discount_value:0,min_order_value:0,start_date:"",end_date:"",usage_limit:1,voucher_status:"active"}),[l,c]=E.useState(!1),o=m=>{const{name:u,value:h,type:x}=m.target;i(y=>({...y,[u]:x==="number"?parseFloat(h):h}))},d=async m=>{m.preventDefault(),c(!0);try{await a(s),Y("To voucher thnh cng!","success"),n(),t(),f()}catch(u){console.error("Error creating voucher:",u),Y(u.message||"C li xy ra khi to voucher","error")}finally{c(!1)}},f=()=>{i({voucher_code:"",discount_type:"percentage",discount_value:0,min_order_value:0,start_date:"",end_date:"",usage_limit:1,voucher_status:"active"})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO VOUCHER MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm m gim gi mi cho h thng"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:d,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M VOUCHER *"}),r.jsx("input",{type:"text",name:"voucher_code",value:s.voucher_code,onChange:o,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 uppercase",placeholder:"SUMMER2024",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"LOI GIM GI *"}),r.jsxs("select",{name:"discount_type",value:s.discount_type,onChange:o,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"percentage",children:"Phn trm (%)"}),r.jsx("option",{value:"fixed",children:"S tin c nh ()"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR GIM *"}),r.jsx("input",{type:"number",name:"discount_value",value:s.discount_value,onChange:o,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"10",min:"0",step:"0.01",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR N HNG TI THIU ()"}),r.jsx("input",{type:"number",name:"min_order_value",value:s.min_order_value,onChange:o,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"0",min:"0"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" 0 nu khng yu cu gi tr n hng ti thiu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY BT U *"}),r.jsx("input",{type:"date",name:"start_date",value:s.start_date,onChange:o,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY KT THC *"}),r.jsx("input",{type:"date",name:"end_date",value:s.end_date,onChange:o,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII HN S DNG *"}),r.jsx("input",{type:"number",name:"usage_limit",value:s.usage_limit,onChange:o,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"1",min:"1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TRNG THI *"}),r.jsxs("select",{name:"voucher_status",value:s.voucher_status,onChange:o,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"active",children:"Hot ng"}),r.jsx("option",{value:"inactive",children:"Tm dng"})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:l?"ang to...":"To voucher"})]})]})]})}):null},H2=({isOpen:e,onClose:t,onSuccess:n,voucher:a})=>{const{updateVoucher:s}=Gu(),[i,l]=E.useState({voucher_code:"",discount_type:"percentage",discount_value:0,min_order_value:0,start_date:"",end_date:"",usage_limit:1,voucher_status:"active"}),[c,o]=E.useState(!1);E.useEffect(()=>{a&&l({voucher_code:a.voucher_code,discount_type:a.discount_type,discount_value:a.discount_value,min_order_value:a.min_order_value||0,start_date:a.start_date.split("T")[0],end_date:a.end_date.split("T")[0],usage_limit:a.usage_limit,voucher_status:a.voucher_status})},[a]);const d=m=>{const{name:u,value:h,type:x}=m.target;l(y=>({...y,[u]:x==="number"?parseFloat(h):h}))},f=async m=>{m.preventDefault(),o(!0);try{await s(a.voucher_id,i),Y("Cp nht voucher thnh cng!","success"),n(),t()}catch(u){console.error("Error updating voucher:",u),Y(u.message||"C li xy ra khi cp nht voucher","error")}finally{o(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHNH SA VOUCHER"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cp nht thng tin m gim gi"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:f,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"M VOUCHER *"}),r.jsx("input",{type:"text",name:"voucher_code",value:i.voucher_code,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 uppercase",placeholder:"SUMMER2024",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"LOI GIM GI *"}),r.jsxs("select",{name:"discount_type",value:i.discount_type,onChange:d,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"percentage",children:"Phn trm (%)"}),r.jsx("option",{value:"fixed",children:"S tin c nh ()"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR GIM *"}),r.jsx("input",{type:"number",name:"discount_value",value:i.discount_value,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"10",min:"0",step:"0.01",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GI TR N HNG TI THIU ()"}),r.jsx("input",{type:"number",name:"min_order_value",value:i.min_order_value,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"0",min:"0"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" 0 nu khng yu cu gi tr n hng ti thiu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY BT U *"}),r.jsx("input",{type:"date",name:"start_date",value:i.start_date,onChange:d,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NGY KT THC *"}),r.jsx("input",{type:"date",name:"end_date",value:i.end_date,onChange:d,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"GII HN S DNG *"}),r.jsx("input",{type:"number",name:"usage_limit",value:i.usage_limit,onChange:d,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"1",min:"1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:" S DNG"}),r.jsx("input",{type:"text",value:a.used_count,className:"w-full px-4 py-3 border-b-2 border-gray-300 bg-gray-50 text-gray-500",disabled:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TRNG THI *"}),r.jsxs("select",{name:"voucher_status",value:i.voucher_status,onChange:d,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",required:!0,children:[r.jsx("option",{value:"active",children:"Hot ng"}),r.jsx("option",{value:"inactive",children:"Tm dng"})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:c?"ang cp nht...":"Cp nht voucher"})]})]})]})}):null},Tf=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),G2=()=>{const{vouchers:e,getAllVouchers:t,loading:n}=Gu(),[a,s]=E.useState(""),[i,l]=E.useState("all"),[c,o]=E.useState(!1),[d,f]=E.useState(null);E.useEffect(()=>{m()},[]);const m=async()=>{try{await t()}catch(v){console.error("Error loading vouchers:",v)}},u=()=>{m(),o(!1)},h=()=>{m(),f(null)},x=(e||[]).filter(v=>{const j=v.voucher_code.toLowerCase().includes(a.toLowerCase()),k=i==="all"||i==="active"&&v.voucher_status||i==="inactive"&&!v.voucher_status;return j&&k}),y=v=>new Date(v).toLocaleDateString("vi-VN"),b=v=>v.discount_type==="percentage"?`${v.discount_value}%`:Tf(v.discount_value),p=v=>new Date(v)<new Date,g=v=>new Date(v)>new Date,w=(v,j)=>Math.min(v/j*100,100);return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"QUN L VOUCHER"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l m gim gi cho ca hng"})]}),r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:[r.jsx(ut,{size:20}),"To Voucher"]})]}),r.jsx("div",{className:"bg-white p-6 border border-gray-200 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim theo m voucher...",value:a,onChange:v=>s(v.target.value),className:"w-full pl-12 pr-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200"})]}),r.jsx("div",{children:r.jsxs("select",{value:i,onChange:v=>l(v.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"all",children:"Tt c trng thi"}),r.jsx("option",{value:"active",children:"ang hot ng"}),r.jsx("option",{value:"inactive",children:"Tm dng"})]})})]})})]}),n&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-300 border-t-black rounded-full animate-spin"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti vouchers..."})]}),!n&&x.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(v=>{const j=p(v.end_date),k=g(v.start_date),S=w(v.used_count,v.usage_limit),T=v.used_count>=v.usage_limit;return r.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-black transition-all duration-300 p-6 relative group",children:[r.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[j&&r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 text-xs font-bold uppercase tracking-wider",children:"HT HN"}),!j&&T&&r.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-xs font-bold uppercase tracking-wider",children:"HT LT"}),!j&&!T&&v.voucher_status==="inactive"&&r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-bold uppercase tracking-wider",children:" NGNG"}),!j&&!T&&k&&v.voucher_status&&r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider",children:"CHA N NGY"}),!j&&!T&&!k&&v.voucher_status==="active"&&r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold uppercase tracking-wider",children:"HOT NG"})]}),r.jsxs("div",{className:"mb-4 pr-20",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(yr,{className:"text-gray-600",size:20}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"M voucher"})]}),r.jsx("h3",{className:"text-2xl font-bold tracking-tight break-all",children:v.voucher_code})]}),r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Bp,{className:"text-gray-600",size:18}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Gim gi"})]}),r.jsx("p",{className:"text-xl font-bold text-green-600",children:b(v)}),v.min_order_value>0&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["n ti thiu: ",Tf(v.min_order_value)]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(fs,{className:"text-gray-600",size:18}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Thi gian"})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:[y(v.start_date)," -"," ",y(v.end_date)]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:" s dng"}),r.jsxs("span",{className:"text-sm font-semibold",children:[v.used_count," / ",v.usage_limit]})]}),r.jsx("div",{className:"w-full bg-gray-200 h-2",children:r.jsx("div",{className:`h-2 transition-all duration-300 ${S>=100?"bg-red-500":S>=80?"bg-orange-500":"bg-green-500"}`,style:{width:`${S}%`}})})]}),r.jsx("button",{onClick:()=>f(v),className:"absolute bottom-6 right-6 p-2 bg-black text-white opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-gray-800",children:r.jsx(Vi,{size:18})})]},v.voucher_id)})}),!n&&x.length===0&&r.jsxs("div",{className:"text-center py-16 bg-white border-2 border-dashed border-gray-300",children:[r.jsx(yr,{className:"mx-auto mb-4 text-gray-400",size:48}),r.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Khng tm thy voucher"}),r.jsx("p",{className:"text-gray-500 mb-6",children:a||i!=="all"?"Th thay i b lc hoc to voucher mi":"Cha c voucher no. To voucher u tin ngay!"}),!a&&i==="all"&&r.jsx("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:"To Voucher u Tin"})]}),r.jsx(U2,{isOpen:c,onClose:()=>o(!1),onSuccess:u}),d&&r.jsx(H2,{isOpen:!!d,onClose:()=>f(null),onSuccess:h,voucher:d})]})};function K2(){this.__data__=[],this.size=0}var W2=K2;function Q2(e,t){return e===t||e!==e&&t!==t}var Mg=Q2,X2=Mg;function Y2(e,t){for(var n=e.length;n--;)if(X2(e[n][0],t))return n;return-1}var kl=Y2,J2=kl,Z2=Array.prototype,eN=Z2.splice;function tN(e){var t=this.__data__,n=J2(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():eN.call(t,n,1),--this.size,!0}var rN=tN,nN=kl;function aN(e){var t=this.__data__,n=nN(t,e);return n<0?void 0:t[n][1]}var sN=aN,iN=kl;function lN(e){return iN(this.__data__,e)>-1}var oN=lN,cN=kl;function uN(e,t){var n=this.__data__,a=cN(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}var dN=uN,fN=W2,hN=rN,mN=sN,pN=oN,gN=dN;function ia(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}ia.prototype.clear=fN;ia.prototype.delete=hN;ia.prototype.get=mN;ia.prototype.has=pN;ia.prototype.set=gN;var Sl=ia,xN=Sl;function yN(){this.__data__=new xN,this.size=0}var vN=yN;function bN(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var wN=bN;function jN(e){return this.__data__.get(e)}var NN=jN;function _N(e){return this.__data__.has(e)}var kN=_N,SN=typeof ht=="object"&&ht&&ht.Object===Object&&ht,Rg=SN,TN=Rg,CN=typeof self=="object"&&self&&self.Object===Object&&self,EN=TN||CN||Function("return this")(),kr=EN,PN=kr,ON=PN.Symbol,Wu=ON,Cf=Wu,Dg=Object.prototype,AN=Dg.hasOwnProperty,LN=Dg.toString,Ea=Cf?Cf.toStringTag:void 0;function IN(e){var t=AN.call(e,Ea),n=e[Ea];try{e[Ea]=void 0;var a=!0}catch{}var s=LN.call(e);return a&&(t?e[Ea]=n:delete e[Ea]),s}var MN=IN,RN=Object.prototype,DN=RN.toString;function zN(e){return DN.call(e)}var $N=zN,Ef=Wu,BN=MN,FN=$N,VN="[object Null]",qN="[object Undefined]",Pf=Ef?Ef.toStringTag:void 0;function UN(e){return e==null?e===void 0?qN:VN:Pf&&Pf in Object(e)?BN(e):FN(e)}var Tl=UN;function HN(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zg=HN,GN=Tl,KN=zg,WN="[object AsyncFunction]",QN="[object Function]",XN="[object GeneratorFunction]",YN="[object Proxy]";function JN(e){if(!KN(e))return!1;var t=GN(e);return t==QN||t==XN||t==WN||t==YN}var $g=JN,ZN=kr,e_=ZN["__core-js_shared__"],t_=e_,bo=t_,Of=function(){var e=/[^.]+$/.exec(bo&&bo.keys&&bo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function r_(e){return!!Of&&Of in e}var n_=r_,a_=Function.prototype,s_=a_.toString;function i_(e){if(e!=null){try{return s_.call(e)}catch{}try{return e+""}catch{}}return""}var Bg=i_,l_=$g,o_=n_,c_=zg,u_=Bg,d_=/[\\^$.*+?()[\]{}|]/g,f_=/^\[object .+?Constructor\]$/,h_=Function.prototype,m_=Object.prototype,p_=h_.toString,g_=m_.hasOwnProperty,x_=RegExp("^"+p_.call(g_).replace(d_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y_(e){if(!c_(e)||o_(e))return!1;var t=l_(e)?x_:f_;return t.test(u_(e))}var v_=y_;function b_(e,t){return e==null?void 0:e[t]}var w_=b_,j_=v_,N_=w_;function __(e,t){var n=N_(e,t);return j_(n)?n:void 0}var la=__,k_=la,S_=kr,T_=k_(S_,"Map"),Qu=T_,C_=la,E_=C_(Object,"create"),Cl=E_,Af=Cl;function P_(){this.__data__=Af?Af(null):{},this.size=0}var O_=P_;function A_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var L_=A_,I_=Cl,M_="__lodash_hash_undefined__",R_=Object.prototype,D_=R_.hasOwnProperty;function z_(e){var t=this.__data__;if(I_){var n=t[e];return n===M_?void 0:n}return D_.call(t,e)?t[e]:void 0}var $_=z_,B_=Cl,F_=Object.prototype,V_=F_.hasOwnProperty;function q_(e){var t=this.__data__;return B_?t[e]!==void 0:V_.call(t,e)}var U_=q_,H_=Cl,G_="__lodash_hash_undefined__";function K_(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H_&&t===void 0?G_:t,this}var W_=K_,Q_=O_,X_=L_,Y_=$_,J_=U_,Z_=W_;function oa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}oa.prototype.clear=Q_;oa.prototype.delete=X_;oa.prototype.get=Y_;oa.prototype.has=J_;oa.prototype.set=Z_;var ek=oa,Lf=ek,tk=Sl,rk=Qu;function nk(){this.size=0,this.__data__={hash:new Lf,map:new(rk||tk),string:new Lf}}var ak=nk;function sk(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ik=sk,lk=ik;function ok(e,t){var n=e.__data__;return lk(t)?n[typeof t=="string"?"string":"hash"]:n.map}var El=ok,ck=El;function uk(e){var t=ck(this,e).delete(e);return this.size-=t?1:0,t}var dk=uk,fk=El;function hk(e){return fk(this,e).get(e)}var mk=hk,pk=El;function gk(e){return pk(this,e).has(e)}var xk=gk,yk=El;function vk(e,t){var n=yk(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}var bk=vk,wk=ak,jk=dk,Nk=mk,_k=xk,kk=bk;function ca(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}ca.prototype.clear=wk;ca.prototype.delete=jk;ca.prototype.get=Nk;ca.prototype.has=_k;ca.prototype.set=kk;var Fg=ca,Sk=Sl,Tk=Qu,Ck=Fg,Ek=200;function Pk(e,t){var n=this.__data__;if(n instanceof Sk){var a=n.__data__;if(!Tk||a.length<Ek-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ck(a)}return n.set(e,t),this.size=n.size,this}var Ok=Pk,Ak=Sl,Lk=vN,Ik=wN,Mk=NN,Rk=kN,Dk=Ok;function ua(e){var t=this.__data__=new Ak(e);this.size=t.size}ua.prototype.clear=Lk;ua.prototype.delete=Ik;ua.prototype.get=Mk;ua.prototype.has=Rk;ua.prototype.set=Dk;var zk=ua,$k="__lodash_hash_undefined__";function Bk(e){return this.__data__.set(e,$k),this}var Fk=Bk;function Vk(e){return this.__data__.has(e)}var qk=Vk,Uk=Fg,Hk=Fk,Gk=qk;function Wi(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Uk;++t<n;)this.add(e[t])}Wi.prototype.add=Wi.prototype.push=Hk;Wi.prototype.has=Gk;var Kk=Wi;function Wk(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}var Qk=Wk;function Xk(e,t){return e.has(t)}var Yk=Xk,Jk=Kk,Zk=Qk,eS=Yk,tS=1,rS=2;function nS(e,t,n,a,s,i){var l=n&tS,c=e.length,o=t.length;if(c!=o&&!(l&&o>c))return!1;var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var m=-1,u=!0,h=n&rS?new Jk:void 0;for(i.set(e,t),i.set(t,e);++m<c;){var x=e[m],y=t[m];if(a)var b=l?a(y,x,m,t,e,i):a(x,y,m,e,t,i);if(b!==void 0){if(b)continue;u=!1;break}if(h){if(!Zk(t,function(p,g){if(!eS(h,g)&&(x===p||s(x,p,n,a,i)))return h.push(g)})){u=!1;break}}else if(!(x===y||s(x,y,n,a,i))){u=!1;break}}return i.delete(e),i.delete(t),u}var Vg=nS,aS=kr,sS=aS.Uint8Array,iS=sS;function lS(e){var t=-1,n=Array(e.size);return e.forEach(function(a,s){n[++t]=[s,a]}),n}var oS=lS;function cS(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}var uS=cS,If=Wu,Mf=iS,dS=Mg,fS=Vg,hS=oS,mS=uS,pS=1,gS=2,xS="[object Boolean]",yS="[object Date]",vS="[object Error]",bS="[object Map]",wS="[object Number]",jS="[object RegExp]",NS="[object Set]",_S="[object String]",kS="[object Symbol]",SS="[object ArrayBuffer]",TS="[object DataView]",Rf=If?If.prototype:void 0,wo=Rf?Rf.valueOf:void 0;function CS(e,t,n,a,s,i,l){switch(n){case TS:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case SS:return!(e.byteLength!=t.byteLength||!i(new Mf(e),new Mf(t)));case xS:case yS:case wS:return dS(+e,+t);case vS:return e.name==t.name&&e.message==t.message;case jS:case _S:return e==t+"";case bS:var c=hS;case NS:var o=a&pS;if(c||(c=mS),e.size!=t.size&&!o)return!1;var d=l.get(e);if(d)return d==t;a|=gS,l.set(e,t);var f=fS(c(e),c(t),a,s,i,l);return l.delete(e),f;case kS:if(wo)return wo.call(e)==wo.call(t)}return!1}var ES=CS;function PS(e,t){for(var n=-1,a=t.length,s=e.length;++n<a;)e[s+n]=t[n];return e}var OS=PS,AS=Array.isArray,Xu=AS,LS=OS,IS=Xu;function MS(e,t,n){var a=t(e);return IS(e)?a:LS(a,n(e))}var RS=MS;function DS(e,t){for(var n=-1,a=e==null?0:e.length,s=0,i=[];++n<a;){var l=e[n];t(l,n,e)&&(i[s++]=l)}return i}var zS=DS;function $S(){return[]}var BS=$S,FS=zS,VS=BS,qS=Object.prototype,US=qS.propertyIsEnumerable,Df=Object.getOwnPropertySymbols,HS=Df?function(e){return e==null?[]:(e=Object(e),FS(Df(e),function(t){return US.call(e,t)}))}:VS,GS=HS;function KS(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}var WS=KS;function QS(e){return e!=null&&typeof e=="object"}var Pl=QS,XS=Tl,YS=Pl,JS="[object Arguments]";function ZS(e){return YS(e)&&XS(e)==JS}var e4=ZS,zf=e4,t4=Pl,qg=Object.prototype,r4=qg.hasOwnProperty,n4=qg.propertyIsEnumerable,a4=zf(function(){return arguments}())?zf:function(e){return t4(e)&&r4.call(e,"callee")&&!n4.call(e,"callee")},s4=a4,Qi={exports:{}};function i4(){return!1}var l4=i4;Qi.exports;(function(e,t){var n=kr,a=l4,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,c=l?n.Buffer:void 0,o=c?c.isBuffer:void 0,d=o||a;e.exports=d})(Qi,Qi.exports);var Ug=Qi.exports,o4=9007199254740991,c4=/^(?:0|[1-9]\d*)$/;function u4(e,t){var n=typeof e;return t=t??o4,!!t&&(n=="number"||n!="symbol"&&c4.test(e))&&e>-1&&e%1==0&&e<t}var d4=u4,f4=9007199254740991;function h4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f4}var Hg=h4,m4=Tl,p4=Hg,g4=Pl,x4="[object Arguments]",y4="[object Array]",v4="[object Boolean]",b4="[object Date]",w4="[object Error]",j4="[object Function]",N4="[object Map]",_4="[object Number]",k4="[object Object]",S4="[object RegExp]",T4="[object Set]",C4="[object String]",E4="[object WeakMap]",P4="[object ArrayBuffer]",O4="[object DataView]",A4="[object Float32Array]",L4="[object Float64Array]",I4="[object Int8Array]",M4="[object Int16Array]",R4="[object Int32Array]",D4="[object Uint8Array]",z4="[object Uint8ClampedArray]",$4="[object Uint16Array]",B4="[object Uint32Array]",je={};je[A4]=je[L4]=je[I4]=je[M4]=je[R4]=je[D4]=je[z4]=je[$4]=je[B4]=!0;je[x4]=je[y4]=je[P4]=je[v4]=je[O4]=je[b4]=je[w4]=je[j4]=je[N4]=je[_4]=je[k4]=je[S4]=je[T4]=je[C4]=je[E4]=!1;function F4(e){return g4(e)&&p4(e.length)&&!!je[m4(e)]}var V4=F4;function q4(e){return function(t){return e(t)}}var U4=q4,Xi={exports:{}};Xi.exports;(function(e,t){var n=Rg,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&n.process,c=function(){try{var o=s&&s.require&&s.require("util").types;return o||l&&l.binding&&l.binding("util")}catch{}}();e.exports=c})(Xi,Xi.exports);var H4=Xi.exports,G4=V4,K4=U4,$f=H4,Bf=$f&&$f.isTypedArray,W4=Bf?K4(Bf):G4,Gg=W4,Q4=WS,X4=s4,Y4=Xu,J4=Ug,Z4=d4,eT=Gg,tT=Object.prototype,rT=tT.hasOwnProperty;function nT(e,t){var n=Y4(e),a=!n&&X4(e),s=!n&&!a&&J4(e),i=!n&&!a&&!s&&eT(e),l=n||a||s||i,c=l?Q4(e.length,String):[],o=c.length;for(var d in e)(t||rT.call(e,d))&&!(l&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Z4(d,o)))&&c.push(d);return c}var aT=nT,sT=Object.prototype;function iT(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||sT;return e===n}var lT=iT;function oT(e,t){return function(n){return e(t(n))}}var cT=oT,uT=cT,dT=uT(Object.keys,Object),fT=dT,hT=lT,mT=fT,pT=Object.prototype,gT=pT.hasOwnProperty;function xT(e){if(!hT(e))return mT(e);var t=[];for(var n in Object(e))gT.call(e,n)&&n!="constructor"&&t.push(n);return t}var yT=xT,vT=$g,bT=Hg;function wT(e){return e!=null&&bT(e.length)&&!vT(e)}var jT=wT,NT=aT,_T=yT,kT=jT;function ST(e){return kT(e)?NT(e):_T(e)}var TT=ST,CT=RS,ET=GS,PT=TT;function OT(e){return CT(e,PT,ET)}var AT=OT,Ff=AT,LT=1,IT=Object.prototype,MT=IT.hasOwnProperty;function RT(e,t,n,a,s,i){var l=n&LT,c=Ff(e),o=c.length,d=Ff(t),f=d.length;if(o!=f&&!l)return!1;for(var m=o;m--;){var u=c[m];if(!(l?u in t:MT.call(t,u)))return!1}var h=i.get(e),x=i.get(t);if(h&&x)return h==t&&x==e;var y=!0;i.set(e,t),i.set(t,e);for(var b=l;++m<o;){u=c[m];var p=e[u],g=t[u];if(a)var w=l?a(g,p,u,t,e,i):a(p,g,u,e,t,i);if(!(w===void 0?p===g||s(p,g,n,a,i):w)){y=!1;break}b||(b=u=="constructor")}if(y&&!b){var v=e.constructor,j=t.constructor;v!=j&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof j=="function"&&j instanceof j)&&(y=!1)}return i.delete(e),i.delete(t),y}var DT=RT,zT=la,$T=kr,BT=zT($T,"DataView"),FT=BT,VT=la,qT=kr,UT=VT(qT,"Promise"),HT=UT,GT=la,KT=kr,WT=GT(KT,"Set"),QT=WT,XT=la,YT=kr,JT=XT(YT,"WeakMap"),ZT=JT,_c=FT,kc=Qu,Sc=HT,Tc=QT,Cc=ZT,Kg=Tl,da=Bg,Vf="[object Map]",eC="[object Object]",qf="[object Promise]",Uf="[object Set]",Hf="[object WeakMap]",Gf="[object DataView]",tC=da(_c),rC=da(kc),nC=da(Sc),aC=da(Tc),sC=da(Cc),Zr=Kg;(_c&&Zr(new _c(new ArrayBuffer(1)))!=Gf||kc&&Zr(new kc)!=Vf||Sc&&Zr(Sc.resolve())!=qf||Tc&&Zr(new Tc)!=Uf||Cc&&Zr(new Cc)!=Hf)&&(Zr=function(e){var t=Kg(e),n=t==eC?e.constructor:void 0,a=n?da(n):"";if(a)switch(a){case tC:return Gf;case rC:return Vf;case nC:return qf;case aC:return Uf;case sC:return Hf}return t});var iC=Zr,jo=zk,lC=Vg,oC=ES,cC=DT,Kf=iC,Wf=Xu,Qf=Ug,uC=Gg,dC=1,Xf="[object Arguments]",Yf="[object Array]",Zs="[object Object]",fC=Object.prototype,Jf=fC.hasOwnProperty;function hC(e,t,n,a,s,i){var l=Wf(e),c=Wf(t),o=l?Yf:Kf(e),d=c?Yf:Kf(t);o=o==Xf?Zs:o,d=d==Xf?Zs:d;var f=o==Zs,m=d==Zs,u=o==d;if(u&&Qf(e)){if(!Qf(t))return!1;l=!0,f=!1}if(u&&!f)return i||(i=new jo),l||uC(e)?lC(e,t,n,a,s,i):oC(e,t,o,n,a,s,i);if(!(n&dC)){var h=f&&Jf.call(e,"__wrapped__"),x=m&&Jf.call(t,"__wrapped__");if(h||x){var y=h?e.value():e,b=x?t.value():t;return i||(i=new jo),s(y,b,n,a,i)}}return u?(i||(i=new jo),cC(e,t,n,a,s,i)):!1}var mC=hC,pC=mC,Zf=Pl;function Wg(e,t,n,a,s){return e===t?!0:e==null||t==null||!Zf(e)&&!Zf(t)?e!==e&&t!==t:pC(e,t,n,a,Wg,s)}var gC=Wg,xC=gC;function yC(e,t){return xC(e,t)}var vC=yC,Qg={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(a,s){e.exports=s()})(typeof self<"u"?self:ht,function(){return function(n){var a={};function s(i){if(a[i])return a[i].exports;var l=a[i]={i,l:!1,exports:{}};return n[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=n,s.c=a,s.d=function(i,l,c){s.o(i,l)||Object.defineProperty(i,l,{configurable:!1,enumerable:!0,get:c})},s.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(l,"a",l),l},s.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},s.p="",s(s.s=109)}([function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(17),l=s(18),c=s(19),o=s(45),d=s(46),f=s(47),m=s(48),u=s(49),h=s(12),x=s(32),y=s(33),b=s(31),p=s(1),g={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:i.default,Format:l.default,Leaf:c.default,Embed:m.default,Scroll:o.default,Block:f.default,Inline:d.default,Text:u.default,Attributor:{Attribute:h.default,Class:x.default,Style:y.default,Store:b.default}};a.default=g},function(n,a,s){var i=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var w in g)g.hasOwnProperty(w)&&(p[w]=g[w])};return function(p,g){b(p,g);function w(){this.constructor=p}p.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=function(b){i(p,b);function p(g){var w=this;return g="[Parchment] "+g,w=b.call(this,g)||this,w.message=g,w.name=w.constructor.name,w}return p}(Error);a.ParchmentError=l;var c={},o={},d={},f={};a.DATA_KEY="__blot";var m;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(m=a.Scope||(a.Scope={}));function u(b,p){var g=x(b);if(g==null)throw new l("Unable to create "+b+" blot");var w=g,v=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(p);return new w(v,p)}a.create=u;function h(b,p){return p===void 0&&(p=!1),b==null?null:b[a.DATA_KEY]!=null?b[a.DATA_KEY].blot:p?h(b.parentNode,p):null}a.find=h;function x(b,p){p===void 0&&(p=m.ANY);var g;if(typeof b=="string")g=f[b]||c[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)g=f.text;else if(typeof b=="number")b&m.LEVEL&m.BLOCK?g=f.block:b&m.LEVEL&m.INLINE&&(g=f.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var v in w)if(g=o[w[v]],g)break;g=g||d[b.tagName]}return g==null?null:p&m.LEVEL&g.scope&&p&m.TYPE&g.scope?g:null}a.query=x;function y(){for(var b=[],p=0;p<arguments.length;p++)b[p]=arguments[p];if(b.length>1)return b.map(function(v){return y(v)});var g=b[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new l("Invalid definition");if(g.blotName==="abstract")throw new l("Cannot register abstract class");if(f[g.blotName||g.attrName]=g,typeof g.keyName=="string")c[g.keyName]=g;else if(g.className!=null&&(o[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(v){return v.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var w=Array.isArray(g.tagName)?g.tagName:[g.tagName];w.forEach(function(v){(d[v]==null||g.className==null)&&(d[v]=g)})}return g}a.register=y},function(n,a,s){var i=s(51),l=s(11),c=s(3),o=s(20),d="\0",f=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};f.prototype.insert=function(m,u){var h={};return m.length===0?this:(h.insert=m,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(h.attributes=u),this.push(h))},f.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},f.prototype.retain=function(m,u){if(m<=0)return this;var h={retain:m};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(h.attributes=u),this.push(h)},f.prototype.push=function(m){var u=this.ops.length,h=this.ops[u-1];if(m=c(!0,{},m),typeof h=="object"){if(typeof m.delete=="number"&&typeof h.delete=="number")return this.ops[u-1]={delete:h.delete+m.delete},this;if(typeof h.delete=="number"&&m.insert!=null&&(u-=1,h=this.ops[u-1],typeof h!="object"))return this.ops.unshift(m),this;if(l(m.attributes,h.attributes)){if(typeof m.insert=="string"&&typeof h.insert=="string")return this.ops[u-1]={insert:h.insert+m.insert},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof h.retain=="number")return this.ops[u-1]={retain:h.retain+m.retain},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this}}return u===this.ops.length?this.ops.push(m):this.ops.splice(u,0,m),this},f.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},f.prototype.filter=function(m){return this.ops.filter(m)},f.prototype.forEach=function(m){this.ops.forEach(m)},f.prototype.map=function(m){return this.ops.map(m)},f.prototype.partition=function(m){var u=[],h=[];return this.forEach(function(x){var y=m(x)?u:h;y.push(x)}),[u,h]},f.prototype.reduce=function(m,u){return this.ops.reduce(m,u)},f.prototype.changeLength=function(){return this.reduce(function(m,u){return u.insert?m+o.length(u):u.delete?m-u.delete:m},0)},f.prototype.length=function(){return this.reduce(function(m,u){return m+o.length(u)},0)},f.prototype.slice=function(m,u){m=m||0,typeof u!="number"&&(u=1/0);for(var h=[],x=o.iterator(this.ops),y=0;y<u&&x.hasNext();){var b;y<m?b=x.next(m-y):(b=x.next(u-y),h.push(b)),y+=o.length(b)}return new f(h)},f.prototype.compose=function(m){var u=o.iterator(this.ops),h=o.iterator(m.ops),x=[],y=h.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var b=y.retain;u.peekType()==="insert"&&u.peekLength()<=b;)b-=u.peekLength(),x.push(u.next());y.retain-b>0&&h.next(y.retain-b)}for(var p=new f(x);u.hasNext()||h.hasNext();)if(h.peekType()==="insert")p.push(h.next());else if(u.peekType()==="delete")p.push(u.next());else{var g=Math.min(u.peekLength(),h.peekLength()),w=u.next(g),v=h.next(g);if(typeof v.retain=="number"){var j={};typeof w.retain=="number"?j.retain=g:j.insert=w.insert;var k=o.attributes.compose(w.attributes,v.attributes,typeof w.retain=="number");if(k&&(j.attributes=k),p.push(j),!h.hasNext()&&l(p.ops[p.ops.length-1],j)){var S=new f(u.rest());return p.concat(S).chop()}}else typeof v.delete=="number"&&typeof w.retain=="number"&&p.push(v)}return p.chop()},f.prototype.concat=function(m){var u=new f(this.ops.slice());return m.ops.length>0&&(u.push(m.ops[0]),u.ops=u.ops.concat(m.ops.slice(1))),u},f.prototype.diff=function(m,u){if(this.ops===m.ops)return new f;var h=[this,m].map(function(g){return g.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:d;var v=g===m?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),x=new f,y=i(h[0],h[1],u),b=o.iterator(this.ops),p=o.iterator(m.ops);return y.forEach(function(g){for(var w=g[1].length;w>0;){var v=0;switch(g[0]){case i.INSERT:v=Math.min(p.peekLength(),w),x.push(p.next(v));break;case i.DELETE:v=Math.min(w,b.peekLength()),b.next(v),x.delete(v);break;case i.EQUAL:v=Math.min(b.peekLength(),p.peekLength(),w);var j=b.next(v),k=p.next(v);l(j.insert,k.insert)?x.retain(v,o.attributes.diff(j.attributes,k.attributes)):x.push(k).delete(v);break}w-=v}}),x.chop()},f.prototype.eachLine=function(m,u){u=u||`
`;for(var h=o.iterator(this.ops),x=new f,y=0;h.hasNext();){if(h.peekType()!=="insert")return;var b=h.peek(),p=o.length(b)-h.peekLength(),g=typeof b.insert=="string"?b.insert.indexOf(u,p)-p:-1;if(g<0)x.push(h.next());else if(g>0)x.push(h.next(g));else{if(m(x,h.next(1).attributes||{},y)===!1)return;y+=1,x=new f}}x.length()>0&&m(x,{},y)},f.prototype.transform=function(m,u){if(u=!!u,typeof m=="number")return this.transformPosition(m,u);for(var h=o.iterator(this.ops),x=o.iterator(m.ops),y=new f;h.hasNext()||x.hasNext();)if(h.peekType()==="insert"&&(u||x.peekType()!=="insert"))y.retain(o.length(h.next()));else if(x.peekType()==="insert")y.push(x.next());else{var b=Math.min(h.peekLength(),x.peekLength()),p=h.next(b),g=x.next(b);if(p.delete)continue;g.delete?y.push(g):y.retain(b,o.attributes.transform(p.attributes,g.attributes,u))}return y.chop()},f.prototype.transformPosition=function(m,u){u=!!u;for(var h=o.iterator(this.ops),x=0;h.hasNext()&&x<=m;){var y=h.peekLength(),b=h.peekType();if(h.next(),b==="delete"){m-=Math.min(y,m-x);continue}else b==="insert"&&(x<m||!u)&&(m+=y);x+=y}return m},n.exports=f},function(n,a){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,o=function(h){return typeof Array.isArray=="function"?Array.isArray(h):i.call(h)==="[object Array]"},d=function(h){if(!h||i.call(h)!=="[object Object]")return!1;var x=s.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&s.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!x&&!y)return!1;var b;for(b in h);return typeof b>"u"||s.call(h,b)},f=function(h,x){l&&x.name==="__proto__"?l(h,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):h[x.name]=x.newValue},m=function(h,x){if(x==="__proto__")if(s.call(h,x)){if(c)return c(h,x).value}else return;return h[x]};n.exports=function u(){var h,x,y,b,p,g,w=arguments[0],v=1,j=arguments.length,k=!1;for(typeof w=="boolean"&&(k=w,w=arguments[1]||{},v=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});v<j;++v)if(h=arguments[v],h!=null)for(x in h)y=m(w,x),b=m(h,x),w!==b&&(k&&b&&(d(b)||(p=o(b)))?(p?(p=!1,g=y&&o(y)?y:[]):g=y&&d(y)?y:{},f(w,{name:x,newValue:u(k,g,b)})):typeof b<"u"&&f(w,{name:x,newValue:b}));return w}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var i=function(){function N(_,P){for(var A=0;A<P.length;A++){var L=P[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(_,L.key,L)}}return function(_,P,A){return P&&N(_.prototype,P),A&&N(_,A),_}}(),l=function N(_,P,A){_===null&&(_=Function.prototype);var L=Object.getOwnPropertyDescriptor(_,P);if(L===void 0){var B=Object.getPrototypeOf(_);return B===null?void 0:N(B,P,A)}else{if("value"in L)return L.value;var q=L.get;return q===void 0?void 0:q.call(A)}},c=s(3),o=w(c),d=s(2),f=w(d),m=s(0),u=w(m),h=s(16),x=w(h),y=s(6),b=w(y),p=s(7),g=w(p);function w(N){return N&&N.__esModule?N:{default:N}}function v(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function j(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function k(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var S=1,T=function(N){k(_,N);function _(){return v(this,_),j(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return i(_,[{key:"attach",value:function(){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,L){var B=u.default.query(A,u.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,L)}},{key:"formatAt",value:function(A,L,B,q){this.format(B,q)}},{key:"insertAt",value:function(A,L,B){if(typeof L=="string"&&L.endsWith(`
`)){var q=u.default.create(O.blotName);this.parent.insertBefore(q,A===0?this:this.next),q.insertAt(0,L.slice(0,-1))}else l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,A,L,B)}}]),_}(u.default.Embed);T.scope=u.default.Scope.BLOCK_BLOT;var O=function(N){k(_,N);function _(P){v(this,_);var A=j(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P));return A.cache={},A}return i(_,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(A,L){return L.length()===0?A:A.insert(L.value(),C(L))},new f.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(A,L){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,A,L),this.cache={}}},{key:"formatAt",value:function(A,L,B,q){L<=0||(u.default.query(B,u.default.Scope.BLOCK)?A+L===this.length()&&this.format(B,q):l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,A,Math.min(L,this.length()-A-1),B,q),this.cache={})}},{key:"insertAt",value:function(A,L,B){if(B!=null)return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,A,L,B);if(L.length!==0){var q=L.split(`
`),z=q.shift();z.length>0&&(A<this.length()-1||this.children.tail==null?l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var $=this;q.reduce(function(M,I){return $=$.split(M,!0),$.insertAt(0,I),I.length},A+z.length)}}},{key:"insertBefore",value:function(A,L){var B=this.children.head;l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,A,L),B instanceof x.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(A,L){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"moveChildren",this).call(this,A,L),this.cache={}}},{key:"optimize",value:function(A){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(A===0||A>=this.length()-S)){var B=this.clone();return A===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}else{var q=l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"split",this).call(this,A,L);return this.cache={},q}}}]),_}(u.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[b.default,u.default.Embed,g.default];function C(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return N==null||(typeof N.formats=="function"&&(_=(0,o.default)(_,N.formats())),N.parent==null||N.parent.blotName=="scroll"||N.parent.statics.scope!==N.statics.scope)?_:C(N.parent,_)}a.bubbleFormats=C,a.BlockEmbed=T,a.default=O},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=function(){function $(M,I){var V=[],F=!0,H=!1,D=void 0;try{for(var R=M[Symbol.iterator](),U;!(F=(U=R.next()).done)&&(V.push(U.value),!(I&&V.length===I));F=!0);}catch(G){H=!0,D=G}finally{try{!F&&R.return&&R.return()}finally{if(H)throw D}}return V}return function(M,I){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return $(M,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(M,I){for(var V=0;V<I.length;V++){var F=I[V];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,I,V){return I&&$(M.prototype,I),V&&$(M,V),M}}();s(50);var o=s(2),d=C(o),f=s(14),m=C(f),u=s(8),h=C(u),x=s(9),y=C(x),b=s(0),p=C(b),g=s(15),w=C(g),v=s(3),j=C(v),k=s(10),S=C(k),T=s(34),O=C(T);function C($){return $&&$.__esModule?$:{default:$}}function N($,M,I){return M in $?Object.defineProperty($,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):$[M]=I,$}function _($,M){if(!($ instanceof M))throw new TypeError("Cannot call a class as a function")}var P=(0,S.default)("quill"),A=function(){c($,null,[{key:"debug",value:function(I){I===!0&&(I="log"),S.default.level(I)}},{key:"find",value:function(I){return I.__quill||p.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&P.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,V){var F=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var D=I.attrName||I.blotName;typeof D=="string"?this.register("formats/"+D,I,V):Object.keys(I).forEach(function(R){F.register(R,I[R],V)})}else this.imports[I]!=null&&!H&&P.warn("Overwriting "+I+" with",V),this.imports[I]=V,(I.startsWith("blots/")||I.startsWith("formats/"))&&V.blotName!=="abstract"?p.default.register(V):I.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function $(M){var I=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_(this,$),this.options=L(M,V),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",M);this.options.debug&&$.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(D){D===h.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(D,R){var U=I.selection.lastRange,G=U&&U.length===0?U.index:void 0;B.call(I,function(){return I.editor.update(null,R,G)},D)});var H=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c($,[{key:"addContainer",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var F=I;I=document.createElement("div"),I.classList.add(F)}return this.container.insertBefore(I,V),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,V,F){var H=this,D=q(I,V,F),R=l(D,4);return I=R[0],V=R[1],F=R[3],B.call(this,function(){return H.editor.deleteText(I,V)},F,I,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,V){var F=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return B.call(this,function(){var D=F.getSelection(!0),R=new d.default;if(D==null)return R;if(p.default.query(I,p.default.Scope.BLOCK))R=F.editor.formatLine(D.index,D.length,N({},I,V));else{if(D.length===0)return F.selection.format(I,V),R;R=F.editor.formatText(D.index,D.length,N({},I,V))}return F.setSelection(D,h.default.sources.SILENT),R},H)}},{key:"formatLine",value:function(I,V,F,H,D){var R=this,U=void 0,G=q(I,V,F,H,D),Q=l(G,4);return I=Q[0],V=Q[1],U=Q[2],D=Q[3],B.call(this,function(){return R.editor.formatLine(I,V,U)},D,I,0)}},{key:"formatText",value:function(I,V,F,H,D){var R=this,U=void 0,G=q(I,V,F,H,D),Q=l(G,4);return I=Q[0],V=Q[1],U=Q[2],D=Q[3],B.call(this,function(){return R.editor.formatText(I,V,U)},D,I,0)}},{key:"getBounds",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof I=="number"?F=this.selection.getBounds(I,V):F=this.selection.getBounds(I.index,I.length);var H=this.container.getBoundingClientRect();return{bottom:F.bottom-H.top,height:F.height,left:F.left-H.left,right:F.right-H.left,top:F.top-H.top,width:F.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,F=q(I,V),H=l(F,2);return I=H[0],V=H[1],this.editor.getContents(I,V)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,V):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,V)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,F=q(I,V),H=l(F,2);return I=H[0],V=H[1],this.editor.getText(I,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,V,F){var H=this,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$.sources.API;return B.call(this,function(){return H.editor.insertEmbed(I,V,F)},D,I)}},{key:"insertText",value:function(I,V,F,H,D){var R=this,U=void 0,G=q(I,0,F,H,D),Q=l(G,4);return I=Q[0],U=Q[2],D=Q[3],B.call(this,function(){return R.editor.insertText(I,V,U)},D,I,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,V,F){this.clipboard.dangerouslyPasteHTML(I,V,F)}},{key:"removeFormat",value:function(I,V,F){var H=this,D=q(I,V,F),R=l(D,4);return I=R[0],V=R[1],F=R[3],B.call(this,function(){return H.editor.removeFormat(I,V)},F,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var V=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return B.call(this,function(){I=new d.default(I);var H=V.getLength(),D=V.editor.deleteText(0,H),R=V.editor.applyDelta(I),U=R.ops[R.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),R.delete(1));var G=D.compose(R);return G},F)}},{key:"setSelection",value:function(I,V,F){if(I==null)this.selection.setRange(null,V||$.sources.API);else{var H=q(I,V,F),D=l(H,4);I=D[0],V=D[1],F=D[3],this.selection.setRange(new g.Range(I,V),F),F!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,F=new d.default().insert(I);return this.setContents(F,V)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,V=this.scroll.update(I);return this.selection.update(I),V}},{key:"updateContents",value:function(I){var V=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return B.call(this,function(){return I=new d.default(I),V.editor.applyDelta(I,F)},F,!0)}}]),$}();A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},A.events=h.default.events,A.sources=h.default.sources,A.version="1.3.7",A.imports={delta:d.default,parchment:p.default,"core/module":y.default,"core/theme":O.default};function L($,M){if(M=(0,j.default)(!0,{container:$,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===A.DEFAULTS.theme)M.theme=O.default;else if(M.theme=A.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var I=(0,j.default)(!0,{},M.theme.DEFAULTS);[I,M].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(D){H.modules[D]===!0&&(H.modules[D]={})})});var V=Object.keys(I.modules).concat(Object.keys(M.modules)),F=V.reduce(function(H,D){var R=A.import("modules/"+D);return R==null?P.error("Cannot load "+D+" module. Are you sure you registered it?"):H[D]=R.DEFAULTS||{},H},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,j.default)(!0,{},A.DEFAULTS,{modules:F},I,M),["bounds","container","scrollingContainer"].forEach(function(H){typeof M[H]=="string"&&(M[H]=document.querySelector(M[H]))}),M.modules=Object.keys(M.modules).reduce(function(H,D){return M.modules[D]&&(H[D]=M.modules[D]),H},{}),M}function B($,M,I,V){if(this.options.strict&&!this.isEnabled()&&M===h.default.sources.USER)return new d.default;var F=I==null?null:this.getSelection(),H=this.editor.delta,D=$();if(F!=null&&(I===!0&&(I=F.index),V==null?F=z(F,D,M):V!==0&&(F=z(F,I,V,M)),this.setSelection(F,h.default.sources.SILENT)),D.length()>0){var R,U=[h.default.events.TEXT_CHANGE,D,H,M];if((R=this.emitter).emit.apply(R,[h.default.events.EDITOR_CHANGE].concat(U)),M!==h.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,U)}}return D}function q($,M,I,V,F){var H={};return typeof $.index=="number"&&typeof $.length=="number"?typeof M!="number"?(F=V,V=I,I=M,M=$.length,$=$.index):(M=$.length,$=$.index):typeof M!="number"&&(F=V,V=I,I=M,M=0),(typeof I>"u"?"undefined":i(I))==="object"?(H=I,F=V):typeof I=="string"&&(V!=null?H[I]=V:F=I),F=F||h.default.sources.API,[$,M,H,F]}function z($,M,I,V){if($==null)return null;var F=void 0,H=void 0;if(M instanceof d.default){var D=[$.index,$.index+$.length].map(function(Q){return M.transformPosition(Q,V!==h.default.sources.USER)}),R=l(D,2);F=R[0],H=R[1]}else{var U=[$.index,$.index+$.length].map(function(Q){return Q<M||Q===M&&V===h.default.sources.USER?Q:I>=0?Q+I:Math.max(M,Q+I)}),G=l(U,2);F=G[0],H=G[1]}return new g.Range(F,H-F)}a.expandConfig=L,a.overload=q,a.default=A},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function b(p,g){for(var w=0;w<g.length;w++){var v=g[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,g,w){return g&&b(p.prototype,g),w&&b(p,w),p}}(),l=function b(p,g,w){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,g);if(v===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,g,w)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(w)}},c=s(7),o=m(c),d=s(0),f=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function u(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function h(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function x(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var y=function(b){x(p,b);function p(){return u(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"formatAt",value:function(w,v,j,k){if(p.compare(this.statics.blotName,j)<0&&f.default.query(j,f.default.Scope.BLOT)){var S=this.isolate(w,v);k&&S.wrap(j,k)}else l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,w,v,j,k)}},{key:"optimize",value:function(w){if(l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,w),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(w,v){var j=p.order.indexOf(w),k=p.order.indexOf(v);return j>=0||k>=0?j-k:w===v?0:w<v?-1:1}}]),p}(f.default.Inline);y.allowedChildren=[y,f.default.Embed,o.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(0),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}function o(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function d(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function f(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var m=function(u){f(h,u);function h(){return o(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default.Text);a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function g(w,v){for(var j=0;j<v.length;j++){var k=v[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,v,j){return v&&g(w.prototype,v),j&&g(w,j),w}}(),l=function g(w,v,j){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,v);if(k===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:g(S,v,j)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(j)}},c=s(54),o=m(c),d=s(10),f=m(d);function m(g){return g&&g.__esModule?g:{default:g}}function u(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function h(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function x(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var y=(0,f.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(g){document.addEventListener(g,function(){for(var w=arguments.length,v=Array(w),j=0;j<w;j++)v[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,v)}})})});var p=function(g){x(w,g);function w(){u(this,w);var v=h(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return v.listeners={},v.on("error",y.error),v}return i(w,[{key:"emit",value:function(){y.log.apply(y,arguments),l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var k=arguments.length,S=Array(k>1?k-1:0),T=1;T<k;T++)S[T-1]=arguments[T];(this.listeners[j.type]||[]).forEach(function(O){var C=O.node,N=O.handler;(j.target===C||C.contains(j.target))&&N.apply(void 0,[j].concat(S))})}},{key:"listenDOM",value:function(j,k,S){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:k,handler:S})}}]),w}(o.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},a.default=p},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}var l=function c(o){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,c),this.quill=o,this.options=d};l.DEFAULTS={},a.default=l},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=["error","warn","log","info"],l="warn";function c(d){if(i.indexOf(d)<=i.indexOf(l)){for(var f,m=arguments.length,u=Array(m>1?m-1:0),h=1;h<m;h++)u[h-1]=arguments[h];(f=console)[d].apply(f,u)}}function o(d){return i.reduce(function(f,m){return f[m]=c.bind(console,m,d),f},{})}c.level=o.level=function(d){l=d},a.default=o},function(n,a,s){var i=Array.prototype.slice,l=s(52),c=s(53),o=n.exports=function(u,h,x){return x||(x={}),u===h?!0:u instanceof Date&&h instanceof Date?u.getTime()===h.getTime():!u||!h||typeof u!="object"&&typeof h!="object"?x.strict?u===h:u==h:m(u,h,x)};function d(u){return u==null}function f(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function m(u,h,x){var y,b;if(d(u)||d(h)||u.prototype!==h.prototype)return!1;if(c(u))return c(h)?(u=i.call(u),h=i.call(h),o(u,h,x)):!1;if(f(u)){if(!f(h)||u.length!==h.length)return!1;for(y=0;y<u.length;y++)if(u[y]!==h[y])return!1;return!0}try{var p=l(u),g=l(h)}catch{return!1}if(p.length!=g.length)return!1;for(p.sort(),g.sort(),y=p.length-1;y>=0;y--)if(p[y]!=g[y])return!1;for(y=p.length-1;y>=0;y--)if(b=p[y],!o(u[b],h[b],x))return!1;return typeof u==typeof h}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(1),l=function(){function c(o,d,f){f===void 0&&(f={}),this.attrName=o,this.keyName=d;var m=i.Scope.TYPE&i.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&i.Scope.LEVEL|m:this.scope=i.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return c.keys=function(o){return[].map.call(o.attributes,function(d){return d.name})},c.prototype.add=function(o,d){return this.canAdd(o,d)?(o.setAttribute(this.keyName,d),!0):!1},c.prototype.canAdd=function(o,d){var f=i.query(o,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},c.prototype.remove=function(o){o.removeAttribute(this.keyName)},c.prototype.value=function(o){var d=o.getAttribute(this.keyName);return this.canAdd(o,d)&&d?d:""},c}();a.default=l},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var i=function(){function T(O,C){var N=[],_=!0,P=!1,A=void 0;try{for(var L=O[Symbol.iterator](),B;!(_=(B=L.next()).done)&&(N.push(B.value),!(C&&N.length===C));_=!0);}catch(q){P=!0,A=q}finally{try{!_&&L.return&&L.return()}finally{if(P)throw A}}return N}return function(O,C){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function T(O,C){for(var N=0;N<C.length;N++){var _=C[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}return function(O,C,N){return C&&T(O.prototype,C),N&&T(O,N),O}}(),c=function T(O,C,N){O===null&&(O=Function.prototype);var _=Object.getOwnPropertyDescriptor(O,C);if(_===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:T(P,C,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=s(2),d=g(o),f=s(0),m=g(f),u=s(4),h=g(u),x=s(6),y=g(x),b=s(7),p=g(b);function g(T){return T&&T.__esModule?T:{default:T}}function w(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function v(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function j(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var k=function(T){j(O,T);function O(){return w(this,O),v(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(y.default);k.blotName="code",k.tagName="CODE";var S=function(T){j(O,T);function O(){return w(this,O),v(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return l(O,[{key:"delta",value:function(){var N=this,_=this.domNode.textContent;return _.endsWith(`
`)&&(_=_.slice(0,-1)),_.split(`
`).reduce(function(P,A){return P.insert(A).insert(`
`,N.formats())},new d.default)}},{key:"format",value:function(N,_){if(!(N===this.statics.blotName&&_)){var P=this.descendant(p.default,this.length()-1),A=i(P,1),L=A[0];L!=null&&L.deleteAt(L.length()-1,1),c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,N,_)}}},{key:"formatAt",value:function(N,_,P,A){if(_!==0&&!(m.default.query(P,m.default.Scope.BLOCK)==null||P===this.statics.blotName&&A===this.statics.formats(this.domNode))){var L=this.newlineIndex(N);if(!(L<0||L>=N+_)){var B=this.newlineIndex(N,!0)+1,q=L-B+1,z=this.isolate(B,q),$=z.next;z.format(P,A),$ instanceof O&&$.formatAt(0,N-B+_-q,P,A)}}}},{key:"insertAt",value:function(N,_,P){if(P==null){var A=this.descendant(p.default,N),L=i(A,2),B=L[0],q=L[1];B.insertAt(q,_)}}},{key:"length",value:function(){var N=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?N:N+1}},{key:"newlineIndex",value:function(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_)return this.domNode.textContent.slice(0,N).lastIndexOf(`
`);var P=this.domNode.textContent.slice(N).indexOf(`
`);return P>-1?N+P:-1}},{key:"optimize",value:function(N){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,N);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===_.statics.formats(_.domNode)&&(_.optimize(N),_.moveChildren(this),_.remove())}},{key:"replace",value:function(N){c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,N),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(_){var P=m.default.find(_);P==null?_.parentNode.removeChild(_):P instanceof m.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(N){var _=c(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,N);return _.setAttribute("spellcheck",!1),_}},{key:"formats",value:function(){return!0}}]),O}(h.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",a.Code=k,a.default=S},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=function(){function $(M,I){var V=[],F=!0,H=!1,D=void 0;try{for(var R=M[Symbol.iterator](),U;!(F=(U=R.next()).done)&&(V.push(U.value),!(I&&V.length===I));F=!0);}catch(G){H=!0,D=G}finally{try{!F&&R.return&&R.return()}finally{if(H)throw D}}return V}return function(M,I){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return $(M,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(M,I){for(var V=0;V<I.length;V++){var F=I[V];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,I,V){return I&&$(M.prototype,I),V&&$(M,V),M}}(),o=s(2),d=_(o),f=s(20),m=_(f),u=s(0),h=_(u),x=s(13),y=_(x),b=s(24),p=_(b),g=s(4),w=_(g),v=s(16),j=_(v),k=s(21),S=_(k),T=s(11),O=_(T),C=s(3),N=_(C);function _($){return $&&$.__esModule?$:{default:$}}function P($,M,I){return M in $?Object.defineProperty($,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):$[M]=I,$}function A($,M){if(!($ instanceof M))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,B=function(){function $(M){A(this,$),this.scroll=M,this.delta=this.getDelta()}return c($,[{key:"applyDelta",value:function(I){var V=this,F=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),I=z(I),I.reduce(function(D,R){var U=R.retain||R.delete||R.insert.length||1,G=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var Q=R.insert;Q.endsWith(`
`)&&F&&(F=!1,Q=Q.slice(0,-1)),D>=H&&!Q.endsWith(`
`)&&(F=!0),V.scroll.insertAt(D,Q);var K=V.scroll.line(D),J=l(K,2),ne=J[0],le=J[1],ue=(0,N.default)({},(0,g.bubbleFormats)(ne));if(ne instanceof w.default){var fe=ne.descendant(h.default.Leaf,le),ye=l(fe,1),Z=ye[0];ue=(0,N.default)(ue,(0,g.bubbleFormats)(Z))}G=m.default.attributes.diff(ue,G)||{}}else if(i(R.insert)==="object"){var W=Object.keys(R.insert)[0];if(W==null)return D;V.scroll.insertAt(D,W,R.insert[W])}H+=U}return Object.keys(G).forEach(function(X){V.scroll.formatAt(D,U,X,G[X])}),D+U},0),I.reduce(function(D,R){return typeof R.delete=="number"?(V.scroll.deleteAt(D,R.delete),D):D+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,V){return this.scroll.deleteAt(I,V),this.update(new d.default().retain(I).delete(V))}},{key:"formatLine",value:function(I,V){var F=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function(D){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[D])){var R=F.scroll.lines(I,Math.max(V,1)),U=V;R.forEach(function(G){var Q=G.length();if(!(G instanceof y.default))G.format(D,H[D]);else{var K=I-G.offset(F.scroll),J=G.newlineIndex(K+U)-K+1;G.formatAt(K,J,D,H[D])}U-=Q})}}),this.scroll.optimize(),this.update(new d.default().retain(I).retain(V,(0,S.default)(H)))}},{key:"formatText",value:function(I,V){var F=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function(D){F.scroll.formatAt(I,V,D,H[D])}),this.update(new d.default().retain(I).retain(V,(0,S.default)(H)))}},{key:"getContents",value:function(I,V){return this.delta.slice(I,I+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,V){return I.concat(V.delta())},new d.default)}},{key:"getFormat",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],H=[];V===0?this.scroll.path(I).forEach(function(R){var U=l(R,1),G=U[0];G instanceof w.default?F.push(G):G instanceof h.default.Leaf&&H.push(G)}):(F=this.scroll.lines(I,V),H=this.scroll.descendants(h.default.Leaf,I,V));var D=[F,H].map(function(R){if(R.length===0)return{};for(var U=(0,g.bubbleFormats)(R.shift());Object.keys(U).length>0;){var G=R.shift();if(G==null)return U;U=q((0,g.bubbleFormats)(G),U)}return U});return N.default.apply(N.default,D)}},{key:"getText",value:function(I,V){return this.getContents(I,V).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(I,V,F){return this.scroll.insertAt(I,V,F),this.update(new d.default().retain(I).insert(P({},V,F)))}},{key:"insertText",value:function(I,V){var F=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,V),Object.keys(H).forEach(function(D){F.scroll.formatAt(I,V.length,D,H[D])}),this.update(new d.default().retain(I).insert(V,(0,S.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==w.default.blotName||I.children.length>1?!1:I.children.head instanceof j.default}},{key:"removeFormat",value:function(I,V){var F=this.getText(I,V),H=this.scroll.line(I+V),D=l(H,2),R=D[0],U=D[1],G=0,Q=new d.default;R!=null&&(R instanceof y.default?G=R.newlineIndex(U)-U+1:G=R.length()-U,Q=R.delta().slice(U,U+G-1).insert(`
`));var K=this.getContents(I,V+G),J=K.diff(new d.default().insert(F).concat(Q)),ne=new d.default().retain(I).concat(J);return this.applyDelta(ne)}},{key:"update",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(L)&&h.default.find(V[0].target)){var D=h.default.find(V[0].target),R=(0,g.bubbleFormats)(D),U=D.offset(this.scroll),G=V[0].oldValue.replace(p.default.CONTENTS,""),Q=new d.default().insert(G),K=new d.default().insert(D.value()),J=new d.default().retain(U).concat(Q.diff(K,F));I=J.reduce(function(ne,le){return le.insert?ne.insert(le.insert,R):ne.push(le)},new d.default),this.delta=H.compose(I)}else this.delta=this.getDelta(),(!I||!(0,O.default)(H.compose(I),this.delta))&&(I=H.diff(this.delta,F));return I}}]),$}();function q($,M){return Object.keys(M).reduce(function(I,V){return $[V]==null||(M[V]===$[V]?I[V]=M[V]:Array.isArray(M[V])?M[V].indexOf($[V])<0&&(I[V]=M[V].concat([$[V]])):I[V]=[M[V],$[V]]),I},{})}function z($){return $.reduce(function(M,I){if(I.insert===1){var V=(0,S.default)(I.attributes);return delete V.image,M.insert({image:I.attributes.image},V)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,S.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var F=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(F,I.attributes)}return M.push(I)},new d.default)}a.default=B},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var i=function(){function T(O,C){var N=[],_=!0,P=!1,A=void 0;try{for(var L=O[Symbol.iterator](),B;!(_=(B=L.next()).done)&&(N.push(B.value),!(C&&N.length===C));_=!0);}catch(q){P=!0,A=q}finally{try{!_&&L.return&&L.return()}finally{if(P)throw A}}return N}return function(O,C){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function T(O,C){for(var N=0;N<C.length;N++){var _=C[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}return function(O,C,N){return C&&T(O.prototype,C),N&&T(O,N),O}}(),c=s(0),o=p(c),d=s(21),f=p(d),m=s(11),u=p(m),h=s(8),x=p(h),y=s(10),b=p(y);function p(T){return T&&T.__esModule?T:{default:T}}function g(T){if(Array.isArray(T)){for(var O=0,C=Array(T.length);O<T.length;O++)C[O]=T[O];return C}else return Array.from(T)}function w(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}var v=(0,b.default)("quill:selection"),j=function T(O){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,T),this.index=O,this.length=C},k=function(){function T(O,C){var N=this;w(this,T),this.emitter=C,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){N.mouseDown||setTimeout(N.update.bind(N,x.default.sources.USER),1)}),this.emitter.on(x.default.events.EDITOR_CHANGE,function(_,P){_===x.default.events.TEXT_CHANGE&&P.length()>0&&N.update(x.default.sources.SILENT)}),this.emitter.on(x.default.events.SCROLL_BEFORE_UPDATE,function(){if(N.hasFocus()){var _=N.getNativeRange();_!=null&&_.start.node!==N.cursor.textNode&&N.emitter.once(x.default.events.SCROLL_UPDATE,function(){try{N.setNativeRange(_.start.node,_.start.offset,_.end.node,_.end.offset)}catch{}})}}),this.emitter.on(x.default.events.SCROLL_OPTIMIZE,function(_,P){if(P.range){var A=P.range,L=A.startNode,B=A.startOffset,q=A.endNode,z=A.endOffset;N.setNativeRange(L,B,q,z)}}),this.update(x.default.sources.SILENT)}return l(T,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var N=C.cursor.restore();if(!N)return;setTimeout(function(){C.setNativeRange(N.startNode,N.startOffset,N.endNode,N.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(x.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,N){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var _=this.getNativeRange();if(!(_==null||!_.native.collapsed||o.default.query(C,o.default.Scope.BLOCK))){if(_.start.node!==this.cursor.textNode){var P=o.default.find(_.start.node,!1);if(P==null)return;if(P instanceof o.default.Leaf){var A=P.split(_.start.offset);P.parent.insertBefore(this.cursor,A)}else P.insertBefore(this.cursor,_.start.node);this.cursor.attach()}this.cursor.format(C,N),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=this.scroll.length();C=Math.min(C,_-1),N=Math.min(C+N,_-1)-C;var P=void 0,A=this.scroll.leaf(C),L=i(A,2),B=L[0],q=L[1];if(B==null)return null;var z=B.position(q,!0),$=i(z,2);P=$[0],q=$[1];var M=document.createRange();if(N>0){M.setStart(P,q);var I=this.scroll.leaf(C+N),V=i(I,2);if(B=V[0],q=V[1],B==null)return null;var F=B.position(q,!0),H=i(F,2);return P=H[0],q=H[1],M.setEnd(P,q),M.getBoundingClientRect()}else{var D="left",R=void 0;return P instanceof Text?(q<P.data.length?(M.setStart(P,q),M.setEnd(P,q+1)):(M.setStart(P,q-1),M.setEnd(P,q),D="right"),R=M.getBoundingClientRect()):(R=B.domNode.getBoundingClientRect(),q>0&&(D="right")),{bottom:R.top+R.height,height:R.height,left:R[D],right:R[D],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var N=C.getRangeAt(0);if(N==null)return null;var _=this.normalizeNative(N);return v.info("getNativeRange",_),_}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var N=this.normalizedToRange(C);return[N,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var N=this,_=[[C.start.node,C.start.offset]];C.native.collapsed||_.push([C.end.node,C.end.offset]);var P=_.map(function(B){var q=i(B,2),z=q[0],$=q[1],M=o.default.find(z,!0),I=M.offset(N.scroll);return $===0?I:M instanceof o.default.Container?I+M.length():I+M.index(z,$)}),A=Math.min(Math.max.apply(Math,g(P)),this.scroll.length()-1),L=Math.min.apply(Math,[A].concat(g(P)));return new j(L,A-L)}},{key:"normalizeNative",value:function(C){if(!S(this.root,C.startContainer)||!C.collapsed&&!S(this.root,C.endContainer))return null;var N={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[N.start,N.end].forEach(function(_){for(var P=_.node,A=_.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>A)P=P.childNodes[A],A=0;else if(P.childNodes.length===A)P=P.lastChild,A=P instanceof Text?P.data.length:P.childNodes.length+1;else break;_.node=P,_.offset=A}),N}},{key:"rangeToNative",value:function(C){var N=this,_=C.collapsed?[C.index]:[C.index,C.index+C.length],P=[],A=this.scroll.length();return _.forEach(function(L,B){L=Math.min(A-1,L);var q=void 0,z=N.scroll.leaf(L),$=i(z,2),M=$[0],I=$[1],V=M.position(I,B!==0),F=i(V,2);q=F[0],I=F[1],P.push(q,I)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(C){var N=this.lastRange;if(N!=null){var _=this.getBounds(N.index,N.length);if(_!=null){var P=this.scroll.length()-1,A=this.scroll.line(Math.min(N.index,P)),L=i(A,1),B=L[0],q=B;if(N.length>0){var z=this.scroll.line(Math.min(N.index+N.length,P)),$=i(z,1);q=$[0]}if(!(B==null||q==null)){var M=C.getBoundingClientRect();_.top<M.top?C.scrollTop-=M.top-_.top:_.bottom>M.bottom&&(C.scrollTop+=_.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(C,N){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",C,N,_,P),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||_.parentNode==null))){var L=document.getSelection();if(L!=null)if(C!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||A||C!==B.startContainer||N!==B.startOffset||_!==B.endContainer||P!==B.endOffset){C.tagName=="BR"&&(N=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),_.tagName=="BR"&&(P=[].indexOf.call(_.parentNode.childNodes,_),_=_.parentNode);var q=document.createRange();q.setStart(C,N),q.setEnd(_,P),L.removeAllRanges(),L.addRange(q)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof N=="string"&&(_=N,N=!1),v.info("setRange",C),C!=null){var P=this.rangeToNative(C);this.setNativeRange.apply(this,g(P).concat([N]))}else this.setNativeRange(null);this.update(_)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.default.sources.USER,N=this.lastRange,_=this.getRange(),P=i(_,2),A=P[0],L=P[1];if(this.lastRange=A,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(N,this.lastRange)){var B;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var q=[x.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(N),C];if((B=this.emitter).emit.apply(B,[x.default.events.EDITOR_CHANGE].concat(q)),C!==x.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,q)}}}}]),T}();function S(T,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),T.contains(O)}a.Range=j,a.default=k},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function x(y,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,b,p){return b&&x(y.prototype,b),p&&x(y,p),y}}(),l=function x(y,b,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,b);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:x(w,b,p)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(p)}},c=s(0),o=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function u(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(x){u(y,x);function y(){return f(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"insertInto",value:function(p,g){p.children.length===0?l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,p,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(o.default.Embed);h.blotName="break",h.tagName="BR",a.default=h},function(n,a,s){var i=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var x in h)h.hasOwnProperty(x)&&(u[x]=h[x])};return function(u,h){m(u,h);function x(){this.constructor=u}u.prototype=h===null?Object.create(h):(x.prototype=h.prototype,new x)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(44),c=s(30),o=s(1),d=function(m){i(u,m);function u(h){var x=m.call(this,h)||this;return x.build(),x}return u.prototype.appendChild=function(h){this.insertBefore(h)},u.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},u.prototype.build=function(){var h=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(x){try{var y=f(x);h.insertBefore(y,h.children.head||void 0)}catch(b){if(b instanceof o.ParchmentError)return;throw b}})},u.prototype.deleteAt=function(h,x){if(h===0&&x===this.length())return this.remove();this.children.forEachAt(h,x,function(y,b,p){y.deleteAt(b,p)})},u.prototype.descendant=function(h,x){var y=this.children.find(x),b=y[0],p=y[1];return h.blotName==null&&h(b)||h.blotName!=null&&b instanceof h?[b,p]:b instanceof u?b.descendant(h,p):[null,-1]},u.prototype.descendants=function(h,x,y){x===void 0&&(x=0),y===void 0&&(y=Number.MAX_VALUE);var b=[],p=y;return this.children.forEachAt(x,y,function(g,w,v){(h.blotName==null&&h(g)||h.blotName!=null&&g instanceof h)&&b.push(g),g instanceof u&&(b=b.concat(g.descendants(h,w,p))),p-=v}),b},u.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),m.prototype.detach.call(this)},u.prototype.formatAt=function(h,x,y,b){this.children.forEachAt(h,x,function(p,g,w){p.formatAt(g,w,y,b)})},u.prototype.insertAt=function(h,x,y){var b=this.children.find(h),p=b[0],g=b[1];if(p)p.insertAt(g,x,y);else{var w=y==null?o.create("text",x):o.create(x,y);this.appendChild(w)}},u.prototype.insertBefore=function(h,x){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return h instanceof y}))throw new o.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,x)},u.prototype.length=function(){return this.children.reduce(function(h,x){return h+x.length()},0)},u.prototype.moveChildren=function(h,x){this.children.forEach(function(y){h.insertBefore(y,x)})},u.prototype.optimize=function(h){if(m.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var x=o.create(this.statics.defaultChild);this.appendChild(x),x.optimize(h)}else this.remove()},u.prototype.path=function(h,x){x===void 0&&(x=!1);var y=this.children.find(h,x),b=y[0],p=y[1],g=[[this,h]];return b instanceof u?g.concat(b.path(p,x)):(b!=null&&g.push([b,p]),g)},u.prototype.removeChild=function(h){this.children.remove(h)},u.prototype.replace=function(h){h instanceof u&&h.moveChildren(this),m.prototype.replace.call(this,h)},u.prototype.split=function(h,x){if(x===void 0&&(x=!1),!x){if(h===0)return this;if(h===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(h,this.length(),function(b,p,g){b=b.split(p,x),y.appendChild(b)}),y},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(h,x){var y=this,b=[],p=[];h.forEach(function(g){g.target===y.domNode&&g.type==="childList"&&(b.push.apply(b,g.addedNodes),p.push.apply(p,g.removedNodes))}),p.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=o.find(g);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===y.domNode)&&w.detach()}}),b.filter(function(g){return g.parentNode==y.domNode}).sort(function(g,w){return g===w?0:g.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var w=null;g.nextSibling!=null&&(w=o.find(g.nextSibling));var v=f(g);(v.next!=w||v.next==null)&&(v.parent!=null&&v.parent.removeChild(y),y.insertBefore(v,w||void 0))})},u}(c.default);function f(m){var u=o.find(m);if(u==null)try{u=o.create(m)}catch{u=o.create(o.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(x){u.domNode.appendChild(x)}),m.parentNode&&m.parentNode.replaceChild(u.domNode,m),u.attach()}return u}a.default=d},function(n,a,s){var i=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var x in h)h.hasOwnProperty(x)&&(u[x]=h[x])};return function(u,h){m(u,h);function x(){this.constructor=u}u.prototype=h===null?Object.create(h):(x.prototype=h.prototype,new x)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(12),c=s(31),o=s(17),d=s(1),f=function(m){i(u,m);function u(h){var x=m.call(this,h)||this;return x.attributes=new c.default(x.domNode),x}return u.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},u.prototype.format=function(h,x){var y=d.query(h);y instanceof l.default?this.attributes.attribute(y,x):x&&y!=null&&(h!==this.statics.blotName||this.formats()[h]!==x)&&this.replaceWith(h,x)},u.prototype.formats=function(){var h=this.attributes.values(),x=this.statics.formats(this.domNode);return x!=null&&(h[this.statics.blotName]=x),h},u.prototype.replaceWith=function(h,x){var y=m.prototype.replaceWith.call(this,h,x);return this.attributes.copy(y),y},u.prototype.update=function(h,x){var y=this;m.prototype.update.call(this,h,x),h.some(function(b){return b.target===y.domNode&&b.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(h,x){var y=m.prototype.wrap.call(this,h,x);return y instanceof u&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},u}(o.default);a.default=f},function(n,a,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){d(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(30),c=s(1),o=function(d){i(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.value=function(m){return!0},f.prototype.index=function(m,u){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},f.prototype.position=function(m,u){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(h+=1),[this.parent.domNode,h]},f.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},f.scope=c.Scope.INLINE_BLOT,f}(l.default);a.default=o},function(n,a,s){var i=s(11),l=s(3),c={attributes:{compose:function(d,f,m){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});var u=l(!0,{},f);m||(u=Object.keys(u).reduce(function(x,y){return u[y]!=null&&(x[y]=u[y]),x},{}));for(var h in d)d[h]!==void 0&&f[h]===void 0&&(u[h]=d[h]);return Object.keys(u).length>0?u:void 0},diff:function(d,f){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});var m=Object.keys(d).concat(Object.keys(f)).reduce(function(u,h){return i(d[h],f[h])||(u[h]=f[h]===void 0?null:f[h]),u},{});return Object.keys(m).length>0?m:void 0},transform:function(d,f,m){if(typeof d!="object")return f;if(typeof f=="object"){if(!m)return f;var u=Object.keys(f).reduce(function(h,x){return d[x]===void 0&&(h[x]=f[x]),h},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(d){return new o(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function o(d){this.ops=d,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(d){d||(d=1/0);var f=this.ops[this.index];if(f){var m=this.offset,u=c.length(f);if(d>=u-m?(d=u-m,this.index+=1,this.offset=0):this.offset+=d,typeof f.delete=="number")return{delete:d};var h={};return f.attributes&&(h.attributes=f.attributes),typeof f.retain=="number"?h.retain=d:typeof f.insert=="string"?h.insert=f.insert.substr(m,d):h.insert=f.insert,h}else return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,f=this.index,m=this.next(),u=this.ops.slice(this.index);return this.offset=d,this.index=f,[m].concat(u)}else return[]},n.exports=c},function(n,a){var s=function(){function i(y,b){return b!=null&&y instanceof b}var l;try{l=Map}catch{l=function(){}}var c;try{c=Set}catch{c=function(){}}var o;try{o=Promise}catch{o=function(){}}function d(y,b,p,g,w){typeof b=="object"&&(p=b.depth,g=b.prototype,w=b.includeNonEnumerable,b=b.circular);var v=[],j=[],k=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof p>"u"&&(p=1/0);function S(T,O){if(T===null)return null;if(O===0)return T;var C,N;if(typeof T!="object")return T;if(i(T,l))C=new l;else if(i(T,c))C=new c;else if(i(T,o))C=new o(function(M,I){T.then(function(V){M(S(V,O-1))},function(V){I(S(V,O-1))})});else if(d.__isArray(T))C=[];else if(d.__isRegExp(T))C=new RegExp(T.source,x(T)),T.lastIndex&&(C.lastIndex=T.lastIndex);else if(d.__isDate(T))C=new Date(T.getTime());else{if(k&&Buffer.isBuffer(T))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(T.length):C=new Buffer(T.length),T.copy(C),C;i(T,Error)?C=Object.create(T):typeof g>"u"?(N=Object.getPrototypeOf(T),C=Object.create(N)):(C=Object.create(g),N=g)}if(b){var _=v.indexOf(T);if(_!=-1)return j[_];v.push(T),j.push(C)}i(T,l)&&T.forEach(function(M,I){var V=S(I,O-1),F=S(M,O-1);C.set(V,F)}),i(T,c)&&T.forEach(function(M){var I=S(M,O-1);C.add(I)});for(var P in T){var A;N&&(A=Object.getOwnPropertyDescriptor(N,P)),!(A&&A.set==null)&&(C[P]=S(T[P],O-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(T),P=0;P<L.length;P++){var B=L[P],q=Object.getOwnPropertyDescriptor(T,B);q&&!q.enumerable&&!w||(C[B]=S(T[B],O-1),q.enumerable||Object.defineProperty(C,B,{enumerable:!1}))}if(w)for(var z=Object.getOwnPropertyNames(T),P=0;P<z.length;P++){var $=z[P],q=Object.getOwnPropertyDescriptor(T,$);q&&q.enumerable||(C[$]=S(T[$],O-1),Object.defineProperty(C,$,{enumerable:!1}))}return C}return S(y,p)}d.clonePrototype=function(b){if(b===null)return null;var p=function(){};return p.prototype=b,new p};function f(y){return Object.prototype.toString.call(y)}d.__objToStr=f;function m(y){return typeof y=="object"&&f(y)==="[object Date]"}d.__isDate=m;function u(y){return typeof y=="object"&&f(y)==="[object Array]"}d.__isArray=u;function h(y){return typeof y=="object"&&f(y)==="[object RegExp]"}d.__isRegExp=h;function x(y){var b="";return y.global&&(b+="g"),y.ignoreCase&&(b+="i"),y.multiline&&(b+="m"),b}return d.__getRegExpFlags=x,d}();typeof n=="object"&&n.exports&&(n.exports=s)},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function C(N,_){var P=[],A=!0,L=!1,B=void 0;try{for(var q=N[Symbol.iterator](),z;!(A=(z=q.next()).done)&&(P.push(z.value),!(_&&P.length===_));A=!0);}catch($){L=!0,B=$}finally{try{!A&&q.return&&q.return()}finally{if(L)throw B}}return P}return function(N,_){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return C(N,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function C(N,_){for(var P=0;P<_.length;P++){var A=_[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,_,P){return _&&C(N.prototype,_),P&&C(N,P),N}}(),c=function C(N,_,P){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,_);if(A===void 0){var L=Object.getPrototypeOf(N);return L===null?void 0:C(L,_,P)}else{if("value"in A)return A.value;var B=A.get;return B===void 0?void 0:B.call(P)}},o=s(0),d=v(o),f=s(8),m=v(f),u=s(4),h=v(u),x=s(16),y=v(x),b=s(13),p=v(b),g=s(25),w=v(g);function v(C){return C&&C.__esModule?C:{default:C}}function j(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")}function k(C,N){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:C}function S(C,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);C.prototype=Object.create(N&&N.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(C,N):C.__proto__=N)}function T(C){return C instanceof h.default||C instanceof u.BlockEmbed}var O=function(C){S(N,C);function N(_,P){j(this,N);var A=k(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,_));return A.emitter=P.emitter,Array.isArray(P.whitelist)&&(A.whitelist=P.whitelist.reduce(function(L,B){return L[B]=!0,L},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return l(N,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,A){var L=this.line(P),B=i(L,2),q=B[0],z=B[1],$=this.line(P+A),M=i($,1),I=M[0];if(c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,P,A),I!=null&&q!==I&&z>0){if(q instanceof u.BlockEmbed||I instanceof u.BlockEmbed){this.optimize();return}if(q instanceof p.default){var V=q.newlineIndex(q.length(),!0);if(V>-1&&(q=q.split(V+1),q===I)){this.optimize();return}}else if(I instanceof p.default){var F=I.newlineIndex(0);F>-1&&I.split(F+1)}var H=I.children.head instanceof y.default?null:I.children.head;q.moveChildren(I,H),q.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,A,L,B){this.whitelist!=null&&!this.whitelist[L]||(c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,P,A,L,B),this.optimize())}},{key:"insertAt",value:function(P,A,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[A])){if(P>=this.length())if(L==null||d.default.query(A,d.default.Scope.BLOCK)==null){var B=d.default.create(this.statics.defaultChild);this.appendChild(B),L==null&&A.endsWith(`
`)&&(A=A.slice(0,-1)),B.insertAt(0,A,L)}else{var q=d.default.create(A,L);this.appendChild(q)}else c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,P,A,L);this.optimize()}}},{key:"insertBefore",value:function(P,A){if(P.statics.scope===d.default.Scope.INLINE_BLOT){var L=d.default.create(this.statics.defaultChild);L.appendChild(P),P=L}c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,P,A)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(T,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function B(q,z,$){var M=[],I=$;return q.children.forEachAt(z,$,function(V,F,H){T(V)?M.push(V):V instanceof d.default.Container&&(M=M.concat(B(V,F,I))),I-=H}),M};return L(this,P,A)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,P,A),P.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,P,A))}},{key:"path",value:function(P){return c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var A=m.default.sources.USER;typeof P=="string"&&(A=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,A,P),c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,A,P)}}}]),N}(d.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[h.default,u.BlockEmbed,w.default],a.default=O},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},l=function(){function R(U,G){var Q=[],K=!0,J=!1,ne=void 0;try{for(var le=U[Symbol.iterator](),ue;!(K=(ue=le.next()).done)&&(Q.push(ue.value),!(G&&Q.length===G));K=!0);}catch(fe){J=!0,ne=fe}finally{try{!K&&le.return&&le.return()}finally{if(J)throw ne}}return Q}return function(U,G){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return R(U,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function R(U,G){for(var Q=0;Q<G.length;Q++){var K=G[Q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(U,K.key,K)}}return function(U,G,Q){return G&&R(U.prototype,G),Q&&R(U,Q),U}}(),o=s(21),d=C(o),f=s(11),m=C(f),u=s(3),h=C(u),x=s(2),y=C(x),b=s(20),p=C(b),g=s(0),w=C(g),v=s(5),j=C(v),k=s(10),S=C(k),T=s(9),O=C(T);function C(R){return R&&R.__esModule?R:{default:R}}function N(R,U,G){return U in R?Object.defineProperty(R,U,{value:G,enumerable:!0,configurable:!0,writable:!0}):R[U]=G,R}function _(R,U){if(!(R instanceof U))throw new TypeError("Cannot call a class as a function")}function P(R,U){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:R}function A(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);R.prototype=Object.create(U&&U.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(R,U):R.__proto__=U)}var L=(0,S.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(R){A(U,R),c(U,null,[{key:"match",value:function(Q,K){return K=D(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!K[J]!==Q[J]&&K[J]!==null})?!1:K.key===(Q.which||Q.keyCode)}}]);function U(G,Q){_(this,U);var K=P(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,G,Q));return K.bindings={},Object.keys(K.options.bindings).forEach(function(J){J==="list autofill"&&G.scroll.whitelist!=null&&!G.scroll.whitelist.list||K.options.bindings[J]&&K.addBinding(K.options.bindings[J])}),K.addBinding({key:U.keys.ENTER,shiftKey:null},V),K.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},$),K.addBinding({key:U.keys.DELETE},{collapsed:!0},M)):(K.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},$),K.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),K.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},I),K.addBinding({key:U.keys.DELETE},{collapsed:!1},I),K.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},$),K.listen(),K}return c(U,[{key:"addBinding",value:function(Q){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ne=D(Q);if(ne==null||ne.key==null)return L.warn("Attempted to add invalid keyboard binding",ne);typeof K=="function"&&(K={handler:K}),typeof J=="function"&&(J={handler:J}),ne=(0,h.default)(ne,K,J),this.bindings[ne.key]=this.bindings[ne.key]||[],this.bindings[ne.key].push(ne)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var J=K.which||K.keyCode,ne=(Q.bindings[J]||[]).filter(function(Me){return U.match(K,Me)});if(ne.length!==0){var le=Q.quill.getSelection();if(!(le==null||!Q.quill.hasFocus())){var ue=Q.quill.getLine(le.index),fe=l(ue,2),ye=fe[0],Z=fe[1],W=Q.quill.getLeaf(le.index),X=l(W,2),re=X[0],ae=X[1],ee=le.length===0?[re,ae]:Q.quill.getLeaf(le.index+le.length),de=l(ee,2),oe=de[0],ce=de[1],bt=re instanceof w.default.Text?re.value().slice(0,ae):"",ar=oe instanceof w.default.Text?oe.value().slice(ce):"",Te={collapsed:le.length===0,empty:le.length===0&&ye.length()<=1,format:Q.quill.getFormat(le),offset:Z,prefix:bt,suffix:ar},Yg=ne.some(function(Me){if(Me.collapsed!=null&&Me.collapsed!==Te.collapsed||Me.empty!=null&&Me.empty!==Te.empty||Me.offset!=null&&Me.offset!==Te.offset)return!1;if(Array.isArray(Me.format)){if(Me.format.every(function(Sr){return Te.format[Sr]==null}))return!1}else if(i(Me.format)==="object"&&!Object.keys(Me.format).every(function(Sr){return Me.format[Sr]===!0?Te.format[Sr]!=null:Me.format[Sr]===!1?Te.format[Sr]==null:(0,m.default)(Me.format[Sr],Te.format[Sr])}))return!1;return Me.prefix!=null&&!Me.prefix.test(Te.prefix)||Me.suffix!=null&&!Me.suffix.test(Te.suffix)?!1:Me.handler.call(Q,le,Te)!==!0});Yg&&K.preventDefault()}}}})}}]),U}(O.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(U,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,G){G.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):G.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,j.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(U){this.quill.history.cutoff();var G=new y.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(G,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,j.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,G){this.quill.format("list",!1,j.default.sources.USER),G.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var G=this.quill.getLine(U.index),Q=l(G,2),K=Q[0],J=Q[1],ne=(0,h.default)({},K.formats(),{list:"checked"}),le=new y.default().retain(U.index).insert(`
`,ne).retain(K.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(le,j.default.sources.USER),this.quill.setSelection(U.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,G){var Q=this.quill.getLine(U.index),K=l(Q,2),J=K[0],ne=K[1],le=new y.default().retain(U.index).insert(`
`,G.format).retain(J.length()-ne-1).retain(1,{header:null});this.quill.updateContents(le,j.default.sources.USER),this.quill.setSelection(U.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,G){var Q=G.prefix.length,K=this.quill.getLine(U.index),J=l(K,2),ne=J[0],le=J[1];if(le>Q)return!0;var ue=void 0;switch(G.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(U.index," ",j.default.sources.USER),this.quill.history.cutoff();var fe=new y.default().retain(U.index-le).delete(Q+1).retain(ne.length()-2-le).retain(1,{list:ue});this.quill.updateContents(fe,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-Q,j.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var G=this.quill.getLine(U.index),Q=l(G,2),K=Q[0],J=Q[1],ne=new y.default().retain(U.index+K.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ne,j.default.sources.USER)}},"embed left":z(q.keys.LEFT,!1),"embed left shift":z(q.keys.LEFT,!0),"embed right":z(q.keys.RIGHT,!1),"embed right shift":z(q.keys.RIGHT,!0)}};function z(R,U){var G,Q=R===q.keys.LEFT?"prefix":"suffix";return G={key:R,shiftKey:U,altKey:null},N(G,Q,/^$/),N(G,"handler",function(J){var ne=J.index;R===q.keys.RIGHT&&(ne+=J.length+1);var le=this.quill.getLeaf(ne),ue=l(le,1),fe=ue[0];return fe instanceof w.default.Embed?(R===q.keys.LEFT?U?this.quill.setSelection(J.index-1,J.length+1,j.default.sources.USER):this.quill.setSelection(J.index-1,j.default.sources.USER):U?this.quill.setSelection(J.index,J.length+1,j.default.sources.USER):this.quill.setSelection(J.index+J.length+1,j.default.sources.USER),!1):!0}),G}function $(R,U){if(!(R.index===0||this.quill.getLength()<=1)){var G=this.quill.getLine(R.index),Q=l(G,1),K=Q[0],J={};if(U.offset===0){var ne=this.quill.getLine(R.index-1),le=l(ne,1),ue=le[0];if(ue!=null&&ue.length()>1){var fe=K.formats(),ye=this.quill.getFormat(R.index-1,1);J=p.default.attributes.diff(fe,ye)||{}}}var Z=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(R.index-Z,Z,j.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(R.index-Z,Z,J,j.default.sources.USER),this.quill.focus()}}function M(R,U){var G=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(R.index>=this.quill.getLength()-G)){var Q={},K=0,J=this.quill.getLine(R.index),ne=l(J,1),le=ne[0];if(U.offset>=le.length()-1){var ue=this.quill.getLine(R.index+1),fe=l(ue,1),ye=fe[0];if(ye){var Z=le.formats(),W=this.quill.getFormat(R.index,1);Q=p.default.attributes.diff(Z,W)||{},K=ye.length()}}this.quill.deleteText(R.index,G,j.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(R.index+K-1,G,Q,j.default.sources.USER)}}function I(R){var U=this.quill.getLines(R),G={};if(U.length>1){var Q=U[0].formats(),K=U[U.length-1].formats();G=p.default.attributes.diff(K,Q)||{}}this.quill.deleteText(R,j.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(R.index,1,G,j.default.sources.USER),this.quill.setSelection(R.index,j.default.sources.SILENT),this.quill.focus()}function V(R,U){var G=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var Q=Object.keys(U.format).reduce(function(K,J){return w.default.query(J,w.default.Scope.BLOCK)&&!Array.isArray(U.format[J])&&(K[J]=U.format[J]),K},{});this.quill.insertText(R.index,`
`,Q,j.default.sources.USER),this.quill.setSelection(R.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(K){Q[K]==null&&(Array.isArray(U.format[K])||K!=="link"&&G.quill.format(K,U.format[K],j.default.sources.USER))})}function F(R){return{key:q.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(G){var Q=w.default.query("code-block"),K=G.index,J=G.length,ne=this.quill.scroll.descendant(Q,K),le=l(ne,2),ue=le[0],fe=le[1];if(ue!=null){var ye=this.quill.getIndex(ue),Z=ue.newlineIndex(fe,!0)+1,W=ue.newlineIndex(ye+fe+J),X=ue.domNode.textContent.slice(Z,W).split(`
`);fe=0,X.forEach(function(re,ae){R?(ue.insertAt(Z+fe,Q.TAB),fe+=Q.TAB.length,ae===0?K+=Q.TAB.length:J+=Q.TAB.length):re.startsWith(Q.TAB)&&(ue.deleteAt(Z+fe,Q.TAB.length),fe-=Q.TAB.length,ae===0?K-=Q.TAB.length:J-=Q.TAB.length),fe+=re.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(K,J,j.default.sources.SILENT)}}}}function H(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(G,Q){this.quill.format(R,!Q.format[R],j.default.sources.USER)}}}function D(R){if(typeof R=="string"||typeof R=="number")return D({key:R});if((typeof R>"u"?"undefined":i(R))==="object"&&(R=(0,d.default)(R,!1)),typeof R.key=="string")if(q.keys[R.key.toUpperCase()]!=null)R.key=q.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[B]=R.shortKey,delete R.shortKey),R}a.default=q,a.SHORTKEY=B},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function p(g,w){var v=[],j=!0,k=!1,S=void 0;try{for(var T=g[Symbol.iterator](),O;!(j=(O=T.next()).done)&&(v.push(O.value),!(w&&v.length===w));j=!0);}catch(C){k=!0,S=C}finally{try{!j&&T.return&&T.return()}finally{if(k)throw S}}return v}return function(g,w){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function p(g,w,v){g===null&&(g=Function.prototype);var j=Object.getOwnPropertyDescriptor(g,w);if(j===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:p(k,w,v)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(v)}},c=function(){function p(g,w){for(var v=0;v<w.length;v++){var j=w[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,w,v){return w&&p(g.prototype,w),v&&p(g,v),g}}(),o=s(0),d=u(o),f=s(7),m=u(f);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function x(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function y(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var b=function(p){y(g,p),c(g,null,[{key:"value",value:function(){}}]);function g(w,v){h(this,g);var j=x(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w));return j.selection=v,j.textNode=document.createTextNode(g.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return c(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,j){if(this._length!==0)return l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,j);for(var k=this,S=0;k!=null&&k.statics.scope!==d.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=g.CONTENTS.length,k.optimize(),k.formatAt(S,g.CONTENTS.length,v,j),this._length=0)}},{key:"index",value:function(v,j){return v===this.textNode?0:l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,v,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,j=this.selection.getNativeRange(),k=void 0,S=void 0,T=void 0;if(j!=null&&j.start.node===v&&j.end.node===v){var O=[v,j.start.offset,j.end.offset];k=O[0],S=O[1],T=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var C=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof m.default?(k=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=g.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var N=[S,T].map(function(P){return Math.max(0,Math.min(k.data.length,P-1))}),_=i(N,2);return S=_[0],T=_[1],{startNode:k,startOffset:S,endNode:k,endOffset:T}}}}},{key:"update",value:function(v,j){var k=this;if(v.some(function(T){return T.type==="characterData"&&T.target===k.textNode})){var S=this.restore();S&&(j.range=S)}}},{key:"value",value:function(){return""}}]),g}(d.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",a.default=b},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(0),l=d(i),c=s(4),o=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function u(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(x){u(y,x);function y(){return f(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default.Container);h.allowedChildren=[o.default,c.BlockEmbed,h],a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var i=function(){function b(p,g){for(var w=0;w<g.length;w++){var v=g[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,g,w){return g&&b(p.prototype,g),w&&b(p,w),p}}(),l=function b(p,g,w){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,g);if(v===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,g,w)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(w)}},c=s(0),o=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function m(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function u(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var h=function(b){u(p,b);function p(){return f(this,p),m(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"value",value:function(w){var v=l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,w);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):v}}]),p}(o.default.Attributor.Style),x=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),y=new h("color","color",{scope:o.default.Scope.INLINE});a.ColorAttributor=h,a.ColorClass=x,a.ColorStyle=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var i=function(){function y(b,p){for(var g=0;g<p.length;g++){var w=p[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,g){return p&&y(b.prototype,p),g&&y(b,g),b}}(),l=function y(b,p,g){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var v=Object.getPrototypeOf(b);return v===null?void 0:y(v,p,g)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(g)}},c=s(6),o=d(c);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function m(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function u(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var h=function(y){u(b,y);function b(){return f(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(g,w){if(g!==this.statics.blotName||!w)return l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,g,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(g){var w=l(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,g);return g=this.sanitize(g),w.setAttribute("href",g),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return x(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),b}(o.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function x(y,b){var p=document.createElement("a");p.href=y;var g=p.href.slice(0,p.href.indexOf(":"));return b.indexOf(g)>-1}a.default=h,a.sanitize=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l=function(){function b(p,g){for(var w=0;w<g.length;w++){var v=g[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,g,w){return g&&b(p.prototype,g),w&&b(p,w),p}}(),c=s(23),o=m(c),d=s(107),f=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function u(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}var h=0;function x(b,p){b.setAttribute(p,b.getAttribute(p)!=="true")}var y=function(){function b(p){var g=this;u(this,b),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case o.default.keys.ENTER:g.togglePicker();break;case o.default.keys.ESCAPE:g.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),x(this.label,"aria-expanded"),x(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var w=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),g.hasAttribute("value")&&v.setAttribute("data-value",g.getAttribute("value")),g.textContent&&v.setAttribute("data-label",g.textContent),v.addEventListener("click",function(){w.selectItem(v,!0)}),v.addEventListener("keydown",function(j){switch(j.keyCode){case o.default.keys.ENTER:w.selectItem(v,!0),j.preventDefault();break;case o.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=f.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(v){var j=g.buildItem(v);w.appendChild(j),v.selected===!0&&g.selectItem(j)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(w){g.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(g!==v&&(v!=null&&v.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var v=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),b}();a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(0),l=L(i),c=s(5),o=L(c),d=s(4),f=L(d),m=s(16),u=L(m),h=s(25),x=L(h),y=s(24),b=L(y),p=s(35),g=L(p),w=s(6),v=L(w),j=s(22),k=L(j),S=s(7),T=L(S),O=s(55),C=L(O),N=s(42),_=L(N),P=s(23),A=L(P);function L(B){return B&&B.__esModule?B:{default:B}}o.default.register({"blots/block":f.default,"blots/block/embed":d.BlockEmbed,"blots/break":u.default,"blots/container":x.default,"blots/cursor":b.default,"blots/embed":g.default,"blots/inline":v.default,"blots/scroll":k.default,"blots/text":T.default,"modules/clipboard":C.default,"modules/history":_.default,"modules/keyboard":A.default}),l.default.register(f.default,u.default,b.default,v.default,k.default,T.default),a.default=o.default},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(1),l=function(){function c(o){this.domNode=o,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(o){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o).toString()===o&&(o=parseInt(o))),typeof o=="number"?d=document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?d=document.createElement(o):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return i.create(o)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},c.prototype.deleteAt=function(o,d){var f=this.isolate(o,d);f.remove()},c.prototype.formatAt=function(o,d,f,m){var u=this.isolate(o,d);if(i.query(f,i.Scope.BLOT)!=null&&m)u.wrap(f,m);else if(i.query(f,i.Scope.ATTRIBUTE)!=null){var h=i.create(this.statics.scope);u.wrap(h),h.format(f,m)}},c.prototype.insertAt=function(o,d,f){var m=f==null?i.create("text",d):i.create(d,f),u=this.split(o);this.parent.insertBefore(m,u)},c.prototype.insertInto=function(o,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var f=null;o.children.insertBefore(this,d),d!=null&&(f=d.domNode),(this.domNode.parentNode!=o.domNode||this.domNode.nextSibling!=f)&&o.domNode.insertBefore(this.domNode,f),this.parent=o,this.attach()},c.prototype.isolate=function(o,d){var f=this.split(o);return f.split(d),f},c.prototype.length=function(){return 1},c.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this==o?0:this.parent.children.offset(this)+this.parent.offset(o)},c.prototype.optimize=function(o){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(o){o.parent!=null&&(o.parent.insertBefore(this,o.next),o.remove())},c.prototype.replaceWith=function(o,d){var f=typeof o=="string"?i.create(o,d):o;return f.replace(this),f},c.prototype.split=function(o,d){return o===0?this:this.next},c.prototype.update=function(o,d){},c.prototype.wrap=function(o,d){var f=typeof o=="string"?i.create(o,d):o;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},c.blotName="abstract",c}();a.default=l},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(12),l=s(32),c=s(33),o=s(1),d=function(){function f(m){this.attributes={},this.domNode=m,this.build()}return f.prototype.attribute=function(m,u){u?m.add(this.domNode,u)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},f.prototype.build=function(){var m=this;this.attributes={};var u=i.default.keys(this.domNode),h=l.default.keys(this.domNode),x=c.default.keys(this.domNode);u.concat(h).concat(x).forEach(function(y){var b=o.query(y,o.Scope.ATTRIBUTE);b instanceof i.default&&(m.attributes[b.attrName]=b)})},f.prototype.copy=function(m){var u=this;Object.keys(this.attributes).forEach(function(h){var x=u.attributes[h].value(u.domNode);m.format(h,x)})},f.prototype.move=function(m){var u=this;this.copy(m),Object.keys(this.attributes).forEach(function(h){u.attributes[h].remove(u.domNode)}),this.attributes={}},f.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(u,h){return u[h]=m.attributes[h].value(m.domNode),u},{})},f}();a.default=d},function(n,a,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){d(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(12);function c(d,f){var m=d.getAttribute("class")||"";return m.split(/\s+/).filter(function(u){return u.indexOf(f+"-")===0})}var o=function(d){i(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(this.remove(m),m.classList.add(this.keyName+"-"+u),!0):!1},f.prototype.remove=function(m){var u=c(m,this.keyName);u.forEach(function(h){m.classList.remove(h)}),m.classList.length===0&&m.removeAttribute("class")},f.prototype.value=function(m){var u=c(m,this.keyName)[0]||"",h=u.slice(this.keyName.length+1);return this.canAdd(m,h)?h:""},f}(l.default);a.default=o},function(n,a,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){d(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(12);function c(d){var f=d.split("-"),m=f.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return f[0]+m}var o=function(d){i(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(u){var h=u.split(":");return h[0].trim()})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(m.style[c(this.keyName)]=u,!0):!1},f.prototype.remove=function(m){m.style[c(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},f.prototype.value=function(m){var u=m.style[c(this.keyName)];return this.canAdd(m,u)?u:""},f}(l.default);a.default=o},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function o(d,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,f,m){return f&&o(d.prototype,f),m&&o(d,m),d}}();function l(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function o(d,f){l(this,o),this.quill=d,this.options=f,this.modules={}}return i(o,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(m){f.modules[m]==null&&f.addModule(m)})}},{key:"addModule",value:function(f){var m=this.quill.constructor.import("modules/"+f);return this.modules[f]=new m(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),o}();c.DEFAULTS={modules:{}},c.themes={default:c},a.default=c},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function p(g,w){for(var v=0;v<w.length;v++){var j=w[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,w,v){return w&&p(g.prototype,w),v&&p(g,v),g}}(),l=function p(g,w,v){g===null&&(g=Function.prototype);var j=Object.getOwnPropertyDescriptor(g,w);if(j===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:p(k,w,v)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(v)}},c=s(0),o=m(c),d=s(7),f=m(d);function m(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function x(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var y="\uFEFF",b=function(p){x(g,p);function g(w){u(this,g);var v=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(j){v.contentNode.appendChild(j)}),v.leftGuard=document.createTextNode(y),v.rightGuard=document.createTextNode(y),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return i(g,[{key:"index",value:function(v,j){return v===this.leftGuard?0:v===this.rightGuard?1:l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,v,j)}},{key:"restore",value:function(v){var j=void 0,k=void 0,S=v.data.split(y).join("");if(v===this.leftGuard)if(this.prev instanceof f.default){var T=this.prev.length();this.prev.insertAt(T,S),j={startNode:this.prev.domNode,startOffset:T+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(o.default.create(k),this),j={startNode:k,startOffset:S.length};else v===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,S),j={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(o.default.create(k),this.next),j={startNode:k,startOffset:S.length}));return v.data=y,j}},{key:"update",value:function(v,j){var k=this;v.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var T=k.restore(S.target);T&&(j.range=T)}})}}]),g}(o.default.Embed);a.default=b},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var i=s(0),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}var o={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new l.default.Attributor.Attribute("align","align",o),f=new l.default.Attributor.Class("align","ql-align",o),m=new l.default.Attributor.Style("align","text-align",o);a.AlignAttribute=d,a.AlignClass=f,a.AlignStyle=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var i=s(0),l=o(i),c=s(26);function o(m){return m&&m.__esModule?m:{default:m}}var d=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),f=new c.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});a.BackgroundClass=d,a.BackgroundStyle=f},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var i=s(0),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}var o={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},d=new l.default.Attributor.Attribute("direction","dir",o),f=new l.default.Attributor.Class("direction","ql-direction",o),m=new l.default.Attributor.Style("direction","direction",o);a.DirectionAttribute=d,a.DirectionClass=f,a.DirectionStyle=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var i=function(){function p(g,w){for(var v=0;v<w.length;v++){var j=w[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,w,v){return w&&p(g.prototype,w),v&&p(g,v),g}}(),l=function p(g,w,v){g===null&&(g=Function.prototype);var j=Object.getOwnPropertyDescriptor(g,w);if(j===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:p(k,w,v)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(v)}},c=s(0),o=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function u(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},x=new o.default.Attributor.Class("font","ql-font",h),y=function(p){u(g,p);function g(){return f(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"value",value:function(v){return l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),g}(o.default.Attributor.Style),b=new y("font","font-family",h);a.FontStyle=b,a.FontClass=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var i=s(0),l=c(i);function c(f){return f&&f.__esModule?f:{default:f}}var o=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=o,a.SizeStyle=d},function(n,a,s){n.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var i=function(){function w(v,j){for(var k=0;k<j.length;k++){var S=j[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,j,k){return j&&w(v.prototype,j),k&&w(v,k),v}}(),l=s(0),c=u(l),o=s(5),d=u(o),f=s(9),m=u(f);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function x(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function y(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var b=function(w){y(v,w);function v(j,k){h(this,v);var S=x(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,j,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(d.default.events.EDITOR_CHANGE,function(T,O,C,N){T!==d.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||N===d.default.sources.USER?S.record(O,C):S.transform(O))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return i(v,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var T=this.stack[k].pop();this.stack[S].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[k],d.default.sources.USER),this.ignoreChange=!1;var O=g(T[k]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(S),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var C=this.stack.undo.pop();T=T.compose(C.undo),k=C.redo.compose(k)}else this.lastRecorded=O;this.stack.undo.push({redo:k,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(m.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(w){var v=w.ops[w.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(j){return c.default.query(j,c.default.Scope.BLOCK)!=null}):!1}function g(w){var v=w.reduce(function(k,S){return k+=S.delete||0,k},0),j=w.length()-v;return p(w)&&(j-=1),j}a.default=b,a.getLastChangeIndex=g},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var i=function(){function V(F,H){for(var D=0;D<H.length;D++){var R=H[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(F,R.key,R)}}return function(F,H,D){return H&&V(F.prototype,H),D&&V(F,D),F}}(),l=function V(F,H,D){F===null&&(F=Function.prototype);var R=Object.getOwnPropertyDescriptor(F,H);if(R===void 0){var U=Object.getPrototypeOf(F);return U===null?void 0:V(U,H,D)}else{if("value"in R)return R.value;var G=R.get;return G===void 0?void 0:G.call(D)}},c=s(3),o=O(c),d=s(2),f=O(d),m=s(8),u=O(m),h=s(23),x=O(h),y=s(34),b=O(y),p=s(59),g=O(p),w=s(60),v=O(w),j=s(28),k=O(j),S=s(61),T=O(S);function O(V){return V&&V.__esModule?V:{default:V}}function C(V,F){if(!(V instanceof F))throw new TypeError("Cannot call a class as a function")}function N(V,F){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:V}function _(V,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);V.prototype=Object.create(F&&F.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(V,F):V.__proto__=F)}var P=[!1,"center","right","justify"],A=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],B=["1","2","3",!1],q=["small",!1,"large","huge"],z=function(V){_(F,V);function F(H,D){C(this,F);var R=N(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,H,D)),U=function G(Q){if(!document.body.contains(H.root))return document.body.removeEventListener("click",G);R.tooltip!=null&&!R.tooltip.root.contains(Q.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(K){K.container.contains(Q.target)||K.close()})};return H.emitter.listenDOM("click",document.body,U),R}return i(F,[{key:"addModule",value:function(D){var R=l(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,D);return D==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(D,R){D.forEach(function(U){var G=U.getAttribute("class")||"";G.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),R[Q]!=null))if(Q==="direction")U.innerHTML=R[Q][""]+R[Q].rtl;else if(typeof R[Q]=="string")U.innerHTML=R[Q];else{var K=U.value||"";K!=null&&R[Q][K]&&(U.innerHTML=R[Q][K])}})})}},{key:"buildPickers",value:function(D,R){var U=this;this.pickers=D.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&I(Q,P),new v.default(Q,R.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var K=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&I(Q,A,K==="background"?"#ffffff":"#000000"),new g.default(Q,R[K])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?I(Q,L):Q.classList.contains("ql-header")?I(Q,B):Q.classList.contains("ql-size")&&I(Q,q)),new k.default(Q)});var G=function(){U.pickers.forEach(function(K){K.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,G)}}]),F}(b.default);z.DEFAULTS=(0,o.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var D=new FileReader;D.onload=function(R){var U=F.quill.getSelection(!0);F.quill.updateContents(new f.default().retain(U.index).delete(U.length).insert({image:R.target.result}),u.default.sources.USER),F.quill.setSelection(U.index+1,u.default.sources.SILENT),H.value=""},D.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var $=function(V){_(F,V);function F(H,D){C(this,F);var R=N(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,H,D));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return i(F,[{key:"listen",value:function(){var D=this;this.textbox.addEventListener("keydown",function(R){x.default.match(R,"enter")?(D.save(),R.preventDefault()):x.default.match(R,"escape")&&(D.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:D!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+D)||""),this.root.setAttribute("data-mode",D)}},{key:"restoreFocus",value:function(){var D=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=D}},{key:"save",value:function(){var D=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",D,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",D,u.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":D=M(D);case"formula":{if(!D)break;var U=this.quill.getSelection(!0);if(U!=null){var G=U.index+U.length;this.quill.insertEmbed(G,this.root.getAttribute("data-mode"),D,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(G+1," ",u.default.sources.USER),this.quill.setSelection(G+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(T.default);function M(V){var F=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":V}function I(V,F){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(D){var R=document.createElement("option");D===H?R.setAttribute("selected","selected"):R.setAttribute("value",D),V.appendChild(R)})}a.BaseTooltip=$,a.default=z},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},l.prototype.contains=function(c){for(var o,d=this.iterator();o=d();)if(o===c)return!0;return!1},l.prototype.insertBefore=function(c,o){c&&(c.next=o,o!=null?(c.prev=o.prev,o.prev!=null&&(o.prev.next=c),o.prev=c,o===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},l.prototype.offset=function(c){for(var o=0,d=this.head;d!=null;){if(d===c)return o;o+=d.length(),d=d.next}return-1},l.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},l.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var o=c;return c!=null&&(c=c.next),o}},l.prototype.find=function(c,o){o===void 0&&(o=!1);for(var d,f=this.iterator();d=f();){var m=d.length();if(c<m||o&&c===m&&(d.next==null||d.next.length()!==0))return[d,c];c-=m}return[null,0]},l.prototype.forEach=function(c){for(var o,d=this.iterator();o=d();)c(o)},l.prototype.forEachAt=function(c,o,d){if(!(o<=0))for(var f=this.find(c),m=f[0],u=f[1],h,x=c-u,y=this.iterator(m);(h=y())&&x<c+o;){var b=h.length();c>x?d(h,c-x,Math.min(o,x+b-c)):d(h,0,Math.min(b,c+o-x)),x+=b}},l.prototype.map=function(c){return this.reduce(function(o,d){return o.push(c(d)),o},[])},l.prototype.reduce=function(c,o){for(var d,f=this.iterator();d=f();)o=c(o,d);return o},l}();a.default=i},function(n,a,s){var i=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var x in h)h.hasOwnProperty(x)&&(u[x]=h[x])};return function(u,h){m(u,h);function x(){this.constructor=u}u.prototype=h===null?Object.create(h):(x.prototype=h.prototype,new x)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(17),c=s(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,f=function(m){i(u,m);function u(h){var x=m.call(this,h)||this;return x.scroll=x,x.observer=new MutationObserver(function(y){x.update(y)}),x.observer.observe(x.domNode,o),x.attach(),x}return u.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(h,x){this.update(),h===0&&x===this.length()?this.children.forEach(function(y){y.remove()}):m.prototype.deleteAt.call(this,h,x)},u.prototype.formatAt=function(h,x,y,b){this.update(),m.prototype.formatAt.call(this,h,x,y,b)},u.prototype.insertAt=function(h,x,y){this.update(),m.prototype.insertAt.call(this,h,x,y)},u.prototype.optimize=function(h,x){var y=this;h===void 0&&(h=[]),x===void 0&&(x={}),m.prototype.optimize.call(this,x);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)h.push(b.pop());for(var p=function(j,k){k===void 0&&(k=!0),!(j==null||j===y)&&j.domNode.parentNode!=null&&(j.domNode[c.DATA_KEY].mutations==null&&(j.domNode[c.DATA_KEY].mutations=[]),k&&p(j.parent))},g=function(j){j.domNode[c.DATA_KEY]==null||j.domNode[c.DATA_KEY].mutations==null||(j instanceof l.default&&j.children.forEach(g),j.optimize(x))},w=h,v=0;w.length>0;v+=1){if(v>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(j){var k=c.find(j.target,!0);k!=null&&(k.domNode===j.target&&(j.type==="childList"?(p(c.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(S){var T=c.find(S,!1);p(T,!1),T instanceof l.default&&T.children.forEach(function(O){p(O,!1)})})):j.type==="attributes"&&p(k.prev)),p(k))}),this.children.forEach(g),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)h.push(b.pop())}},u.prototype.update=function(h,x){var y=this;x===void 0&&(x={}),h=h||this.observer.takeRecords(),h.map(function(b){var p=c.find(b.target,!0);return p==null?null:p.domNode[c.DATA_KEY].mutations==null?(p.domNode[c.DATA_KEY].mutations=[b],p):(p.domNode[c.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===y||b.domNode[c.DATA_KEY]==null||b.update(b.domNode[c.DATA_KEY].mutations||[],x)}),this.domNode[c.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,x),this.optimize(h,x)},u.blotName="scroll",u.defaultChild="block",u.scope=c.Scope.BLOCK_BLOT,u.tagName="DIV",u}(l.default);a.default=f},function(n,a,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var h in u)u.hasOwnProperty(h)&&(m[h]=u[h])};return function(m,u){f(m,u);function h(){this.constructor=m}m.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(18),c=s(1);function o(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(var u in f)if(f[u]!==m[u])return!1;return!0}var d=function(f){i(m,f);function m(){return f!==null&&f.apply(this,arguments)||this}return m.formats=function(u){if(u.tagName!==m.tagName)return f.formats.call(this,u)},m.prototype.format=function(u,h){var x=this;u===this.statics.blotName&&!h?(this.children.forEach(function(y){y instanceof l.default||(y=y.wrap(m.blotName,!0)),x.attributes.copy(y)}),this.unwrap()):f.prototype.format.call(this,u,h)},m.prototype.formatAt=function(u,h,x,y){if(this.formats()[x]!=null||c.query(x,c.Scope.ATTRIBUTE)){var b=this.isolate(u,h);b.format(x,y)}else f.prototype.formatAt.call(this,u,h,x,y)},m.prototype.optimize=function(u){f.prototype.optimize.call(this,u);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var x=this.next;x instanceof m&&x.prev===this&&o(h,x.formats())&&(x.moveChildren(this),x.remove())},m.blotName="inline",m.scope=c.Scope.INLINE_BLOT,m.tagName="SPAN",m}(l.default);a.default=d},function(n,a,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){d(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(18),c=s(1),o=function(d){i(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(m){var u=c.query(f.blotName).tagName;if(m.tagName!==u)return d.formats.call(this,m)},f.prototype.format=function(m,u){c.query(m,c.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!u?this.replaceWith(f.blotName):d.prototype.format.call(this,m,u))},f.prototype.formatAt=function(m,u,h,x){c.query(h,c.Scope.BLOCK)!=null?this.format(h,x):d.prototype.formatAt.call(this,m,u,h,x)},f.prototype.insertAt=function(m,u,h){if(h==null||c.query(u,c.Scope.INLINE)!=null)d.prototype.insertAt.call(this,m,u,h);else{var x=this.split(m),y=c.create(u,h);x.parent.insertBefore(y,x)}},f.prototype.update=function(m,u){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,m,u)},f.blotName="block",f.scope=c.Scope.BLOCK_BLOT,f.tagName="P",f}(l.default);a.default=o},function(n,a,s){var i=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])};return function(d,f){o(d,f);function m(){this.constructor=d}d.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(19),c=function(o){i(d,o);function d(){return o!==null&&o.apply(this,arguments)||this}return d.formats=function(f){},d.prototype.format=function(f,m){o.prototype.formatAt.call(this,0,this.length(),f,m)},d.prototype.formatAt=function(f,m,u,h){f===0&&m===this.length()?this.format(u,h):o.prototype.formatAt.call(this,f,m,u,h)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(l.default);a.default=c},function(n,a,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){d(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=s(19),c=s(1),o=function(d){i(f,d);function f(m){var u=d.call(this,m)||this;return u.text=u.statics.value(u.domNode),u}return f.create=function(m){return document.createTextNode(m)},f.value=function(m){var u=m.data;return u.normalize&&(u=u.normalize()),u},f.prototype.deleteAt=function(m,u){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+u)},f.prototype.index=function(m,u){return this.domNode===m?u:-1},f.prototype.insertAt=function(m,u,h){h==null?(this.text=this.text.slice(0,m)+u+this.text.slice(m),this.domNode.data=this.text):d.prototype.insertAt.call(this,m,u,h)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(m){d.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(m,u){return[this.domNode,m]},f.prototype.split=function(m,u){if(u===void 0&&(u=!1),!u){if(m===0)return this;if(m===this.length())return this.next}var h=c.create(this.domNode.splitText(m));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},f.prototype.update=function(m,u){var h=this;m.some(function(x){return x.type==="characterData"&&x.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=c.Scope.INLINE_BLOT,f}(l.default);a.default=o},function(n,a,s){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,o){return arguments.length>1&&!this.contains(c)==!o?o:l.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,o){return o=o||0,this.substr(o,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,o){var d=this.toString();(typeof o!="number"||!isFinite(o)||Math.floor(o)!==o||o>d.length)&&(o=d.length),o-=c.length;var f=d.indexOf(c,o);return f!==-1&&f===o}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),f=d.length>>>0,m=arguments[1],u,h=0;h<f;h++)if(u=d[h],o.call(m,u,h,d))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,a){var s=-1,i=1,l=0;function c(v,j,k){if(v==j)return v?[[l,v]]:[];(k<0||v.length<k)&&(k=null);var S=m(v,j),T=v.substring(0,S);v=v.substring(S),j=j.substring(S),S=u(v,j);var O=v.substring(v.length-S);v=v.substring(0,v.length-S),j=j.substring(0,j.length-S);var C=o(v,j);return T&&C.unshift([l,T]),O&&C.push([l,O]),x(C),k!=null&&(C=p(C,k)),C=g(C),C}function o(v,j){var k;if(!v)return[[i,j]];if(!j)return[[s,v]];var S=v.length>j.length?v:j,T=v.length>j.length?j:v,O=S.indexOf(T);if(O!=-1)return k=[[i,S.substring(0,O)],[l,T],[i,S.substring(O+T.length)]],v.length>j.length&&(k[0][0]=k[2][0]=s),k;if(T.length==1)return[[s,v],[i,j]];var C=h(v,j);if(C){var N=C[0],_=C[1],P=C[2],A=C[3],L=C[4],B=c(N,P),q=c(_,A);return B.concat([[l,L]],q)}return d(v,j)}function d(v,j){for(var k=v.length,S=j.length,T=Math.ceil((k+S)/2),O=T,C=2*T,N=new Array(C),_=new Array(C),P=0;P<C;P++)N[P]=-1,_[P]=-1;N[O+1]=0,_[O+1]=0;for(var A=k-S,L=A%2!=0,B=0,q=0,z=0,$=0,M=0;M<T;M++){for(var I=-M+B;I<=M-q;I+=2){var V=O+I,F;I==-M||I!=M&&N[V-1]<N[V+1]?F=N[V+1]:F=N[V-1]+1;for(var H=F-I;F<k&&H<S&&v.charAt(F)==j.charAt(H);)F++,H++;if(N[V]=F,F>k)q+=2;else if(H>S)B+=2;else if(L){var D=O+A-I;if(D>=0&&D<C&&_[D]!=-1){var R=k-_[D];if(F>=R)return f(v,j,F,H)}}}for(var U=-M+z;U<=M-$;U+=2){var D=O+U,R;U==-M||U!=M&&_[D-1]<_[D+1]?R=_[D+1]:R=_[D-1]+1;for(var G=R-U;R<k&&G<S&&v.charAt(k-R-1)==j.charAt(S-G-1);)R++,G++;if(_[D]=R,R>k)$+=2;else if(G>S)z+=2;else if(!L){var V=O+A-U;if(V>=0&&V<C&&N[V]!=-1){var F=N[V],H=O+F-V;if(R=k-R,F>=R)return f(v,j,F,H)}}}}return[[s,v],[i,j]]}function f(v,j,k,S){var T=v.substring(0,k),O=j.substring(0,S),C=v.substring(k),N=j.substring(S),_=c(T,O),P=c(C,N);return _.concat(P)}function m(v,j){if(!v||!j||v.charAt(0)!=j.charAt(0))return 0;for(var k=0,S=Math.min(v.length,j.length),T=S,O=0;k<T;)v.substring(O,T)==j.substring(O,T)?(k=T,O=k):S=T,T=Math.floor((S-k)/2+k);return T}function u(v,j){if(!v||!j||v.charAt(v.length-1)!=j.charAt(j.length-1))return 0;for(var k=0,S=Math.min(v.length,j.length),T=S,O=0;k<T;)v.substring(v.length-T,v.length-O)==j.substring(j.length-T,j.length-O)?(k=T,O=k):S=T,T=Math.floor((S-k)/2+k);return T}function h(v,j){var k=v.length>j.length?v:j,S=v.length>j.length?j:v;if(k.length<4||S.length*2<k.length)return null;function T(q,z,$){for(var M=q.substring($,$+Math.floor(q.length/4)),I=-1,V="",F,H,D,R;(I=z.indexOf(M,I+1))!=-1;){var U=m(q.substring($),z.substring(I)),G=u(q.substring(0,$),z.substring(0,I));V.length<G+U&&(V=z.substring(I-G,I)+z.substring(I,I+U),F=q.substring(0,$-G),H=q.substring($+U),D=z.substring(0,I-G),R=z.substring(I+U))}return V.length*2>=q.length?[F,H,D,R,V]:null}var O=T(k,S,Math.ceil(k.length/4)),C=T(k,S,Math.ceil(k.length/2)),N;if(!O&&!C)return null;C?O?N=O[4].length>C[4].length?O:C:N=C:N=O;var _,P,A,L;v.length>j.length?(_=N[0],P=N[1],A=N[2],L=N[3]):(A=N[0],L=N[1],_=N[2],P=N[3]);var B=N[4];return[_,P,A,L,B]}function x(v){v.push([l,""]);for(var j=0,k=0,S=0,T="",O="",C;j<v.length;)switch(v[j][0]){case i:S++,O+=v[j][1],j++;break;case s:k++,T+=v[j][1],j++;break;case l:k+S>1?(k!==0&&S!==0&&(C=m(O,T),C!==0&&(j-k-S>0&&v[j-k-S-1][0]==l?v[j-k-S-1][1]+=O.substring(0,C):(v.splice(0,0,[l,O.substring(0,C)]),j++),O=O.substring(C),T=T.substring(C)),C=u(O,T),C!==0&&(v[j][1]=O.substring(O.length-C)+v[j][1],O=O.substring(0,O.length-C),T=T.substring(0,T.length-C))),k===0?v.splice(j-S,k+S,[i,O]):S===0?v.splice(j-k,k+S,[s,T]):v.splice(j-k-S,k+S,[s,T],[i,O]),j=j-k-S+(k?1:0)+(S?1:0)+1):j!==0&&v[j-1][0]==l?(v[j-1][1]+=v[j][1],v.splice(j,1)):j++,S=0,k=0,T="",O="";break}v[v.length-1][1]===""&&v.pop();var N=!1;for(j=1;j<v.length-1;)v[j-1][0]==l&&v[j+1][0]==l&&(v[j][1].substring(v[j][1].length-v[j-1][1].length)==v[j-1][1]?(v[j][1]=v[j-1][1]+v[j][1].substring(0,v[j][1].length-v[j-1][1].length),v[j+1][1]=v[j-1][1]+v[j+1][1],v.splice(j-1,1),N=!0):v[j][1].substring(0,v[j+1][1].length)==v[j+1][1]&&(v[j-1][1]+=v[j+1][1],v[j][1]=v[j][1].substring(v[j+1][1].length)+v[j+1][1],v.splice(j+1,1),N=!0)),j++;N&&x(v)}var y=c;y.INSERT=i,y.DELETE=s,y.EQUAL=l,n.exports=y;function b(v,j){if(j===0)return[l,v];for(var k=0,S=0;S<v.length;S++){var T=v[S];if(T[0]===s||T[0]===l){var O=k+T[1].length;if(j===O)return[S+1,v];if(j<O){v=v.slice();var C=j-k,N=[T[0],T[1].slice(0,C)],_=[T[0],T[1].slice(C)];return v.splice(S,1,N,_),[S+1,v]}else k=O}}throw new Error("cursor_pos is out of bounds!")}function p(v,j){var k=b(v,j),S=k[1],T=k[0],O=S[T],C=S[T+1];if(O==null)return v;if(O[0]!==l)return v;if(C!=null&&O[1]+C[1]===C[1]+O[1])return S.splice(T,2,C,O),w(S,T,2);if(C!=null&&C[1].indexOf(O[1])===0){S.splice(T,2,[C[0],O[1]],[0,O[1]]);var N=C[1].slice(O[1].length);return N.length>0&&S.splice(T+2,0,[C[0],N]),w(S,T,3)}else return v}function g(v){for(var j=!1,k=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},S=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},T=2;T<v.length;T+=1)v[T-2][0]===l&&S(v[T-2][1])&&v[T-1][0]===s&&k(v[T-1][1])&&v[T][0]===i&&k(v[T][1])&&(j=!0,v[T-1][1]=v[T-2][1].slice(-1)+v[T-1][1],v[T][1]=v[T-2][1].slice(-1)+v[T][1],v[T-2][1]=v[T-2][1].slice(0,-1));if(!j)return v;for(var O=[],T=0;T<v.length;T+=1)v[T][1].length>0&&O.push(v[T]);return O}function w(v,j,k){for(var S=j+k-1;S>=0&&S>=j-1;S--)if(S+1<v.length){var T=v[S],O=v[S+1];T[0]===O[1]&&v.splice(S,2,[T[0],T[1]+O[1]])}return v}},function(n,a){a=n.exports=typeof Object.keys=="function"?Object.keys:s,a.shim=s;function s(i){var l=[];for(var c in i)l.push(c);return l}},function(n,a){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=n.exports=s?i:l,a.supported=i;function i(c){return Object.prototype.toString.call(c)=="[object Arguments]"}a.unsupported=l;function l(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(n,a){var s=Object.prototype.hasOwnProperty,i="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(i=!1));function c(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function o(){this._events=new l,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],m,u;if(this._eventsCount===0)return f;for(u in m=this._events)s.call(m,u)&&f.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},o.prototype.listeners=function(f,m){var u=i?i+f:f,h=this._events[u];if(m)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var x=0,y=h.length,b=new Array(y);x<y;x++)b[x]=h[x].fn;return b},o.prototype.emit=function(f,m,u,h,x,y){var b=i?i+f:f;if(!this._events[b])return!1;var p=this._events[b],g=arguments.length,w,v;if(p.fn){switch(p.once&&this.removeListener(f,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,m),!0;case 3:return p.fn.call(p.context,m,u),!0;case 4:return p.fn.call(p.context,m,u,h),!0;case 5:return p.fn.call(p.context,m,u,h,x),!0;case 6:return p.fn.call(p.context,m,u,h,x,y),!0}for(v=1,w=new Array(g-1);v<g;v++)w[v-1]=arguments[v];p.fn.apply(p.context,w)}else{var j=p.length,k;for(v=0;v<j;v++)switch(p[v].once&&this.removeListener(f,p[v].fn,void 0,!0),g){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,m);break;case 3:p[v].fn.call(p[v].context,m,u);break;case 4:p[v].fn.call(p[v].context,m,u,h);break;default:if(!w)for(k=1,w=new Array(g-1);k<g;k++)w[k-1]=arguments[k];p[v].fn.apply(p[v].context,w)}}return!0},o.prototype.on=function(f,m,u){var h=new c(m,u||this),x=i?i+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],h]:this._events[x].push(h):(this._events[x]=h,this._eventsCount++),this},o.prototype.once=function(f,m,u){var h=new c(m,u||this,!0),x=i?i+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],h]:this._events[x].push(h):(this._events[x]=h,this._eventsCount++),this},o.prototype.removeListener=function(f,m,u,h){var x=i?i+f:f;if(!this._events[x])return this;if(!m)return--this._eventsCount===0?this._events=new l:delete this._events[x],this;var y=this._events[x];if(y.fn)y.fn===m&&(!h||y.once)&&(!u||y.context===u)&&(--this._eventsCount===0?this._events=new l:delete this._events[x]);else{for(var b=0,p=[],g=y.length;b<g;b++)(y[b].fn!==m||h&&!y[b].once||u&&y[b].context!==u)&&p.push(y[b]);p.length?this._events[x]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new l:delete this._events[x]}return this},o.prototype.removeAllListeners=function(f){var m;return f?(m=i?i+f:f,this._events[m]&&(--this._eventsCount===0?this._events=new l:delete this._events[m])):(this._events=new l,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=i,o.EventEmitter=o,typeof n<"u"&&(n.exports=o)},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},l=function(){function W(X,re){var ae=[],ee=!0,de=!1,oe=void 0;try{for(var ce=X[Symbol.iterator](),bt;!(ee=(bt=ce.next()).done)&&(ae.push(bt.value),!(re&&ae.length===re));ee=!0);}catch(ar){de=!0,oe=ar}finally{try{!ee&&ce.return&&ce.return()}finally{if(de)throw oe}}return ae}return function(X,re){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return W(X,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function W(X,re){for(var ae=0;ae<re.length;ae++){var ee=re[ae];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(X,ee.key,ee)}}return function(X,re,ae){return re&&W(X.prototype,re),ae&&W(X,ae),X}}(),o=s(3),d=_(o),f=s(2),m=_(f),u=s(0),h=_(u),x=s(5),y=_(x),b=s(10),p=_(b),g=s(9),w=_(g),v=s(36),j=s(37),k=s(13),S=_(k),T=s(26),O=s(38),C=s(39),N=s(40);function _(W){return W&&W.__esModule?W:{default:W}}function P(W,X,re){return X in W?Object.defineProperty(W,X,{value:re,enumerable:!0,configurable:!0,writable:!0}):W[X]=re,W}function A(W,X){if(!(W instanceof X))throw new TypeError("Cannot call a class as a function")}function L(W,X){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:W}function B(W,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);W.prototype=Object.create(X&&X.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(W,X):W.__proto__=X)}var q=(0,p.default)("quill:clipboard"),z="__ql-matcher",$=[[Node.TEXT_NODE,Z],[Node.TEXT_NODE,ue],["br",J],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,ye],["li",le],["b",G.bind(G,"bold")],["i",G.bind(G,"italic")],["style",ne]],M=[v.AlignAttribute,O.DirectionAttribute].reduce(function(W,X){return W[X.keyName]=X,W},{}),I=[v.AlignStyle,j.BackgroundStyle,T.ColorStyle,O.DirectionStyle,C.FontStyle,N.SizeStyle].reduce(function(W,X){return W[X.keyName]=X,W},{}),V=function(W){B(X,W);function X(re,ae){A(this,X);var ee=L(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,re,ae));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],$.concat(ee.options.matchers).forEach(function(de){var oe=l(de,2),ce=oe[0],bt=oe[1];!ae.matchVisual&&bt===fe||ee.addMatcher(ce,bt)}),ee}return c(X,[{key:"addMatcher",value:function(ae,ee){this.matchers.push([ae,ee])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[S.default.blotName]){var de=this.container.innerText;return this.container.innerHTML="",new m.default().insert(de,P({},S.default.blotName,ee[S.default.blotName]))}var oe=this.prepareMatching(),ce=l(oe,2),bt=ce[0],ar=ce[1],Te=U(this.container,bt,ar);return D(Te,`
`)&&Te.ops[Te.ops.length-1].attributes==null&&(Te=Te.compose(new m.default().retain(Te.length()-1).delete(1))),q.log("convert",this.container.innerHTML,Te),this.container.innerHTML="",Te}},{key:"dangerouslyPasteHTML",value:function(ae,ee){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),ee),this.quill.setSelection(0,y.default.sources.SILENT);else{var oe=this.convert(ee);this.quill.updateContents(new m.default().retain(ae).concat(oe),de),this.quill.setSelection(ae+oe.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var ee=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var de=this.quill.getSelection(),oe=new m.default().retain(de.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){oe=oe.concat(ee.convert()).delete(de.length),ee.quill.updateContents(oe,y.default.sources.USER),ee.quill.setSelection(oe.length()-de.length,y.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=ce,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,ee=[],de=[];return this.matchers.forEach(function(oe){var ce=l(oe,2),bt=ce[0],ar=ce[1];switch(bt){case Node.TEXT_NODE:de.push(ar);break;case Node.ELEMENT_NODE:ee.push(ar);break;default:[].forEach.call(ae.container.querySelectorAll(bt),function(Te){Te[z]=Te[z]||[],Te[z].push(ar)});break}}),[ee,de]}}]),X}(w.default);V.DEFAULTS={matchers:[],matchVisual:!0};function F(W,X,re){return(typeof X>"u"?"undefined":i(X))==="object"?Object.keys(X).reduce(function(ae,ee){return F(ae,ee,X[ee])},W):W.reduce(function(ae,ee){return ee.attributes&&ee.attributes[X]?ae.push(ee):ae.insert(ee.insert,(0,d.default)({},P({},X,re),ee.attributes))},new m.default)}function H(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var X="__ql-computed-style";return W[X]||(W[X]=window.getComputedStyle(W))}function D(W,X){for(var re="",ae=W.ops.length-1;ae>=0&&re.length<X.length;--ae){var ee=W.ops[ae];if(typeof ee.insert!="string")break;re=ee.insert+re}return re.slice(-1*X.length)===X}function R(W){if(W.childNodes.length===0)return!1;var X=H(W);return["block","list-item"].indexOf(X.display)>-1}function U(W,X,re){return W.nodeType===W.TEXT_NODE?re.reduce(function(ae,ee){return ee(W,ae)},new m.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(ae,ee){var de=U(ee,X,re);return ee.nodeType===W.ELEMENT_NODE&&(de=X.reduce(function(oe,ce){return ce(ee,oe)},de),de=(ee[z]||[]).reduce(function(oe,ce){return ce(ee,oe)},de)),ae.concat(de)},new m.default):new m.default}function G(W,X,re){return F(re,W,!0)}function Q(W,X){var re=h.default.Attributor.Attribute.keys(W),ae=h.default.Attributor.Class.keys(W),ee=h.default.Attributor.Style.keys(W),de={};return re.concat(ae).concat(ee).forEach(function(oe){var ce=h.default.query(oe,h.default.Scope.ATTRIBUTE);ce!=null&&(de[ce.attrName]=ce.value(W),de[ce.attrName])||(ce=M[oe],ce!=null&&(ce.attrName===oe||ce.keyName===oe)&&(de[ce.attrName]=ce.value(W)||void 0),ce=I[oe],ce!=null&&(ce.attrName===oe||ce.keyName===oe)&&(ce=I[oe],de[ce.attrName]=ce.value(W)||void 0))}),Object.keys(de).length>0&&(X=F(X,de)),X}function K(W,X){var re=h.default.query(W);if(re==null)return X;if(re.prototype instanceof h.default.Embed){var ae={},ee=re.value(W);ee!=null&&(ae[re.blotName]=ee,X=new m.default().insert(ae,re.formats(W)))}else typeof re.formats=="function"&&(X=F(X,re.blotName,re.formats(W)));return X}function J(W,X){return D(X,`
`)||X.insert(`
`),X}function ne(){return new m.default}function le(W,X){var re=h.default.query(W);if(re==null||re.blotName!=="list-item"||!D(X,`
`))return X;for(var ae=-1,ee=W.parentNode;!ee.classList.contains("ql-clipboard");)(h.default.query(ee)||{}).blotName==="list"&&(ae+=1),ee=ee.parentNode;return ae<=0?X:X.compose(new m.default().retain(X.length()-1).retain(1,{indent:ae}))}function ue(W,X){return D(X,`
`)||(R(W)||X.length()>0&&W.nextSibling&&R(W.nextSibling))&&X.insert(`
`),X}function fe(W,X){if(R(W)&&W.nextElementSibling!=null&&!D(X,`

`)){var re=W.offsetHeight+parseFloat(H(W).marginTop)+parseFloat(H(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+re*1.5&&X.insert(`
`)}return X}function ye(W,X){var re={},ae=W.style||{};return ae.fontStyle&&H(W).fontStyle==="italic"&&(re.italic=!0),ae.fontWeight&&(H(W).fontWeight.startsWith("bold")||parseInt(H(W).fontWeight)>=700)&&(re.bold=!0),Object.keys(re).length>0&&(X=F(X,re)),parseFloat(ae.textIndent||0)>0&&(X=new m.default().insert("	").concat(X)),X}function Z(W,X){var re=W.data;if(W.parentNode.tagName==="O:P")return X.insert(re.trim());if(re.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return X;if(!H(W.parentNode).whiteSpace.startsWith("pre")){var ae=function(de,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&de?" ":oe};re=re.replace(/\r\n/g," ").replace(/\n/g," "),re=re.replace(/\s\s+/g,ae.bind(ae,!0)),(W.previousSibling==null&&R(W.parentNode)||W.previousSibling!=null&&R(W.previousSibling))&&(re=re.replace(/^\s+/,ae.bind(ae,!1))),(W.nextSibling==null&&R(W.parentNode)||W.nextSibling!=null&&R(W.nextSibling))&&(re=re.replace(/\s+$/,ae.bind(ae,!1)))}return X.insert(re)}a.default=V,a.matchAttributor=Q,a.matchBlot=K,a.matchNewline=ue,a.matchSpacing=fe,a.matchText=Z},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function x(y,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,b,p){return b&&x(y.prototype,b),p&&x(y,p),y}}(),l=function x(y,b,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,b);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:x(w,b,p)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(p)}},c=s(6),o=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function u(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(x){u(y,x);function y(){return f(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"optimize",value:function(p){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(o.default);h.blotName="bold",h.tagName=["STRONG","B"],a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var i=function(){function N(_,P){var A=[],L=!0,B=!1,q=void 0;try{for(var z=_[Symbol.iterator](),$;!(L=($=z.next()).done)&&(A.push($.value),!(P&&A.length===P));L=!0);}catch(M){B=!0,q=M}finally{try{!L&&z.return&&z.return()}finally{if(B)throw q}}return A}return function(_,P){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return N(_,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function N(_,P){for(var A=0;A<P.length;A++){var L=P[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(_,L.key,L)}}return function(_,P,A){return P&&N(_.prototype,P),A&&N(_,A),_}}(),c=s(2),o=p(c),d=s(0),f=p(d),m=s(5),u=p(m),h=s(10),x=p(h),y=s(9),b=p(y);function p(N){return N&&N.__esModule?N:{default:N}}function g(N,_,P){return _ in N?Object.defineProperty(N,_,{value:P,enumerable:!0,configurable:!0,writable:!0}):N[_]=P,N}function w(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function v(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function j(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var k=(0,x.default)("quill:toolbar"),S=function(N){j(_,N);function _(P,A){w(this,_);var L=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P,A));if(Array.isArray(L.options.container)){var B=document.createElement("div");O(B,L.options.container),P.container.parentNode.insertBefore(B,P.container),L.container=B}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var q;return q=k.error("Container required for toolbar",L.options),v(L,q)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(z){L.addHandler(z,L.options.handlers[z])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(z){L.attach(z)}),L.quill.on(u.default.events.EDITOR_CHANGE,function(z,$){z===u.default.events.SELECTION_CHANGE&&L.update($)}),L.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var z=L.quill.selection.getRange(),$=i(z,1),M=$[0];L.update(M)}),L}return l(_,[{key:"addHandler",value:function(A,L){this.handlers[A]=L}},{key:"attach",value:function(A){var L=this,B=[].find.call(A.classList,function(z){return z.indexOf("ql-")===0});if(B){if(B=B.slice(3),A.tagName==="BUTTON"&&A.setAttribute("type","button"),this.handlers[B]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[B]==null){k.warn("ignoring attaching to disabled format",B,A);return}if(f.default.query(B)==null){k.warn("ignoring attaching to nonexistent format",B,A);return}}var q=A.tagName==="SELECT"?"change":"click";A.addEventListener(q,function(z){var $=void 0;if(A.tagName==="SELECT"){if(A.selectedIndex<0)return;var M=A.options[A.selectedIndex];M.hasAttribute("selected")?$=!1:$=M.value||!1}else A.classList.contains("ql-active")?$=!1:$=A.value||!A.hasAttribute("value"),z.preventDefault();L.quill.focus();var I=L.quill.selection.getRange(),V=i(I,1),F=V[0];if(L.handlers[B]!=null)L.handlers[B].call(L,$);else if(f.default.query(B).prototype instanceof f.default.Embed){if($=prompt("Enter "+B),!$)return;L.quill.updateContents(new o.default().retain(F.index).delete(F.length).insert(g({},B,$)),u.default.sources.USER)}else L.quill.format(B,$,u.default.sources.USER);L.update(F)}),this.controls.push([B,A])}}},{key:"update",value:function(A){var L=A==null?{}:this.quill.getFormat(A);this.controls.forEach(function(B){var q=i(B,2),z=q[0],$=q[1];if($.tagName==="SELECT"){var M=void 0;if(A==null)M=null;else if(L[z]==null)M=$.querySelector("option[selected]");else if(!Array.isArray(L[z])){var I=L[z];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),M=$.querySelector('option[value="'+I+'"]')}M==null?($.value="",$.selectedIndex=-1):M.selected=!0}else if(A==null)$.classList.remove("ql-active");else if($.hasAttribute("value")){var V=L[z]===$.getAttribute("value")||L[z]!=null&&L[z].toString()===$.getAttribute("value")||L[z]==null&&!$.getAttribute("value");$.classList.toggle("ql-active",V)}else $.classList.toggle("ql-active",L[z]!=null)})}}]),_}(b.default);S.DEFAULTS={};function T(N,_,P){var A=document.createElement("button");A.setAttribute("type","button"),A.classList.add("ql-"+_),P!=null&&(A.value=P),N.appendChild(A)}function O(N,_){Array.isArray(_[0])||(_=[_]),_.forEach(function(P){var A=document.createElement("span");A.classList.add("ql-formats"),P.forEach(function(L){if(typeof L=="string")T(A,L);else{var B=Object.keys(L)[0],q=L[B];Array.isArray(q)?C(A,B,q):T(A,B,q)}}),N.appendChild(A)})}function C(N,_,P){var A=document.createElement("select");A.classList.add("ql-"+_),P.forEach(function(L){var B=document.createElement("option");L!==!1?B.setAttribute("value",L):B.setAttribute("selected","selected"),A.appendChild(B)}),N.appendChild(A)}S.DEFAULTS={container:null,handlers:{clean:function(){var _=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var A=this.quill.getFormat();Object.keys(A).forEach(function(L){f.default.query(L,f.default.Scope.INLINE)!=null&&_.quill.format(L,!1)})}else this.quill.removeFormat(P,u.default.sources.USER)},direction:function(_){var P=this.quill.getFormat().align;_==="rtl"&&P==null?this.quill.format("align","right",u.default.sources.USER):!_&&P==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",_,u.default.sources.USER)},indent:function(_){var P=this.quill.getSelection(),A=this.quill.getFormat(P),L=parseInt(A.indent||0);if(_==="+1"||_==="-1"){var B=_==="+1"?1:-1;A.direction==="rtl"&&(B*=-1),this.quill.format("indent",L+B,u.default.sources.USER)}},link:function(_){_===!0&&(_=prompt("Enter link URL:")),this.quill.format("link",_,u.default.sources.USER)},list:function(_){var P=this.quill.getSelection(),A=this.quill.getFormat(P);_==="check"?A.list==="checked"||A.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",_,u.default.sources.USER)}}},a.default=S,a.addControls=O},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function x(y,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,b,p){return b&&x(y.prototype,b),p&&x(y,p),y}}(),l=function x(y,b,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,b);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:x(w,b,p)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(p)}},c=s(28),o=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function u(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(x){u(y,x);function y(b,p){f(this,y);var g=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return g.label.innerHTML=p,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),g}return i(y,[{key:"buildItem",value:function(p){var g=l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,p);return g.style.backgroundColor=p.getAttribute("value")||"",g}},{key:"selectItem",value:function(p,g){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,g);var w=this.label.querySelector(".ql-color-label"),v=p&&p.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=v:w.style.fill=v)}}]),y}(o.default);a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function x(y,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,b,p){return b&&x(y.prototype,b),p&&x(y,p),y}}(),l=function x(y,b,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,b);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:x(w,b,p)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(p)}},c=s(28),o=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function u(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(x){u(y,x);function y(b,p){f(this,y);var g=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=p[w.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return i(y,[{key:"selectItem",value:function(p,g){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,g),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),y}(o.default);a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function o(d,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,f,m){return f&&o(d.prototype,f),m&&o(d,m),d}}();function l(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function o(d,f){var m=this;l(this,o),this.quill=d,this.boundsContainer=f||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return i(o,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var m=f.left+f.width/2-this.root.offsetWidth/2,u=f.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),x=this.root.getBoundingClientRect(),y=0;if(x.right>h.right&&(y=h.right-x.right,this.root.style.left=m+y+"px"),x.left<h.left&&(y=h.left-x.left,this.root.style.left=m+y+"px"),x.bottom>h.bottom){var b=x.bottom-x.top,p=f.bottom-f.top+b;this.root.style.top=u-p+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),o}();a.default=c},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function C(N,_){var P=[],A=!0,L=!1,B=void 0;try{for(var q=N[Symbol.iterator](),z;!(A=(z=q.next()).done)&&(P.push(z.value),!(_&&P.length===_));A=!0);}catch($){L=!0,B=$}finally{try{!A&&q.return&&q.return()}finally{if(L)throw B}}return P}return function(N,_){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return C(N,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function C(N,_,P){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,_);if(A===void 0){var L=Object.getPrototypeOf(N);return L===null?void 0:C(L,_,P)}else{if("value"in A)return A.value;var B=A.get;return B===void 0?void 0:B.call(P)}},c=function(){function C(N,_){for(var P=0;P<_.length;P++){var A=_[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,_,P){return _&&C(N.prototype,_),P&&C(N,P),N}}(),o=s(3),d=w(o),f=s(8),m=w(f),u=s(43),h=w(u),x=s(27),y=w(x),b=s(15),p=s(41),g=w(p);function w(C){return C&&C.__esModule?C:{default:C}}function v(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")}function j(C,N){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:C}function k(C,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);C.prototype=Object.create(N&&N.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(C,N):C.__proto__=N)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(C){k(N,C);function N(_,P){v(this,N),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=S);var A=j(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,_,P));return A.quill.container.classList.add("ql-snow"),A}return c(N,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),g.default),this.tooltip=new O(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(A,L){P.handlers.link.call(P,!L.format.link)})}}]),N}(h.default);T.DEFAULTS=(0,d.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){if(N){var _=this.quill.getSelection();if(_==null||_.length==0)return;var P=this.quill.getText(_);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var A=this.quill.theme.tooltip;A.edit("link",P)}else this.quill.format("link",!1)}}}}});var O=function(C){k(N,C);function N(_,P){v(this,N);var A=j(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,_,P));return A.preview=A.root.querySelector("a.ql-preview"),A}return c(N,[{key:"listen",value:function(){var P=this;l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(A){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),A.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(A){if(P.linkRange!=null){var L=P.linkRange;P.restoreFocus(),P.quill.formatText(L,"link",!1,m.default.sources.USER),delete P.linkRange}A.preventDefault(),P.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(A,L,B){if(A!=null){if(A.length===0&&B===m.default.sources.USER){var q=P.quill.scroll.descendant(y.default,A.index),z=i(q,2),$=z[0],M=z[1];if($!=null){P.linkRange=new b.Range(A.index-M,$.length());var I=y.default.formats($.domNode);P.preview.textContent=I,P.preview.setAttribute("href",I),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),N}(u.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=T},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(29),l=ee(i),c=s(36),o=s(38),d=s(64),f=s(65),m=ee(f),u=s(66),h=ee(u),x=s(67),y=ee(x),b=s(37),p=s(26),g=s(39),w=s(40),v=s(56),j=ee(v),k=s(68),S=ee(k),T=s(27),O=ee(T),C=s(69),N=ee(C),_=s(70),P=ee(_),A=s(71),L=ee(A),B=s(72),q=ee(B),z=s(73),$=ee(z),M=s(13),I=ee(M),V=s(74),F=ee(V),H=s(75),D=ee(H),R=s(57),U=ee(R),G=s(41),Q=ee(G),K=s(28),J=ee(K),ne=s(59),le=ee(ne),ue=s(60),fe=ee(ue),ye=s(61),Z=ee(ye),W=s(108),X=ee(W),re=s(62),ae=ee(re);function ee(de){return de&&de.__esModule?de:{default:de}}l.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":w.SizeStyle},!0),l.default.register({"formats/align":c.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":d.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":g.FontClass,"formats/size":w.SizeClass,"formats/blockquote":m.default,"formats/code-block":I.default,"formats/header":h.default,"formats/list":y.default,"formats/bold":j.default,"formats/code":M.Code,"formats/italic":S.default,"formats/link":O.default,"formats/script":N.default,"formats/strike":P.default,"formats/underline":L.default,"formats/image":q.default,"formats/video":$.default,"formats/list/item":x.ListItem,"modules/formula":F.default,"modules/syntax":D.default,"modules/toolbar":U.default,"themes/bubble":X.default,"themes/snow":ae.default,"ui/icons":Q.default,"ui/picker":J.default,"ui/icon-picker":fe.default,"ui/color-picker":le.default,"ui/tooltip":Z.default},!0),a.default=l.default},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var i=function(){function y(b,p){for(var g=0;g<p.length;g++){var w=p[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,g){return p&&y(b.prototype,p),g&&y(b,g),b}}(),l=function y(b,p,g){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var v=Object.getPrototypeOf(b);return v===null?void 0:y(v,p,g)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(g)}},c=s(0),o=d(c);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function m(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function u(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var h=function(y){u(b,y);function b(){return f(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"add",value:function(g,w){if(w==="+1"||w==="-1"){var v=this.value(g)||0;w=w==="+1"?v+1:v-1}return w===0?(this.remove(g),!0):l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,g,w)}},{key:"canAdd",value:function(g,w){return l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,g,w)||l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,g,parseInt(w))}},{key:"value",value:function(g){return parseInt(l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,g))||void 0}}]),b}(o.default.Attributor.Class),x=new h("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=x},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(4),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}function o(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function d(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function f(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var m=function(u){f(h,u);function h(){return o(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);m.blotName="blockquote",m.tagName="blockquote",a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function h(x,y){for(var b=0;b<y.length;b++){var p=y[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(x,p.key,p)}}return function(x,y,b){return y&&h(x.prototype,y),b&&h(x,b),x}}(),l=s(4),c=o(l);function o(h){return h&&h.__esModule?h:{default:h}}function d(h,x){if(!(h instanceof x))throw new TypeError("Cannot call a class as a function")}function f(h,x){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:h}function m(h,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);h.prototype=Object.create(x&&x.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(h,x):h.__proto__=x)}var u=function(h){m(x,h);function x(){return d(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),x}(c.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],a.default=u},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var i=function(){function v(j,k){for(var S=0;S<k.length;S++){var T=k[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(j,T.key,T)}}return function(j,k,S){return k&&v(j.prototype,k),S&&v(j,S),j}}(),l=function v(j,k,S){j===null&&(j=Function.prototype);var T=Object.getOwnPropertyDescriptor(j,k);if(T===void 0){var O=Object.getPrototypeOf(j);return O===null?void 0:v(O,k,S)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(S)}},c=s(0),o=h(c),d=s(4),f=h(d),m=s(25),u=h(m);function h(v){return v&&v.__esModule?v:{default:v}}function x(v,j,k){return j in v?Object.defineProperty(v,j,{value:k,enumerable:!0,configurable:!0,writable:!0}):v[j]=k,v}function y(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function b(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function p(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var g=function(v){p(j,v);function j(){return y(this,j),b(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"format",value:function(S,T){S===w.blotName&&!T?this.replaceWith(o.default.create(this.statics.scope)):l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,S,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,T){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,T),this):(this.parent.unwrap(),l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,S,T))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:l(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,S)}}]),j}(f.default);g.blotName="list-item",g.tagName="LI";var w=function(v){p(j,v),i(j,null,[{key:"create",value:function(S){var T=S==="ordered"?"OL":"UL",O=l(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,T);return(S==="checked"||S==="unchecked")&&O.setAttribute("data-checked",S==="checked"),O}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(k){y(this,j);var S=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k)),T=function(C){if(C.target.parentNode===k){var N=S.statics.formats(k),_=o.default.find(C.target);N==="checked"?_.format("list","unchecked"):N==="unchecked"&&_.format("list","checked")}};return k.addEventListener("touchstart",T),k.addEventListener("mousedown",T),S}return i(j,[{key:"format",value:function(S,T){this.children.length>0&&this.children.tail.format(S,T)}},{key:"formats",value:function(){return x({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,T){if(S instanceof g)l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,S,T);else{var O=T==null?this.length():T.offset(this),C=this.split(O);C.parent.insertBefore(S,C)}}},{key:"optimize",value:function(S){l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,S);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var T=o.default.create(this.statics.defaultChild);S.moveChildren(T),this.appendChild(T)}l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,S)}}]),j}(u.default);w.blotName="list",w.scope=o.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[g],a.ListItem=g,a.default=w},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(56),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}function o(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function d(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function f(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var m=function(u){f(h,u);function h(){return o(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);m.blotName="italic",m.tagName=["EM","I"],a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function x(y,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,b,p){return b&&x(y.prototype,b),p&&x(y,p),y}}(),l=function x(y,b,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,b);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:x(w,b,p)}else{if("value"in g)return g.value;var v=g.get;return v===void 0?void 0:v.call(p)}},c=s(6),o=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function u(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(x){u(y,x);function y(){return f(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),y}(o.default);h.blotName="script",h.tagName=["SUB","SUP"],a.default=h},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(6),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}function o(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function d(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function f(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var m=function(u){f(h,u);function h(){return o(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);m.blotName="strike",m.tagName="S",a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=s(6),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}function o(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function d(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function f(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var m=function(u){f(h,u);function h(){return o(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(l.default);m.blotName="underline",m.tagName="U",a.default=m},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function b(p,g){for(var w=0;w<g.length;w++){var v=g[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,g,w){return g&&b(p.prototype,g),w&&b(p,w),p}}(),l=function b(p,g,w){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,g);if(v===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,g,w)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(w)}},c=s(0),o=f(c),d=s(27);function f(b){return b&&b.__esModule?b:{default:b}}function m(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function u(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function h(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var x=["alt","height","width"],y=function(b){h(p,b);function p(){return m(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"format",value:function(w,v){x.indexOf(w)>-1?v?this.domNode.setAttribute(w,v):this.domNode.removeAttribute(w):l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,v)}}],[{key:"create",value:function(w){var v=l(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return typeof w=="string"&&v.setAttribute("src",this.sanitize(w)),v}},{key:"formats",value:function(w){return x.reduce(function(v,j){return w.hasAttribute(j)&&(v[j]=w.getAttribute(j)),v},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,d.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(o.default.Embed);y.blotName="image",y.tagName="IMG",a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function b(p,g){for(var w=0;w<g.length;w++){var v=g[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,g,w){return g&&b(p.prototype,g),w&&b(p,w),p}}(),l=function b(p,g,w){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,g);if(v===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,g,w)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(w)}},c=s(4),o=s(27),d=f(o);function f(b){return b&&b.__esModule?b:{default:b}}function m(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function u(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function h(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var x=["height","width"],y=function(b){h(p,b);function p(){return m(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"format",value:function(w,v){x.indexOf(w)>-1?v?this.domNode.setAttribute(w,v):this.domNode.removeAttribute(w):l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,v)}}],[{key:"create",value:function(w){var v=l(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(w)),v}},{key:"formats",value:function(w){return x.reduce(function(v,j){return w.hasAttribute(j)&&(v[j]=w.getAttribute(j)),v},{})}},{key:"sanitize",value:function(w){return d.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(c.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",a.default=y},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var i=function(){function w(v,j){for(var k=0;k<j.length;k++){var S=j[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,j,k){return j&&w(v.prototype,j),k&&w(v,k),v}}(),l=function w(v,j,k){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,j);if(S===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:w(T,j,k)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(k)}},c=s(35),o=h(c),d=s(5),f=h(d),m=s(9),u=h(m);function h(w){return w&&w.__esModule?w:{default:w}}function x(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function y(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function b(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var p=function(w){b(v,w);function v(){return x(this,v),y(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(k){var S=l(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),v}(o.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var g=function(w){b(v,w),i(v,null,[{key:"register",value:function(){f.default.register(p,!0)}}]);function v(){x(this,v);var j=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return v}(u.default);a.FormulaBlot=p,a.default=g},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var i=function(){function k(S,T){for(var O=0;O<T.length;O++){var C=T[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,T,O){return T&&k(S.prototype,T),O&&k(S,O),S}}(),l=function k(S,T,O){S===null&&(S=Function.prototype);var C=Object.getOwnPropertyDescriptor(S,T);if(C===void 0){var N=Object.getPrototypeOf(S);return N===null?void 0:k(N,T,O)}else{if("value"in C)return C.value;var _=C.get;return _===void 0?void 0:_.call(O)}},c=s(0),o=y(c),d=s(5),f=y(d),m=s(9),u=y(m),h=s(13),x=y(h);function y(k){return k&&k.__esModule?k:{default:k}}function b(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function p(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function g(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var w=function(k){g(S,k);function S(){return b(this,S),p(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return i(S,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),S}(x.default);w.className="ql-syntax";var v=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),j=function(k){g(S,k),i(S,null,[{key:"register",value:function(){f.default.register(v,!0),f.default.register(w,!0)}}]);function S(T,O){b(this,S);var C=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T,O));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var N=null;return C.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(N),N=setTimeout(function(){C.highlight(),N=null},C.options.interval)}),C.highlight(),C}return i(S,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(N){N.highlight(O.options.highlight)}),this.quill.update(f.default.sources.SILENT),C!=null&&this.quill.setSelection(C,f.default.sources.SILENT)}}}]),S}(u.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},a.CodeBlock=w,a.CodeToken=v,a.default=j},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,a){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,a){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,a){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,a){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,a){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var i=function S(T,O,C){T===null&&(T=Function.prototype);var N=Object.getOwnPropertyDescriptor(T,O);if(N===void 0){var _=Object.getPrototypeOf(T);return _===null?void 0:S(_,O,C)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(C)}},l=function(){function S(T,O){for(var C=0;C<O.length;C++){var N=O[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,O,C){return O&&S(T.prototype,O),C&&S(T,C),T}}(),c=s(3),o=b(c),d=s(8),f=b(d),m=s(43),u=b(m),h=s(15),x=s(41),y=b(x);function b(S){return S&&S.__esModule?S:{default:S}}function p(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function g(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function w(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(S){w(T,S);function T(O,C){p(this,T),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=v);var N=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,C));return N.quill.container.classList.add("ql-bubble"),N}return l(T,[{key:"extendToolbar",value:function(C){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default)}}]),T}(u.default);j.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){w(T,S);function T(O,C){p(this,T);var N=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,C));return N.quill.on(f.default.events.EDITOR_CHANGE,function(_,P,A,L){if(_===f.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&L===f.default.sources.USER){N.show(),N.root.style.left="0px",N.root.style.width="",N.root.style.width=N.root.offsetWidth+"px";var B=N.quill.getLines(P.index,P.length);if(B.length===1)N.position(N.quill.getBounds(P));else{var q=B[B.length-1],z=N.quill.getIndex(q),$=Math.min(q.length()-1,P.index+P.length-z),M=N.quill.getBounds(new h.Range(z,$));N.position(M)}}else document.activeElement!==N.textbox&&N.quill.hasFocus()&&N.hide()}),N}return l(T,[{key:"listen",value:function(){var C=this;i(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var N=C.quill.getSelection();N!=null&&C.position(C.quill.getBounds(N))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var N=i(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,C),_=this.root.querySelector(".ql-tooltip-arrow");if(_.style.marginLeft="",N===0)return N;_.style.marginLeft=-1*N-_.offsetWidth/2+"px"}}]),T}(m.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=k,a.default=j},function(n,a,s){n.exports=s(63)}]).default})})(Qg);var bC=Qg.exports,wC=ht&&ht.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},e(t,n)};return function(t,n){e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yi=ht&&ht.__assign||function(){return Yi=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yi.apply(this,arguments)},jC=ht&&ht.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],l=0,c=i.length;l<c;l++,s++)a[s]=i[l];return a},Ol=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Qt=Ol(E),NC=Ol(gp),Pa=Ol(vC),eh=Ol(bC),_C=function(e){wC(t,e);function t(n){var a=e.call(this,n)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(i,l,c,o){var d,f,m,u;i==="text-change"?(f=(d=a).onEditorChangeText)===null||f===void 0||f.call(d,a.editor.root.innerHTML,l,o,a.unprivilegedEditor):i==="selection-change"&&((u=(m=a).onEditorChangeSelection)===null||u===void 0||u.call(m,l,o,a.unprivilegedEditor))};var s=a.isControlled()?n.value:n.defaultValue;return a.value=s??"",a}return t.prototype.validateProps=function(n){var a;if(Qt.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Qt.default.Children.count(n.children)){var s=Qt.default.Children.only(n.children);if(((a=s)===null||a===void 0?void 0:a.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,a){var s=this,i;if(this.validateProps(n),!this.editor||this.state.generation!==a.generation)return!0;if("value"in n){var l=this.getEditorContents(),c=(i=n.value,i??"");this.isEqualValue(c,l)||this.setEditorContents(this.editor,c)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),jC(this.cleanProps,this.dirtyProps).some(function(o){return!Pa.default(n[o],s.props[o])})},t.prototype.shouldComponentRegenerate=function(n){var a=this;return this.dirtyProps.some(function(s){return!Pa.default(n[s],a.props[s])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,a){var s=this;if(this.editor&&this.shouldComponentRegenerate(n)){var i=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==a.generation){var c=this.regenerationSnapshot,i=c.delta,o=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(i),th(function(){return s.setEditorSelection(d,o)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,a){var s=new eh.default(n,a);return a.tabIndex!=null&&this.setEditorTabIndex(s,a.tabIndex),this.hookEditor(s),s},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,a){return this.isDelta(n)&&this.isDelta(a)?Pa.default(n.ops,a.ops):Pa.default(n,a)},t.prototype.setEditorContents=function(n,a){var s=this;this.value=a;var i=this.getEditorSelection();typeof a=="string"?n.setContents(n.clipboard.convert(a)):n.setContents(a),th(function(){return s.setEditorSelection(n,i)})},t.prototype.setEditorSelection=function(n,a){if(this.selection=a,a){var s=n.getLength();a.index=Math.max(0,Math.min(a.index,s-1)),a.length=Math.max(0,Math.min(a.length,s-1-a.index)),n.setSelection(a)}},t.prototype.setEditorTabIndex=function(n,a){var s,i;!((i=(s=n)===null||s===void 0?void 0:s.scroll)===null||i===void 0)&&i.domNode&&(n.scroll.domNode.tabIndex=a)},t.prototype.setEditorReadOnly=function(n,a){a?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var a=n;return{getHTML:function(){return a.root.innerHTML},getLength:a.getLength.bind(a),getText:a.getText.bind(a),getContents:a.getContents.bind(a),getSelection:a.getSelection.bind(a),getBounds:a.getBounds.bind(a)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=NC.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,a=this.props,s=a.children,i=a.preserveWhitespace,l=this.state.generation,c={key:l,ref:function(o){n.editingArea=o}};return Qt.default.Children.count(s)?Qt.default.cloneElement(Qt.default.Children.only(s),c):i?Qt.default.createElement("pre",Yi({},c)):Qt.default.createElement("div",Yi({},c))},t.prototype.render=function(){var n;return Qt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,a,s,i){var l,c;if(this.editor){var o=this.isDelta(this.value)?i.getContents():i.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=a,this.value=o,(c=(l=this.props).onChange)===null||c===void 0||c.call(l,n,a,s,i))}},t.prototype.onEditorChangeSelection=function(n,a,s){var i,l,c,o,d,f;if(this.editor){var m=this.getEditorSelection(),u=!m&&n,h=m&&!n;Pa.default(n,m)||(this.selection=n,(l=(i=this.props).onChangeSelection)===null||l===void 0||l.call(i,n,a,s),u?(o=(c=this.props).onFocus)===null||o===void 0||o.call(c,n,a,s):h&&((f=(d=this.props).onBlur)===null||f===void 0||f.call(d,m,a,s)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=eh.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Qt.default.Component);function th(e){Promise.resolve().then(e)}var kC=_C;const Xg=nh(kC),SC="https://pantherashop.onrender.com",TC=({isOpen:e,onClose:t,onSuccess:n})=>{const{createBlog:a}=Ku(),{getAllSports:s,getTournamentsBySport:i,getTeamsByTournament:l,getAllCategories:c}=Kt(),[o,d]=E.useState({blog_title:"",blog_content:"",blog_thumbnail:"",sport_id:"",team_id:"",category_id:"",tournament_id:""}),[f,m]=E.useState(!1),[u,h]=E.useState([]),[x,y]=E.useState([]),[b,p]=E.useState([]),[g,w]=E.useState([]),[v,j]=E.useState(null),[k,S]=E.useState("");E.useEffect(()=>{e&&T()},[e]);const T=async()=>{try{const[L,B]=await Promise.all([s(),c()]);h(L),w(B)}catch{Y("Khng th ti d liu","error")}};E.useEffect(()=>{o.sport_id?i(Number(o.sport_id)).then(y):y([]),d(L=>({...L,tournament_id:"",team_id:""}))},[o.sport_id]),E.useEffect(()=>{o.tournament_id?l(Number(o.tournament_id)).then(p):p([]),d(L=>({...L,team_id:""}))},[o.tournament_id]);const O=L=>{var q;const B=(q=L.target.files)==null?void 0:q[0];if(B){if(B.size>5*1024*1024){Y("Kch thc nh khng c vt qu 5MB","error");return}j(B);const z=new FileReader;z.onloadend=()=>{S(z.result)},z.readAsDataURL(B)}},C=async L=>{const B=new FormData;B.append("image",L);const q=localStorage.getItem("token"),z=await fetch(`${SC}/admin/upload-blog-image`,{method:"POST",headers:{Authorization:`Bearer ${q}`},body:B});if(!z.ok)throw new Error("Upload nh tht bi");return(await z.json()).imageUrl},N=L=>{const{name:B,value:q}=L.target;d(z=>({...z,[B]:q}))},_=L=>{d(B=>({...B,blog_content:L}))},P=async L=>{L.preventDefault(),m(!0);try{let B=o.blog_thumbnail;v&&(B=await C(v));const q={...o,blog_thumbnail:B,sport_id:o.sport_id?Number(o.sport_id):void 0,team_id:o.team_id?Number(o.team_id):void 0,category_id:o.category_id?Number(o.category_id):void 0,tournament_id:o.tournament_id?Number(o.tournament_id):void 0};await a(q),Y("To blog thnh cng!","success"),n(),t(),A()}catch(B){Y(B.message||"C li xy ra khi to blog","error")}finally{m(!1)}},A=()=>{d({blog_title:"",blog_content:"",blog_thumbnail:"",sport_id:"",team_id:"",category_id:"",tournament_id:""}),j(null),S("")};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"TO BLOG MI"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Thm bi vit mi cho h thng"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:P,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TIU  *"}),r.jsx("input",{type:"text",name:"blog_title",value:o.blog_title,onChange:N,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"Nhp tiu  blog",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH THUMBNAIL *"}),r.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!k}),k&&r.jsx("img",{src:k,alt:"Thumbnail preview",className:"mt-3 w-32 h-32 object-cover border-2 border-gray-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NI DUNG *"}),r.jsx(Xg,{theme:"snow",value:o.blog_content,onChange:_,className:"bg-white",style:{minHeight:"300px"}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Mn th thao"}),r.jsxs("select",{name:"sport_id",value:o.sport_id,onChange:N,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),u.map(L=>r.jsx("option",{value:L.sport_id,children:L.sport_name},L.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Gii u"}),r.jsxs("select",{name:"tournament_id",value:o.tournament_id,onChange:N,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn gii u"}),x.map(L=>r.jsx("option",{value:L.tournament_id,children:L.tournament_name},L.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"i bng"}),r.jsxs("select",{name:"team_id",value:o.team_id,onChange:N,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn i bng"}),b.map(L=>r.jsx("option",{value:L.team_id,children:L.team_name},L.team_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Danh mc"}),r.jsxs("select",{name:"category_id",value:o.category_id,onChange:N,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn danh mc"}),g.map(L=>r.jsx("option",{value:L.category_id,children:L.category_name},L.category_id))]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:f,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:f?"ang to...":"To blog"})]})]})]})}):null},CC="https://pantherashop.onrender.com",EC=({isOpen:e,onClose:t,onSuccess:n,blog:a})=>{const{updateBlog:s}=Ku(),{getAllSports:i,getTournamentsBySport:l,getTeamsByTournament:c,getAllCategories:o}=Kt(),[d,f]=E.useState({blog_title:"",blog_content:"",blog_thumbnail:"",sport_id:"",team_id:"",category_id:"",tournament_id:""}),[m,u]=E.useState(!1),[h,x]=E.useState([]),[y,b]=E.useState([]),[p,g]=E.useState([]),[w,v]=E.useState([]),[j,k]=E.useState(null),[S,T]=E.useState("");E.useEffect(()=>{e&&O()},[e]),E.useEffect(()=>{a&&(f({blog_title:a.blog_title,blog_content:a.blog_content,blog_thumbnail:a.blog_thumbnail,sport_id:a.sport_id?String(a.sport_id):"",team_id:a.team_id?String(a.team_id):"",category_id:a.category_id?String(a.category_id):"",tournament_id:a.tournament_id?String(a.tournament_id):""}),T(a.blog_thumbnail||""))},[a]);const O=async()=>{try{const[B,q]=await Promise.all([i(),o()]);x(B),v(q)}catch{Y("Khng th ti d liu","error")}};E.useEffect(()=>{d.sport_id?l(Number(d.sport_id)).then(b):b([]),f(B=>({...B,tournament_id:"",team_id:""}))},[d.sport_id]),E.useEffect(()=>{d.tournament_id?c(Number(d.tournament_id)).then(g):g([]),f(B=>({...B,team_id:""}))},[d.tournament_id]);const C=B=>{var z;const q=(z=B.target.files)==null?void 0:z[0];if(q){if(q.size>5*1024*1024){Y("Kch thc nh khng c vt qu 5MB","error");return}k(q);const $=new FileReader;$.onloadend=()=>{T($.result)},$.readAsDataURL(q)}},N=async B=>{const q=new FormData;q.append("image",B);const z=localStorage.getItem("token"),$=await fetch(`${CC}/admin/upload-blog-image`,{method:"POST",headers:{Authorization:`Bearer ${z}`},body:q});if(!$.ok)throw new Error("Upload nh tht bi");return(await $.json()).imageUrl},_=B=>{const{name:q,value:z}=B.target;f($=>({...$,[q]:z}))},P=B=>{f(q=>({...q,blog_content:B}))},A=async B=>{B.preventDefault(),u(!0);try{let q=d.blog_thumbnail;j&&(q=await N(j));const z={...d,blog_thumbnail:q,sport_id:d.sport_id?Number(d.sport_id):void 0,team_id:d.team_id?Number(d.team_id):void 0,category_id:d.category_id?Number(d.category_id):void 0,tournament_id:d.tournament_id?Number(d.tournament_id):void 0};await s(a.blog_id,z),Y("Cp nht blog thnh cng!","success"),n(),t()}catch(q){Y(q.message||"C li xy ra khi cp nht blog","error")}finally{u(!1)}},L={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"],["clean"]]};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHNH SA BLOG"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cp nht thng tin bi vit"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("form",{onSubmit:A,className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"TIU  *"}),r.jsx("input",{type:"text",name:"blog_title",value:d.blog_title,onChange:_,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",placeholder:"Nhp tiu  blog",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NH THUMBNAIL *"}),r.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",required:!S}),S&&r.jsx("img",{src:S,alt:"Thumbnail preview",className:"mt-3 w-32 h-32 object-cover border-2 border-gray-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"NI DUNG *"}),r.jsx(Xg,{theme:"snow",value:d.blog_content,onChange:P,modules:L,className:"bg-white",style:{minHeight:"300px"}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Mn th thao"}),r.jsxs("select",{name:"sport_id",value:d.sport_id,onChange:_,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn mn th thao"}),h.map(B=>r.jsx("option",{value:B.sport_id,children:B.sport_name},B.sport_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Gii u"}),r.jsxs("select",{name:"tournament_id",value:d.tournament_id,onChange:_,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn gii u"}),y.map(B=>r.jsx("option",{value:B.tournament_id,children:B.tournament_name},B.tournament_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"i bng"}),r.jsxs("select",{name:"team_id",value:d.team_id,onChange:_,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn i bng"}),p.map(B=>r.jsx("option",{value:B.team_id,children:B.team_name},B.team_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-3",children:"Danh mc"}),r.jsxs("select",{name:"category_id",value:d.category_id,onChange:_,className:"w-full px-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200",children:[r.jsx("option",{value:"",children:"Chn danh mc"}),w.map(B=>r.jsx("option",{value:B.category_id,children:B.category_name},B.category_id))]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-4 pt-8 border-t mt-8",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-4 text-black border-2 border-black hover:bg-black hover:text-white transition-all duration-200 font-medium uppercase tracking-wider",children:"Hy"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium uppercase tracking-wider",children:m?"ang cp nht...":"Cp nht blog"})]})]})]})}):null},PC=({isOpen:e,onClose:t,blog:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between px-8 py-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"CHI TIT BLOG"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Xem thng tin chi tit bi vit"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-all duration-200",children:r.jsx(be,{size:24})})]}),r.jsxs("div",{className:"px-8 py-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"TIU "}),r.jsx("h3",{className:"text-2xl font-bold",children:n.blog_title})]}),n.blog_thumbnail&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"NH THUMBNAIL"}),r.jsx("img",{src:n.blog_thumbnail,alt:n.blog_title,className:"w-full max-w-md h-auto object-cover border-2 border-gray-300"})]}),n.User&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"TC GI"}),r.jsx("p",{className:"text-gray-700",children:n.User.user_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"NI DUNG"}),r.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:n.blog_content}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t",children:[n.Sport&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"MN TH THAO"}),r.jsx("p",{className:"text-gray-700",children:n.Sport.sport_name})]}),n.Team&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"I BNG"}),r.jsx("p",{className:"text-gray-700",children:n.Team.team_name})]}),n.Category&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"DANH MC"}),r.jsx("p",{className:"text-gray-700",children:n.Category.category_name})]}),n.Tournament&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"GII U"}),r.jsx("p",{className:"text-gray-700",children:n.Tournament.tournament_name})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t",children:[n.created_at&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"NGY TO"}),r.jsx("p",{className:"text-gray-700",children:new Date(n.created_at).toLocaleDateString("vi-VN")})]}),n.updated_at&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"CP NHT LN CUI"}),r.jsx("p",{className:"text-gray-700",children:new Date(n.updated_at).toLocaleDateString("vi-VN")})]})]}),r.jsx("div",{className:"sticky bottom-0 bg-white pt-8 border-t mt-8",children:r.jsx("button",{onClick:t,className:"w-full px-6 py-4 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-medium uppercase tracking-wider",children:"ng"})})]})]})}):null,OC=()=>{const{blogs:e,getAllBlogs:t,deleteBlog:n,loading:a}=Ku(),{getAllSports:s}=Kt(),[i,l]=E.useState(""),[c,o]=E.useState("all"),[d,f]=E.useState([]),[m,u]=E.useState(!1),[h,x]=E.useState(null),[y,b]=E.useState(null),[p,g]=E.useState(null);E.useEffect(()=>{w(),v()},[]);const w=async()=>{try{await t()}catch(N){console.error("Error loading blogs:",N)}},v=async()=>{try{const N=await s();f(N||[])}catch(N){console.error("Error loading sports:",N)}},j=()=>{w(),u(!1)},k=()=>{w(),x(null)},S=async N=>{try{await n(N),Y("Xa blog thnh cng!","success"),w(),g(null)}catch(_){console.error("Error deleting blog:",_),Y(_.message||"C li xy ra khi xa blog","error")}},T=(e||[]).filter(N=>{const _=N.blog_title.toLowerCase().includes(i.toLowerCase()),P=c==="all"||N.sport_id&&String(N.sport_id)===c;return _&&P}),O=N=>new Date(N).toLocaleDateString("vi-VN"),C=N=>{const _=document.createElement("DIV");return _.innerHTML=N,_.textContent||_.innerText||""};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"QUN L BLOG"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l bi vit cho h thng"})]}),r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:[r.jsx(ut,{size:20}),"To Blog"]})]}),r.jsx("div",{className:"bg-white p-6 border border-gray-200 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Tm kim theo tiu ...",value:i,onChange:N=>l(N.target.value),className:"w-full pl-12 pr-4 py-3 border-b-2 border-gray-300 focus:border-black focus:outline-none transition-colors duration-200"})]}),r.jsx("div",{children:r.jsxs("select",{value:c,onChange:N=>o(N.target.value),className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none transition-colors duration-200 bg-white",children:[r.jsx("option",{value:"all",children:"Tt c mn th thao"}),d.map(N=>r.jsx("option",{value:N.sport_id,children:N.sport_name},N.sport_id))]})})]})})]}),a&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-300 border-t-black rounded-full animate-spin"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti blogs..."})]}),!a&&T.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(N=>r.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-black transition-all duration-300 overflow-hidden group",children:[N.blog_thumbnail&&r.jsx("div",{className:"relative h-48 overflow-hidden",children:r.jsx("img",{src:N.blog_thumbnail,alt:N.blog_title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold tracking-tight mb-2 line-clamp-2",children:N.blog_title}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[N.User&&r.jsx("span",{children:N.User.user_name}),N.created_at&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:O(N.created_at)})]})]}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:C(N.blog_content)}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[N.Sport&&r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-semibold",children:N.Sport.sport_name}),N.Team&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold",children:N.Team.team_name}),N.Category&&r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-semibold",children:N.Category.category_name})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>b(N),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 transition-colors text-sm font-semibold",title:"Xem chi tit",children:[r.jsx(Et,{size:16}),"Xem"]}),r.jsxs("button",{onClick:()=>x(N),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors text-sm font-semibold",title:"Chnh sa",children:[r.jsx(Vi,{size:16}),"Sa"]}),r.jsxs("button",{onClick:()=>g(N),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white hover:bg-red-700 transition-colors text-sm font-semibold",title:"Xa",children:[r.jsx(It,{size:16}),"Xa"]})]})]})]},N.blog_id))}),!a&&T.length===0&&r.jsxs("div",{className:"text-center py-16 bg-white border-2 border-dashed border-gray-300",children:[r.jsx(zp,{className:"mx-auto mb-4 text-gray-400",size:48}),r.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Khng tm thy blog"}),r.jsx("p",{className:"text-gray-500 mb-6",children:i?"Th thay i t kha tm kim hoc to blog mi":"Cha c blog no. To blog u tin ngay!"}),!i&&r.jsx("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all duration-200 font-semibold uppercase tracking-wider",children:"To Blog u Tin"})]}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white max-w-md w-full p-8",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"XC NHN XA"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:['Bn c chc chn mun xa blog "',p.blog_title,'"? Hnh ng ny khng th hon tc.']}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>g(null),className:"flex-1 px-6 py-3 border-2 border-black text-black hover:bg-black hover:text-white transition-all duration-200 font-semibold uppercase",children:"Hy"}),r.jsx("button",{onClick:()=>S(p.blog_id),className:"flex-1 px-6 py-3 bg-red-600 text-white hover:bg-red-700 transition-all duration-200 font-semibold uppercase",children:"Xa"})]})]})}),r.jsx(TC,{isOpen:m,onClose:()=>u(!1),onSuccess:j}),h&&r.jsx(EC,{isOpen:!!h,onClose:()=>x(null),onSuccess:k,blog:h}),y&&r.jsx(PC,{isOpen:!!y,onClose:()=>b(null),blog:y})]})};function rh({children:e}){const{isAuthenticated:t,loading:n}=rt();return n?r.jsx(Nl,{}):t?e:r.jsx(us,{to:"/login",replace:!0})}function AC({children:e}){const{isAuthenticated:t,user:n,loading:a}=rt();return a?r.jsx(Nl,{}):t?(n==null?void 0:n.role_id)!==0?r.jsx(us,{to:"/",replace:!0}):e:r.jsx(us,{to:"/login",replace:!0})}function LC(){const{user:e,logout:t,loading:n}=rt(),a=xe();return n?r.jsx(Nl,{}):r.jsxs(r.Fragment,{children:[r.jsx(zb,{user:e,onLogout:t}),r.jsx("main",{className:"flex-1 min-h-screen",children:r.jsxs(Eu,{children:[r.jsx(pe,{path:"/",element:r.jsx(jw,{})}),r.jsx(pe,{path:"/products",element:r.jsx(Tw,{})}),r.jsx(pe,{path:"/product/:id",element:r.jsx(Iw,{})}),r.jsx(pe,{path:"/blog",element:r.jsx(Pj,{})}),r.jsx(pe,{path:"/blog/:blog_id",element:r.jsx(_f,{})})," ",r.jsx(pe,{path:"/login",element:r.jsx(Oj,{})}),r.jsx(pe,{path:"/profile",element:r.jsx(rh,{children:r.jsx(Aj,{})})}),r.jsx(pe,{path:"/cart",element:r.jsx(Dw,{onNavigate:a})}),r.jsx(pe,{path:"/order-history",element:r.jsx(rh,{children:r.jsx(Uj,{})})}),r.jsx(pe,{path:"/order-info",element:r.jsx(Ej,{})}),r.jsx(pe,{path:"/blog/:id",element:r.jsx(_f,{})}),r.jsx(pe,{path:"/wishlist",element:r.jsx(Hj,{})}),r.jsx(pe,{path:"/order-detail/:orderId",element:r.jsx(Kj,{})}),r.jsx(pe,{path:"*",element:r.jsx(us,{to:"/",replace:!0})})]})}),r.jsx($b,{})]})}function IC(){return r.jsx("div",{className:"flex flex-col min-h-screen",children:r.jsx(Gv,{children:r.jsx(Mv,{children:r.jsx(Kv,{children:r.jsx(Wv,{children:r.jsx(Xv,{children:r.jsx(Ib,{children:r.jsx(Mb,{children:r.jsxs(Mj,{children:[r.jsx(Lb,{})," ",r.jsxs(Eu,{children:[r.jsx(pe,{path:"/admin/*",element:r.jsx(AC,{children:r.jsx(MC,{})})}),r.jsx(pe,{path:"/*",element:r.jsx(LC,{})})]})]})})})})})})})})})}function MC(){const{logout:e,user:t}=rt();return r.jsx(t2,{children:r.jsx(i2,{children:r.jsx(N2,{children:r.jsx(o2,{children:r.jsx(B2,{children:r.jsx(p2,{children:r.jsx(I2,{children:r.jsx(M2,{children:r.jsx(Jj,{onLogout:e,adminName:t==null?void 0:t.user_name,children:r.jsxs(Eu,{children:[r.jsx(pe,{path:"/",element:r.jsx(e2,{})}),r.jsx(pe,{path:"/users",element:r.jsx(s2,{})}),r.jsx(pe,{path:"/products",element:r.jsx(m2,{})}),r.jsx(pe,{path:"/categories",element:r.jsx(L2,{})}),r.jsx(pe,{path:"/orders",element:r.jsx(y2,{})}),r.jsx(pe,{path:"/orders/:orderId",element:r.jsx(w2,{})}),r.jsx(pe,{path:"/inventory",element:r.jsx(C2,{})}),r.jsx(pe,{path:"/suppliers",element:r.jsx($2,{})}),r.jsx(pe,{path:"/product-images",element:r.jsx(q2,{})}),r.jsx(pe,{path:"/vouchers",element:r.jsx(G2,{})}),r.jsx(pe,{path:"/blogs",element:r.jsx(OC,{})}),r.jsx(pe,{path:"*",element:r.jsx(us,{to:"/admin",replace:!0})})]})})})})})})})})})})}xp(document.getElementById("root")).render(r.jsx(E.StrictMode,{children:r.jsx(IC,{})}));
